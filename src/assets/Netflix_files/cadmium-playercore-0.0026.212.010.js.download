function a000(){}a000.y51=function(){return typeof a000.m51.J51 === 'function'?a000.m51.J51.apply(a000.m51,arguments):a000.m51.J51;};a000.u51=function(){return typeof a000.m51.H51 === 'function'?a000.m51.H51.apply(a000.m51,arguments):a000.m51.H51;};a000.m51=(function(M51){return {J51:function(){var s51,I51=arguments;switch(M51){case 4:s51=I51[0] - I51[1];break;case 1:s51=I51[1] + I51[2] + I51[0];break;case 8:s51=(I51[2] / I51[0] | I51[3]) * I51[1];break;case 15:s51=void I51[0] !== I51[1];break;case 11:s51=I51[2] / I51[1] | I51[0];break;case 9:s51=I51[3] + I51[1] / I51[0] * I51[2];break;case 7:s51=I51[2] * I51[0] / I51[1];break;case 6:s51=((I51[3] - I51[1]) * I51[0] - I51[2]) / I51[4];break;case 12:s51=I51[0] / I51[1];break;case 14:s51=I51[3] + I51[1] + I51[0] + I51[2] + I51[4];break;case 5:s51=(I51[1] - I51[0]) * I51[2];break;case 0:s51=I51[0] + I51[1] - I51[2];break;case 10:s51=I51[0] * I51[1] / I51[2] | I51[3];break;case 2:s51=I51[0] >= I51[1];break;case 3:s51=I51[1] + I51[0];break;case 13:s51=I51[3] - I51[2] * I51[0] * I51[1];break;}return s51;},H51:function(O51){M51=O51;}};})();a000.n51=function(){return typeof a000.m51.J51 === 'function'?a000.m51.J51.apply(a000.m51,arguments):a000.m51.J51;};a000.z51=function(){return typeof a000.m51.H51 === 'function'?a000.m51.H51.apply(a000.m51,arguments):a000.m51.H51;};(function(){(function(O,fa){var wb,Hb,Sa,tc,ta,ua,bb,Ad,Bd,Na,Oa,Qb,Cd,uc,Dd,Ed,Tc,q,la,ic,Fd,Uc,B,M,ja,zb,mb,Ya,da,cb,Ra,Sb,Fa,Ca,Ma,fb,vc,Ab,sb,tb,wc,Vc,Gd,Kb,Lb,Tb,Wc,$b,Bb,xc,Pb,Xc,Hd,ac,Yc,Zc,$c,ad,Cb,bd,cd,dd,cc,Db,Eb,dc,yc,zc,Ac,kb,Ke,Qa,Rb,Id,Bc,ob,Jd,Le,ub,Kd,Ld,Cc,Md,Me,hc,Nd,Je,Ne,ed,Dc,Oe,Pe,xd,Qe,yd,Od,nb,jc,Pd,kc,Qd,pb,Rd,fd,Sd,hd,Ec,Td,Se,zd,Fc,Sc,Ud,Re,Vd,id,Wd,Xd,Yd,jd,Ob,$d,Zd,Te,lc,ae,ld,mc,be,kd,ce,de,md,fe,ge,Ic,Wb,ec,Xb,he,ie,je,ke,le,me,Jc,Ue,ne,oe,od,pe,jb,Ub,bc,Vb,Nb,Fb,Gc,db,Jb,ee,nc,Yb,qe,Ve,oc,re,We,fc,se,Kc,pd,pc,qd,te,qc,ue,ve,we,Xe,rc,xe,Ye,Ze,ye,nd,Hc,ze,Ie,Ae,$e,bf,af,gc,sc,cf,wd,df,Be;function Va(h,q){if(!q || "utf-8" === q)return Mc(h);throw Error("unsupported encoding");}function Ta(h,q){if(!q || "utf-8" === q)return Nc(h);throw Error("unsupported encoding");}function Mc(h){for(var q=0,n,Pa=h.length,B="";q < Pa;){n=h[q++];if(n & 128)if(192 === (n & 224))n=((n & 31) << 6) + (h[q++] & 63);else if(224 === (n & 240))n=((n & 15) << 12) + ((h[q++] & 63) << 6) + (h[q++] & 63);else throw Error("unsupported character");B+=String.fromCharCode(n);}return B;}function Nc(h){var q,n,Pa,B,u;q=h.length;n=0;B=0;for(Pa=q;Pa--;){u=h.charCodeAt(Pa);128 > u?n++:n=2048 > u?n + 2:n + 3;}n=new Uint8Array(n);for(Pa=0;Pa < q;Pa++){u=h.charCodeAt(Pa);128 > u?n[B++]=u:(2048 > u?n[B++]=192 | u >>> 6:(n[B++]=224 | u >>> 12,n[B++]=128 | u >>> 6 & 63),n[B++]=128 | u & 63);}return n;}function Za(h,n){if(h === n)return !0;if(!h || !n || h.length != n.length)return !1;for(var q=0;q < h.length;++q){if(h[q] != n[q])return !1;}return !0;}function hb(h){var u;if(!(h && h.constructor == Uint8Array || Array.isArray(h)))throw new TypeError("Cannot compute the hash code of " + h);for(var n=1,q=0;q < h.length;++q){u=h[q];if("number" !== typeof u)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + u);n=31 * n + u & 4294967295;}return n;}function rd(h,n){var za;if(h === n)return !0;if(!h || !n)return !1;n instanceof Array || (n=[n]);for(var q=0;q < n.length;++q){for(var u=n[q],B=!1,Gb=0;Gb < h.length;++Gb){za=h[Gb];if(u.equals && "function" === typeof u.equals && u.equals(za) || u == za){B=!0;break;}}if(!B)return !1;}return !0;}function sd(h,n){return rd(h,n) && (h.length == n.length || rd(n,h));}function n(h,n,q){var u,B;q && (u=q);if("object" !== typeof h || "function" !== typeof h.result || "function" !== typeof h.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{B=n.call(u,h);B !== fa && h.result(B);}catch(Oc){try{h.error(Oc);}catch(za){}}}function u(h,q,u){if("object" !== typeof h || "function" !== typeof h.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");n(h,q,u);}function h(h,n,q){1E5 > h && (h=1E5 + h);Object.defineProperties(this,{internalCode:{value:h,writable:!1,configurable:!1},responseCode:{value:n,writable:!1,configurable:!1},message:{value:q,writable:!1,configurable:!1}});}function Pc(h){switch(h){case Qa.PSK:case Qa.MGK:return !0;default:return !1;}}function td(h){switch(h){case Qa.PSK:case Qa.MGK:case Qa.X509:case Qa.RSA:case Qa.NPTICKET:case Qa.ECC:return !0;default:return !1;}}function Fe(h){return h.toJSON();}function ud(n,q){sc?q.result(sc):Promise.resolve().then(function(){return Ma.getKeyByName(n);})["catch"](function(){return Ma.generateKey({name:n},!1,["wrapKey","unwrapKey"]);}).then(function(h){sc=h;q.result(sc);})["catch"](function(n){q.error(new B(h.INTERNAL_EXCEPTION,"Unable to get system key"));});}function vd(h,n){var q,u,B;q=n.masterToken;u=n.userIdToken;B=n.serviceTokens;return {NccpMethod:h.method,UserId:h.userId,UT:u && u.serialNumber,MT:q && q.serialNumber + ":" + q.sequenceNumber,STCount:B && B.length};}function Ge(h){return h.uniqueKey();}function He(u,Gb,Zb,Pa,xb){var Ja;function O(h,K){h.errorCode === q.ENTITY_REAUTH || h.errorCode === q.ENTITYDATA_REAUTH?(Pa.clearCryptoContexts(),Ua()):h.errorCode !== q.USER_REAUTH && h.errorCode !== q.USERDATA_REAUTH || za(K);}function za(h){if(h=Pa.getUserIdToken(h))(Pa.removeUserIdToken(h),Ua());}function Z(h,K,G){var v;v=[];(function z(){h.read(-1,K,{result:function(h){n(G,function(){var w,F,H,G,K;if(h)(v.push(h),z());else switch(v.length){case 0:return new Uint8Array(0);case 1:return v[0];default:(G=v.length,K=0);for(F=w=0;F < G;F++){w+=v[F].length;}w=new Uint8Array(w);for(F=0;F < G;F++){H=v[F];w.set(H,K);K+=H.length;}return w;}});},timeout:function(){G.timeout();},error:function(h){G.error(h);}});})();}function Ua(){Pa.getStoreState({result:function(h){for(var K=Ja.slice(),G=0;G < K.length;G++){K[G]({storeState:h});}},timeout:function(){u.error("Timeout getting store state","" + e);},error:function(h){u.error("Error getting store state","" + h);}});}Ja=[];this.addEventHandler=function(h,K){switch(h){case "shouldpersist":Ja.push(K);}};this.send=function(n){return new Promise(function(K,G){var v,y,z;v=n.timeout;y=new wd(u,Zb,n,Pa.getKeyRequestData());z=new xd(n.url);u.trace("Sending MSL request");Gb.request(Zb,y,z,v,{result:function(y){var w;u.trace("Received MSL response",{Method:n.method});if(y){n.allowTokenRefresh && Ua();w=y.getErrorHeader();w?(O(w,n.profileGuid || n.userId),G({success:!1,error:w})):Z(y,v,{result:function(h){K({success:!0,body:Va(h)});},timeout:function(){G({success:!1,subCode:xb.MSL_READ_TIMEOUT});},error:function(h){G({success:!1,error:h});}});}else G({success:!1,error:new B(h.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){G({success:!1,subCode:xb.MSL_REQUEST_TIMEOUT});},error:function(h){G({success:!1,error:h});}});});};this.hasUserIdToken=function(h){return ! !Pa.getUserIdToken(h);};this.getUserIdTokenKeys=function(){return Pa.getUserIdTokenKeys();};this.removeUserIdToken=za;this.clearUserIdTokens=function(){Pa.clearUserIdTokens();Ua();};this.isErrorReauth=function(h){return h && h.errorCode == q.USERDATA_REAUTH;};this.isErrorHeader=function(h){return h instanceof Ob;};this.getErrorCode=function(h){return h && h.errorCode;};this.getStateForMdx=function(h){var K,G;K=Pa.getMasterToken();h=Pa.getUserIdToken(h);G=Pa.getCryptoContext(K);return {masterToken:K,userIdToken:h,cryptoContext:G};};this.buildPlayDataRequest=function(h,K){var G;G=new yd();Gb.request(Zb,new wd(u,Zb,h),G,h.timeout,{result:function(){K.result(G.getRequest());},error:function(){K.result(G.getRequest());},timeout:function(){K.timeout();}});};this.rekeyUserIdToken=function(h,K){Pa.rekeyUserIdToken(h,K);Ua();};this.getServiceTokens=function(h){var K;K=Pa.getMasterToken();(h=Pa.getUserIdToken(h)) && !h.isBoundTo(K) && (h=fa);return Pa.getServiceTokens(K,h);};this.removeServiceToken=function(h){var K;K=Pa.getMasterToken();Pa.getServiceTokens(K).find(function(G){return G.name === h;}) && (Pa.removeServiceTokens(h,K),Ua());};}function Qc(n,q,u,Pa,xb,O){function za(q){var Z;return Promise.resolve().then(function(){Z=n.authenticationKeyNames[q];if(!Z)throw new B(h.KEY_IMPORT_ERROR,"Invalid config keyName " + q);return Ma.getKeyByName(Z);}).then(function(n){return new Promise(function(q,K){$b(n,{result:q,error:function(){K(new B(h.KEY_IMPORT_ERROR,"Unable to create " + Z + " CipherKey"));}});});})["catch"](function(n){throw new B(h.KEY_IMPORT_ERROR,"Unable to import " + Z,n);});}return Promise.resolve().then(function(){if(!Ma.getKeyByName)throw new B(h.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([za("e"),za("h"),za("w")]);}).then(function(h){var Z,Ja,Ea;Z={};Z[q]=new u(n.esn,h[0],h[1],h[2]);h=new Pa(n.esn);Ja=new Ie();Ja=[new xb(Ja)];Ea=new O(q);return {entityAuthFactories:Z,entityAuthData:h,keyExchangeFactories:Ja,keyRequestData:Ea};});}function Rc(n,q,u){var O;function Pa(){return Promise.resolve().then(function(){return Ma.generateKey(q,!1,["wrapKey","unwrapKey"]);}).then(function(h){return xb(h.publicKey,h.privateKey);});}function xb(n,q){return Promise.all([new Promise(function(q,Z){Pb(n,{result:q,error:function(n){Z(new B(h.INTERNAL_EXCEPTION,"Unable to create keyx public key",n));}});}),new Promise(function(n,Z){ac(q,{result:n,error:function(n){Z(new B(h.INTERNAL_EXCEPTION,"Unable to create keyx private key",n));}});})]).then(function(h){h=new Sc("rsaKeypairId",u,h[0],h[1]);O && (h.storeData={keyxPublicKey:n,keyxPrivateKey:q});return h;});}O=!n.systemKeyWrapFormat;return Promise.resolve().then(function(){var h,q;h=n.storeState;q=h && h.keyxPublicKey;h=h && h.keyxPrivateKey;return O && q && h?xb(q,h):Pa();}).then(function(h){var q,Ua,Ja;q={};q[Qa.NONE]=new Je();Ua=new hc(n.esn);Ja=[new zd()];return {entityAuthFactories:q,entityAuthData:Ua,keyExchangeFactories:Ja,keyRequestData:h,createKeyRequestData:O?Pa:fa};});}Hb=O.nfCrypto || O.msCrypto || O.webkitCrypto || O.crypto;Sa=Hb && (Hb.webkitSubtle || Hb.subtle);tc=O.nfCryptokeys || O.msCryptokeys || O.webkitCryptokeys || O.cryptokeys;(function(h){var n,q;n=(function(){function h(h,q){h instanceof n?(this.abv=h.abv,this.position=h.position):(this.abv=h,this.position=q || 0);}h.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(h){this.abv[this.position++]=h;},peekByte:function(h){return this.abv[h];},copyBytes:function(h,q,n){var Z;Z=new Uint8Array(this.abv.buffer,this.position,n);h=new Uint8Array(h.buffer,q,n);Z.set(h);this.position+=n;},seek:function(h){this.position=h;},skip:function(h){this.position+=h;},getPosition:function(){return this.position;},setPosition:function(h){this.position=h;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return h;})();q={};(function(){var H,w,F,na,ca,Ha,ra,Q,pa;function h(w,v){var U;v.writeByte(w.tagClass << 6 | w.constructed << 5 | w.tag);U=w.payloadLen;if(128 > U)v.writeByte(U);else {for(var F=U,y=0;F;){++y;F>>=8;}v.writeByte(128 | y);for(F=0;F < y;++F){v.writeByte(U >> 8 * (y - F - 1) & 255);}}if(w.child)for((w.tag == H.BIT_STRING && v.writeByte(0),U=w._child);U;){if(!h(U,v))return !1;U=U.next;}else switch(w.tag){case H.INTEGER:w.backingStore[w.dataIdx] >> 7 && v.writeByte(0);v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);break;case H.BIT_STRING:v.writeByte(0);v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);break;case H.OCTET_STRING:v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);break;case H.OBJECT_IDENTIFIER:v.copyBytes(w.backingStore,w.dataIdx,w.dataLen);}return !0;}function u(h){var w,U;w=h.readByte();U=w & 127;if(U == w)return U;if(3 < U || 0 === U)return -1;for(var v=w=0;v < U;++v){w=w << 8 | h.readByte();}return w;}function B(h,v,F){var U,y,G,z,X,ga,K;U=h.backingStore;y=new n(U,v);v+=F;F=h;if(8 < ca++)return fa;for(;y.getPosition() < v;){y.getPosition();X=y.readByte();if(31 == (X & 31)){for(z=0;X & 128;){z<<=8;z|=X & 127;}X=z;}G=X;z=G & 31;if(0 > z || 30 < z)return fa;X=u(y);if(0 > X || X > y.getRemaining())return fa;F.constructed=G & 32;F.tagClass=(G & 192) >> 6;F.tag=z;F.dataLen=X;F.dataIdx=y.getPosition();z=y;ga=G;G=X;if(ga & 32)z=!0;else if(ga < H.BIT_STRING || ga > H.OCTET_STRING)z=!1;else {K=new n(z);ga == H.BIT_STRING && K.skip(1);K.readByte() >> 6 & 1?z=!1:(ga=u(K),z=K.getPosition() - z.getPosition() + ga == G);}z && (z=y.getPosition(),G=X,F.tag == H.BIT_STRING && (F.dataIdx++,F.dataLen--,z++,G--),F.child=new w(U,F),B(F.child,z,G));F.tag == H.INTEGER && (z=y.getPosition(),0 == y.peekByte(z) && y.peekByte(z + 1) >> 7 && (F.dataIdx++,F.dataLen--));y.skip(X);y.getPosition() < v && (F.next=new w(U,F.parent),F=F.next);}ca--;return h;}function za(h,w,v){if(9 != v)return !1;for(v=0;9 > v;++v){if(h[w++] != Ha[v])return !1;}return !0;}function Z(h){var w;if(!(h && h.child && h.child.next && h.child.child && h.child.next.child))return !1;w=h.child.child;return za(w.backingStore,w.dataIdx,w.dataLen) && 2 == h.nChildren && 2 == h.child.nChildren && 2 == h.child.next.child.nChildren?!0:!1;}function Ua(h){var w;if(!(h && h.child && h.child.next && h.child.next.child && h.child.next.next && h.child.next.next.child))return !1;w=h.child.next.child;return za(w.backingStore,w.dataIdx,w.dataLen) && 3 == h.nChildren && 2 == h.child.next.nChildren && 9 == h.child.next.next.child.nChildren?!0:!1;}function Ja(h){var w,v;w=F.createSequenceNode();v=new na(w);v.addChild(F.createSequenceNode());v.addChild(F.createOidNode(Ha));v.addSibling(F.createNullNode());v.addToParent(w,F.createBitStringNode(null));v.addChild(F.createSequenceNode());v.addChild(F.createIntegerNode(h.n));v.addSibling(F.createIntegerNode(h.e));return w;}function Ea(h){var w;h=h.child.next.child.child;w=h.data;h=h.next;return new ra(w,h.data,null,null);}function K(h){var w,v;w=F.createSequenceNode();v=new na(w);v.addChild(F.createIntegerNode(new Uint8Array([0])));v.addSibling(F.createSequenceNode());v.addChild(F.createOidNode(Ha));v.addSibling(F.createNullNode());v.addToParent(w,F.createOctetStringNode(null));v.addChild(F.createSequenceNode());v.addChild(F.createIntegerNode(new Uint8Array([0])));v.addSibling(F.createIntegerNode(h.n));v.addSibling(F.createIntegerNode(h.e));v.addSibling(F.createIntegerNode(h.d));v.addSibling(F.createIntegerNode(h.p));v.addSibling(F.createIntegerNode(h.q));v.addSibling(F.createIntegerNode(h.dp));v.addSibling(F.createIntegerNode(h.dq));v.addSibling(F.createIntegerNode(h.qi));return w;}function G(h){var w;w=[];h=h.child.next.next.child.child.next;for(var v=0;8 > v;v++){w.push(h.data);h=h.next;}return new Q(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7]);}function v(h,w,v,F){if(!(h instanceof ra || h instanceof Q))return fa;if(v)for(var y=0;y < v.length;++y){if(-1 == pa.indexOf(v[y]))return fa;}w={kty:"RSA",alg:w,key_ops:v || [],ext:F == fa?!1:F,n:ta(h.n,!0),e:ta(h.e,!0)};h instanceof Q && (w.d=ta(h.d,!0),w.p=ta(h.p,!0),w.q=ta(h.q,!0),w.dp=ta(h.dp,!0),w.dq=ta(h.dq,!0),w.qi=ta(h.qi,!0));return w;}function y(h){var w,v,F,y,U,G,z,H,ca,K;if(!h.kty || "RSA" != h.kty || !h.n || !h.e)return fa;w=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(h.alg && -1 == w.indexOf(h.alg))return fa;w=[];h.use?"enc" == h.use?w=["encrypt","decrypt","wrap","unwrap"]:"sig" == h.use && (w=["sign","verify"]):w=h.key_ops;v=h.ext;F=ua(h.n,!0);y=ua(h.e,!0);if(h.d){U=ua(h.d,!0);G=ua(h.p,!0);z=ua(h.q,!0);H=ua(h.dp,!0);ca=ua(h.dq,!0);K=ua(h.qi,!0);return new Q(F,y,U,G,z,H,ca,K,h.alg,w,v);}return new ra(F,y,v,w);}function z(h,w,v,F){this.der=h;this.type=w;this.keyOps=v;this.extractable=F;}H={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};w=function(h,w,v,F,y,G){this._data=h;this._parent=w || fa;this._constructed=v || !1;this._tagClass=0;this._tag=F || 0;this._dataIdx=y || 0;this._dataLen=G || 0;};w.prototype={_child:fa,_next:fa,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(h) {this._constructed=0 != h?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(h) {this._tagClass=h;},get tag() {return this._tag;},set tag(h) {this._tag=h;},get dataIdx() {return this._dataIdx;},set dataIdx(h) {this._dataIdx=h;},get dataLen() {return this._dataLen;},set dataLen(h) {this._dataLen=h;},get child() {return this._child;},set child(h) {this._child=h;this._child.parent=this;},get next() {return this._next;},set next(h) {this._next=h;},get parent() {return this._parent;},set parent(h) {this._parent=h;},get payloadLen() {var h;h=0;if(this._child){for(var w=this._child;w;){h+=w.length;w=w.next;}this._tag == H.BIT_STRING && h++;}else switch(this._tag){case H.INTEGER:h=this._dataLen;this._data[this._dataIdx] >> 7 && h++;break;case H.BIT_STRING:h=this._dataLen + 1;break;case H.OCTET_STRING:h=this._dataLen;break;case H.NULL:h=0;break;case H.OBJECT_IDENTIFIER:za(this._data,this._dataIdx,this._dataLen) && (h=9);}return h;},get length() {var h,w;h=this.payloadLen;if(127 < h)for(w=h;w;){w>>=8;++h;}return h + 2;},get der() {var w,v;w=this.length;if(!w)return fa;w=new Uint8Array(w);v=new n(w);return h(this,v)?w:fa;},get nChildren() {for(var h=0,w=this._child;w;){h++;w=w.next;}return h;}};F={createSequenceNode:function(){return new w(null,null,!0,H.SEQUENCE,null,null);},createOidNode:function(h){return new w(h,null,!1,H.OBJECT_IDENTIFIER,0,h?h.length:0);},createNullNode:function(){return new w(null,null,!1,H.NULL,null,null);},createBitStringNode:function(h){return new w(h,null,!1,H.BIT_STRING,0,h?h.length:0);},createIntegerNode:function(h){return new w(h,null,!1,H.INTEGER,0,h?h.length:0);},createOctetStringNode:function(h){return new w(h,null,!1,H.OCTET_STRING,0,h?h.length:0);}};na=function(h){this._currentNode=this._rootNode=h;};na.prototype={addChild:function(h){this.addTo(this._currentNode,h);},addSibling:function(h){this.addTo(this._currentNode.parent,h);},addTo:function(h,w){this._currentNode=w;this._currentNode.parent=h;if(h.child){for(var v=h.child;v.next;){v=v.next;}v.next=w;}else h.child=w;},addToParent:function(h,w){this.findNode(h) && this.addTo(h,w);},findNode:function(h){for(var w=this._currentNode;w;){if(h == w)return !0;w=w.parent;}return !1;}};ca=0;Ha=new Uint8Array([42,134,72,134,247,13,1,1,1]);ra=function(h,w,v,F){this.n=h;this.e=w;this.ext=v;this.keyOps=F;};Q=function(h,w,v,F,y,G,z,H,ca,K,Q){this.n=h;this.e=w;this.d=v;this.p=F;this.q=y;this.dp=G;this.dq=z;this.qi=H;this.alg=ca;this.keyOps=K;this.ext=Q;};pa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");z.prototype.getDer=function(){return this.der;};z.prototype.getType=function(){return this.type;};z.prototype.getKeyOps=function(){return this.keyOps;};z.prototype.getExtractable=function(){return this.extractable;};q.parse=function(h){ca=0;return B(new w(h),0,h.length);};q.show=function(h,w){};q.isRsaSpki=Z;q.isRsaPkcs8=Ua;q.NodeFactory=F;q.Builder=na;q.tagVal=H;q.RsaPublicKey=ra;q.RsaPrivateKey=Q;q.buildRsaSpki=Ja;q.parseRsaSpki=function(h){h=q.parse(h);return Z?Ea(h):fa;};q.buildRsaPkcs8=K;q.parseRsaPkcs8=function(h){h=q.parse(h);return Ua(h)?G(h):fa;};q.buildRsaJwk=v;q.parseRsaJwk=y;q.RsaDer=z;q.rsaDerToJwk=function(h,w,F,y){h=q.parse(h);if(!h)return fa;if(Z(h))h=Ea(h);else if(Ua(h))h=G(h);else return fa;return v(h,w,F,y);};q.jwkToRsaDer=function(h){var w,v;h=y(h);if(!h)return fa;if(h instanceof ra)(w="spki",v=Ja(h).der);else if(h instanceof Q)(w="pkcs8",v=K(h).der);else return fa;return new z(v,w,h.keyOps,h.ext);};q.webCryptoAlgorithmToJwkAlg=function(h){return "RSAES-PKCS1-v1_5" == h.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == h.name?"SHA-256" == h.hash.name?"RS256":"SHA-384" == h.hash.name?"RS384":"SHA-512" == h.hash.name?"RS512":fa:fa;};q.webCryptoUsageToJwkKeyOps=function(h){return h.map(function(h){return "wrapKey" == h?"wrap":"unwrapKey" == h?"unwrap":h;});};})();h.ASN1=q;})(O);(function(){for(var h={},q={},n={"=":0,".":0},u={"=":0,".":0},B=/\s+/g,O=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,za=64;za--;){h[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[za]]=262144 * za;q[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[za]]=4096 * za;n[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[za]]=64 * za;u[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[za]]=za;}for(za=64;za-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[za] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[za];){h[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[za]]=262144 * za;q[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[za]]=4096 * za;n[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[za]]=64 * za;u[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[za]]=za;}ta=function(h,q){for(var n="",Z=0,K=h.length,G=K - 2,v,y=q?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=q?"":"=";Z < G;){v=65536 * h[Z++] + 256 * h[Z++] + h[Z++];n+=y[v >>> 18] + y[v >>> 12 & 63] + y[v >>> 6 & 63] + y[v & 63];}Z == G?(v=65536 * h[Z++] + 256 * h[Z++],n+=y[v >>> 18] + y[v >>> 12 & 63] + y[v >>> 6 & 63] + z):Z == K - 1 && (v=65536 * h[Z++],n+=y[v >>> 18] + y[v >>> 12 & 63] + z + z);return n;};ua=function(Z,Ua){var Ja;Z=Z.replace(B,"");if(Ua){Ja=Z.length % 4;if(Ja)for(var Ja=4 - Ja,Ea=0;Ea < Ja;++Ea){Z+="=";}}Ja=Z.length;if(0 != Ja % 4 || !O.test(Z))throw Error("bad base64: " + Z);for(var K=Ja / 4 * 3 - ("=" == Z[Ja - 1]?1:0) - ("=" == Z[Ja - 2]?1:0),G=new Uint8Array(K),v=0,y=0;v < Ja;){Ea=h[Z[v++]] + q[Z[v++]] + n[Z[v++]] + u[Z[v++]];G[y++]=Ea >>> 16;y < K && (G[y++]=Ea >>> 8 & 255,y < K && (G[y++]=Ea & 255));}return G;};})();bb={};(function(){var O,za,Z,Ja;function h(q){if(!(this instanceof h))return new h(q);for(var K=0,G=za.length;K < G;K++){this[za[K]]="";}this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=q || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Z.BEGIN;this.stack=new O();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;n(this,"onready");}function n(h,K,G){if(h[K])h[K](G);}function q(h,K){var G,v;G=h.opt;v=h.textNode;G.trim && (v=v.trim());G.normalize && (v=v.replace(/\s+/g," "));h.textNode=v;h.textNode && n(h,K?K:"onvalue",h.textNode);h.textNode="";}function u(h,K){q(h);K+="\nLine: " + h.line + "\nColumn: " + h.column + "\nChar: " + h.c;K=Error(K);h.error=K;n(h,"onerror",K);return h;}function B(Ea){Ea.state !== Z.VALUE && u(Ea,"Unexpected end");q(Ea);Ea.c="";Ea.closed=!0;n(Ea,"onend");h.call(Ea,Ea.opt);return Ea;}O=Array;bb.parser=function(n){return new h(n);};bb.CParser=h;bb.MAX_BUFFER_LENGTH=65536;bb.DEBUG=!1;bb.INFO=!1;bb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");za=["textNode","numberNode"];bb.EVENTS.filter(function(h){return "error" !== h && "end" !== h;});Z=0;bb.STATE={BEGIN:Z++,VALUE:Z++,OPEN_OBJECT:Z++,CLOSE_OBJECT:Z++,OPEN_ARRAY:Z++,CLOSE_ARRAY:Z++,TEXT_ESCAPE:Z++,STRING:Z++,BACKSLASH:Z++,END:Z++,OPEN_KEY:Z++,CLOSE_KEY:Z++,TRUE:Z++,TRUE2:Z++,TRUE3:Z++,FALSE:Z++,FALSE2:Z++,FALSE3:Z++,FALSE4:Z++,NULL:Z++,NULL2:Z++,NULL3:Z++,NUMBER_DECIMAL_POINT:Z++,NUMBER_DIGIT:Z++};for(var Ua in bb.STATE){bb.STATE[bb.STATE[Ua]]=Ua;}Z=bb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(h){return h.__proto__;});Ja=/[\\"\n]/g;h.prototype={end:function(){B(this);},write:function(h){var v,y,z;if(this.error)throw this.error;if(this.closed)return u(this,"Cannot write after close. Assign an onready handler.");if(null === h)return B(this);for(var K=h[0],G;K;){G=K;this.c=K=h.charAt(this.index++);G !== K?this.p=G:G=this.p;if(!K)break;this.position++;"\n" === K?(this.line++,this.column=0):this.column++;switch(this.state){case Z.BEGIN:"{" === K?this.state=Z.OPEN_OBJECT:"[" === K?this.state=Z.OPEN_ARRAY:"\r" !== K && "\n" !== K && " " !== K && "\t" !== K && u(this,"Non-whitespace before {[.");continue;case Z.OPEN_KEY:case Z.OPEN_OBJECT:if("\r" === K || "\n" === K || " " === K || "\t" === K)continue;if(this.state === Z.OPEN_KEY)this.stack.push(Z.CLOSE_KEY);else if("}" === K){n(this,"onopenobject");n(this,"oncloseobject");this.state=this.stack.pop() || Z.VALUE;continue;}else this.stack.push(Z.CLOSE_OBJECT);'"' === K?this.state=Z.STRING:u(this,'Malformed object key should start with "');continue;case Z.CLOSE_KEY:case Z.CLOSE_OBJECT:if("\r" === K || "\n" === K || " " === K || "\t" === K)continue;":" === K?(this.state === Z.CLOSE_OBJECT?(this.stack.push(Z.CLOSE_OBJECT),q(this,"onopenobject")):q(this,"onkey"),this.state=Z.VALUE):"}" === K?(q(this),n(this,"oncloseobject",void 0),this.state=this.stack.pop() || Z.VALUE):"," === K?(this.state === Z.CLOSE_OBJECT && this.stack.push(Z.CLOSE_OBJECT),q(this),this.state=Z.OPEN_KEY):u(this,"Bad object");continue;case Z.OPEN_ARRAY:case Z.VALUE:if("\r" === K || "\n" === K || " " === K || "\t" === K)continue;if(this.state === Z.OPEN_ARRAY)if((n(this,"onopenarray"),this.state=Z.VALUE,"]" === K)){n(this,"onclosearray");this.state=this.stack.pop() || Z.VALUE;continue;}else this.stack.push(Z.CLOSE_ARRAY);'"' === K?this.state=Z.STRING:"{" === K?this.state=Z.OPEN_OBJECT:"[" === K?this.state=Z.OPEN_ARRAY:"t" === K?this.state=Z.TRUE:"f" === K?this.state=Z.FALSE:"n" === K?this.state=Z.NULL:"-" === K?this.numberNode+=K:"0" === K?(this.numberNode+=K,this.state=Z.NUMBER_DIGIT):-1 !== ("123456789").indexOf(K)?(this.numberNode+=K,this.state=Z.NUMBER_DIGIT):u(this,"Bad value");continue;case Z.CLOSE_ARRAY:if("," === K)(this.stack.push(Z.CLOSE_ARRAY),q(this,"onvalue"),this.state=Z.VALUE);else if("]" === K)(q(this),n(this,"onclosearray",void 0),this.state=this.stack.pop() || Z.VALUE);else if("\r" === K || "\n" === K || " " === K || "\t" === K)continue;else u(this,"Bad array");continue;case Z.STRING:G=this.index - 1;(v=this.slashed,y=this.unicodeI);a:for(;;){if(bb.DEBUG)for(;0 < y;){if((this.unicodeS+=K,K=h.charAt(this.index++),4 === y?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),y=0,G=this.index - 1):y++,!K))break a;}if('"' === K && !v){this.state=this.stack.pop() || Z.VALUE;(this.textNode+=h.substring(G,this.index - 1)) || n(this,"onvalue","");break;}if("\\" === K && !v && (v=!0,this.textNode+=h.substring(G,this.index - 1),K=h.charAt(this.index++),!K))break;if(v)if((v=!1,"n" === K?this.textNode+="\n":"r" === K?this.textNode+="\r":"t" === K?this.textNode+="\t":"f" === K?this.textNode+="\f":"b" === K?this.textNode+="\b":"u" === K?(y=1,this.unicodeS=""):this.textNode+=K,K=h.charAt(this.index++),G=this.index - 1,K))continue;else break;Ja.lastIndex=this.index;z=Ja.exec(h);if(null === z){this.index=h.length + 1;this.textNode+=h.substring(G,this.index - 1);break;}this.index=z.index + 1;K=h.charAt(z.index);if(!K){this.textNode+=h.substring(G,this.index - 1);break;}}this.slashed=v;this.unicodeI=y;continue;case Z.TRUE:if("" === K)continue;"r" === K?this.state=Z.TRUE2:u(this,"Invalid true started with t" + K);continue;case Z.TRUE2:if("" === K)continue;"u" === K?this.state=Z.TRUE3:u(this,"Invalid true started with tr" + K);continue;case Z.TRUE3:if("" === K)continue;"e" === K?(n(this,"onvalue",!0),this.state=this.stack.pop() || Z.VALUE):u(this,"Invalid true started with tru" + K);continue;case Z.FALSE:if("" === K)continue;"a" === K?this.state=Z.FALSE2:u(this,"Invalid false started with f" + K);continue;case Z.FALSE2:if("" === K)continue;"l" === K?this.state=Z.FALSE3:u(this,"Invalid false started with fa" + K);continue;case Z.FALSE3:if("" === K)continue;"s" === K?this.state=Z.FALSE4:u(this,"Invalid false started with fal" + K);continue;case Z.FALSE4:if("" === K)continue;"e" === K?(n(this,"onvalue",!1),this.state=this.stack.pop() || Z.VALUE):u(this,"Invalid false started with fals" + K);continue;case Z.NULL:if("" === K)continue;"u" === K?this.state=Z.NULL2:u(this,"Invalid null started with n" + K);continue;case Z.NULL2:if("" === K)continue;"l" === K?this.state=Z.NULL3:u(this,"Invalid null started with nu" + K);continue;case Z.NULL3:if("" === K)continue;"l" === K?(n(this,"onvalue",null),this.state=this.stack.pop() || Z.VALUE):u(this,"Invalid null started with nul" + K);continue;case Z.NUMBER_DECIMAL_POINT:"." === K?(this.numberNode+=K,this.state=Z.NUMBER_DIGIT):u(this,"Leading zero not followed by .");continue;case Z.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(K)?this.numberNode+=K:"." === K?(-1 !== this.numberNode.indexOf(".") && u(this,"Invalid number has two dots"),this.numberNode+=K):"e" === K || "E" === K?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || u(this,"Invalid number has two exponential"),this.numberNode+=K):"+" === K || "-" === K?("e" !== G && "E" !== G && u(this,"Invalid symbol in number"),this.numberNode+=K):(this.numberNode && n(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Z.VALUE);continue;default:u(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){h=Math.max(bb.MAX_BUFFER_LENGTH,10);G=K=0;for(v=za.length;G < v;G++){y=this[za[G]].length;if(y > h)switch(za[G]){case "text":break;default:u(this,"Max buffer length exceeded: " + za[G]);}K=Math.max(K,y);}this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH - K + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var u;function h(h,n){n || (n=h.length);return h.reduce(function(h,q,Z){return Z < n?h + String.fromCharCode(q):h;},"");}for(var n={},q=0;256 > q;++q){u=h([q]);n[u]=q;}for(var B=Object.keys(n).length,O=[],q=0;256 > q;++q){O[q]=[q];}Ad=function(q,Z){var w,F;function u(h,w){var F;for(;0 < w;){if(y >= v.length)return !1;if(w > z){F=h;F=F >>> w - z;v[y]|=F & 255;w-=z;z=8;++y;}else w <= z && (F=h,F<<=z - w,F&=255,F>>>=8 - z,v[y]|=F & 255,z-=w,w=0,0 == z && (z=8,++y));}return !0;}for(var Ja in n){Z[Ja]=n[Ja];}for(var Ea=B,K=[],G=8,v=new Uint8Array(q.length),y=0,z=8,H=0;H < q.length;++H){w=q[H];K.push(w);Ja=h(K);F=Z[Ja];if(!F){K=h(K,K.length - 1);if(!u(Z[K],G))return null;0 != Ea >> G && ++G;Z[Ja]=Ea++;K=[w];}}return 0 < K.length && (Ja=h(K),F=Z[Ja],!u(F,G))?null:v.subarray(0,8 > z?y + 1:y);};Bd=function(h){var H,w,z,u;for(var n=O.slice(),q=0,u=0,Ea=8,K=new Uint8Array(Math.ceil(1.5 * h.length)),G=0,v,y=[];q < h.length && !(8 * (h.length - q) - u < Ea);){for(var z=v=0;z < Ea;){H=Math.min(Ea - z,8 - u);w=h[q];w=w << u;w=w & 255;w=w >>> 8 - H;z=z + H;u=u + H;8 == u && (u=0,++q);v|=(w & 255) << Ea - z;}z=n[v];0 == y.length?++Ea:(z?y.push(z[0]):y.push(y[0]),n[n.length]=y,y=[],n.length == 1 << Ea && ++Ea,z || (z=n[v]));v=G + z.length;v >= K.length && (H=new Uint8Array(Math.ceil(1.5 * v)),H.set(K),K=H);K.set(z,G);G=v;y=y.concat(z);}return K.subarray(0,G);};})();(function(){var h,n,u;Na="utf-8";Oa=9007199254740992;h=Qb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Qb);Cd=function(n){for(var q=[h.GZIP,h.LZW],u=0;u < q.length && 0 < n.length;++u){for(var B=q[u],Z=0;Z < n.length;++Z){if(n[Z] == B)return B;}}return null;};n=uc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(uc);Dd=function(h){return n.AES_CBC_PKCS5Padding == h?n.AES_CBC_PKCS5Padding:n.RSA_ECB_PKCS1Padding == h?n.RSA_ECB_PKCS1Padding:n[h];};u=Ed={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Ed);Tc=function(h){return u[h];};q={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(q);})();la={isObjectLiteral:function(h){return null !== h && "object" === typeof h && h.constructor === Object;},extendDeep:function(){var h,n,q,u,B,O,za,Z;h=arguments[0];n=1;q=arguments.length;u=!1;"boolean" === typeof h && (u=h,h=arguments[1],n=2);for(;n < q;n++){if(null != (B=arguments[n]))for(O in B){u && (O in h) || (Z=B[O],h !== Z && Z !== fa && (za=h[O],h[O]=null !== za && null !== Z && "object" === typeof za && "object" === typeof Z?la.extendDeep(u,{},za,Z):Z));}}return h;}};(function(){var za,Z;function h(h,n){return function(){var q,K;q=h.base;h.base=n;K=h.apply(this,arguments);h.base=q;return K;};}function n(n,q,u){var K,G,v,y;u=u || Z;y=! !u.extendAll;for(K in q){G=q.__lookupGetter__(K);v=q.__lookupSetter__(K);G || v?(G && n.__defineGetter__(K,G),v && n.__defineSetter__(K,v)):(G=q[K],v=n[K],"function" === typeof G && "function" === typeof v && G !== v?(G.base !== Function.prototype.base && (G=h(G,v)),G.base=v):(y || u[K]) && la.isObjectLiteral(G) && la.isObjectLiteral(v) && (G=la.extendDeep({},v,G)),n[K]=G);}}function q(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function K(){var G;G=h.call(arguments,0);K.base.apply(this,n.concat(G));}});}function u(h,q){var Z;Z=new this(za);n(Z,h,q);return O(Z);}function B(h,q){n(this.prototype,h,q);return this;}function O(h){var n;n=function(){var h;h=this.init;h && arguments[0] !== za && h.apply(this,arguments);};h && (n.prototype=h);n.prototype.constructor=n;n.extend=u;n.bind=q;n.mixin=B;return n;}za={};Z={actions:!0};Function.prototype.base=function(){};la.Class={create:O,mixin:n,extend:function(h,n){var q;q=O();q.prototype=new h();return q.extend(n);}};la.mixin=function(){la.log && la.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};})();(function(){var za,Z,Ua;function h(h,n){return function(){var q,G;q=h.base;h.base=n;G=h.apply(this,arguments);h.base=q;return G;};}function n(n,q,K){var G,v,y,z;K=K || Z;z=! !K.extendAll;for(G in q){v=q.__lookupGetter__(G);y=q.__lookupSetter__(G);v || y?(v && n.__defineGetter__(G,v),y && n.__defineSetter__(G,y)):(v=q[G],y=n[G],"function" === typeof v && "function" === typeof y && v !== y?(v.base !== Ua && (v=h(v,y)),v.base=y):(z || K[G]) && la.isObjectLiteral(v) && la.isObjectLiteral(y) && (v=la.extendDeep({},y,v)),n[G]=v);}}function q(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function G(){var v;v=h.call(arguments,0);G.base.apply(this,n.concat(v));}});}function u(h,q){var K;K=new this(za);n(K,h,q);return O(K);}function B(h,q){n(this.prototype,h,q);return this;}function O(h){var n;n=function(){var h;h=this.init;h && arguments[0] !== za && h.apply(this,arguments);};h && (n.prototype=h);n.prototype.constructor=n;n.extend=u;n.bind=q;n.mixin=B;return n;}za={};Z={actions:!0};Ua=function(){};Function.prototype.base=Ua;la.Class={create:O,mixin:n,extend:function(h,n){var q;q=O();q.prototype=new h();return q.extend(n);}};la.mixin=function(){la.log && la.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};})();(function(){function h(h){return h == Oa?1:h + 1;}function n(n){if(0 === Object.keys(n._waiters).length)return 0;for(var q=h(n._nextWaiter);!n._waiters[q];){q=h(q);}return q;}ic=la.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var q;if(this._waiters[h]){q=this._waiters[h];delete this._waiters[h];h == this._nextWaiter && (this._nextWaiter=n(this));q.call(this,fa);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(q,B){var O,M;O=this;M=h(this._lastWaiter);this._lastWaiter=M;u(B,function(){var h,Z;if(0 < this._queue.length){h=this._queue.shift();setTimeout(function(){B.result(h);},0);}else {-1 != q && (Z=setTimeout(function(){delete O._waiters[M];M == O._nextWaiter && (O._nextWaiter=n(O));B.timeout();},q));this._waiters[M]=function(h){clearTimeout(Z);setTimeout(function(){B.result(h);},0);};this._nextWaiter || (this._nextWaiter=M);}},O);return M;},add:function(h){var q;if(this._nextWaiter){q=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=n(this);q.call(this,h);}else this._queue.push(h);}});})();(function(){var h;h=0 - Oa;Fd=la.Class.create({nextBoolean:function(){var h;h=new Uint8Array(1);Hb.getRandomValues(h);return h[0] & 1?!0:!1;},nextInt:function(h){var n;if(null !== h && h !== fa){if("number" !== typeof h)throw new TypeError("n must be of type number");if(1 > h)throw new RangeError("n must be greater than zero");--h;n=new Uint8Array(4);Hb.getRandomValues(n);return Math.floor(((n[3] & 127) << 24 | n[2] << 16 | n[1] << 8 | n[0]) / 2147483648 * (h - 0 + 1) + 0);}h=new Uint8Array(4);Hb.getRandomValues(h);n=(h[3] & 127) << 24 | h[2] << 16 | h[1] << 8 | h[0];return h[3] & 128?-n:n;},nextLong:function(){var q,n;for(var n=h;n == h;){n=new Uint8Array(7);Hb.getRandomValues(n);q=16777216 * ((n[6] & 31) << 24 | n[5] << 16 | n[4] << 8 | n[3]) + (n[2] << 16 | n[1] << 8 | n[0]);n=n[6] & 128?-q - 1:q;}return n;},nextBytes:function(h){Hb.getRandomValues(h);}});})();(function(){function h(h){return h == Oa?1:h + 1;}function n(n){if(0 === Object.keys(n._waitingReaders).length)return 0;for(var q=h(n._nextReader);!n._waitingReaders[q];){q=h(q);}return q;}function q(n){if(0 === Object.keys(n._waitingWriters).length)return 0;for(var q=h(n._nextWriter);!n._waitingWriters[q];){q=h(q);}return q;}Uc=la.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var u;if(this._waitingReaders[h]){u=this._waitingReaders[h];delete this._waitingReaders[h];h == this._nextReader && (this._nextReader=n(this));u.call(this,!0);}this._waitingWriters[h] && (u=this._waitingWriters[h],delete this._waitingWriters[h],h == this._nextWriter && (this._nextWriter=q(this)),u.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(q,B){var O,M;O=this;M=h(this._lastNumber);this._lastNumber=M;u(B,function(){var h;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[M]=!0,M);-1 != q && (h=setTimeout(function(){delete O._waitingReaders[M];M == O._nextReader && (O._nextReader=n(O));B.timeout();},q));this._waitingReaders[M]=function(n){clearTimeout(h);n?setTimeout(function(){B.result(fa);},0):(O._readers[M]=!0,setTimeout(function(){B.result(M);},0));};this._nextReader || (this._nextReader=M);},O);return M;},writeLock:function(n,B){var O,M;O=this;M=h(this._lastNumber);this._lastNumber=M;u(B,function(){var h;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=M;-1 != n && (h=setTimeout(function(){delete O._waitingWriters[M];M == O._nextWriter && (O._nextWriter=q(O));B.timeout();},n));this._waitingWriters[M]=function(n){clearTimeout(h);n?setTimeout(function(){B.result(fa);},0):(O._writer=M,setTimeout(function(){B.result(M);},0));};this._nextWriter || (this._nextWriter=M);},O);return M;},unlock:function(n){if(n == this._writer)this._writer=null;else {if(!this._readers[n])throw new da("There is no reader or writer with ticket number " + n + ".");delete this._readers[n];}if(this._nextWriter)0 < Object.keys(this._readers).length || (n=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=q(this),n.call(this,!1));else {for(var u=this._nextReader;0 < Object.keys(this._waitingReaders).length;u=h(u)){this._waitingReaders[u] && (n=this._waitingReaders[u],delete this._waitingReaders[u],n.call(this,!1));}this._nextReader=0;}}});})();la.Class.mixin(h,{JSON_PARSE_ERROR:new h(0,q.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new h(1,q.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new h(2,q.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new h(3,q.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new h(4,q.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new h(5,q.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new h(6,q.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new h(7,q.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new h(8,q.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new h(9,q.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new h(10,q.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new h(11,q.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new h(12,q.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new h(13,q.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new h(14,q.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new h(15,q.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new h(16,q.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new h(17,q.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new h(18,q.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new h(19,q.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new h(20,q.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new h(21,q.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new h(22,q.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new h(23,q.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new h(24,q.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new h(25,q.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new h(26,q.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new h(27,q.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new h(28,q.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new h(29,q.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new h(30,q.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new h(31,q.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new h(32,q.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new h(33,q.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new h(34,q.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new h(35,q.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new h(36,q.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new h(37,q.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new h(38,q.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new h(39,q.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new h(40,q.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new h(41,q.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new h(42,q.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new h(43,q.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new h(44,q.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new h(45,q.FAIL,"Error exporting key."),DIGEST_ERROR:new h(46,q.FAIL,"Error in digest."),UNSUPPORTED_KEY:new h(47,q.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new h(48,q.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new h(49,q.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new h(50,q.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new h(51,q.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new h(52,q.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new h(53,q.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new h(54,q.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new h(55,q.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new h(56,q.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new h(57,q.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new h(58,q.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new h(59,q.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new h(60,q.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new h(61,q.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new h(62,q.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new h(1E3,q.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new h(1001,q.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new h(1002,q.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new h(1003,q.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(1004,q.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(1005,q.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new h(1006,q.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new h(1007,q.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new h(1008,q.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new h(1009,q.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new h(1010,q.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new h(1011,q.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new h(1012,q.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new h(1013,q.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new h(1014,q.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new h(2E3,q.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new h(2001,q.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new h(2002,q.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new h(2003,q.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new h(2004,q.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new h(2005,q.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2006,q.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2007,q.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new h(2008,q.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new h(2009,q.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new h(2010,q.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new h(2011,q.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new h(2012,q.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new h(2013,q.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new h(2014,q.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new h(2015,q.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new h(2016,q.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new h(2017,q.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new h(2018,q.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new h(2019,q.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new h(2020,q.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new h(3E3,q.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new h(3001,q.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new h(3002,q.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new h(3003,q.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new h(3004,q.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3005,q.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3006,q.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new h(3007,q.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new h(3008,q.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new h(3009,q.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new h(4E3,q.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new h(4001,q.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new h(4002,q.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new h(4003,q.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new h(4004,q.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new h(4005,q.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new h(4006,q.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new h(4007,q.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new h(4008,q.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new h(4009,q.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new h(4010,q.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new h(4011,q.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new h(4012,q.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new h(4013,q.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new h(4014,q.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new h(4015,q.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new h(4016,q.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new h(4017,q.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new h(4018,q.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new h(4019,q.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new h(4020,q.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new h(4021,q.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new h(4022,q.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new h(4023,q.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new h(4024,q.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new h(4025,q.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new h(4026,q.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new h(5E3,q.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new h(5001,q.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new h(5002,q.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new h(5003,q.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new h(5004,q.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new h(5005,q.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new h(5006,q.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new h(5007,q.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new h(5008,q.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new h(5009,q.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new h(5010,q.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new h(5011,q.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new h(5012,q.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new h(5013,q.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new h(5014,q.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new h(5015,q.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new h(5016,q.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new h(5017,q.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new h(5018,q.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new h(5019,q.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new h(5020,q.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new h(5021,q.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new h(5022,q.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new h(5023,q.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new h(5024,q.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new h(5025,q.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new h(5026,q.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new h(5027,q.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new h(5028,q.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new h(5029,q.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new h(5030,q.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new h(5031,q.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new h(5032,q.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new h(5033,q.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new h(5034,q.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new h(5035,q.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new h(5036,q.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new h(5037,q.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new h(5038,q.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new h(5039,q.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new h(5040,q.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new h(6E3,q.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new h(6001,q.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new h(6002,q.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new h(6003,q.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new h(6004,q.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new h(6005,q.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new h(6006,q.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new h(6007,q.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new h(6008,q.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new h(6009,q.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new h(6010,q.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new h(6011,q.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new h(6012,q.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new h(6013,q.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new h(6014,q.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new h(6015,q.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new h(6016,q.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new h(6017,q.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new h(6018,q.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(6019,q.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new h(6020,q.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new h(6021,q.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new h(6022,q.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new h(6023,q.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new h(6024,q.FAIL,"Invalid header data."),PAYLOAD_INVALID:new h(6025,q.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new h(6026,q.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new h(6027,q.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new h(6028,q.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new h(6029,q.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new h(6030,q.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new h(6031,q.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new h(6032,q.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new h(6033,q.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new h(6034,q.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new h(6035,q.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new h(6036,q.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new h(6037,q.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new h(7E3,q.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new h(7001,q.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new h(7002,q.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new h(7003,q.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new h(7004,q.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new h(7005,q.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new h(7006,q.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new h(7007,q.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new h(7008,q.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new h(7009,q.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new h(7010,q.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new h(7011,q.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new h(7012,q.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new h(7013,q.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new h(7014,q.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new h(7015,q.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new h(7016,q.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new h(8E3,q.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new h(8001,q.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new h(8002,q.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new h(8003,q.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new h(8004,q.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new h(8005,q.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new h(8006,q.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new h(8007,q.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new h(8008,q.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new h(8009,q.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new h(8010,q.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new h(8011,q.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new h(8012,q.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new h(9E3,q.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new h(9001,q.FAIL,"Error communicating with MSL entity."),NONE:new h(9999,q.FAIL,"Special unit test error.")});Object.freeze(h);(function(){B=la.Class.create(Error());B.mixin({init:function(h,n,q){var O,M,da;function u(){return M?M:this.cause && this.cause instanceof B?this.cause.messageId:fa;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);O=h.message;n && (O+=" [" + n + "]");da=this.stack;Object.defineProperties(this,{message:{value:O,writable:!1,configurable:!0},error:{value:h,writable:!1,configurable:!0},cause:{value:q,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:u,set:function(h){if(0 > h || h > Oa)throw new RangeError("Message ID " + h + " is outside the valid range.");u() || (M=h);},configurable:!0},stack:{get:function(){var h;h=this.toString();da && (h+="\n" + da);q && q.stack && (h+="\nCaused by " + q.stack);return h;},configurable:!0}});},setEntity:function(h){!h || this.masterToken || this.entityAuthenticationData || (h instanceof jb?this.masterToken=h:h instanceof Rb && (this.entityAuthenticationData=h));return this;},setUser:function(h){!h || this.userIdToken || this.userAuthenticationData || (h instanceof bc?this.userIdToken=h:h instanceof Jb && (this.userAuthenticationData=h));return this;},setMessageId:function(h){this.messageId=h;return this;},toString:function(){return this.name + ": " + this.message;}});})();M=B.extend({init:function Gb(h,n,q){Gb.base.call(this,h,n,q);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ja=B.extend({init:function Zb(h,n,q){Zb.base.call(this,h,n,q);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});zb=B.extend({init:function Pa(h,n,q){Pa.base.call(this,h,n,q);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){mb=la.Class.create(Error());mb.mixin({init:function(h,n,q){var u;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);u=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},requestCause:{value:q,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();u && (h+="\n" + u);n && n.stack && (h+="\nCaused by " + n.stack);return h;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Ya=la.Class.create(Error());Ya.mixin({init:function(h,n){var q;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();q && (h+="\n" + q);n && n.stack && (h+="\nCaused by " + n.stack);return h;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){da=la.Class.create(Error());da.mixin({init:function(h,n){var q;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();q && (h+="\n" + q);n && n.stack && (h+="\nCaused by " + n.stack);return h;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){cb=la.Class.create(Error());cb.mixin({init:function(h,n){var q;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();q && (h+="\n" + q);n && n.stack && (h+="\nCaused by " + n.stack);return h;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ra=B.extend({init:function xb(h,n,q){xb.base.call(this,h,n,q);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Sb=B.extend({init:function Oc(h,n){Oc.base.call(this,h);Object.defineProperties(this,{masterToken:{value:n,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Fa=B.extend({init:function za(h,n,q){za.base.call(this,h,n,q);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Ca=B.extend({init:function Z(h,n,q){Z.base.call(this,h,n,q);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var K;function h(h){return "undefined" === typeof h?!1:h;}function n(h){return h && h.length?(fb === K.V2014_02 && (h=h.map(function(h){return "wrap" == h?"wrapKey":"unwrap" == h?"unwrapKey":h;})),h):fb === K.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function q(h,v,y,n,q){return Promise.resolve().then(function(){return Sa.importKey(h,v,y,n,q);})["catch"](function(w){var F;if("spki" !== h && "pkcs8" !== h)throw w;w=ASN1.webCryptoAlgorithmToJwkAlg(y);F=ASN1.webCryptoUsageToJwkKeyOps(q);w=ASN1.rsaDerToJwk(v,w,F,n);if(!w)throw Error("Could not make valid JWK from DER input");w=JSON.stringify(w);return Sa.importKey("jwk",Nc(w),y,n,q);});}function u(h,v){return Promise.resolve().then(function(){return Sa.exportKey(h,v);})["catch"](function(n){if("spki" !== h && "pkcs8" !== h)throw n;return Sa.exportKey("jwk",v).then(function(h){h=JSON.parse(Mc(new Uint8Array(h)));h=ASN1.jwkToRsaDer(h);if(!h)throw Error("Could not make valid DER from JWK input");return h.getDer().buffer;});});}K=vc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(vc);fb=K.LATEST;Ma={encrypt:function(h,v,n){switch(fb){case K.LEGACY:return new Promise(function(y,q){var w;w=Sa.encrypt(h,v,n);w.oncomplete=function(h){y(h.target.result);};w.onerror=function(h){q(h);};});case K.V2014_01:case K.V2014_02:return Sa.encrypt(h,v,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(h,v,n){switch(fb){case K.LEGACY:return new Promise(function(y,q){var w;w=Sa.decrypt(h,v,n);w.oncomplete=function(h){y(h.target.result);};w.onerror=function(h){q(h);};});case K.V2014_01:case K.V2014_02:return Sa.decrypt(h,v,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(h,v,n){switch(fb){case K.LEGACY:return new Promise(function(y,q){var w;w=Sa.sign(h,v,n);w.oncomplete=function(h){y(h.target.result);};w.onerror=function(h){q(h);};});case K.V2014_01:case K.V2014_02:return Sa.sign(h,v,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(h,v,n,q){switch(fb){case K.LEGACY:return new Promise(function(y,w){var F;F=Sa.verify(h,v,n,q);F.oncomplete=function(h){y(h.target.result);};F.onerror=function(h){w(h);};});case K.V2014_01:case K.V2014_02:return Sa.verify(h,v,n,q);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(h,v){switch(fb){case K.LEGACY:return new Promise(function(n,q){var y;y=Sa.digest(h,v);y.oncomplete=function(h){n(h.target.result);};y.onerror=function(h){q(h);};});case K.V2014_01:case K.V2014_02:return Sa.digest(h,v).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(q,v,y){var G,H;G=h(v);H=n(y);switch(fb){case K.LEGACY:return new Promise(function(h,v){var w;w=Sa.generateKey(q,G,H);w.oncomplete=function(w){h(w.target.result);};w.onerror=function(h){v(h);};});case K.V2014_01:case K.V2014_02:return Sa.generateKey(q,G,H);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(q,v,y,z,H){var w,F;w=h(z);F=n(H);switch(fb){case K.LEGACY:return new Promise(function(h,n){var H;H=Sa.deriveKey(q,v,y,w,F);H.oncomplete=function(w){h(w.target.result);};H.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return Sa.deriveKey(q,v,y,w,F);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(G,v,y,z,H){var w,F;w=h(z);F=n(H);switch(fb){case K.LEGACY:return new Promise(function(h,n){var q;q=Sa.importKey(G,v,y,w,F);q.oncomplete=function(w){h(w.target.result);};q.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return q(G,v,y,w,F);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(h,v){switch(fb){case K.LEGACY:return new Promise(function(n,q){var y;y=Sa.exportKey(h,v);y.oncomplete=function(h){n(h.target.result);};y.onerror=function(h){q(h);};});case K.V2014_01:case K.V2014_02:return u(h,v).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(h,v,n,q){switch(fb){case K.LEGACY:return new Promise(function(h,w){var F;F=Sa.wrapKey(v,n,q);F.oncomplete=function(w){h(w.target.result);};F.onerror=function(h){w(h);};});case K.V2014_01:case K.V2014_02:return Sa.wrapKey(h,v,n,q).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(q,v,y,z,H,w,F){switch(fb){case K.LEGACY:return new Promise(function(h,w){var n;n=Sa.unwrapKey(v,H,y);n.oncomplete=function(w){h(w.target.result);};n.onerror=function(h){w(h);};});case K.V2014_01:case K.V2014_02:return Sa.unwrapKey(q,v,y,z,H,h(w),n(F));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};tc && tc.getKeyByName && (Ma.getKeyByName=function(h){switch(fb){case K.LEGACY:return new Promise(function(v,n){var y;y=tc.getKeyByName(h);y.oncomplete=function(h){v(h.target.result);};y.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return tc.getKeyByName(h);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});O.netflix=O.netflix || ({});O.netflix.crypto=Ma;})();Ab={name:"AES-KW"};sb={name:"AES-CBC"};tb={name:"HMAC",hash:{name:"SHA-256"}};wc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Vc={name:"RSAES-PKCS1-v1_5"};Gd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Kb=["encrypt","decrypt"];Lb=["wrap","unwrap"];Tb=["sign","verify"];(function(){Wc=la.Class.create({init:function(q,u,B){var K;function Z(h){n(u,function(){var v;v=h?ta(h):fa;Object.defineProperties(K,{rawKey:{value:q,writable:!1,configurable:!1},keyData:{value:h,writable:!1,configurable:!1},keyDataB64:{value:v,writable:!1,configurable:!1}});return this;},K);}K=this;n(u,function(){if(!q || "object" != typeof q)throw new M(h.INVALID_SYMMETRIC_KEY);!B && q.extractable?Ma.exportKey("raw",q).then(function(h){Z(new Uint8Array(h));},function(n){u.error(new M(h.KEY_EXPORT_ERROR,"raw"));}):Z(B);},K);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});$b=function(h,n){new Wc(h,n);};Bb=function(q,u,B,Ea){n(Ea,function(){try{q="string" == typeof q?ua(q):q;}catch(K){throw new M(h.INVALID_SYMMETRIC_KEY,"keydata " + q,K);}Ma.importKey("raw",q,u,!0,B).then(function(h){new Wc(h,Ea,q);},function(n){Ea.error(new M(h.INVALID_SYMMETRIC_KEY));});});};})();(function(){xc=la.Class.create({init:function(q,u,B){var K;function Z(h){n(u,function(){Object.defineProperties(K,{rawKey:{value:q,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},K);}K=this;n(u,function(){if(!q || "object" != typeof q || "public" != q.type)throw new TypeError("Only original public crypto keys are supported.");!B && q.extractable?Ma.exportKey("spki",q).then(function(h){Z(new Uint8Array(h));},function(n){u.error(new M(h.KEY_EXPORT_ERROR,"spki"));}):Z(B);});},getEncoded:function(){return this.encoded;}});Pb=function(h,n){new xc(h,n);};Xc=function(q,u,B,Ea){n(Ea,function(){try{q="string" == typeof q?ua(q):q;}catch(K){throw new M(h.INVALID_PUBLIC_KEY,"spki " + q,K);}Ma.importKey("spki",q,u,!0,B).then(function(h){new xc(h,Ea,q);},function(n){Ea.error(new M(h.INVALID_PUBLIC_KEY));});});};})();(function(){Hd=la.Class.create({init:function(q,u,B){var K;function Z(h){n(u,function(){Object.defineProperties(K,{rawKey:{value:q,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},K);}K=this;n(u,function(){if(!q || "object" != typeof q || "private" != q.type)throw new TypeError("Only original private crypto keys are supported.");!B && q.extractable?Ma.exportKey("pkcs8",q).then(function(h){Z(new Uint8Array(h));},function(n){u.error(new M(h.KEY_EXPORT_ERROR,"pkcs8"));}):Z(B);});},getEncoded:function(){return this.encoded;}});ac=function(h,n){new Hd(h,n);};})();(function(){var q;q=ad={V1:1,V2:2};Yc=la.Class.create({init:function(h,u,B,K){n(K,function(){var n,v,y,z;n=q.V1;v=h;y=null;for(z in uc){if(uc[z] == h){n=q.V2;v=null;y=h;break;}}Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:v,writable:!1,configurable:!1},cipherSpec:{value:y,writable:!1,configurable:!1},iv:{value:u,writable:!1,configurable:!1},ciphertext:{value:B,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var h;h={};switch(this.version){case q.V1:h.keyid=this.keyId;this.iv && (h.iv=ta(this.iv));h.ciphertext=ta(this.ciphertext);h.sha256="AA==";break;case q.V2:h.version=this.version;h.cipherspec=this.cipherSpec;this.iv && (h.iv=ta(this.iv));h.ciphertext=ta(this.ciphertext);break;default:throw new da("Ciphertext envelope version " + this.version + " encoding unsupported.");}return h;}});Zc=function(h,n,q,K){new Yc(h,n,q,K);};$c=function(u,B,Z){n(Z,function(){var n,G,v,y,z,H,w;n=u.keyid;G=u.cipherspec;v=u.iv;y=u.ciphertext;z=u.sha256;if(!B)if((B=u.version) && "number" === typeof B && B === B){H=!1;for(w in q){if(q[w] == B){H=!0;break;}}if(!H)throw new M(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(u));}else B=q.V1;switch(B){case q.V1:if("string" !== typeof n || v && "string" !== typeof v || "string" !== typeof y || "string" !== typeof z)throw new ja(h.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(u));break;case q.V2:w=u.version;if(w != q.V2)throw new M(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(u));if("string" !== typeof G || v && "string" !== typeof v || "string" !== typeof y)throw new ja(h.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(u));G=Dd(G);if(!G)throw new M(h.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(u));n=G;break;default:throw new M(h.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(u));}try{v && (v=ua(v));y=ua(y);}catch(F){throw new M(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(u),F);}new Yc(n,v,y,Z);});};})();(function(){var q;q=dd={V1:1,V2:2};Cb=la.Class.create({init:function(h,n,u){var K;switch(h){case q.V1:K=u;break;case q.V2:K={};K.version=h;K.algorithm=n;K.signature=ta(u);K=Ta(JSON.stringify(K),Na);break;default:throw new da("Signature envelope version " + h + " encoding unsupported.");}Object.defineProperties(this,{version:{value:h,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:n,writable:!1,configurable:!1},signature:{value:u,writable:!1,configurable:!1},bytes:{value:K,writable:!1,configurable:!1}});}});bd=function(){var h,u,B,K;2 == arguments.length?(h=q.V1,u=arguments[0],B=null,K=arguments[1]):3 == arguments.length && (h=q.V2,B=arguments[0],u=arguments[1],K=arguments[2]);n(K,function(){return new Cb(h,B,u);});};cd=function(u,B,Z){n(Z,function(){var n,G,v,y,z,H,w;if(B)switch(B){case q.V1:return new Cb(q.V1,null,u);case q.V2:try{n=Va(u,Na);G=JSON.parse(n);v=parseInt(G.version);y=G.algorithm;z=G.signature;if(!v || "number" !== typeof v || v != v || "string" !== typeof y || "string" !== typeof z)throw new ja(h.JSON_PARSE_ERROR,"signature envelope " + ta(u));if(q.V2 != v)throw new M(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + ta(u));H=Tc(y);if(!H)throw new M(h.UNIDENTIFIED_ALGORITHM,"signature envelope " + ta(u));w=ua(z);if(!w)throw new M(h.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(u));return new Cb(q.V2,H,w);}catch(F){if(F instanceof SyntaxError)throw new ja(h.JSON_PARSE_ERROR,"signature envelope " + ta(u),F);throw F;}default:throw new M(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + ta(u));}try{n=Va(u,Na);G=JSON.parse(n);}catch(F){G=null;}if(G && G.version){if((n=G.version,"number" !== typeof n || n !== n))n=q.V1;}else n=q.V1;switch(n){case q.V1:return new Cb(n,null,u);case q.V2:H=G.algorithm;z=G.signature;if("string" !== typeof H || "string" !== typeof z)return new Cb(q.V1,null,u);H=Tc(H);if(!H)return new Cb(q.V1,null,u);try{w=ua(z);}catch(F){return new Cb(q.V1,null,u);}return new Cb(n,H,w);default:throw new M(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + u);}});};})();cc=la.Class.create({encrypt:function(h,n){},decrypt:function(h,n){},wrap:function(h,n){},unwrap:function(h,n,q,u){},sign:function(h,n){},verify:function(h,n,q){}});(function(){var q;q=Eb={RSA_OAEP:wc.name,A128KW:Ab.name};wb="A128GCM";Db=la.Class.create({init:function(h,n,u,K,G){switch(n){case q.RSA_OAEP:G=G && (G.rawKey || G);K=K && (K.rawKey || K);break;case q.A128KW:G=K=K && (K.rawKey || K);break;default:throw new da("Unsupported algorithm: " + n);}Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_algo:{value:n,writable:!1,enumerable:!1,configurable:!1},_enc:{value:u,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:G,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:K,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,q){q.error(new M(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,q){q.error(new M(h.DECRYPT_NOT_SUPPORTED));},wrap:function(q,u){n(u,function(){Ma.wrapKey("jwe+jwk",q.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(h){u.result(h);},function(n){u.error(new M(h.WRAP_ERROR));});},this);},unwrap:function(q,u,B,K){function G(v){n(K,function(){switch(v.type){case "secret":$b(v,K);break;case "public":Pb(v,K);break;case "private":ac(v,K);break;default:throw new M(h.UNSUPPORTED_KEY,"type: " + v.type);}});}n(K,function(){Ma.unwrapKey("jwe+jwk",q,this._unwrapKey,this._unwrapKey.algorithm,u,!1,B).then(function(h){G(h);},function(){K.error(new M(h.UNWRAP_ERROR));});},this);},sign:function(n,q){q.error(new M(h.SIGN_NOT_SUPPORTED));},verify:function(n,q,u){u.error(new M(h.VERIFY_NOT_SUPPORTED));}});})();dc=cc.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.result(h);},unwrap:function(h,n,q,u){u.result(h);},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,q){q.result(!0);}});(function(){var q;q=zc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};yc=cc.extend({init:function Ja(h,n,G,v,y){Ja.base.call(this);G && (G=G.rawKey);v && (v=v.rawKey);Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:G,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:v,writable:!1,enumerable:!1,configurable:!1},transform:{value:y == q.ENCRYPT_DECRYPT_PKCS1?Vc:y == q.ENCRYPT_DECRYPT_OAEP?wc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:y == q.WRAP_UNWRAP_PKCS1?Vc:y == q.WRAP_UNWRAP_OAEP?wc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:y == q.SIGN_VERIFY?Gd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(q,u){var K;K=this;n(u,function(){if("nullOp" == this.transform)return q;if(!this.publicKey)throw new M(h.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == q.length)return q;Ma.encrypt(K.transform,K.publicKey,q).then(function(n){Zc(K.id,null,n,{result:function(n){var v;try{v=JSON.stringify(n);u.result(Ta(v,Na));}catch(z){u.error(new M(h.ENCRYPT_ERROR,null,z));}},error:function(n){n instanceof B || (n=new M(h.ENCRYPT_ERROR,null,n));u.error(n);}});},function(n){u.error(new M(h.ENCRYPT_ERROR));});},this);},decrypt:function(q,u){var K;K=this;n(u,function(){var n,v;if("nullOp" == this.transform)return q;if(!this.privateKey)throw new M(h.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == q.length)return q;try{v=Va(q,Na);n=JSON.parse(v);}catch(y){if(y instanceof SyntaxError)throw new M(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,y);throw new M(h.DECRYPT_ERROR,null,y);}$c(n,ad.V1,{result:function(n){var q;try{if(n.keyId != K.id)throw new M(h.ENVELOPE_KEY_ID_MISMATCH);q=u.result;Ma.decrypt(K.transform,K.privateKey,n.ciphertext).then(q,function(n){u.error(new M(h.DECRYPT_ERROR));});}catch(H){H instanceof B?u.error(H):u.error(new M(h.DECRYPT_ERROR,null,H));}},error:function(n){n instanceof ja && (n=new M(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof B || (n=new M(h.DECRYPT_ERROR,null,n));u.error(n);}});},this);},wrap:function(q,u){n(u,function(){var n;if("nullOp" == this.wrapTransform || !this.publicKey)throw new M(h.WRAP_NOT_SUPPORTED,"no public key");n=u.result;Ma.wrapKey("jwk",q.rawKey,this.publicKey,this.wrapTransform).then(n,function(n){u.error(new M(h.WRAP_ERROR));});},this);},unwrap:function(q,u,K,G){function v(q){n(G,function(){switch(q.type){case "secret":$b(q,G);break;case "public":Pb(q,G);break;case "private":ac(q,G);break;default:throw new M(h.UNSUPPORTED_KEY,"type: " + q.type);}});}n(G,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new M(h.UNWRAP_NOT_SUPPORTED,"no private key");Ma.unwrapKey("jwk",q,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},u,!1,K).then(v,function(n){G.error(new M(h.UNWRAP_ERROR));});},this);},sign:function(q,u){n(u,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new M(h.SIGN_NOT_SUPPORTED,"no private key");Ma.sign(this.algo,this.privateKey,q).then(function(h){bd(h,{result:function(h){u.result(h.bytes);},error:u.error});},function(n){u.error(new M(h.SIGNATURE_ERROR));});},this);},verify:function(q,u,K){var G;G=this;n(K,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new M(h.VERIFY_NOT_SUPPORTED,"no public key");cd(u,dd.V1,{result:function(v){n(K,function(){var n;n=K.result;Ma.verify(this.algo,this.publicKey,v.signature,q).then(n,function(n){K.error(new M(h.SIGNATURE_ERROR));});},G);},error:K.error});},this);}});})();(function(){Ac=cc.extend({init:function Ua(h,n,q,G,v){Ua.base.call(this);q=q && q.rawKey;G=G && G.rawKey;v=v && v.rawKey;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},id:{value:n,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:q,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:G,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:v,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(q,u){var O;O=this;n(u,function(){var n;if(!this.encryptionKey)throw new M(h.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == q.length)return q;n=new Uint8Array(16);this.ctx.getRandom().nextBytes(n);Ma.encrypt({name:sb.name,iv:n},O.encryptionKey,q).then(function(q){q=new Uint8Array(q);Zc(O.id,n,q,{result:function(n){var q;try{q=JSON.stringify(n);u.result(Ta(q,Na));}catch(z){u.error(new M(h.ENCRYPT_ERROR,null,z));}},error:function(n){n instanceof B || (n=new M(h.ENCRYPT_ERROR,null,n));u.error(n);}});},function(n){u.error(new M(h.ENCRYPT_ERROR));});},this);},decrypt:function(q,u){var O;O=this;n(u,function(){var n,G;if(!this.encryptionKey)throw new M(h.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == q.length)return q;try{G=Va(q,Na);n=JSON.parse(G);}catch(v){if(v instanceof SyntaxError)throw new M(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,v);throw new M(h.DECRYPT_ERROR,null,v);}$c(n,ad.V1,{result:function(n){try{if(n.keyId != O.id)throw new M(h.ENVELOPE_KEY_ID_MISMATCH);Ma.decrypt({name:sb.name,iv:n.iv},O.encryptionKey,n.ciphertext).then(function(h){h=new Uint8Array(h);u.result(h);},function(){u.error(new M(h.DECRYPT_ERROR));});}catch(y){y instanceof B?u.error(y):u.error(new M(h.DECRYPT_ERROR,null,y));}},error:function(n){n instanceof ja && (n=new M(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof B || (n=new M(h.DECRYPT_ERROR,null,n));u.error(n);}});},this);},wrap:function(q,u){n(u,function(){if(!this.wrapKey)throw new M(h.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ma.wrapKey("raw",q.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(h){u.result(h);},function(n){u.error(new M(h.WRAP_ERROR));});},this);},unwrap:function(q,u,B,K){function G(q){n(K,function(){switch(q.type){case "secret":$b(q,K);break;case "public":Pb(q,K);break;case "private":ac(q,K);break;default:throw new M(h.UNSUPPORTED_KEY,"type: " + q.type);}});}n(K,function(){if(!this.wrapKey)throw new M(h.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ma.unwrapKey("raw",q,this.wrapKey,this.wrapKey.algorithm,u,!1,B).then(function(h){G(h);},function(n){K.error(new M(h.UNWRAP_ERROR));});},this);},sign:function(q,u){var B;B=this;n(u,function(){if(!this.hmacKey)throw new M(h.SIGN_NOT_SUPPORTED,"no HMAC key.");Ma.sign(tb,this.hmacKey,q).then(function(h){n(u,function(){var n;n=new Uint8Array(h);bd(n,{result:function(h){u.result(h.bytes);},error:u.error});},B);},function(){u.error(new M(h.HMAC_ERROR));});},this);},verify:function(q,u,B){var K;K=this;n(B,function(){if(!this.hmacKey)throw new M(h.VERIFY_NOT_SUPPORTED,"no HMAC key.");cd(u,dd.V1,{result:function(G){n(B,function(){Ma.verify(tb,this.hmacKey,G.signature,q).then(function(h){B.result(h);},function(n){B.error(new M(h.HMAC_ERROR));});},K);},error:B.error});},this);}});})();kb=Ac.extend({init:function Ua(n,q,u,G,v){if(u || G || v)Ua.base.call(this,n,u + "_" + q.sequenceNumber,G,v,null);else {if(!q.isDecrypted())throw new Sb(h.MASTERTOKEN_UNTRUSTED,q);Ua.base.call(this,n,q.identity + "_" + q.sequenceNumber,q.encryptionKey,q.hmacKey,null);}}});Ke=cc.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.error(new da("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(h,n,q,u){u.error(new da("Unwrap is unsupported by the MSL token crypto context."));},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,q){q.result(!1);}});Qa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Qa);(function(){Rb=la.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(h){return this === h?!0:h instanceof Rb?this.scheme == h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});Id=function(n,q){var u,K,G;u=q.scheme;K=q.authdata;if(!u || !K)throw new ja(h.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(q));if(!Qa[u])throw new zb(h.UNIDENTIFIED_ENTITYAUTH_SCHEME,u);G=n.getEntityAuthenticationFactory(u);if(!G)throw new zb(h.ENTITYAUTH_FACTORY_NOT_FOUND,u);return G.createData(n,K);};})();Bc=la.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,n){},getCryptoContext:function(h,n){}});(function(){ob=Rb.extend({init:function Ja(h){Ja.base.call(this,Qa.MGK);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function Ea(h){return this === h?!0:h instanceof ob?Ea.base.call(this,this,h) && this.identity == h.identity:!1;}});Jd=function(n){var q;q=n.identity;if(!q)throw new ja(h.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(n));return new ob(q);};})();Le=Bc.extend({init:function Ja(h){Ja.base.call(this,Qa.MGK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Jd(n);},getCryptoContext:function(n,q){if(!(q instanceof ob))throw new da("Incorrect authentication data type " + JSON.stringify(q) + ".");if(q.identity != this.localIdentity)throw new zb(h.ENTITY_NOT_FOUND,"mgk " + q.identity).setEntity(q);return new dc();}});(function(){ub=Rb.extend({init:function Ea(h){Ea.base.call(this,Qa.PSK);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function K(h){return this === h?!0:h instanceof ub?K.base.call(this,this,h) && this.identity == h.identity:!1;}});Kd=function(n){var q;q=n.identity;if(!q)throw new ja(h.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(n));return new ub(q);};})();Ld=Bc.extend({init:function Ea(h){Ea.base.call(this,Qa.PSK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Kd(n);},getCryptoContext:function(n,q){if(!(q instanceof ub))throw new da("Incorrect authentication data type " + JSON.stringify(q) + ".");if(q.getIdentity() != this.localIdentity)throw new zb(h.ENTITY_NOT_FOUND,"psk " + q.identity).setEntity(q);return new dc();}});(function(){Cc=Rb.extend({init:function K(h,n){K.base.call(this,Qa.RSA);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1},publicKeyId:{value:n,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;h.pubkeyid=this.publicKeyId;return h;},equals:function G(h){return this === h?!0:h instanceof Cc?G.base.call(this,this,h) && this.identity == h.identity && this.publicKeyId == h.publicKeyId:!1;}});Md=function(n){var q,y;q=n.identity;y=n.pubkeyid;if(!q || "string" !== typeof q || !y || "string" !== typeof y)throw new ja(h.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(n));return new Cc(q,y);};})();Me=Bc.extend({init:function K(h){K.base.call(this,Qa.RSA);Object.defineProperties(this,{store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Md(n);},getCryptoContext:function(n,q){var v,y,z;if(!(q instanceof Cc))throw new da("Incorrect authentication data type " + q + ".");v=q.identity;y=q.publicKeyId;z=this.store.getPublicKey(y);if(!z)throw new zb(h.RSA_PUBLICKEY_NOT_FOUND,y).setEntity(q);return new yc(n,v,null,z,zc.SIGN_VERIFY);}});(function(){hc=Rb.extend({init:function G(h){G.base.call(this,Qa.NONE);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function v(h){return this === h?!0:h instanceof hc?v.base.call(this,this,h) && this.identity == h.identity:!1;}});Nd=function(n){var q;q=n.identity;if(!q)throw new ja(h.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(n));return new hc(q);};})();Je=Bc.extend({init:function G(){G.base.call(this,Qa.NONE);},createData:function(h,n){return Nd(n);},getCryptoContext:function(h,n){if(!(n instanceof hc))throw new da("Incorrect authentication data type " + JSON.stringify(n) + ".");return new dc();}});Ne=la.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(h,n){if(!(n instanceof xc))throw new da("Incorrect key data type " + n + ".");this.rsaKeys[h]=n;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(h){delete this.rsaKeys[h];},getPublicKey:function(h){return this.rsaKeys[h];}});ed=la.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,q){}});Dc=la.Class.create({abort:function(){},close:function(h,n){},write:function(h,n,q,z,H){},flush:function(h,n){}});Oe=la.Class.create({init:function(h){Object.defineProperties(this,{_data:{value:h,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Ya("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(h,n,q){u(q,function(){var n;if(this._closed)throw new Ya("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == h && (h=this._data.length - this._currentPosition);n=this._data.subarray(this._currentPosition,this._currentPosition + h);this._currentPosition+=n.length;return n;},this);}});Pe=la.Class.create({init:function(){var h;h={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},abort:function(){},close:function(h,n){this._closed=!0;n.result(!0);},write:function(h,n,q,z,H){u(H,function(){var w;if(this._closed)throw new Ya("Stream is already closed.");if(0 > n)throw new RangeError("Offset cannot be negative.");if(0 > q)throw new RangeError("Length cannot be negative.");if(n + q > h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=h.subarray(n,q);this._buffered.push(w);return w.length;},this);},flush:function(h,n){var q,v;for(;0 < this._buffered.length;){q=this._buffered.shift();if(this._result){v=new Uint8Array(this._result.length + q.length);v.set(this._result);v.set(q,this._result.length);this._result=v;}else this._result=new Uint8Array(q);}n.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Qe=la.Class.create({getResponse:function(h,n,q){}});(function(){var h,n;h=Dc.extend({init:function(h,n){var q;q={_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Pe(),writable:!1,enumerable:!1,configurable:!1},_response:{value:fa,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:fa,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new ic(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,q);},setTimeout:function(h){this._timeout=h;},getResponse:function(h,n){var q;q=this;this._responseQueue.poll(h,{result:function(h){u(n,function(){h && this._responseQueue.add(h);return h;},q);},timeout:function(){u(n,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();n.timeout();},q);},error:function(h){u(n,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw h;},q);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(h,n){var q;q=this;u(n,function(){var h;if(this._response)return !0;h=this._buffer.toByteArray();0 < h.length && (this._abortToken=this._httpLocation.getResponse({body:h},this._timeout,{result:function(h){q._response={response:h};q._responseQueue.add(q._response);},timeout:function(){q._response={isTimeout:!0};q._responseQueue.add(q._response);},error:function(h){q._response={isError:!0,error:h};q._responseQueue.add(q._response);}}));return !0;},this);},write:function(h,n,q,w,F){u(F,function(){if(this._response)throw new Ya("HttpOutputStream already closed.");this._buffer.write(h,n,q,w,F);},this);},flush:function(h,n){u(n,function(){if(this._response)return !0;this._buffer.flush(h,n);},this);}});n=ed.extend({init:function(h){Object.defineProperties(this,{_out:{value:h,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:fa,writable:!0,enumerable:!1,configurable:!1},_exception:{value:fa,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:fa,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(h,n,q){var F;function w(w){u(q,function(){if(!w)return new Uint8Array(0);this._out.getResponse(n,{result:function(w){u(q,function(){var v;if(w.isTimeout)(this._timedout=!0,q.timeout());else {if(w.isError)throw (this._exception=w.error || new Ya("Unknown HTTP exception."),this._exception);if(!w.response)throw (this._exception=new Ya("Missing HTTP response."),this._exception);w.response.json !== fa && (this._json=w.response.json,this.getJSON=function(){return F._json;});v=w.response.content || Nc("string" === typeof w.response.body?w.response.body:JSON.stringify(this._json));this._buffer=new Oe(v);this._buffer.read(h,n,q);}},F);},timeout:function(){q.timeout();},error:function(h){q.error(h);}});},F);}F=this;u(q,function(){if(this._exception)throw this._exception;if(this._timedout)q.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(h,n,q):this._out.close(n,{result:function(h){w(h);},timeout:function(){q.timeout();},error:function(h){q.error(h);}});}},F);}});xd=la.Class.create({init:function(h,n){Object.defineProperties(this,{_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(h){this._timeout=h;},openConnection:function(){var q;q=new h(this._httpLocation,this._timeout);return {input:new n(q),output:q};}});})();(function(){var h,n;h=Dc.extend({init:function(){var h;h={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setTimeout:function(){},getResponse:function(h,n){n.result({success:!1,content:null,errorHttpCode:fa,errorSubCode:fa});},abort:function(){},close:function(h,n){n.result(!0);},write:function(h,n,q,w,F){var v,y;try{if(0 > n)throw new RangeError("Offset cannot be negative.");if(0 > q)throw new RangeError("Length cannot be negative.");if(n + q > h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=h.subarray(n,q);y=new Uint8Array(this._buffer.length + v.length);y.set(this._buffer);y.set(v,this._buffer.length);this._buffer=y;F.result(v.length);}catch(Ha){F.error(Ha);}},flush:function(h,n){n.result(!0);},request:function(){return this._buffer;}});n=ed.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,q){q.result(new Uint8Array(16));}});yd=la.Class.create({init:function(){var q;q={output:{value:new h(),writable:!1,enumerable:!1,configurable:!1},input:{value:new n(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,q);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Mc(this.output.request());}});})();Od=function(h,n,q){function v(h){var n,q;h=new Re(Va(h,"utf-8"));n=[];for(q=h.nextValue();q !== fa;){n.push(q);q=h.nextValue();}return n;}(function(h,n,F){h.read(-1,n,{result:function(h){h && h.length?F(null,h):F(null,null);},timeout:function(){q.timeout();},error:function(h){F(h,null);}});})(h,n,function(n,w){n?q.error(n):w?h.getJSON !== fa && "function" === typeof h.getJSON?q.result(h.getJSON()):q.result(v(w)):q.result(null);});};nb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(nb);(function(){jc=la.Class.create({init:function(h){Object.defineProperties(this,{keyExchangeScheme:{value:h,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this === h?!0:h instanceof jc?this.keyExchangeScheme == h.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Pd=function(q,v,y){n(y,function(){var n,H,w;n=v.scheme;H=v.keydata;if(!n || !H || "object" !== typeof H)throw new ja(h.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(v));if(!nb[n])throw new Ra(h.UNIDENTIFIED_KEYX_SCHEME,n);w=q.getKeyExchangeFactory(n);if(!w)throw new Ra(h.KEYX_FACTORY_NOT_FOUND,n);w.createRequestData(q,H,y);});};})();(function(){kc=la.Class.create({init:function(h,n){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},keyExchangeScheme:{value:n,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.mastertoken=this.masterToken;h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this === h?!0:h instanceof kc?this.masterToken.equals(h.masterToken) && this.keyExchangeScheme == h.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Qd=function(q,v,y){n(y,function(){var u,H,w;u=v.mastertoken;H=v.scheme;w=v.keydata;if(!H || !u || "object" !== typeof u || !w || "object" !== typeof w)throw new ja(h.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(v));if(!nb[H])throw new Ra(h.UNIDENTIFIED_KEYX_SCHEME,H);Ub(q,u,{result:function(F){n(y,function(){var n;n=q.getKeyExchangeFactory(H);if(!n)throw new Ra(h.KEYX_FACTORY_NOT_FOUND,H);return n.createResponseData(q,F,w);});},error:function(h){y.error(h);}});});};})();(function(){var q;q=la.Class.create({init:function(h,n){Object.defineProperties(this,{keyResponseData:{value:h,writable:!1,configurable:!1},cryptoContext:{value:n,writable:!1,configurable:!1}});}});pb=la.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createRequestData:function(h,n,q){},createResponseData:function(h,n,q){},generateResponse:function(h,n,q,u){},getCryptoContext:function(h,n,q,u,w){},generateSessionKeys:function(q,y){n(y,function(){var n,v;n=new Uint8Array(16);v=new Uint8Array(32);q.getRandom().nextBytes(n);q.getRandom().nextBytes(v);Bb(n,sb,Kb,{result:function(n){Bb(v,tb,Tb,{result:function(h){y.result({encryptionKey:n,hmacKey:h});},error:function(n){y.error(new M(h.SESSION_KEY_CREATION_FAILURE,null,n));}});},error:function(n){y.error(new M(h.SESSION_KEY_CREATION_FAILURE,null,n));}});});},importSessionKeys:function(h,n,q){Bb(h,sb,Kb,{result:function(h){Bb(n,tb,Tb,{result:function(n){q.result({encryptionKey:h,hmacKey:n});},error:function(h){q.error(h);}});},error:function(h){q.error(h);}});}});pb.KeyExchangeData=q;})();(function(){var v,y,u;function q(q,w,F,y,u){n(u,function(){var H,ca;switch(w){case v.PSK:(H=new ub(y),ca=q.getEntityAuthenticationFactory(Qa.PSK));if(!ca)throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,w);H=ca.getCryptoContext(q,H);return new Db(q,Eb.A128KW,wb,fa);case v.MGK:H=new ob(y);ca=q.getEntityAuthenticationFactory(Qa.MGK);if(!ca)throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,w);H=ca.getCryptoContext(q,H);return new Db(q,Eb.A128KW,wb,fa);case v.WRAP:H=q.getMslCryptoContext();H.unwrap(F,Ab,Lb,{result:function(h){n(u,function(){return new Db(q,Eb.A128KW,wb,h);});},error:u.error});break;default:throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,w);}});}v={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};y=fd=jc.extend({init:function w(h,n){w.base.call(this,nb.JWE_LADDER);switch(h){case v.WRAP:if(!n)throw new da("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata && (h.wrapdata=ta(this.wrapdata));return h;},equals:function F(h){return h === this?!0:h instanceof fd?F.base.call(this,h) && this.mechanism == h.mechanism && Za(this.wrapdata,h.wrapdata):!1;},uniqueKey:function na(){var h;h=na.base.call(this) + ":" + this.mechanism;this.wrapdata && (h+=":" + hb(this.wrapdata));return h;}});u=Sd=kc.extend({init:function ca(h,n,q,v,y){ca.base.call(this,h,nb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:q,writable:!1,configurable:!1},encryptionKey:{value:v,writable:!1,configurable:!1},hmacKey:{value:y,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=ta(this.wrapKey);h.wrapdata=ta(this.wrapdata);h.encryptionkey=ta(this.encryptionKey);h.hmackey=ta(this.hmacKey);return h;},equals:function Ha(h){return this === h?!0:h instanceof Sd?Ha.base.call(this,h) && Za(this.wrapKey,h.wrapKey) && Za(this.wrapdata,h.wrapdata) && Za(this.encryptionKey,h.encryptionKey) && Za(this.hmacKey,h.hmacKey):!1;},uniqueKey:function ra(){return ra.base.call(this) + ":" + hb(this.wrapKey) + ":" + hb(this.wrapdata) + ":" + hb(this.encryptionKey) + ":" + hb(this.hmacKey);}});Rd=pb.extend({init:function Q(h){Q.base.call(this,nb.JWE_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(q,u,U){n(U,function(){var n,q,Q;n=u.mechanism;q=u.wrapdata;if(!n || n == v.WRAP && (!q || "string" !== typeof q))throw new ja(h.JSON_PARSE_ERROR,"keydata " + JSON.stringify(u));if(!v[n])throw new Ra(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case v.WRAP:try{Q=ua(q);}catch(xa){throw new Ra(h.KEYX_WRAPPING_KEY_MISSING,"keydata " + u.toString());}if(null == Q || 0 == Q.length)throw new Ra(h.KEYX_WRAPPING_KEY_MISSING,"keydata " + u.toString());break;default:Q=null;}return new y(n,Q);});},createResponseData:function(n,q,v){var y,Q,U,z,pa,G,B;n=v.wrapkey;y=v.wrapdata;Q=v.encryptionkey;U=v.hmackey;if(!(n && "string" === typeof n && y && "string" === typeof y && Q && "string" === typeof Q && U) || "string" !== typeof U)throw new ja(h.JSON_PARSE_ERROR,"keydata " + JSON.stringify(v));try{z=ua(n);pa=ua(y);}catch(ga){throw new M(h.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(v),ga);}try{G=ua(Q);}catch(ga){throw new M(h.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(v),ga);}try{B=ua(U);}catch(ga){throw new M(h.INVALID_HMAC_KEY,"keydata " + JSON.stringify(v),ga);}return new u(q,z,pa,G,B);},generateResponse:function(v,z,U,X){var Ka,sa;function Q(h,q,y){Ka.generateSessionKeys(v,{result:function(v){n(X,function(){S(h,q,y,v.encryptionKey,v.hmacKey);},Ka);},error:function(h){n(X,function(){h instanceof B && h.setEntity(sa);throw h;});}});}function S(h,y,u,Q,U){n(X,function(){q(v,z.mechanism,z.wrapdata,h,{result:function(h){h.wrap(y,{result:function(f){pa(y,u,Q,U,f);},error:function(f){n(X,function(){f instanceof B && f.setEntity(sa);throw f;});}});},error:function(h){n(X,function(){h instanceof B && h.setEntity(sa);throw h;});}});},Ka);}function pa(h,q,y,u,Q){n(X,function(){var ga;ga=new Db(v,Eb.A128KW,wb,h);ga.wrap(y,{result:function(f){ga.wrap(u,{result:function(b){G(q,Q,y,f,u,b);},error:function(b){n(X,function(){b instanceof B && b.setEntity(sa);throw b;});}});},error:function(f){n(X,function(){f instanceof B && f.setEntity(sa);throw f;});}});},Ka);}function G(h,q,y,Q,z,S){n(X,function(){var f;f=v.getTokenFactory();sa?f.renewMasterToken(v,sa,y,z,{result:function(b){n(X,function(){var a,c;a=new kb(v,b);c=new u(b,q,h,Q,S);return new pb.KeyExchangeData(c,a,X);},Ka);},error:function(b){n(X,function(){b instanceof B && b.setEntity(sa);throw b;});}}):f.createMasterToken(v,U,y,z,{result:function(b){n(X,function(){var a,c;a=new kb(v,b);c=new u(b,q,h,Q,S);return new pb.KeyExchangeData(c,a,X);},Ka);},error:X.error});},Ka);}Ka=this;n(X,function(){var q,u;if(!(z instanceof y))throw new da("Key request data " + JSON.stringify(z) + " was not created by this factory.");q=U;if(U instanceof jb){if(!U.isVerified())throw new Sb(h.MASTERTOKEN_UNTRUSTED,U);sa=U;q=U.identity;}u=new Uint8Array(16);v.getRandom().nextBytes(u);Bb(u,Ab,Lb,{result:function(h){n(X,function(){v.getMslCryptoContext().wrap(h,{result:function(n){Q(q,h,n);},error:function(h){n(X,function(){h instanceof B && h.setEntity(sa);throw h;},Ka);}});},Ka);},error:function(q){n(X,function(){throw new M(h.WRAP_KEY_CREATION_FAILURE,null,q).setEntity(sa);},Ka);}});},Ka);},getCryptoContext:function(q,z,U,X,wa){var pa;function Q(h,v,y,u,Q){n(wa,function(){var ga;ga=new Db(q,Eb.A128KW,wb,Q);ga.unwrap(v.encryptionKey,sb,Kb,{result:function(Q){ga.unwrap(v.hmacKey,tb,Tb,{result:function(h){n(wa,function(){this.repository.addCryptoContext(v.wrapdata,ga);this.repository.removeCryptoContext(y);return new kb(q,v.masterToken,u,Q,h);},pa);},error:function(q){n(wa,function(){q instanceof B && q.setEntity(h);throw q;});}});},error:function(q){n(wa,function(){q instanceof B && q.setEntity(h);throw q;});}});},pa);}pa=this;n(wa,function(){var S,X;if(!(z instanceof y))throw new da("Key request data " + JSON.stringify(z) + " was not created by this factory.");if(!(U instanceof u))throw new da("Key response data " + JSON.stringify(U) + " was not created by this factory.");S=z.mechanism;X=z.wrapdata;q.getEntityAuthenticationData(null,{result:function(y){n(wa,function(){var u,z,pa;u=y.getIdentity();switch(S){case v.PSK:z=new ub(u);pa=q.getEntityAuthenticationFactory(Qa.PSK);if(!pa)throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,S).setEntity(y);z=pa.getCryptoContext(q,z);z=new Db(q,Eb.A128KW,wb,fa);break;case v.MGK:z=new ob(u);pa=q.getEntityAuthenticationFactory(Qa.MGK);if(!pa)throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,S).setEntity(y);z=pa.getCryptoContext(q,z);z=new Db(q,Eb.A128KW,wb,z.wrapKey);break;case v.WRAP:z=this.repository.getCryptoContext(X);if(!z)throw new Ra(h.KEYX_WRAPPING_KEY_MISSING,ta(X)).setEntity(y);break;default:throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,S).setEntity(y);}z.unwrap(U.wrapKey,Ab,Lb,{result:function(h){Q(y,U,X,u,h);},error:function(h){n(wa,function(){h instanceof B && h.setEntity(y);throw h;});}});},pa);},error:wa.error});},pa);}});})();(function(){var v,y,u,H;function q(q,F,y,u,z){n(z,function(){var w,Q;switch(F){case v.PSK:(w=new ub(u),Q=q.getEntityAuthenticationFactory(Qa.PSK));if(!Q)throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,F);w=Q.getCryptoContext(q,w);return new H(fa);case v.MGK:w=new ob(u);Q=q.getEntityAuthenticationFactory(Qa.MGK);if(!Q)throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,F);w=Q.getCryptoContext(q,w);return new H(fa);case v.WRAP:w=q.getMslCryptoContext();w.unwrap(y,Ab,Lb,{result:function(h){n(z,function(){return new H(h);});},error:z.error});break;default:throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,F);}});}v={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};y=Ec=jc.extend({init:function F(h,n){F.base.call(this,nb.JWK_LADDER);switch(h){case v.WRAP:if(!n)throw new da("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata && (h.wrapdata=ta(this.wrapdata));return h;},equals:function na(h){return h === this?!0:h instanceof Ec?na.base.call(this,h) && this.mechanism == h.mechanism && Za(this.wrapdata,h.wrapdata):!1;},uniqueKey:function ca(){var h;h=ca.base.call(this) + ":" + this.mechanism;this.wrapdata && (h+=":" + hb(this.wrapdata));return h;}});u=Td=kc.extend({init:function Ha(h,n,q,v,y){Ha.base.call(this,h,nb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:q,writable:!1,configurable:!1},encryptionKey:{value:v,writable:!1,configurable:!1},hmacKey:{value:y,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=ta(this.wrapKey);h.wrapdata=ta(this.wrapdata);h.encryptionkey=ta(this.encryptionKey);h.hmackey=ta(this.hmacKey);return h;},equals:function ra(h){return this === h?!0:h instanceof Td?ra.base.call(this,h) && Za(this.wrapKey,h.wrapKey) && Za(this.wrapdata,h.wrapdata) && Za(this.encryptionKey,h.encryptionKey) && Za(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Q(){return Q.base.call(this) + ":" + hb(this.wrapKey) + ":" + hb(this.wrapdata) + ":" + hb(this.encryptionKey) + ":" + hb(this.hmacKey);}});H=cc.extend({init:function(h){h && h.rawKey && (h=h.rawKey);Object.defineProperties(this,{_wrapKey:{value:h,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,q){q.error(new M(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,q){q.error(new M(h.DECRYPT_NOT_SUPPORTED));},wrap:function(q,v){n(v,function(){Ma.wrapKey("jwk",q.rawKey,this._wrapKey,Ab).then(function(h){v.result(h);},function(n){v.error(new M(h.WRAP_ERROR));});},this);},unwrap:function(q,v,y,u){function z(q){n(u,function(){switch(q.type){case "secret":$b(q,u);break;case "public":Pb(q,u);break;case "private":ac(q,u);break;default:throw new M(h.UNSUPPORTED_KEY,"type: " + q.type);}});}n(u,function(){Ma.unwrapKey("jwk",q,this._wrapKey,Ab,v,!1,y).then(function(h){z(h);},function(n){u.error(new M(h.UNWRAP_ERROR));});},this);},sign:function(n,q){q.error(new M(h.SIGN_NOT_SUPPORTED));},verify:function(n,q,v){v.error(new M(h.VERIFY_NOT_SUPPORTED));}});hd=pb.extend({init:function pa(h){pa.base.call(this,nb.JWK_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(q,u,z){n(z,function(){var n,q,z;n=u.mechanism;q=u.wrapdata;if(!n || n == v.WRAP && (!q || "string" !== typeof q))throw new ja(h.JSON_PARSE_ERROR,"keydata " + JSON.stringify(u));if(!v[n])throw new Ra(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case v.WRAP:try{z=ua(q);}catch(ya){throw new Ra(h.KEYX_WRAPPING_KEY_MISSING,"keydata " + u.toString());}if(null == z || 0 == z.length)throw new Ra(h.KEYX_WRAPPING_KEY_MISSING,"keydata " + u.toString());break;default:z=null;}return new y(n,z);});},createResponseData:function(n,q,v){var y,z,H,U,X,pa,ga;n=v.wrapkey;y=v.wrapdata;z=v.encryptionkey;H=v.hmackey;if(!(n && "string" === typeof n && y && "string" === typeof y && z && "string" === typeof z && H) || "string" !== typeof H)throw new ja(h.JSON_PARSE_ERROR,"keydata " + JSON.stringify(v));try{U=ua(n);X=ua(y);}catch(yb){throw new M(h.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(v),yb);}try{pa=ua(z);}catch(yb){throw new M(h.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(v),yb);}try{ga=ua(H);}catch(yb){throw new M(h.INVALID_HMAC_KEY,"keydata " + JSON.stringify(v),yb);}return new u(q,U,X,pa,ga);},generateResponse:function(v,z,X,G){var sa,ga;function U(h,q,y){sa.generateSessionKeys(v,{result:function(v){n(G,function(){pa(h,q,y,v.encryptionKey,v.hmacKey);},sa);},error:function(h){n(G,function(){h instanceof B && h.setEntity(ga);throw h;});}});}function pa(h,y,u,H,U){n(G,function(){q(v,z.mechanism,z.wrapdata,h,{result:function(f){f.wrap(y,{result:function(b){wa(y,u,H,U,b);},error:function(b){n(G,function(){b instanceof B && b.setEntity(ga);throw b;});}});},error:function(f){n(G,function(){f instanceof B && f.setEntity(ga);throw f;});}});},sa);}function wa(h,q,v,y,u){n(G,function(){var f;f=new H(h);f.wrap(v,{result:function(b){f.wrap(y,{result:function(a){Ka(q,u,v,b,y,a);},error:function(a){n(G,function(){a instanceof B && a.setEntity(ga);throw a;});}});},error:function(b){n(G,function(){b instanceof B && b.setEntity(ga);throw b;});}});},sa);}function Ka(h,q,y,z,H,f){n(G,function(){var b;b=v.getTokenFactory();ga?b.renewMasterToken(v,ga,y,H,{result:function(a){n(G,function(){var b,l;b=new kb(v,a);l=new u(a,q,h,z,f);return new pb.KeyExchangeData(l,b,G);},sa);},error:function(a){n(G,function(){a instanceof B && a.setEntity(ga);throw a;});}}):b.createMasterToken(v,X,y,H,{result:function(a){n(G,function(){var b,l;b=new kb(v,a);l=new u(a,q,h,z,f);return new pb.KeyExchangeData(l,b,G);},sa);},error:G.error});},sa);}sa=this;n(G,function(){var q,u;if(!(z instanceof y))throw new da("Key request data " + JSON.stringify(z) + " was not created by this factory.");q=X;if(X instanceof jb){if(!X.isVerified())throw new Sb(h.MASTERTOKEN_UNTRUSTED,X);ga=X;q=X.identity;}u=new Uint8Array(16);v.getRandom().nextBytes(u);Bb(u,Ab,Lb,{result:function(h){n(G,function(){v.getMslCryptoContext().wrap(h,{result:function(n){U(q,h,n);},error:function(h){n(G,function(){h instanceof B && h.setEntity(ga);throw h;},sa);}});},sa);},error:function(q){n(G,function(){throw new M(h.WRAP_KEY_CREATION_FAILURE,null,q).setEntity(ga);},sa);}});},sa);},getCryptoContext:function(q,z,X,G,S){var pa;function U(h,v,y,u,z){n(S,function(){var ga;ga=new H(z);ga.unwrap(v.encryptionKey,sb,Kb,{result:function(z){ga.unwrap(v.hmacKey,tb,Tb,{result:function(h){n(S,function(){this.repository.addCryptoContext(v.wrapdata,ga);this.repository.removeCryptoContext(y);return new kb(q,v.masterToken,u,z,h);},pa);},error:function(q){n(S,function(){q instanceof B && q.setEntity(h);throw q;});}});},error:function(q){n(S,function(){q instanceof B && q.setEntity(h);throw q;});}});},pa);}pa=this;n(S,function(){var G,wa;if(!(z instanceof y))throw new da("Key request data " + JSON.stringify(z) + " was not created by this factory.");if(!(X instanceof u))throw new da("Key response data " + JSON.stringify(X) + " was not created by this factory.");G=z.mechanism;wa=z.wrapdata;q.getEntityAuthenticationData(null,{result:function(y){n(S,function(){var u,z,ga;u=y.getIdentity();switch(G){case v.PSK:z=new ub(u);ga=q.getEntityAuthenticationFactory(Qa.PSK);if(!ga)throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(y);z=ga.getCryptoContext(q,z);z=new H(z.wrapKey);break;case v.MGK:z=new ob(u);ga=q.getEntityAuthenticationFactory(Qa.MGK);if(!ga)throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(y);z=ga.getCryptoContext(q,z);z=new H(z.wrapKey);break;case v.WRAP:z=this.repository.getCryptoContext(wa);if(!z)throw new Ra(h.KEYX_WRAPPING_KEY_MISSING,ta(wa)).setEntity(y);break;default:throw new Ra(h.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(y);}z.unwrap(X.wrapKey,Ab,Lb,{result:function(h){U(y,X,wa,u,h);},error:function(h){n(S,function(){h instanceof B && h.setEntity(y);throw h;});}});},pa);},error:S.error});},pa);}});})();Se=la.Class.create({addCryptoContext:function(h,q){},getCryptoContext:function(h){},removeCryptoContext:function(h){}});(function(){var v,y,u,H;function q(q,n,y,u,z){switch(y){case v.JWE_RSA:case v.JWEJS_RSA:return new Db(q,Eb.RSA_OAEP,wb,u,z);case v.JWK_RSA:return new yc(q,n,u,z,zc.WRAP_UNWRAP_OAEP);case v.JWK_RSAES:return new yc(q,n,u,z,zc.WRAP_UNWRAP_PKCS1);default:throw new M(h.UNSUPPORTED_KEYX_MECHANISM,y);}}v=Fc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};y=Sc=jc.extend({init:function F(h,q,n,v){F.base.call(this,nb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:h,writable:!1,configurable:!1},mechanism:{value:q,writable:!1,configurable:!1},publicKey:{value:n,writable:!1,configurable:!1},privateKey:{value:v,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.mechanism=this.mechanism;h.publickey=ta(this.publicKey.getEncoded());return h;},equals:function na(h){var q;if(h === this)return !0;if(!(h instanceof Sc))return !1;q=this.privateKey === h.privateKey || this.privateKey && h.privateKey && Za(this.privateKey.getEncoded(),h.privateKey.getEncoded());return na.base.call(this,h) && this.keyPairId == h.keyPairId && this.mechanism == h.mechanism && Za(this.publicKey.getEncoded(),h.publicKey.getEncoded()) && q;},uniqueKey:function ca(){var h,q;h=this.publicKey.getEncoded();q=this.privateKey && this.privateKey.getEncoded();h=ca.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + hb(h);q && (h+=":" + hb(q));return h;}});u=function(q,u){n(u,function(){var n,z,H,U;n=q.keypairid;z=q.mechanism;H=q.publickey;if(!n || "string" !== typeof n || !z || !H || "string" !== typeof H)throw new ja(h.JSON_PARSE_ERROR,"keydata " + JSON.stringify(q));if(!v[z])throw new Ra(h.UNIDENTIFIED_KEYX_MECHANISM,z);try{U=ua(H);switch(z){case v.JWE_RSA:case v.JWEJS_RSA:case v.JWK_RSA:Xc(U,wc,Lb,{result:function(h){u.result(new y(n,z,h,null));},error:function(h){u.error(h);}});break;case v.JWK_RSAES:Xc(U,Vc,Lb,{result:function(h){u.result(new y(n,z,h,null));},error:function(h){u.error(h);}});break;default:throw new M(h.UNSUPPORTED_KEYX_MECHANISM,z);}}catch(X){if(!(X instanceof B))throw new M(h.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(q),X);throw X;}});};H=Ud=kc.extend({init:function Ha(h,q,n,v){Ha.base.call(this,h,nb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:q,writable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,configurable:!1},hmacKey:{value:v,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.encryptionkey=ta(this.encryptionKey);h.hmackey=ta(this.hmacKey);return h;},equals:function ra(h){return this === h?!0:h instanceof Ud?ra.base.call(this,h) && this.keyPairId == h.keyPairId && Za(this.encryptionKey,h.encryptionKey) && Za(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Q(){return Q.base.call(this) + ":" + this.keyPairId + ":" + hb(this.encryptionKey) + ":" + hb(this.hmacKey);}});zd=pb.extend({init:function pa(){pa.base.call(this,nb.ASYMMETRIC_WRAPPED);},createRequestData:function(h,q,n){u(q,n);},createResponseData:function(q,n,v){var y,u,z,U;q=v.keypairid;y=v.encryptionkey;u=v.hmackey;if(!q || "string" !== typeof q || !y || "string" !== typeof y || !u || "string" !== typeof u)throw new ja(h.JSON_PARSE_ERROR,"keydata " + JSON.stringify(v));try{z=ua(y);}catch(Ka){throw new M(h.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(v),Ka);}try{U=ua(u);}catch(Ka){throw new M(h.INVALID_HMAC_KEY,"keydata " + JSON.stringify(v),Ka);}return new H(n,q,z,U);},generateResponse:function(h,v,u,z){var X;function U(y,H){n(z,function(){var ga;ga=q(h,v.keyPairId,v.mechanism,null,v.publicKey);ga.wrap(y,{result:function(h){n(z,function(){ga.wrap(H,{result:function(q){G(y,h,H,q);},error:function(h){n(z,function(){h instanceof B && u instanceof jb && h.setEntity(u);throw h;},X);}});},X);},error:function(h){n(z,function(){h instanceof B && u instanceof jb && h.setEntity(u);throw h;},X);}});},X);}function G(q,y,ga,U){n(z,function(){var S;S=h.getTokenFactory();u instanceof jb?S.renewMasterToken(h,u,q,ga,{result:function(q){n(z,function(){var n,u;n=new kb(h,q);u=new H(q,v.keyPairId,y,U);return new pb.KeyExchangeData(u,n,z);},X);},error:function(h){n(z,function(){h instanceof B && h.setEntity(u);throw h;},X);}}):S.createMasterToken(h,u,q,ga,{result:function(q){n(z,function(){var n,u;n=new kb(h,q);u=new H(q,v.keyPairId,y,U);return new pb.KeyExchangeData(u,n,z);},X);},error:z.error});},X);}X=this;n(z,function(){if(!(v instanceof y))throw new da("Key request data " + JSON.stringify(v) + " was not created by this factory.");this.generateSessionKeys(h,{result:function(h){U(h.encryptionKey,h.hmacKey);},error:function(h){n(z,function(){h instanceof B && u instanceof jb && h.setEntity(u);throw h;},X);}});},X);},getCryptoContext:function(v,u,z,G,S){var U;U=this;n(S,function(){var X,pa,xa;if(!(u instanceof y))throw new da("Key request data " + JSON.stringify(u) + " was not created by this factory.");if(!(z instanceof H))throw new da("Key response data " + JSON.stringify(z) + " was not created by this factory.");X=u.keyPairId;pa=z.keyPairId;if(X != pa)throw new Ra(h.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + X + "; response " + pa).setEntity(G);pa=u.privateKey;if(!pa)throw new Ra(h.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(G);xa=q(v,X,u.mechanism,pa,null);xa.unwrap(z.encryptionKey,sb,Kb,{result:function(h){xa.unwrap(z.hmacKey,tb,Tb,{result:function(q){v.getEntityAuthenticationData(null,{result:function(y){n(S,function(){var n;n=y.getIdentity();return new kb(v,z.masterToken,n,h,q);},U);},error:function(h){n(S,function(){h instanceof B && h.setEntity(G);throw h;},U);}});},error:function(h){n(S,function(){h instanceof B && h.setEntity(G);throw h;},U);}});},error:function(h){n(S,function(){h instanceof B && h.setEntity(G);throw h;},U);}});},U);}});})();Re=la.Class.create({init:function(h){var q,n,u,H,w,F,G,ca;q=bb.parser();n=[];u=[];G=0;ca=!1;q.onerror=function(h){ca || (ca=!0,q.end());};q.onopenobject=function(h){var q;if(H)(H[F]={},u.push(H),H=H[F]);else if(w){q={};u.push(w);w.push(q);H=q;w=fa;}else H={};F=h;};q.oncloseobject=function(){var h;h=u.pop();h?"object" === typeof h?H=h:(H=fa,w=h):(n.push(H),G=q.index,H=fa);};q.onopenarray=function(){var h;if(H)(H[F]=[],u.push(H),w=H[F],H=fa);else if(w){h=[];u.push(w);w.push(h);w=h;}else w=[];};q.onclosearray=function(){var h;h=u.pop();h?"object" === typeof h?(H=h,w=fa):w=h:(n.push(w),G=q.index,w=fa);};q.onkey=function(h){F=h;};q.onvalue=function(h){H?H[F]=h:w?w.push(h):(n.push(h),G=q.index);};q.write(h).close();Object.defineProperties(this,{_values:{value:n,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:G,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?fa:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var q,v,y,u,H;q=id="entityauthdata";v=Wd="mastertoken";y=Xd="headerdata";u=Yd="errordata";H=jd="signature";Vd=function(w,F,z,ca){n(ca,function(){var n,G,Q,na,U,X;n=F[q];G=F[v];Q=F[H];if(n && "object" !== typeof n || G && "object" !== typeof G || "string" !== typeof Q)throw new ja(h.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(F));try{na=ua(Q);}catch(wa){throw new Fa(h.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(F),wa);}U=null;n && (U=Id(w,n));X=F[y];if(X != fa && null != X){if("string" !== typeof X)throw new ja(h.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(F));G?Ub(w,G,{result:function(h){kd(w,X,U,h,na,z,ca);},error:function(h){ca.error(h);}}):kd(w,X,U,null,na,z,ca);}else if((n=F[u],n != fa && null != n)){if("string" !== typeof n)throw new ja(h.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(F));Zd(w,n,U,na,ca);}else throw new ja(h.JSON_PARSE_ERROR,JSON.stringify(F));});};})();(function(){function u(h,q){this.errordata=h;this.signature=q;}Ob=la.Class.create({init:function(q,y,u,H,w,F,G,ca,Ha,ra){var v;v=this;n(ra,function(){var z,U;0 > F && (F=-1);if(0 > H || H > Oa)throw new da("Message ID " + H + " is out of range.");if(!y)throw new Fa(h.MESSAGE_ENTITY_NOT_FOUND);if(Ha)return (Object.defineProperties(this,{entityAuthenticationData:{value:y,writable:!1,configurable:!1},recipient:{value:u,writable:!1,configurable:!1},messageId:{value:H,writable:!1,configurable:!1},errorCode:{value:w,writable:!1,configurable:!1},internalCode:{value:F,writable:!1,configurable:!1},errorMessage:{value:G,writable:!1,configurable:!1},userMessage:{value:ca,writable:!1,configurable:!1},errordata:{value:Ha.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ha.signature,writable:!1,enumerable:!1,configurable:!1}}),this);z={};u && (z.recipient=u);z.messageid=H;z.errorcode=w;0 < F && (z.internalcode=F);G && (z.errormsg=G);ca && (z.usermsg=ca);try{U=q.getEntityAuthenticationFactory(y.scheme).getCryptoContext(q,y);}catch(X){throw (X instanceof B && (X.setEntity(y),X.setMessageId(H)),X);}z=Ta(JSON.stringify(z),Na);U.encrypt(z,{result:function(h){n(ra,function(){U.sign(h,{result:function(q){n(ra,function(){Object.defineProperties(this,{entityAuthenticationData:{value:y,writable:!1,configurable:!1},recipient:{value:u,writable:!1,configurable:!1},messageId:{value:H,writable:!1,configurable:!1},errorCode:{value:w,writable:!1,configurable:!1},internalCode:{value:F,writable:!1,configurable:!1},errorMessage:{value:G,writable:!1,configurable:!1},userMessage:{value:ca,writable:!1,configurable:!1},errordata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:q,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(h){n(ra,function(){h instanceof B && (h.setEntity(y),h.setMessageId(H));throw h;},v);}});},v);},error:function(h){n(ra,function(){h instanceof B && (h.setEntity(y),h.setMessageId(H));throw h;},v);}});},v);},toJSON:function(){var h;h={};h[id]=this.entityAuthenticationData;h[Yd]=ta(this.errordata);h[jd]=ta(this.signature);return h;}});$d=function(h,q,n,u,w,F,G,ca,Ha){new Ob(h,q,n,u,w,F,G,ca,null,Ha);};Zd=function(v,y,z,H,w){n(w,function(){var F,G,ca;if(!z)throw new Fa(h.MESSAGE_ENTITY_NOT_FOUND);try{G=z.scheme;ca=v.getEntityAuthenticationFactory(G);if(!ca)throw new zb(h.ENTITYAUTH_FACTORY_NOT_FOUND,G);F=ca.getCryptoContext(v,z);}catch(Ha){throw (Ha instanceof B && Ha.setEntity(z),Ha);}try{y=ua(y);}catch(Ha){throw new Fa(h.HEADER_DATA_INVALID,y,Ha).setEntity(z);}if(!y || 0 == y.length)throw new Fa(h.HEADER_DATA_MISSING,y).setEntity(z);F.verify(y,H,{result:function(G){n(w,function(){if(!G)throw new M(h.MESSAGE_VERIFICATION_FAILED).setEntity(z);F.decrypt(y,{result:function(F){n(w,function(){var n,G,U,ca,na,S,xa,Ha;n=Va(F,Na);try{G=JSON.parse(n);}catch(sa){if(sa instanceof SyntaxError)throw new ja(h.JSON_PARSE_ERROR,"errordata " + n,sa).setEntity(z);throw sa;}U=G.recipient !== fa?G.recipient:null;ca=parseInt(G.messageid);na=parseInt(G.errorcode);S=parseInt(G.internalcode);xa=G.errormsg;Ha=G.usermsg;if(U && "string" !== typeof U || !ca || ca != ca || !na || na != na || G.internalcode && S != S || xa && "string" !== typeof xa || Ha && "string" !== typeof Ha)throw new ja(h.JSON_PARSE_ERROR,"errordata " + n).setEntity(z);if(0 > ca || ca > Oa)throw new Fa(h.MESSAGE_ID_OUT_OF_RANGE,"errordata " + n).setEntity(z);G=!1;for(var B in q){if(q[B] == na){G=!0;break;}}G || (na=q.FAIL);if(S){if(0 > S)throw new Fa(h.INTERNAL_CODE_NEGATIVE,"errordata " + n).setEntity(z).setMessageId(ca);}else S=-1;n=new u(y,H);new Ob(v,z,U,ca,na,S,xa,Ha,n,w);});},error:function(h){n(w,function(){h instanceof B && h.setEntity(z);throw h;});}});});},error:function(h){n(w,function(){h instanceof B && h.setEntity(z);throw h;});}});});};})();Te=la.Class.create({getUserMessage:function(h,q){}});(function(){ld=function(h,q){var n,v;if(!h || !q)return null;n=h.compressionAlgorithms.filter(function(h){for(var n=0;n < q.compressionAlgorithms.length;++n){if(h == q.compressionAlgorithms[n])return !0;}return !1;});v=h.languages.filter(function(h){for(var n=0;n < q.languages.length;++n){if(h == q.languages[n])return !0;}return !1;});return new lc(n,v);};lc=la.Class.create({init:function(h,q){h || (h=[]);q || (q=[]);h.sort();Object.defineProperties(this,{compressionAlgorithms:{value:h,writable:!1,enumerable:!0,configurable:!1},languages:{value:q,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var h;h={};h.compressionalgos=this.compressionAlgorithms;h.languages=this.languages;return h;},equals:function(h){return this === h?!0:h instanceof lc?sd(this.compressionAlgorithms,h.compressionAlgorithms) && sd(this.languages,h.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});ae=function(q){var n,u,H;n=q.compressionalgos;u=q.languages;if(n && !(n instanceof Array) || u && !(u instanceof Array))throw new ja(h.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(q));q=[];for(var z=0;n && z < n.length;++z){H=n[z];Qb[H] && q.push(H);}return new lc(q,u);};})();(function(){var ra,Q;function q(h,q,n,w,v){this.customer=h;this.sender=q;this.messageCryptoContext=n;this.headerdata=w;this.signature=v;}function v(h,q,n,w,v,F,u,y,z,H,ca,G,Q,ma,na,f,b,a,c,l){return {cryptoContext:{value:q,writable:!1,configurable:!1},customer:{value:n,writable:!1,configurable:!1},entityAuthenticationData:{value:w,writable:!1,configurable:!1},masterToken:{value:v,writable:!1,configurable:!1},sender:{value:F,writable:!1,configurable:!1},messageId:{value:u,writable:!1,configurable:!1},nonReplayableId:{value:f,writable:!1,configurable:!1},keyRequestData:{value:y,writable:!1,configurable:!1},keyResponseData:{value:z,writable:!1,configurable:!1},userAuthenticationData:{value:H,writable:!1,configurable:!1},userIdToken:{value:ca,writable:!1,configurable:!1},serviceTokens:{value:G,writable:!1,configurable:!1},peerMasterToken:{value:Q,writable:!1,configurable:!1},peerUserIdToken:{value:ma,writable:!1,configurable:!1},peerServiceTokens:{value:na,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}};}function u(q,n,w){var v;if(w){if(n=q.getMslStore().getCryptoContext(w))return n;if(!w.isVerified() || !w.isDecrypted())throw new Sb(h.MASTERTOKEN_UNTRUSTED,w);return new kb(q,w);}w=n.scheme;v=q.getEntityAuthenticationFactory(w);if(!v)throw new zb(h.ENTITYAUTH_FACTORY_NOT_FOUND,w);return v.getCryptoContext(q,n);}function z(q,w,v,F,u){n(u,function(){w.verify(v,F,{result:function(q){n(u,function(){if(!q)throw new M(h.MESSAGE_VERIFICATION_FAILED);w.decrypt(v,{result:function(h){n(u,function(){return Va(h,Na);});},error:function(h){u.error(h);}});});},error:function(h){u.error(h);}});});}function H(h,q,w){n(w,function(){if(q)Qd(h,q,w);else return null;});}function w(h,q,w,v){n(v,function(){if(q)Vb(h,q,w,v);else return null;});}function F(h,q,w,v){n(v,function(){if(w)ee(h,q,w,v);else return null;});}function na(q,w,v,F,u,y,z){var ca;function H(w,z,G){var ga,Q;if(z >= w.length){ga=[];for(Q in ca){ga.push(ca[Q]);}G.result(ga);}else {ga=w[z];if("object" !== typeof ga)throw new ja(h.JSON_PARSE_ERROR,"headerdata " + y);Gc(q,ga,v,F,u,{result:function(h){n(G,function(){ca[h.uniqueKey()]=h;H(w,z + 1,G);});},error:function(h){G.error(h);}});}}ca={};n(z,function(){if(w){if(!(w instanceof Array))throw new ja(h.JSON_PARSE_ERROR,"headerdata " + y);H(w,0,z);}else return [];});}function ca(q,w,v,F,u,y){function z(q,w,v){n(v,function(){var n;n=w.peermastertoken;if(n && "object" !== typeof n)throw new ja(h.JSON_PARSE_ERROR,"headerdata " + u);if(!n)return null;Ub(q,n,v);});}function H(q,w,v,F){n(F,function(){var n;n=w.peeruseridtoken;if(n && "object" !== typeof n)throw new ja(h.JSON_PARSE_ERROR,"headerdata " + u);if(!n)return null;Vb(q,n,v,F);});}n(y,function(){if(!q.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};z(q,w,{result:function(h){n(y,function(){var z;z=v?v.masterToken:h;H(q,w,z,{result:function(v){n(y,function(){na(q,w.peerservicetokens,z,v,F,u,{result:function(q){n(y,function(){return {peerMasterToken:h,peerUserIdToken:v,peerServiceTokens:q};});},error:function(h){n(y,function(){h instanceof B && (h.setEntity(z),h.setUser(v));throw h;});}});});},error:function(h){n(y,function(){h instanceof B && h.setEntity(z);throw h;});}});});},error:y.error});});}function Ha(q,w,v,F){var y;function u(h,w){n(F,function(){if(w >= h.length)return y;Pd(q,h[w],{result:function(q){n(F,function(){y.push(q);u(h,w + 1);});},error:function(h){F.error(h);}});});}y=[];n(F,function(){var q;q=w.keyrequestdata;if(!q)return y;if(!(q instanceof Array))throw new ja(h.JSON_PARSE_ERROR,"headerdata " + v);u(q,0);});}ra=ce=la.Class.create({init:function(h,q,n,w,v,F,u,y,z){Object.defineProperties(this,{messageId:{value:h,writable:!1,configurable:!1},nonReplayableId:{value:q,writable:!1,configurable:!1},renewable:{value:n,writable:!1,configurable:!1},capabilities:{value:w,writable:!1,configurable:!1},keyRequestData:{value:v,writable:!1,configurable:!1},keyResponseData:{value:F,writable:!1,configurable:!1},userAuthData:{value:u,writable:!1,configurable:!1},userIdToken:{value:y,writable:!1,configurable:!1},serviceTokens:{value:z,writable:!1,configurable:!1}});}});Q=de=la.Class.create({init:function(h,q,n){Object.defineProperties(this,{peerMasterToken:{value:h,writable:!1,configurable:!1},peerUserIdToken:{value:q,writable:!1,configurable:!1},peerServiceTokens:{value:n,writable:!1,configurable:!1}});}});mc=la.Class.create({init:function(h,q,w,F,y,z,H){var G;function ca(ga){n(H,function(){var ca,Q,S,na,U,f,b,a,c,l,k,r,g,p,d,m,t;q=w?null:q;ca=F.nonReplayableId;Q=F.renewable;S=F.capabilities;na=F.messageId;U=F.keyRequestData?F.keyRequestData:[];f=F.keyResponseData;b=F.userAuthData;a=F.userIdToken;c=F.serviceTokens?F.serviceTokens:[];h.isPeerToPeer()?(l=y.peerMasterToken,k=y.peerUserIdToken,r=y.peerServiceTokens?y.peerServiceTokens:[]):(k=l=null,r=[]);if(0 > na || na > Oa)throw new da("Message ID " + na + " is out of range.");if(!q && !w)throw new da("Message entity authentication data or master token must be provided.");f?h.isPeerToPeer()?(g=w,p=f.masterToken):(g=f.masterToken,p=l):(g=w,p=l);if(a && (!g || !a.isBoundTo(g)))throw new da("User ID token must be bound to a master token.");if(k && (!p || !k.isBoundTo(p)))throw new da("Peer user ID token must be bound to a peer master token.");c.forEach(function(b){if(b.isMasterTokenBound() && (!g || !b.isBoundTo(g)))throw new da("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!a || !b.isBoundTo(a)))throw new da("User ID token bound service tokens must be bound to the provided user ID token.");},this);r.forEach(function(a){if(a.isMasterTokenBound() && (!p || !a.isBoundTo(p)))throw new da("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound() && (!k || !a.isBoundTo(k)))throw new da("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(z){d=z.customer;m=z.messageCryptoContext;t=v(h,m,d,q,w,ga,na,U,f,b,a,c,l,k,r,ca,Q,S,z.headerdata,z.signature);Object.defineProperties(this,t);return this;}d=a?a.customer:null;t={};ga && (t.sender=ga);t.messageid=na;"number" === typeof ca && (t.nonreplayableid=ca);t.renewable=Q;S && (t.capabilities=S);0 < U.length && (t.keyrequestdata=U);f && (t.keyresponsedata=f);b && (t.userauthdata=b);a && (t.useridtoken=a);0 < c.length && (t.servicetokens=c);l && (t.peermastertoken=l);k && (t.peeruseridtoken=k);0 < r.length && (t.peerservicetokens=r);try{m=u(h,q,w);}catch(x){throw (x instanceof B && (x.setEntity(w),x.setEntity(q),x.setUser(a),x.setUser(b),x.setMessageId(na)),x);}t=Ta(JSON.stringify(t),Na);m.encrypt(t,{result:function(g){n(H,function(){m.sign(g,{result:function(p){n(H,function(){var t;t=v(h,m,d,q,w,ga,na,U,f,b,a,c,l,k,r,ca,Q,S,g,p);Object.defineProperties(this,t);return this;},G);},error:function(d){n(H,function(){d instanceof B && (d.setEntity(w),d.setEntity(q),d.setUser(a),d.setUser(b),d.setMessageId(na));throw d;},G);}});},G);},error:function(d){n(H,function(){d instanceof B && (d.setEntity(w),d.setEntity(q),d.setUser(a),d.setUser(b),d.setMessageId(na));throw d;},G);}});},G);}G=this;n(H,function(){z?ca(z.sender):w?h.getEntityAuthenticationData(null,{result:function(h){h=h.getIdentity();ca(h);},error:H.error}):ca(null);},G);},isEncrypting:function(){return this.masterToken || Pc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var h;h={};this.masterToken?h[Wd]=this.masterToken:h[id]=this.entityAuthenticationData;h[Xd]=ta(this.headerdata);h[jd]=ta(this.signature);return h;}});be=function(h,q,n,w,v,F){new mc(h,q,n,w,v,null,F);};kd=function(v,y,G,wa,S,xa,ya){n(ya,function(){var U,X;G=wa?null:G;if(!G && !wa)throw new Fa(h.MESSAGE_ENTITY_NOT_FOUND);U=y;try{y=ua(U);}catch(ga){throw new Fa(h.HEADER_DATA_INVALID,U,ga);}if(!y || 0 == y.length)throw new Fa(h.HEADER_DATA_MISSING,U);try{X=u(v,G,wa);}catch(ga){throw (ga instanceof B && (ga.setEntity(wa),ga.setEntity(G)),ga);}z(v,X,y,S,{result:function(u){n(ya,function(){var z,ga,U,ma,pa;try{z=JSON.parse(u);}catch(f){if(f instanceof SyntaxError)throw new ja(h.JSON_PARSE_ERROR,"headerdata " + u,f).setEntity(wa).setEntity(G);throw f;}ga=parseInt(z.messageid);if(!ga || ga != ga)throw new ja(h.JSON_PARSE_ERROR,"headerdata " + u).setEntity(wa).setEntity(G);if(0 > ga || ga > Oa)throw new Fa(h.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + u).setEntity(wa).setEntity(G);U=wa?z.sender:null;if(wa && (!U || "string" !== typeof U))throw new ja(h.JSON_PARSE_ERROR,"headerdata " + u).setEntity(wa).setEntity(G).setMessageId(ga);ma=z.keyresponsedata;if(ma && "object" !== typeof ma)throw new ja(h.JSON_PARSE_ERROR,"headerdata " + u).setEntity(wa).setEntity(G).setMessageId(ga);pa=ya;ya={result:function(f){pa.result(f);},error:function(f){f instanceof B && (f.setEntity(wa),f.setEntity(G),f.setMessageId(ga));pa.error(f);}};H(v,ma,{result:function(f){n(ya,function(){var b,a;b=!v.isPeerToPeer() && f?f.masterToken:wa;a=z.useridtoken;if(a && "object" !== typeof a)throw new ja(h.JSON_PARSE_ERROR,"headerdata " + u);w(v,a,b,{result:function(a){n(ya,function(){var l;l=z.userauthdata;if(l && "object" !== typeof l)throw new ja(h.JSON_PARSE_ERROR,"headerdata " + u);F(v,b,l,{result:function(l){n(ya,function(){var c,g,p;if(l){g=l.scheme;p=v.getUserAuthenticationFactory(g);if(!p)throw new Ca(h.USERAUTH_FACTORY_NOT_FOUND,g).setUser(a).setUser(l);g=wa?wa.identity:G.getIdentity();c=p.authenticate(v,g,l,a);}else c=a?a.customer:null;na(v,z.servicetokens,b,a,xa,u,{result:function(b){n(ya,function(){var d,g,p,k;d=z.nonreplayableid !== fa?parseInt(z.nonreplayableid):null;g=z.renewable;if(d != d || "boolean" !== typeof g)throw new ja(h.JSON_PARSE_ERROR,"headerdata " + u);if(0 > d || d > Oa)throw new Fa(h.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + u);p=null;k=z.capabilities;if(k){if("object" !== typeof k)throw new ja(h.JSON_PARSE_ERROR,"headerdata " + u);p=ae(k);}Ha(v,z,u,{result:function(m){ca(v,z,f,xa,u,{result:function(t){n(ya,function(){var k,r,x,A;k=t.peerMasterToken;r=t.peerUserIdToken;x=t.peerServiceTokens;A=new ra(ga,d,g,p,m,f,l,a,b);k=new Q(k,r,x);r=new q(c,U,X,y,S);new mc(v,G,wa,A,k,r,ya);});},error:ya.error});},error:function(b){n(ya,function(){b instanceof B && (b.setUser(a),b.setUser(l));throw b;});}});});},error:function(d){n(ya,function(){d instanceof B && (d.setEntity(b),d.setUser(a),d.setUser(l));throw d;});}});});},error:ya.error});});},error:ya.error});});},error:ya.error});});},error:ya.error});});};})();(function(){function q(h,q){this.payload=h;this.signature=q;}md=la.Class.create({init:function(h,q,u,H,w,F,G,ca){var v;v=this;n(ca,function(){var y,z;if(0 > h || h > Oa)throw new da("Sequence number " + h + " is outside the valid range.");if(0 > q || q > Oa)throw new da("Message ID " + q + " is outside the valid range.");if(G)return (Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:q,writable:!1,configurable:!1},compressionAlgo:{value:H,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},endofmsg:{value:u,writable:!1,enumerable:!1,configurable:!1},payload:{value:G.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:G.signature,writable:!1,enumerable:!1,configurable:!1}}),this);H?(y=nd(H,w),y || (H=null,y=w)):(H=null,y=w);z={};z.sequencenumber=h;z.messageid=q;u && (z.endofmsg=u);H && (z.compressionalgo=H);z.data=ta(y);y=Ta(JSON.stringify(z),Na);F.encrypt(y,{result:function(y){n(ca,function(){F.sign(y,{result:function(F){n(ca,function(){Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:q,writable:!1,configurable:!1},compressionAlgo:{value:H,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},endofmsg:{value:u,writable:!1,enumerable:!1,configurable:!1},payload:{value:y,writable:!1,enumerable:!1,configurable:!1},signature:{value:F,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(h){ca.error(h);}});},v);},error:function(h){ca.error(h);}});},v);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var h;h={};h.payload=ta(this.payload);h.signature=ta(this.signature);return h;}});fe=function(h,q,n,u,w,F,G){new md(h,q,n,u,w,F,null,G);};ge=function(v,u,z){n(z,function(){var y,w,F,G;y=v.payload;w=v.signature;if(!y || "string" !== typeof y || "string" !== typeof w)throw new ja(h.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(v));try{F=ua(y);}catch(ca){throw new Fa(h.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(v),ca);}try{G=ua(w);}catch(ca){throw new Fa(h.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(v),ca);}u.verify(F,G,{result:function(w){n(z,function(){if(!w)throw new M(h.PAYLOAD_VERIFICATION_FAILED);u.decrypt(F,{result:function(w){n(z,function(){var n,v,y,H,ca,na,S;n=Va(w,Na);try{v=JSON.parse(n);}catch(xa){if(xa instanceof SyntaxError)throw new ja(h.JSON_PARSE_ERROR,"payload chunk payload " + n,xa);throw xa;}y=parseInt(v.sequencenumber);H=parseInt(v.messageid);ca=v.endofmsg;na=v.compressionalgo;v=v.data;if(!y || y != y || !H || H != H || ca && "boolean" !== typeof ca || na && "string" !== typeof na || "string" !== typeof v)throw new ja(h.JSON_PARSE_ERROR,"payload chunk payload " + n);if(0 > y || y > Oa)throw new B(h.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + n);if(0 > H || H > Oa)throw new B(h.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + n);ca || (ca=!1);if(na && !Qb[na])throw new Fa(h.UNIDENTIFIED_COMPRESSION,na);try{S=ua(v);}catch(xa){throw new Fa(h.PAYLOAD_DATA_CORRUPT,v,xa);}if(S && 0 != S.length)n=na?Hc(na,S):S;else {if(0 < v.length)throw new Fa(h.PAYLOAD_DATA_CORRUPT,v);if(ca)n=new Uint8Array(0);else throw new Fa(h.PAYLOAD_DATA_MISSING,v);}S=new q(F,G);new md(y,H,ca,na,n,u,S,z);});},error:function(h){z.error(h);}});});},error:function(h){z.error(h);}});});};})();(function(){var z,H;function q(q,v,u,y,z){var F,H,G,ca,na;function w(){n(z,function(){var u,y;H >= v.length && (H=0,++F);if(F >= G.length){if(ca)throw ca;throw new Ra(h.KEYX_FACTORY_NOT_FOUND,JSON.stringify(v));}u=G[F];y=v[H];u.scheme != y.keyExchangeScheme?(++H,w()):u.generateResponse(q,y,na,{result:function(h){z.result(h);},error:function(h){n(z,function(){if(!(h instanceof B))throw h;ca=h;++H;w();});}});});}F=0;H=0;G=q.getKeyExchangeFactories();na=u?u:y;w();}function v(h,v,u,y,z){n(z,function(){var w;w=v.keyRequestData;if(v.isRenewable() && 0 < w.length)y?y.isRenewable() || y.isExpired()?q(h,w,y,null,z):h.getTokenFactory().isNewestMasterToken(h,y,{result:function(v){n(z,function(){if(v)return null;q(h,w,y,null,z);});},error:z.error}):q(h,w,null,u.getIdentity(),z);else return null;});}function u(q,v,u,y){n(y,function(){var n,w,F,z;n=v.userIdToken;w=v.userAuthenticationData;F=v.messageId;if(n && n.isVerified()){if(n.isRenewable() && v.isRenewable() || n.isExpired() || !n.isBoundTo(u)){w=q.getTokenFactory();w.renewUserIdToken(q,n,u,y);return;}}else if(v.isRenewable() && u && w){n=v.customer;if(!n){n=w.scheme;z=q.getUserAuthenticationFactory(n);if(!z)throw new Ca(h.USERAUTH_FACTORY_NOT_FOUND,n).setEntity(u).setUser(w).setMessageId(F);n=z.authenticate(q,u.identity,w,null);}w=q.getTokenFactory();w.createUserIdToken(q,n,u,y);return;}return n;});}z=new Uint8Array(0);H=Wb=function(h){if(0 > h || h > Oa)throw new da("Message ID " + h + " is outside the valid range.");return h == Oa?0:h + 1;};ec=function(h){if(0 > h || h > Oa)throw new da("Message ID " + h + " is outside the valid range.");return 0 == h?Oa:h - 1;};Xb=function(h,q,v,u,y){n(y,function(){var w;if(u == fa || null == u){w=h.getRandom();do {u=w.nextLong();}while(0 > u || u > Oa);}else if(0 > u || u > Oa)throw new da("Message ID " + u + " is outside the valid range.");h.getEntityAuthenticationData(null,{result:function(w){n(y,function(){var n;n=h.getMessageCapabilities();return new Ic(h,u,n,w,q,v,null,null,null,null,null);});},error:function(h){y.error(h);}});});};he=function(h,q,y){n(y,function(){var F,z,G,na,U,X;function w(h){n(y,function(){h instanceof B && (h.setEntity(F),h.setEntity(z),h.setUser(G),h.setUser(na),h.setMessageId(U));throw h;});}F=q.masterToken;z=q.entityAuthenticationData;G=q.userIdToken;na=q.userAuthenticationData;U=q.messageId;X=H(U);v(h,q,z,F,{result:function(v){n(y,function(){var z;z=v?v.keyResponseData.masterToken:z=F;h.getEntityAuthenticationData(null,{result:function(H){n(y,function(){u(h,q,z,{result:function(w){n(y,function(){var n,u,y;G=w;n=ld(q.messageCapabilities,h.getMessageCapabilities());u=q.keyResponseData;y=q.serviceTokens;return h.isPeerToPeer()?new Ic(h,X,n,H,u?u.masterToken:q.peerMasterToken,q.peerUserIdToken,q.peerServiceTokens,F,G,y,v):new Ic(h,X,n,H,u?u.masterToken:F,G,y,null,null,null,v);});},error:w});});},error:w});});},error:w});});};ie=function(h,q,v,u,y){n(y,function(){h.getEntityAuthenticationData(null,{result:function(w){n(y,function(){var n,F;if(q != fa && null != q)n=H(q);else {F=h.getRandom();do {n=F.nextInt();}while(0 > n || n > Oa);}$d(h,w,n,v.responseCode,v.internalCode,v.message,u,y);});},error:function(h){y.error(h);}});});};Ic=la.Class.create({init:function(h,q,n,v,u,y,z,H,G,B,wa){var w,F,ca,na,Q;if(!h.isPeerToPeer() && (H || G))throw new da("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");w=wa && !h.isPeerToPeer()?wa.keyResponseData.masterToken:u;F=[];w=h.getMslStore().getServiceTokens(w,y);F.push.apply(F,w);z && z.forEach(function(h){F.push(h);},this);Q=[];h.isPeerToPeer() && (ca=H,na=G,z=wa?wa.keyResponseData.masterToken:H,G=h.getMslStore().getServiceTokens(z,G),Q.push.apply(Q,G),B && B.forEach(function(h){Q.push(h);},this));Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:v,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:u,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:q,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:wa,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:y,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:ca,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:na,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Q,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Pc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Pc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || td(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || td(this._entityAuthData.scheme);},getHeader:function(q){n(q,function(){var n,w,v;n=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;w=[];for(v in this._keyRequestData){w.push(this._keyRequestData[v]);}if(this._nonReplayable){if(!this._masterToken)throw new Fa(h.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);v=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else v=null;n=new ce(this._messageId,v,this._renewable,this._capabilities,w,n,this._userAuthData,this._userIdToken,this._serviceTokens);w=new de(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);be(this._ctx,this._entityAuthData,this._masterToken,n,w,q);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(h){this._nonReplayable=h;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(h){this._renewable=h;return this;},setAuthTokens:function(h,q){var n,v;if(q && !q.isBoundTo(h))throw new da("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new da("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{n=this._ctx.getMslStore().getServiceTokens(h,q);}catch(ra){if(ra instanceof B)throw new da("Invalid master token and user ID token combination despite checking above.",ra);throw ra;}for(var w=this._serviceTokens.length - 1;0 <= w;--w){v=this._serviceTokens[w];(v.isUserIdTokenBound() && !v.isBoundTo(q) || v.isMasterTokenBound() && !v.isBoundTo(h)) && this._serviceTokens.splice(w,1);}n.forEach(function(h){this.excludeServiceToken(h.name,h.isMasterTokenBound(),h.isUserIdTokenBound());this._serviceTokens.push(h);},this);this._masterToken=h;this._userIdToken=q;},setUserAuthenticationData:function(h){this._userAuthData=h;return this;},setCustomer:function(h,q){var w;w=this;n(q,function(){var v;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new da("User ID token or peer user ID token already exists for the remote user.");v=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!v)throw new da("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,h,v,{result:function(h){n(q,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=h:(this._userIdToken=h,this._userAuthData=null);return !0;},w);},error:function(h){q.error(h);}});},w);},addKeyRequestData:function(h){this._keyRequestData[h.uniqueKey()]=h;return this;},removeKeyRequestData:function(h){delete this._keyRequestData[h.uniqueKey()];return this;},addServiceToken:function(q){var n;n=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(q.isMasterTokenBound() && !q.isBoundTo(n))throw new Fa(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(q) + "; mt " + JSON.stringify(n)).setEntity(n);if(q.isUserIdTokenBound() && !q.isBoundTo(this._userIdToken))throw new Fa(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(q) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(n).setUser(this._userIdToken);this.excludeServiceToken(q.name,q.isMasterTokenBound(),q.isUserIdTokenBound());this._serviceTokens.push(q);return this;},addServiceTokenIfAbsent:function(h){var n;for(var q=this._serviceTokens.length - 1;0 <= q;--q){n=this._serviceTokens[q];if(n.name == h.name && n.isMasterTokenBound() == h.isMasterTokenBound() && n.isUserIdTokenBound() == h.isUserIdTokenBound())return this;}this.addServiceToken(h);return this;},excludeServiceToken:function(){var h,q,n,u;1 == arguments.length?(n=arguments[0],h=n.name,q=n.isMasterTokenBound(),n=n.isUserIdTokenBound()):(arguments.length=3,h=arguments[0],q=arguments[1],n=arguments[2]);for(var v=this._serviceTokens.length - 1;0 <= v;--v){u=this._serviceTokens[v];u.name == h && u.isMasterTokenBound() == q && u.isUserIdTokenBound() == n && this._serviceTokens.splice(v,1);}return this;},deleteServiceToken:function(){var h,q,v,u;if(2 == arguments.length){v=arguments[0];h=v.name;v.isMasterTokenBound();v.isUserIdTokenBound();q=arguments[1];}else (arguments.length=4,h=arguments[0],q=arguments[3]);u=this;n(q,function(){var w,v;w=originalToken.isMasterTokenBound()?this._masterToken:null;v=originalToken.isUserIdTokenBound()?this._userIdToken:null;Fb(this._ctx,h,z,w,v,!1,null,new dc(),{result:function(h){n(q,function(){return this.addServiceToken(h);},u);},error:function(h){h instanceof B && (h=new da("Failed to create and add empty service token to message.",h));q.error(h);}});},u);},getServiceTokens:function(){var h;h=[];h.push.apply(h,this._serviceTokens);return h;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(q,n){var w,u;if(!this._ctx.isPeerToPeer())throw new da("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(n && !q)throw new da("Peer master token cannot be null when setting peer user ID token.");if(n && !n.isBoundTo(q))throw new Fa(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + n + "; mt " + q).setEntity(q).setUser(n);try{w=this._ctx.getMslStore().getServiceTokens(q,n);}catch(ra){if(ra instanceof B)throw new da("Invalid peer master token and user ID token combination despite proper check.",ra);throw ra;}for(var v=this._peerServiceTokens.length - 1;0 <= v;--v){u=this._peerServiceTokens[v];(u.isUserIdTokenBound() && !u.isBoundTo(n) || u.isMasterTokenBound() && !u.isBoundTo(q)) && this._peerServiceTokens.slice(v,1);}w.forEach(function(h){this.excludePeerServiceToken(h.name,h.isMasterTokenBound(),h.isUserIdTokenBound());this._peerServiceTokens.push(h);},this);this._peerUserIdToken=n;this._peerMasterToken=q;return this;},addPeerServiceToken:function(q){if(!this._ctx.isPeerToPeer())throw new da("Cannot set peer service tokens when not in peer-to-peer mode.");if(q.isMasterTokenBound() && !q.isBoundTo(this._peerMasterToken))throw new Fa(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(q) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(q.isUserIdTokenBound() && !q.isBoundTo(this._peerUserIdToken))throw new Fa(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(q) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(q.name,q.isMasterTokenBound(),q.isUserIdTokenBound());this._peerServiceTokens.push(q);return this;},addPeerServiceTokenIfAbsent:function(h){var n;for(var q=this._peerServiceTokens.length - 1;0 <= q;--q){n=this._peerServiceTokens[q];if(n.name == h.name && n.isMasterTokenBound() == h.isMasterTokenBound() && n.isUserIdTokenBound() == h.isUserIdTokenBound())return this;}this.addPeerServiceToken(h);return this;},excludePeerServiceToken:function(){var h,q,n,u;1 == arguments.length?(n=arguments[0],h=n.name,q=n.isMasterTokenBound(),n=n.isUserIdTokenBound()):(arguments.length=3,h=arguments[0],q=arguments[1],n=arguments[2]);for(var v=this._peerServiceTokens.length - 1;0 <= v;--v){u=this._peerServiceTokens[v];u.name == h && u.isMasterTokenBound() == q && u.isUserIdTokenBound() == n && this._peerServiceTokens.splice(v,1);}return this;},deletePeerServiceToken:function(){var h,q,v,u,y,H;if(2 == arguments.length){y=arguments[0];h=y.name;q=y.isMasterTokenBound();v=y.isUserIdTokenBound();u=arguments[1];}else (arguments.length=4,h=arguments[0],q=arguments[1],v=arguments[2],u=arguments[3]);H=this;n(u,function(){Fb(this._ctx,h,z,q?this._peerMasterToken:null,v?this._peerUserIdToken:null,!1,null,new dc(),{result:function(h){n(u,function(){return this.addPeerServiceToken(h);},H);},error:function(h){h instanceof B && (h=new da("Failed to create and add empty peer service token to message.",h));u.error(h);}});},H);},getPeerServiceTokens:function(){var h;h=[];h.push.apply(h,this._peerServiceTokens);return h;}});})();(function(){function h(h,q){return q[h]?q[h]:q[""];}function q(h){var q;q=h.builder.getKeyExchangeData();return q && !h.ctx.isPeerToPeer()?q.keyResponseData.masterToken:h.builder.getMasterToken();}je=la.Class.create({init:function(h,q,n){h={ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:q.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:n,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},isPrimaryMasterTokenAvailable:function(){return q(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(h){try{return (this.builder.addServiceToken(h),!0);}catch(z){if(z instanceof Fa)return !1;throw z;}},addPeerServiceToken:function(h){try{return (this.builder.addPeerServiceToken(h),!0);}catch(z){if(z instanceof Fa)return !1;throw z;}},addUnboundPrimaryServiceToken:function(q,v,u,w,F){var y;y=this;n(F,function(){var z;z=h(q,this.cryptoContexts);if(!z)return !1;Fb(this.ctx,q,v,null,null,u,w,z,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(ra){if(ra instanceof Fa)throw new da("Service token bound to incorrect authentication tokens despite being unbound.",ra);throw ra;}return !0;},y);},error:function(h){F.error(h);}});},y);},addUnboundPeerServiceToken:function(q,v,u,w,F){var y;y=this;n(F,function(){var z;z=h(q,this.cryptoContexts);if(!z)return !1;Fb(this.ctx,q,v,null,null,u,w,z,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(ra){if(ra instanceof Fa)throw new da("Service token bound to incorrect authentication tokens despite being unbound.",ra);throw ra;}return !0;},y);},error:function(h){F.error(h);}});},y);},addMasterBoundPrimaryServiceToken:function(v,u,H,w,F){var y;y=this;n(F,function(){var z,G;z=q(this);if(!z)return !1;G=h(v,this.cryptoContexts);if(!G)return !1;Fb(this.ctx,v,u,z,null,H,w,G,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(Q){if(Q instanceof Fa)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token.",Q);throw Q;}return !0;},y);},error:function(h){F.error(h);}});},y);},addMasterBoundPeerServiceToken:function(q,v,u,w,F){var y;y=this;n(F,function(){var z,H;z=this.builder.getPeerMasterToken();if(!z)return !1;H=h(q,this.cryptoContexts);if(!H)return !1;Fb(this.ctx,q,v,z,null,u,w,H,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(Q){if(Q instanceof Fa)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token.",Q);throw Q;}return !0;},y);},error:function(h){F.error(h);}});},y);},addUserBoundPrimaryServiceToken:function(v,u,H,w,F){var y;y=this;n(F,function(){var z,G,B;z=q(this);if(!z)return !1;G=this.builder.getUserIdToken();if(!G)return !1;B=h(v,this.cryptoContexts);if(!B)return !1;Fb(this.ctx,v,u,z,G,H,w,B,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(pa){if(pa instanceof Fa)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",pa);throw pa;}return !0;},y);},error:function(h){F.error(h);}});},y);},addUserBoundPeerServiceToken:function(q,v,u,w,F){var y;y=this;n(F,function(){var z,H,G;z=this.builder.getPeerMasterToken();if(!z)return !1;H=this.builder.getPeerUserIdToken();if(!H)return !1;G=h(q,this.cryptoContexts);if(!G)return !1;Fb(this.ctx,q,v,z,H,u,w,G,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(pa){if(pa instanceof Fa)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",pa);throw pa;}return !0;},y);},error:function(h){F.error(h);}});},y);},excludePrimaryServiceToken:function(){var h,q,n,v;if(1 == arguments.length){v=arguments[0];h=v.name;q=v.isMasterTokenBound();n=v.isUserIdTokenBound();}else (arguments.length=3,h=arguments[0],q=arguments[1],n=arguments[2]);for(var u=this.builder.getServiceTokens(),G=0;G < u.length;++G){if((v=u[G],v.name == h && v.isMasterTokenBound() == q && v.isUserIdTokenBound() == n))return (this.builder.excludeServiceToken(h,q,n),!0);}return !1;},excludePeerServiceToken:function(){var h,q,n,v;if(1 == arguments.length){v=arguments[0];h=v.name;q=v.isMasterTokenBound();n=v.isUserIdTokenBound();}else (arguments.length=3,h=arguments[0],q=arguments[1],n=arguments[2]);for(var u=this.builder.getPeerServiceTokens(),G=0;G < u.length;++G){if((v=u[G],v.name == h && v.isMasterTokenBound() == q && v.isUserIdTokenBound() == n))return (this.builder.excludePeerServiceToken(h,q,n),!0);}return !1;},deletePrimaryServiceToken:function(){var h,q,v,w,u;if(2 == arguments.length){u=arguments[0];h=u.name;q=u.isMasterTokenBound();v=u.isUserIdTokenBound();w=arguments[1];}else 4 == arguments.length && (h=arguments[0],q=arguments[1],v=arguments[2],w=arguments[3]);n(w,function(){var y;for(var n=this.builder.getServiceTokens(),u=0;u < n.length;++u){y=n[u];if(y.name == h && y.isMasterTokenBound() == q && y.isUserIdTokenBound() == v){this.builder.deleteServiceToken(h,q,v,{result:function(){w.result(!0);},error:function(h){w.error(h);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var h,q,v,w,u;if(2 == arguments.length){u=arguments[0];h=u.name;q=u.isMasterTokenBound();v=u.isUserIdTokenBound();w=arguments[1];}else 4 == arguments.length && (h=arguments[0],q=arguments[1],v=arguments[2],w=arguments[3]);n(w,function(){var y;for(var n=this.builder.getPeerServiceTokens(),u=0;u < n.length;++u){y=n[u];if(y.name == h && y.isMasterTokenBound() == q && y.isUserIdTokenBound() == v){this.builder.deletePeerServiceToken(h,q,v,{result:function(){w.result(!0);},error:function(h){w.error(h);}});return;}}return !1;},this);}});})();(function(){function q(q,u,z,H){n(H,function(){var y,G,ca,Ha,ra,Q;function v(){n(H,function(){var w;if(Q >= z.length){if(ra)throw ra;throw new Ra(h.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(z));}w=z[Q];ca != w.keyExchangeScheme?(++Q,v()):Ha.getCryptoContext(q,w,G,y,{result:H.result,error:function(h){n(H,function(){if(!(h instanceof B))throw h;ra=h;++Q;v();});}});});}y=u.masterToken;G=u.keyResponseData;if(!G)return null;ca=G.keyExchangeScheme;Ha=q.getKeyExchangeFactory(ca);if(!Ha)throw new Ra(h.KEYX_FACTORY_NOT_FOUND,ca);Q=0;v();});}ke=ed.extend({init:function(n,y,z,H,w,F,G){var v;v=this;u(G,function(){var X;function u(){v._ready=!0;v._readyQueue.add(!0);}function G(h,q){var n;try{n=q.masterToken;h.getTokenFactory().isMasterTokenRevoked(h,n,{result:function(w){w?(v._errored=new Sb(w,n).setUser(q.userIdToken).setUser(q.userAuthenticationData).setMessageId(q.messageId),u()):Q(h,q);},error:function(h){h instanceof B && (h.setEntity(q.masterToken),h.setUser(q.userIdToken),h.setUser(q.userAuthenticationData),h.setMessageId(q.messageId));v._errored=h;u();}});}catch(ya){ya instanceof B && (ya.setEntity(q.masterToken),ya.setUser(q.userIdToken),ya.setUser(q.userAuthenticationData),ya.setMessageId(q.messageId));v._errored=ya;u();}}function Q(h,q){var n,w;try{n=q.masterToken;w=q.userIdToken;w?h.getTokenFactory().isUserIdTokenRevoked(h,n,w,{result:function(y){y?(v._errored=new MslUserIdTokenException(y,w).setEntity(n).setUser(w).setMessageId(q.messageId),u()):ca(h,q);},error:function(h){h instanceof B && (h.setEntity(q.masterToken),h.setUser(q.userIdToken),h.setUser(q.userAuthenticationData),h.setMessageId(q.messageId));v._errored=h;u();}}):ca(h,q);}catch(Ka){Ka instanceof B && (Ka.setEntity(q.masterToken),Ka.setUser(q.userIdToken),Ka.setUser(q.userAuthenticationData),Ka.setMessageId(q.messageId));v._errored=Ka;u();}}function ca(q,n){var w;try{w=n.masterToken;w.isExpired()?n.isRenewable() && 0 != n.keyRequestData.length?q.getTokenFactory().isMasterTokenRenewable(q,w,{result:function(h){h?(v._errored=new Fa(h,"Master token is expired and not renewable.").setEntity(w).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),u()):U(q,n);},error:function(h){h instanceof B && (h.setEntity(n.masterToken),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));v._errored=h;u();}}):(v._errored=new Fa(h.MESSAGE_EXPIRED,JSON.stringify(n)).setEntity(w).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),u()):U(q,n);}catch(ya){ya instanceof B && (ya.setEntity(n.masterToken),ya.setUser(n.userIdToken),ya.setUser(n.userAuthenticationData),ya.setMessageId(n.messageId));v._errored=ya;u();}}function U(q,n){var w,y;try{w=n.masterToken;y=n.nonReplayableId;"number" === typeof y?w?q.getTokenFactory().acceptNonReplayableId(q,w,y,{result:function(q){q || (v._errored=new Fa(h.MESSAGE_REPLAYED,JSON.stringify(n)).setEntity(w).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId));u();},error:function(h){h instanceof B && (h.setEntity(w),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));v._errored=h;u();}}):(v._errored=new Fa(h.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(n)).setEntity(n.entityAuthenticationData).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),u()):u();}catch(Ka){Ka instanceof B && (Ka.setEntity(n.masterToken),Ka.setEntity(n.entityAuthenticationData),Ka.setUser(n.userIdToken),Ka.setUser(n.userAuthenticationData),Ka.setMessageId(n.messageId));v._errored=Ka;u();}}X={_source:{value:y,writable:!1,enumerable:!1,configurable:!1},_parser:{value:fa,writable:!0,enumerable:!1,configurable:!1},_charset:{value:z,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:F,writable:!1,enumerable:!1,configurable:!1},_header:{value:fa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:fa,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:fa,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,X);Od(v._source,F,{result:function(y){v._json=y;v._jsonIndex=0;null === v._json?(v._errored=new ja(h.MESSAGE_DATA_MISSING),u()):Vd(n,v._json[v._jsonIndex++],w,{result:function(h){var w;v._header=h;if(v._header instanceof Ob)(v._keyxCryptoContext=null,v._cryptoContext=null,u());else {w=v._header;q(n,w,H,{result:function(h){var q;try{v._keyxCryptoContext=h;n.isPeerToPeer() || !v._keyxCryptoContext?v._cryptoContext=w.cryptoContext:v._cryptoContext=v._keyxCryptoContext;try{q=w.masterToken;q && (n.isPeerToPeer() || q.isVerified())?G(n,w):U(n,w);}catch(sa){sa instanceof B && (sa.setEntity(w.masterToken),sa.setUser(w.userIdToken),sa.setUser(w.userAuthenticationData),sa.setMessageId(w.messageId));v._errored=sa;u();}}catch(sa){sa instanceof B && (sa.setEntity(w.masterToken),sa.setEntity(w.entityAuthenticationData),sa.setUser(w.userIdToken),sa.setUser(w.userAuthenticationData),sa.setMessageId(w.messageId));v._errored=sa;u();}},error:function(h){h instanceof B && (h.setEntity(w.masterToken),h.setEntity(w.entityAuthenticationData),h.setUser(w.userIdToken),h.setUser(w.userAuthenticationData),h.setMessageId(w.messageId));v._errored=h;u();}});}},error:function(h){v._errored=h;u();}});},timeout:function(){v._timedout=!0;u();},error:function(h){v._errored=h;u();}});return this;},v);},nextData:function(q,n){var v;v=this;u(n,function(){var w;function q(h){u(h,function(){var n;if(this._jsonIndex < this._json.length)return n=this._json[this._jsonIndex++];Od(this._source,this._timeout,{result:function(n){n && n.length && 0 < n.length?(n.forEach(function(h){this._json.push(h);}),q(h)):(this._eom=!0,h.result(null));},timeout:function(){h.timeout();},error:function(q){h.error(q);}});},v);}w=this.getMessageHeader();if(!w)throw new da("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;q({result:function(q){u(n,function(){if(!q)return null;if("object" !== typeof q)throw new ja(h.MESSAGE_FORMAT_ERROR);ge(q,this._cryptoContext,{result:function(q){u(n,function(){var n,v,u,y;n=w.masterToken;v=w.entityAuthenticationData;u=w.userIdToken;y=w.getUserAuthenticationData;if(q.messageId != w.messageId)throw new Fa(h.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + q.messageId + " header mid " + w.messageId).setEntity(n).setEntity(v).setUser(u).setUser(y);if(q.sequenceNumber != this._payloadSequenceNumber)throw new Fa(h.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + q.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(n).setEntity(v).setUser(u).setUser(y);++this._payloadSequenceNumber;q.isEndOfMessage() && (this._eom=!0);n=q.data;this._payloads.push(n);this._payloadIndex=-1;return n;},v);},error:function(q){q instanceof SyntaxError && (q=new ja(h.JSON_PARSE_ERROR,"payloadchunk",q));n.error(q);}});},v);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},v);},isReady:function(h,q){var v;function n(){u(q,function(){if(this._aborted)return !1;if(this._timedout)q.timeout();else {if(this._errored)throw this._errored;return !0;}},v);}v=this;u(q,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){u(q,function(){if(h === fa)return !1;n();},v);},timeout:function(){q.timeout();},error:function(h){q.error(h);}});},v);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorHeader:function(){return this._header instanceof Ob?this._header:null;},getIdentity:function(){var h,q;h=this.getMessageHeader();if(h){q=h.masterToken;return q?q.identity:h.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var h;h=this.getMessageHeader();return h?h.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(h){this._closeSource=h;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(h,q,n){var w;function v(){u(n,function(){var y,z,G,H;function v(n){u(n,function(){var y,F,Q;if(z && H >= z.length)return z.subarray(0,H);y=-1;if(this._currentPayload){F=this._currentPayload.length - this._payloadOffset;if(!z){Q=F;if(-1 != this._payloadIndex)for(var ca=this._payloadIndex;ca < this._payloads.length;++ca){Q+=this._payloads[ca].length;}0 < Q && (z=new Uint8Array(Q));}F=Math.min(F,z?z.length - H:0);0 < F && (y=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + F),z.set(y,G),y=F,G+=F,this._payloadOffset+=F);}-1 != y?(H+=y,v(n)):this.nextData(q,{result:function(q){u(n,function(){if(this._aborted)return z?z.subarray(0,H):new Uint8Array(0);this._currentPayload=q;this._payloadOffset=0;if(this._currentPayload)v(n);else return 0 == H && 0 != h?null:z?z.subarray(0,H):new Uint8Array(0);},w);},timeout:function(){n.timeout(z?z.subarray(0,H):new Uint8Array(0));},error:function(h){u(n,function(){h instanceof B && (h=new Ya("Error reading the payload chunk.",h));if(0 < H)return (w._readException=h,z.subarray(0,H));throw h;},w);}});},w);}if(this._aborted)return new Uint8Array(0);if(this._timedout)n.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){y=this._readException;this._readException=null;throw y;}z=-1 != h?new Uint8Array(h):fa;G=0;H=0;v(n);}},w);}w=this;u(n,function(){if(-1 > h)throw new RangeError("read requested with illegal length " + h);this._ready?v():this._readyQueue.poll(q,{result:function(h){h === fa?n.result(!1):v();},timeout:function(){n.timeout(new Uint8Array(0));},error:function(h){n.error(h);}});},w);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});le=function(h,q,n,u,w,F,G){new ke(h,q,n,u,w,F,G);};})();(function(){me=Dc.extend({init:function(h,q,n,z,H,w,F){var v;v=this;u(F,function(){var y,F,G;function u(){v._ready=!0;v._readyQueue.add(!0);}y=ld(h.getMessageCapabilities(),z.messageCapabilities);F=null;y && (F=Cd(y.compressionAlgorithms));y={_destination:{value:q,writable:!1,enumerable:!1,configurable:!1},_charset:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:y,writable:!1,enumerable:!1,configurable:!1},_header:{value:z,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:F,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:H,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,y);G=Ta(JSON.stringify(z),n);q.write(G,0,G.length,w,{result:function(h){try{v._aborted?u():h < G.length?(v._timedout=!0,u()):q.flush(w,{result:function(h){v._aborted || (v._timedout=!h);u();},timeout:function(){v._timedout=!0;u();},error:function(h){v._errored=h;u();}});}catch(U){v._errored=U;u();}},timeout:function(){v._timedout=!0;u();},error:function(h){v._errored=h;u();}});return this;},v);},setCompressionAlgorithm:function(h,q,n){var y;function v(){y.flush(q,{result:function(q){u(n,function(){if(!q)throw new Ya("flush() aborted");this._compressionAlgo=h;return !0;},y);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});}y=this;u(n,function(){if(!this.getMessageHeader())throw new da("Cannot write payload data for an error message.");if(this._compressionAlgo == h)return !0;if(h){if(!this._capabilities)return !1;for(var q=this._capabilities.compressionAlgorithms,n=0;n < q.length;++n){if(q[n] == h){v();return;}}return !1;}v();},y);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorMessage:function(){return this._header instanceof Ob?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(h,q){var n;n=this;u(q,function(){if(this._aborted)return !1;if(this._timedout)q.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(h,{result:function(h){u(q,function(){h && (this._currentPayload=null);return h;},n);},timeout:function(){q.timeout();},error:function(h){q.error(h);}});}},n);},flush:function(h,q){var v;function n(){u(q,function(){var n,w,O;if(this._aborted)return !1;if(this._timedout)q.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;n=this.getMessageHeader();if(!n)return !0;w=0;this._currentPayload && this._currentPayload.forEach(function(h){w+=h.length;});for(var y=new Uint8Array(w),z=0,G=0;this._currentPayload && G < this._currentPayload.length;++G){O=this._currentPayload[G];y.set(O,z);z+=O.length;}fe(this._payloadSequenceNumber,n.messageId,this._closed,this._compressionAlgo,y,this._cryptoContext,{result:function(n){u(q,function(){var w;this._payloads.push(n);w=Ta(JSON.stringify(n),this._charset);this._destination.write(w,0,w.length,h,{result:function(w){u(q,function(){if(this._aborted)return !1;w < n.length?q.timeout():this._destination.flush(h,{result:function(h){u(q,function(){if(this._aborted)return !1;if(h)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);q.timeout();},v);},timeout:function(){q.timeout();},error:function(h){h instanceof B && (h=new Ya("Error encoding payload chunk [sequence number " + v._payloadSequenceNumber + "].",h));q.error(h);}});},v);},timeout:function(h){q.timeout();},error:function(h){h instanceof B && (h=new Ya("Error encoding payload chunk [sequence number " + v._payloadSequenceNumber + "].",h));q.error(h);}});},v);},error:function(h){h instanceof B && (h=new Ya("Error encoding payload chunk [sequence number " + v._payloadSequenceNumber + "].",h));q.error(h);}});}},v);}v=this;u(q,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){h === fa?q.result(!1):n();},timeout:function(){q.timeout();},error:function(h){q.error(h);}});},v);},write:function(h,q,n,z,H){u(H,function(){var v;if(this._aborted)return !1;if(this._timedout)H.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Ya("Message output stream already closed.");if(0 > q)throw new RangeError("Offset cannot be negative.");if(0 > n)throw new RangeError("Length cannot be negative.");if(q + n > h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new da("Cannot write payload data for an error message.");v=h.subarray(q,q + n);this._currentPayload.push(v);return v.length;}},this);}});Jc=function(h,q,n,u,H,w,F){new me(h,q,n,u,H,w,F);};})();Ue=la.Class.create({sentHeader:function(h){},receivedHeader:function(h){}});Object.freeze({USERDATA_REAUTH:q.USERDATA_REAUTH,SSOTOKEN_REJECTED:q.SSOTOKEN_REJECTED});ne=la.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(h,q,n,u){},getCustomer:function(){},getKeyRequestData:function(h){},updateServiceTokens:function(h,q,n){},write:function(h,q,n){},getDebugContext:function(){}});la.Class.create({getInputStream:function(h){},getOutputStream:function(h){}});(function(){var na,ca,O,ra,Q,pa,U,X,wa,S,xa,ya;function G(h){return function(){h.abort();};}function v(h,q){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},ticket:{value:q,writable:!1,configurable:!1}});}function y(h,q){Object.defineProperties(this,{builder:{value:h,writable:!1,configurable:!1},msgCtx:{value:q,writable:!1,configurable:!1}});}function z(h,q,n){Object.defineProperties(this,{requestHeader:{value:h,writable:!1,configurable:!1},payloads:{value:q,writable:!1,configurable:!1},handshake:{value:n,writable:!1,configurable:!1}});}function H(h,q){Object.defineProperties(this,{requestHeader:{value:q.requestHeader,writable:!1,configurable:!1},payloads:{value:q.payloads,writable:!1,configurable:!1},handshake:{value:q.handshake,writable:!1,configurable:!1},response:{value:h,writable:!1,configurable:!1}});}function w(h){for(;h;){if(h instanceof cb)return !0;h=h instanceof B?h.cause:fa;}return !1;}function F(h,q,n,v,w,y,z,F,f){ie(q,v,w,y,{result:function(b){n && n.sentHeader(b);Jc(q,z,Na,b,null,null,F,{result:function(a){h.setAbort(function(){a.abort();});a.close(F,{result:function(a){u(f,function(){if(!a)throw new cb("sendError aborted.");return a;});},timeout:function(){f.timeout();},error:function(a){f.error(a);}});},timeout:function(){},error:function(a){f.error(a);}});},error:function(b){f.error(b);}});}na=Dc.extend({close:function(h,q){q.result(!0);},write:function(h,q,v,w,u){n(u,function(){return Math.min(h.length - q,v);});},flush:function(h,q){q.result(!0);}});ca=Te.extend({getUserMessage:function(h,q){return null;}});O=ne.extend({init:function(h){Object.defineProperties(this,{_appCtx:{value:h,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(h,q,n,v){this._appCtx.getUserAuthData(h,q,n,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(h){this._appCtx.getKeyRequestData(h);},updateServiceTokens:function(h,q,n){this._appCtx.updateServiceTokens(h,q,n);},write:function(h,q,n){this._appCtx.write(h,q,n);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ra=O.extend({init:function sa(h,q){sa.base.call(this,q);Object.defineProperties(this,{_payloads:{value:h,writable:!1,enumerable:!1,configurable:!1}});},write:function(h,q,n){var w;function v(y,z){var f;if(y == w._payloads.length)n.result(!0);else {f=w._payloads[y];h.setCompressionAlgorithm(f.compressionAlgo,q,{result:function(b){h.write(f.data,0,f.data.length,q,{result:function(a){u(n,function(){f.isEndOfMessage()?v(y + 1,z):h.flush(q,{result:function(a){n.result(a);},timeout:function(){n.timeout();},error:function(a){n.error(a);}});},w);},timeout:function(a){n.timeout(a);},error:function(a){n.error(a);}});},timeout:function(){},error:function(b){n.error(b);}});}}w=this;v(0);}});Q=O.extend({init:function ga(h){ga.base.call(this,h);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(h,q,n){n.result(!0);}});pa={};xa=la.Class.create({init:function(h){h || (h=new ca());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:h,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(h){this._filterFactory=h;},getNewestMasterToken:function(h,q,n,w){var y;y=this;u(w,function(){var z,f,b,a,c;z=q.getMslStore();f=z.getMasterToken();if(!f)return null;b=f.uniqueKey();a=this._masterTokenLocks[b];a || (a=new Uc(),this._masterTokenLocks[b]=a);c=a.readLock(n,{result:function(l){u(w,function(){var c;if(l === fa)throw new cb("getNewestMasterToken aborted.");c=z.getMasterToken();if(f.equals(c))return new v(f,l);a.unlock(l);a.writeLock(n,{result:function(l){u(w,function(){if(l === fa)throw new cb("getNewestMasterToken aborted.");delete this._masterTokenLocks[b];a.unlock(l);return this.getNewestMasterToken(h,q,n,w);},y);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},y);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});h.setAbort(function(){c && (a.cancel(c),c=fa);});},y);},deleteMasterToken:function(h,q){var n;if(q){n=this;setTimeout(function(){var v,w;v=q.uniqueKey();w=n._masterTokenLocks[v];w || (w=new Uc(),n._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(u){h.getMslStore().removeCryptoContext(q);delete n._masterTokenLocks[v];w.unlock(u);},timeout:function(){throw new da("Unexpected timeout received.");},error:function(h){throw h;}});},0);}},releaseMasterToken:function(h){var q;if(h && h.masterToken){q=h.masterToken.uniqueKey();q=this._masterTokenLocks[q];if(!q)throw new da("Master token read/write lock does not exist when it should.");q.unlock(h.ticket);}},updateOutgoingCryptoContexts:function(h,q,n){var v;v=h.getMslStore();!h.isPeerToPeer() && n && (v.setCryptoContext(n.keyResponseData.masterToken,n.cryptoContext),this.deleteMasterToken(h,q.masterToken));},updateIncomingCryptoContexts:function(h,q,n){var v,w;v=n.getMessageHeader();if(v){w=h.getMslStore();if(v=v.keyResponseData)(w.setCryptoContext(v.masterToken,n.getKeyExchangeCryptoContext()),this.deleteMasterToken(h,q.masterToken));}},storeServiceTokens:function(h,q,n,v){var f,b;h=h.getMslStore();for(var w=[],u=0;u < v.length;++u){f=v[u];if(!f.isBoundTo(q) || !q.isVerified()){b=f.data;b && 0 == b.length?h.removeServiceTokens(f.name,f.isMasterTokenBound()?q:null,f.isUserIdTokenBound()?n:null):w.push(f);}}0 < w.length && h.addServiceTokens(w);},buildRequest:function(h,q,v,w,u){var y;y=this;this.getNewestMasterToken(h,q,w,{result:function(f){n(u,function(){var b,a,c;b=f && f.masterToken;if(b){a=v.getUserId();c=q.getMslStore();a=(a=a?c.getUserIdToken(a):null) && a.isBoundTo(b)?a:null;}else a=null;Xb(q,b,a,null,{result:function(a){n(u,function(){a.setNonReplayable(v.isNonReplayable());return {builder:a,tokenTicket:f};});},error:function(a){n(u,function(){this.releaseMasterToken(f);a instanceof B && (a=new da("User ID token not bound to master token despite internal check.",a));throw a;},y);}});},y);},timeout:function(){u.timeout();},error:function(f){u.error(f);}});},buildResponse:function(h,q,n,v,w,y){var f;f=this;he(q,v,{result:function(b){u(y,function(){b.setNonReplayable(n.isNonReplayable());if(!q.isPeerToPeer() && !v.keyResponseData)return {builder:b,tokenTicket:null};this.getNewestMasterToken(h,q,w,{result:function(a){u(y,function(){var c,l,k;c=a && a.masterToken;if(c){l=n.getUserId();k=q.getMslStore();l=(l=l?k.getUserIdToken(l):null) && l.isBoundTo(c)?l:null;}else l=null;b.setAuthTokens(c,l);return {builder:b,tokenTicket:a};},f);},timeout:function(){y.timeout();},error:function(a){y.error(a);}});},f);},error:function(b){y.error(b);}});},buildErrorResponse:function(h,n,v,w,z,F,f){var c;function b(a,b){u(f,function(){var l,g;l=Wb(z.messageId);g=new ra(b,v);Xb(n,null,null,l,{result:function(b){u(f,function(){n.isPeerToPeer() && b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(g.isNonReplayable());return {errorResult:new y(b,g),tokenTicket:null};},c);},error:function(a){f.error(a);}});},c);}function a(a,b){c.getNewestMasterToken(h,n,F,{result:function(l){u(f,function(){var g,p,d;g=l && l.masterToken;p=Wb(z.messageId);d=new ra(b,v);Xb(n,g,null,p,{result:function(b){u(f,function(){n.isPeerToPeer() && b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(d.isNonReplayable());return {errorResult:new y(b,d),tokenTicket:l};},c);},error:function(a){f.error(a);}});},c);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});}c=this;u(f,function(){var l,k,r,g;l=w.requestHeader;k=w.payloads;r=z.errorCode;switch(r){case q.ENTITYDATA_REAUTH:case q.ENTITY_REAUTH:n.getEntityAuthenticationData(r,{result:function(a){u(f,function(){if(!a)return null;b(l,k);},c);},error:function(a){f.error(a);}});break;case q.USERDATA_REAUTH:case q.SSOTOKEN_REJECTED:v.getUserAuthData(r,!1,!0,{result:function(b){u(f,function(){if(!b)return null;a(l,k);},c);},error:function(a){f.error(a);}});break;case q.USER_REAUTH:a(l,k);break;case q.KEYX_REQUIRED:(r=Wb(z.messageId),g=new ra(k,v));Xb(n,null,null,r,{result:function(a){u(f,function(){n.isPeerToPeer() && a.setPeerAuthTokens(l.peerMasterToken,l.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(g.isNonReplayable());return {errorResult:new y(a,g),tokenTicket:null};},c);},error:function(a){f.error(a);}});break;case q.EXPIRED:this.getNewestMasterToken(h,n,F,{result:function(a){u(f,function(){var b,g,p,r;b=a && a.masterToken;g=l.userIdToken;p=Wb(z.messageId);r=new ra(k,v);Xb(n,b,g,p,{result:function(d){u(f,function(){n.isPeerToPeer() && d.setPeerAuthTokens(l.peerMasterToken,l.peerUserIdToken);l.masterToken.equals(b) && d.setRenewable(!0);d.setNonReplayable(r.isNonReplayable());return {errorResult:new y(d,r),tokenTicket:a};},c);},error:function(a){f.error(a);}},c);},c);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});break;case q.REPLAYED:this.getNewestMasterToken(h,n,F,{result:function(a){u(f,function(){var b,g,p,r;b=a && a.masterToken;g=l.userIdToken;p=Wb(z.messageId);r=new ra(k,v);Xb(n,b,g,p,{result:function(d){u(f,function(){n.isPeerToPeer() && d.setPeerAuthTokens(l.peerMasterToken,l.peerUserIdToken);l.masterToken.equals(b)?(d.setRenewable(!0),d.setNonReplayable(!1)):d.setNonReplayable(r.isNonReplayable());return {errorResult:new y(d,r),tokenTicket:a};},c);},error:function(a){f.error(a);}});},c);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});break;default:return null;}},c);},cleanupContext:function(h,n,v){switch(v.errorCode){case q.ENTITY_REAUTH:this.deleteMasterToken(h,n.masterToken);break;case q.USER_REAUTH:(v=n.userIdToken,n.masterToken && v && h.getMslStore().removeUserIdToken(v));}},send:function(h,q,n,v,w,y,f){var r;function b(b,p,d){u(f,function(){var g;g=w.getPeerUserIdToken();!q.isPeerToPeer() && !p || q.isPeerToPeer() && !g?(g=n.getCustomer())?w.setCustomer(g,{result:function(g){u(f,function(){p=w.getUserIdToken();a(b,p,d);},r);},error:function(a){f.error(a);}}):a(b,p,d):a(b,p,d);},r);}function a(a,b,d){u(f,function(){var g,p;g=!d && (!n.isEncrypted() || w.willEncryptPayloads()) && (!n.isIntegrityProtected() || w.willIntegrityProtectPayloads()) && (!n.isNonReplayable() || w.isNonReplayable() && a);g || w.setNonReplayable(!1);p=[];w.isRenewable() && (!a || a.isRenewable() || n.isNonReplayable())?n.getKeyRequestData({result:function(d){u(f,function(){var l;for(var m=0;m < d.length;++m){l=d[m];p.push(l);w.addKeyRequestData(l);}c(a,b,g,p);},r);},error:function(a){f.error(a);}}):c(a,b,g,p);},r);}function c(a,b,d,m){u(f,function(){var g;g=new je(q,n,w);n.updateServiceTokens(g,!d,{result:function(g){w.getHeader({result:function(g){u(f,function(){var p,m;p=n.getDebugContext();p && p.sentHeader(g);p=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(q,g,p);this.storeServiceTokens(q,a,b,g.serviceTokens);p=!q.isPeerToPeer() && p?p.cryptoContext:g.cryptoContext;if(h.isAborted())throw new cb("send aborted.");m=null != this._filterFactory?this._filterFactory.getOutputStream(v):v;Jc(q,m,Na,g,p,y,{result:function(a){h.setAbort(function(){a.abort();});l(a,g,d);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});},r);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});},error:function(a){f.error(a);}});},r);}function l(a,b,d){var g,p;if(d)n.write(a,y,{result:function(g){u(f,function(){if(h.isAborted())throw new cb("MessageOutputStream write aborted.");k(a,b,d);},r);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});else {g=new na();p=new dc();Jc(q,g,Na,b,p,y,{result:function(g){n.write(g,y,{result:function(p){u(f,function(){if(h.isAborted())throw new cb("MessageOutputStream proxy write aborted.");g.close(y,{result:function(p){u(f,function(){var m;if(!p)throw new cb("MessageOutputStream proxy close aborted.");m=g.getPayloads();k(a,b,d,m);},r);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});},r);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});},timeout:function(){f.timeout();},error:function(a){f.error(a);}});}}function k(a,b,d,m){a.close(y,{result:function(g){u(f,function(){if(!g)throw new cb("MessageOutputStream close aborted.");m || (m=a.getPayloads());return new z(b,m,!d);},r);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});}r=this;u(f,function(){var a,p,d,m;a=w.getMasterToken();p=w.getUserIdToken();d=!1;if(n.getUserId()){m=!p;n.getUserAuthData(null,w.isRenewable(),m,{result:function(g){u(f,function(){g && (w.willEncryptHeader() && w.willIntegrityProtectHeader()?w.setUserAuthenticationData(g):d=!0);b(a,p,d);},r);},error:function(a){f.error(a);}});}else b(a,p,d);},r);},receive:function(n,v,w,y,z,F,f){var b;b=this;u(f,function(){var a,c,l;if(n.isAborted())throw new cb("receive aborted.");a=[];z && (a=z.keyRequestData.filter(function(){return !0;}));c=w.getCryptoContexts();l=this._filterFactory?this._filterFactory.getInputStream(y):y;le(v,l,Na,a,c,F,{result:function(a){n.setAbort(function(){a.abort();});a.isReady(F,{result:function(l){u(f,function(){var g,p,d,m;if(!l)throw new cb("MessageInputStream aborted.");g=a.getMessageHeader();p=a.getErrorHeader();d=w.getDebugContext();d && d.receivedHeader(g?g:p);if(z && (d=p?p.errorCode:null,g || d != q.FAIL && d != q.TRANSIENT_FAILURE && d != q.ENTITY_REAUTH && d != q.ENTITYDATA_REAUTH)){d=g?g.messageId:p.messageId;m=Wb(z.messageId);if(d != m)throw new Fa(h.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + m + "; received " + d);}v.getEntityAuthenticationData(null,{result:function(d){u(f,function(){var b,m,l,t;b=d.getIdentity();if(g){m=g.entityAuthenticationData;l=g.masterToken;m=l?g.sender:m.getIdentity();if(l && l.isDecrypted() && l.identity != m || b == m)throw new Fa(h.UNEXPECTED_MESSAGE_SENDER,m);z && this.updateIncomingCryptoContexts(v,z,a);b=g.keyResponseData;v.isPeerToPeer()?(b=b?b.masterToken:g.peerMasterToken,l=g.peerUserIdToken,m=g.peerServiceTokens):(b=b?b.masterToken:g.masterToken,l=g.userIdToken,m=g.serviceTokens);t=w.getUserId();t && l && !l.isVerified() && v.getMslStore().addUserIdToken(t,l);this.storeServiceTokens(v,b,l,m);}else if((m=p.entityAuthenticationData.getIdentity(),b == m))throw new Fa(h.UNEXPECTED_MESSAGE_SENDER,m);return a;},b);},error:f.error});},b);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});},timeout:function(){f.timeout();},error:function(a){f.error(a);}});},b);},sendReceive:function(h,q,n,v,w,y,f,b,a){var l;function c(c,r){u(a,function(){y.setRenewable(r);this.send(h,q,n,w,y,f,{result:function(g){u(a,function(){var p;p=g.requestHeader.keyRequestData;b || g.handshake || !p.isEmpty()?this.receive(h,q,n,v,g.requestHeader,f,{result:function(b){u(a,function(){r && this.releaseRenewalLock(q,c,b);return new H(b,g);},l);},timeout:function(){u(a,function(){r && this.releaseRenewalLock(q,c,null);a.timeout();},l);},error:function(b){u(a,function(){r && this.releaseRenewalLock(q,c,null);throw b;},l);}}):u(a,function(){r && this.releaseRenewalLock(q,c,null);return new H(null,g);},l);},l);},timeout:function(){u(a,function(){r && this.releaseRenewalLock(q,c,null);a.timeout();},l);},error:function(b){u(a,function(){r && this.releaseRenewalLock(q,c,null);throw b;},l);}});},l);}l=this;u(a,function(){var b;b=new ic();this.acquireRenewalLock(h,q,n,b,y,f,{result:function(a){c(b,a);},timeout:function(){a.timeout();},error:function(b){b instanceof cb?a.result(null):a.error(b);}});},l);},acquireRenewalLock:function(h,q,n,v,w,y,f){var c;function b(l,k,r){u(f,function(){var d,m;if(h.isAborted())throw new cb("acquireRenewalLock aborted.");for(var g=null,p=0;p < this._renewingContexts.length;++p){d=this._renewingContexts[p];if(d.ctx === q){g=d.queue;break;}}if(!g)return (this._renewingContexts.push({ctx:q,queue:v}),!0);m=g.poll(y,{result:function(d){u(f,function(){var m;if(d === fa)throw new cb("acquireRenewalLock aborted.");g.add(d);if(d === pa || d.isExpired())b(d,k,r);else {if(r && !k || k && !k.isBoundTo(d)){m=q.getMslStore().getUserIdToken(r);k=m && m.isBoundTo(d)?m:null;}w.setAuthTokens(d,k);w.isRenewable() && d.equals(l)?b(d,k,r):n.isRequestingTokens() && !k?b(d,k,r):a(d,k);}},c);},timeout:function(){},error:function(a){}});h.setAbort(function(){m && (g.cancel(m),m=fa);});},c);}function a(a,b){u(f,function(){var p;if(h.isAborted())throw new cb("acquireRenewalLock aborted.");if(!a || a.isRenewable() || !b && n.getUserId() || b && b.isRenewable()){for(var l=null,g=0;g < this._renewingContexts.length;++g){p=this._renewingContexts[g];if(p.ctx === q){l=p.queue;break;}}if(!l)return (this._renewingContexts.push({ctx:q,queue:v}),!0);}return !1;},c);}c=this;u(f,function(){var l,c,r;l=w.getMasterToken();c=w.getUserIdToken();r=n.getUserId();n.isEncrypted() && !w.willEncryptPayloads() || n.isIntegrityProtected() && !w.willIntegrityProtectPayloads() || w.isRenewable() || !l && n.isNonReplayable() || l && l.isExpired() || !(c || !r || w.willEncryptHeader() && w.willIntegrityProtectHeader()) || n.isRequestingTokens() && (!l || r && !c)?b(l,c,r):a(l,c);},c);},releaseRenewalLock:function(h,q,n){var f;for(var v,w,u=0;u < this._renewingContexts.length;++u){f=this._renewingContexts[u];if(f.ctx === h){v=u;w=f.queue;break;}}if(w !== q)throw new da("Attempt to release renewal lock that is not owned by this queue.");n?(n=n.messageHeader)?(w=n.keyResponseData)?q.add(w.masterToken):(h=h.isPeerToPeer()?n.peerMasterToken:n.masterToken)?q.add(h):q.add(pa):q.add(pa):q.add(pa);this._renewingContexts.splice(v,1);}});oe=la.Class.create({init:function(){var h;h={_impl:{value:new xa(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setFilterFactory:function(h){this._impl.setFilterFactory(h);},shutdown:function(){this._shutdown=!0;},receive:function(h,q,n,v,w,u){var f;if(this._shutdown)throw new B("MslControl is shutdown.");f=new U(this._impl,h,q,n,v,w);setTimeout(function(){f.call(u);},0);return G(f);},respond:function(h,q,n,v,w,u,f){var b;if(this._shutdown)throw new B("MslControl is shutdown.");b=new X(this._impl,h,q,n,v,w,u);setTimeout(function(){b.call(f);},0);return G(b);},error:function(h,q,n,v,w,u,f){var b;if(this._shutdown)throw new B("MslControl is shutdown.");b=new wa(this._impl,h,q,n,v,w,u);setTimeout(function(){b.call(f);},0);return G(b);},request:function(h,q){var n,v,w,u,f,b;if(this._shutdown)throw new B("MslControl is shutdown.");if(5 == arguments.length){if((n=arguments[2],w=v=null,u=arguments[3],f=arguments[4],h.isPeerToPeer())){f.error(new da("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (n=null,v=arguments[2],w=arguments[3],u=arguments[4],f=arguments[5],!h.isPeerToPeer())){f.error(new da("This method cannot be used in trusted network mode."));return;}b=new S(this._impl,h,q,n,v,w,null,0,u);setTimeout(function(){b.call(f);},0);return G(b);}});U=la.Class.create({init:function(h,q,n,v,w,u){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:q,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:u,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:fa,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(q){var z;function n(n){u(q,function(){var f;f=n.messageHeader;if(!f)return n;this.setAbort(function(){n.abort();});n.mark(Number.MAX_VALUE);n.read(1,z._timeout,{result:function(b){u(q,function(){if(b && 0 == b.length)return null;if(b)return (n.reset(),n);v(n);},z);},timeout:function(){q.timeout();},error:function(b){u(q,function(){var a,c,l;if(w(b))return null;a=f?f.messageId:null;b instanceof Ya?(c=h.MSL_COMMS_FAILURE,l=b):(c=h.INTERNAL_EXCEPTION,l=new da("Error peeking into the message payloads."));F(this,this._ctx,this._msgCtx.getDebugContext(),a,c,null,this._output,this._timeout,{result:function(a){q.error(l);},timeout:function(){q.timeout();},error:function(a){u(q,function(){if(w(a))return null;throw new mb("Error peeking into the message payloads.",a,b);},z);}});},z);}});},z);}function v(n){u(q,function(){n.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,n.messageHeader,this._timeout,{result:function(f){u(q,function(){var b,a,c,l,k;b=f.builder;a=f.tokenTicket;c=n.messageHeader;l=new Q(this._msgCtx);if(!this._ctx.isPeerToPeer() || c.isEncrypting() || c.keyResponseData)y(c,b,l,a);else {k=new S(this._ctrl,this._ctx,l,null,this._input,this._output,f,1,this._timeout);this.setAbort(function(){k.abort();});k.call(q);}},z);},timeout:function(){q.timeout();},error:function(f){u(q,function(){var b,a,c,l;if(w(f))return null;f instanceof B?(b=f.messageId,a=f.error,c=n.messageHeader.messageCapabilities,c=this._ctrl.messageRegistry.getUserMessage(a,c?c.languages:null),l=f):(b=requestHeader?requestHeader.messageId:null,a=h.INTERNAL_EXCEPTION,c=null,l=new da("Error creating an automatic handshake response.",f));F(this,this._ctx,this._msgCtx.getDebugContext(),b,a,c,this._output,this._timeout,{result:function(a){q.error(l);},timeout:function(){q.timeout();},error:function(a){u(q,function(){if(w(a))return null;throw new mb("Error creating an automatic handshake response.",a,f);},z);}});},z);}});},z);}function y(n,f,b,a){u(q,function(){f.setRenewable(!1);this._ctrl.send(this._ctx,b,this._output,f,this._timeout,{result:function(b){u(q,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);return null;},z);},timeout:function(){u(q,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);q.timeout();},z);},error:function(b){u(q,function(){var l,c,r,g;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);if(w(b))return null;b instanceof B?(l=b.messageId,c=b.error,r=n?n.messageCapabilities:null,r=this._ctrl.messageRegistry.getUserMessage(c,r?r.languages:null),g=b):b instanceof Ya?(l=n?n.messageId:null,c=h.MSL_COMMS_FAILURE,r=null,g=b):(l=n?n.messageId:null,c=h.INTERNAL_EXCEPTION,r=null,g=new da("Error sending an automatic handshake response.",b));F(this,this._ctx,this._msgCtx.getDebugContext(),l,c,r,this._output,this._timeout,{result:function(a){q.error(g);},timeout:function(){q.timeout();},error:function(a){u(q,function(){if(w(a))return null;throw new mb("Error sending an automatic handshake response.",a,b);},z);}});},z);}});},z);}z=this;u(q,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(h){n(h);},timeout:function(){q.timeout();},error:function(n){u(q,function(){var f,b,a,c;if(w(n))return null;n instanceof B?(f=n.messageId,b=n.error,a=this._ctrl.messageRegistry.getUserMessage(b,null),c=n):(f=null,b=h.INTERNAL_EXCEPTION,a=null,c=new da("Error receiving the message header.",n));F(this,this._ctx,this._msgCtx.getDebugContext(),f,b,a,this._output,this._timeout,{result:function(a){q.error(c);},timeout:function(){q.timeout();},error:function(a){u(q,function(){if(w(a))return null;throw new mb("Error receiving the message header.",a,n);},z);}});},z);}});},z);}});X=la.Class.create({init:function(h,q,n,v,w,u,f){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:q,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:u,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:f,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:fa,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},trustedNetworkExecute:function(q,n,v){var y;y=this;u(v,function(){var z,H;if(12 < n + 1)return !1;if(z=this._msgCtx.isIntegrityProtected() && !q.willIntegrityProtectHeader()?h.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !q.willEncryptPayloads()?h.RESPONSE_REQUIRES_ENCRYPTION:null){H=ec(q.getMessageId());F(this,this._ctx,this._msgCtx.getDebugContext(),H,z,null,this._output,this._timeout,{result:function(f){v.result(!1);},timeout:function(){v.timeout();},error:function(f){u(v,function(){if(w(f))return !1;throw new mb("Response requires encryption or integrity protection but cannot be protected: " + z,f,null);},y);}});}else !this._msgCtx.getCustomer() || q.getMasterToken() || q.getKeyExchangeData()?(q.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,q,this._timeout,{result:function(f){v.result(!0);},timeout:function(){v.timeout();},error:function(f){v.error(f);}})):(H=ec(q.getMessageId()),F(this,this._ctx,this._msgCtx.getDebugContext(),H,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(f){v.result(!1);},timeout:function(){v.timeout();},error:function(f){u(v,function(){if(w(f))return !1;throw new mb("Response wishes to attach a user ID token but there is no master token.",f,null);},y);}}));},y);},peerToPeerExecute:function(q,n,v,y){var H;function z(f){u(y,function(){var b;b=f.response;b.close();b=b.getErrorHeader();this._ctrl.cleanupContext(this._ctx,f.requestHeader,b);this._ctrl.buildErrorResponse(this,this._ctx,q,f,b,{result:function(a){u(y,function(){var b,l;if(!a)return !1;b=a.errorResult;l=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,v,{result:function(a){u(y,function(){this._ctrl.releaseMasterToken(l);return a;},H);},timeout:function(){u(y,function(){this._ctrl.releaseMasterToken(l);y.timeout();},H);},error:function(a){u(y,function(){this._ctrl.releaseMasterToken(l);throw a;},H);}});},H);}});},H);}H=this;u(y,function(){var f;if(12 < v + 2)return !1;if(null != q.getCustomer() && null == n.getPeerMasterToken() && null == n.getKeyExchangeData()){f=ec(n.getMessageId());F(this,this._ctx,q.getDebugContext(),f,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(b){y.result(!1);},timeout:function(){y.timeout();},error:function(b){u(y,function(){if(w(b))return !1;throw new mb("Response wishes to attach a user ID token but there is no master token.",b,null);},H);}});}else this._ctrl.sendReceive(this._ctx,q,this._input,this._output,n,this._timeout,!1,{result:function(b){u(y,function(){var l,k,r;function a(){l.read(32768,H._timeout,{result:function(b){u(y,function(){b?a():c();},H);},timeout:function(){y.timeout();},error:function(a){y.error(a);}});}function c(){u(y,function(){var a;a=new ra(b.payloads,q);this._ctrl.buildResponse(this,this._ctx,a,k,this._timeout,{result:function(b){u(y,function(){var d;d=b.tokenTicket;this.peerToPeerExecute(a,b.builder,v,{result:function(a){u(y,function(){this._ctrl.releaseMasterToken(d);return a;},H);},timeout:function(){u(y,function(){this._ctrl.releaseMasterToken(d);y.timeout();},H);},error:function(a){u(y,function(){this._ctrl.releaseMasterToken(d);throw a;},H);}});},H);},timeout:function(){y.timeout();},error:function(a){y.error(a);}});},H);}l=b.response;v+=2;if(!l)return !0;k=l.getMessageHeader();if(k){r=b.payloads;r=0 < r.length && 0 < r[0].data.length;if(b.handshake && r)a();else return !0;}else z(b);},H);},timeout:function(){y.timeout();},error:function(b){y.error(b);}});},H);},call:function(q){var n;n=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(v){u(q,function(){var y,z;y=v.builder;z=v.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,y,3,{result:function(h){u(q,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(z);return h;},n);},timeout:function(){u(q,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(z);q.timeout();},n);},error:function(v){u(q,function(){var f,b,a,c;this._ctx.isPeerToPeer() && this.releaseMasterToken(z);if(w(v))return !1;f=ec(y.getMessageId());v instanceof B?(b=v.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=v):v instanceof Ya?(b=h.MSL_COMMS_FAILURE,a=null,c=v):(b=h.INTERNAL_EXCEPTION,a=null,c=new da("Error sending the response.",v));F(this,this._ctx,this._msgCtx.getDebugContext(),f,b,a,this._output,this._timeout,{result:function(a){q.error(c);},timeout:function(){q.timeout();},error:function(a){u(q,function(){if(w(a))return !1;throw new mb("Error sending the response.",a,null);},n);}});},n);}}):this.trustedNetworkExecute(y,3,{result:function(h){u(q,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(z);return h;},n);},timeout:function(){u(q,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(z);q.timeout();},n);},error:function(v){u(q,function(){var f,b,a,c;this._ctx.isPeerToPeer() && this.releaseMasterToken(z);if(w(v))return !1;f=ec(y.getMessageId());v instanceof B?(b=v.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=v):v instanceof Ya?(b=h.MSL_COMMS_FAILURE,a=null,c=v):(b=h.INTERNAL_EXCEPTION,a=null,c=new da("Error sending the response.",v));F(this,this._ctx,this._msgCtx.getDebugContext(),f,b,a,this._output,this._timeout,{result:function(a){q.error(c);},timeout:function(){q.timeout();},error:function(a){u(q,function(){if(w(a))return !1;throw new mb("Error sending the response.",a,null);},n);}});},n);}});},n);},timeout:function(){q.timeout();},error:function(v){u(q,function(){var y,z,H,f;if(w(v))return !1;v instanceof B?(y=v.messageId,z=v.error,H=this._request.messageCapabilities,H=this._ctrl.messageRegistry.getUserMessage(z,H?H.languages:null),f=v):(y=null,z=h.INTERNAL_EXCEPTION,H=null,f=new da("Error building the response.",v));F(this,this._ctx,this._msgCtx.getDebugContext(),y,z,H,this._output,this._timeout,{result:function(b){q.error(f);},timeout:function(){q.timeout();},error:function(b){u(q,function(){if(w(b))return null;throw new mb("Error building the response.",b,v);},n);}});},n);}});}});wa=la.Class.create({init:function(h,q,n,v,w,u,f){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:q,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_appError:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:u,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:f,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:fa,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(q){var n;n=this;u(q,function(){var v,y;if(this._appError == ENTITY_REJECTED)v=this._request.masterToken?h.MASTERTOKEN_REJECTED_BY_APP:h.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)v=this._request.userIdToken?h.USERIDTOKEN_REJECTED_BY_APP:h.USER_REJECTED_BY_APP;else throw new da("Unhandled application error " + this._appError + ".");y=this._request.messageCapabilities;y=this._ctrl.messageRegistry.getUserMessage(v,y?y.languages:null);F(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,v,y,this._output,this._timeout,{result:function(h){q.result(h);},timeout:q.timeout,error:function(h){u(q,function(){if(w(h))return !1;if(h instanceof B)throw h;throw new da("Error building the error response.",h);},n);}});},n);}});ya={result:function(){},timeout:function(){},error:function(){}};S=la.Class.create({init:function(h,q,n,v,w,u,f,b,a){var c;f?(c=f.builder,f=f.tokenTicket):f=c=null;Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:q,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:v,writable:!1,enumerable:!1,configurable:!1},_input:{value:w,writable:!0,enumerable:!1,configurable:!1},_output:{value:u,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:c,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:f,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:b,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:fa,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},execute:function(h,q,n,v,w){var b;function y(a){function c(l){u(w,function(){var b;b=a.response;return l?l:b;},b);}u(w,function(){var l,k;l=a.response;l.close();k=l.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,k);this._ctrl.buildErrorResponse(this,this._ctx,h,a,k,n,{result:function(a){u(w,function(){var g,p,d,m;if(!a)return l;g=a.errorResult;p=a.tokenTicket;d=g.builder;g=g.msgCtx;if(this._ctx.isPeerToPeer())this.execute(g,d,this._timeout,v,{result:function(a){u(w,function(){this._ctrl.releaseMasterToken(p);c(a);},b);},timeout:function(){u(w,function(){this._ctrl.releaseMasterToken(p);w.timeout();},b);},error:function(a){u(w,function(){this._ctrl.releaseMasterToken(p);w.error(a);},b);}});else {this._openedStreams && (this._input.close(),this._output.close(n,ya));m=new S(this._ctrl,this._ctx,g,this._remoteEntity,null,null,{builder:d,tokenTicket:p},v,this._timeout);this.setAbort(function(){m.abort();});m.call({result:function(a){c(a);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},b);}function f(a){u(w,function(){var k,r,g,p,d;function c(){k.read(32768,b._timeout,{result:function(a){a?c():l();},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}function l(){u(w,function(){var d;d=new ra(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,r,n,{result:function(a){u(w,function(){var g;g=a.tokenTicket;this.execute(d,a.builder,this._timeout,v,{result:function(a){u(w,function(){this._ctrl.releaseMasterToken(g);return a;},b);},timeout:function(){u(w,function(){this._ctrl.releaseMasterToken(g);w.timeout();},b);},error:function(a){u(w,function(){this._ctrl.releaseMasterToken(g);throw a;},b);}});},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},b);}k=a.response;r=k.getMessageHeader();g=a.payloads;g=0 < g.length && 0 < g[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake || !g)return k;this._openedStreams && (this._input.close(),this._output.close(n,ya));p=new ra(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,r,n,{result:function(a){u(w,function(){var b;b=new S(this._ctrl,this._ctx,p,this._remoteEntity,null,null,a,v,this._timeout);this.setAbort(function(){b.abort();});b.call(w);},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}else if(a.handshake && g)c();else if(0 < r.keyRequestData.length){d=new Q(h);this._ctrl.buildResponse(this,this._ctx,d,r,n,{result:function(a){u(w,function(){var g,m;g=a.builder;m=a.tokenTicket;k.mark();k.read(1,this._timeout,{result:function(a){u(w,function(){function p(){k.read(32768,b._timeout,{result:function(a){a?p():l();},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}function l(){b.execute(d,g,b._timeout,v,{result:function(a){u(w,function(){this._ctrl.releaseMasterToken(m);return a;},b);},timeout:function(){u(w,function(){this._ctrl.releaseMasterToken(m);w.timeout();},b);},error:function(a){u(w,function(){this._ctrl.releaseMasterToken(m);throw a;},b);}});}if(a){if((k.reset(),12 >= v + 1))(g.setRenewable(!1),this._ctrl.send(this,this._ctx,d,this._output,g,this._timeout,{result:function(a){u(w,function(){this.releaseMasterToken(m);return k;},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}}));else return (this.releaseMasterToken(m),k);}else p();},b);},timeout:function(){u(w,function(){this.releaseMasterToken(m);w.timeout();},b);},error:function(a){u(w,function(){this.releaseMasterToken(m);throw a;},b);}});},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});}},b);}b=this;u(w,function(){if(12 < v + 2)return null;this._ctrl.sendReceive(this,this._ctx,h,this._input,this._output,q,n,!0,{result:function(a){u(w,function(){var b;if(!a)return null;b=a.response;v+=2;b.getMessageHeader()?f(a):y(a);},b);},timeout:function(){w.timeout();},error:function(a){w.error(a);}});},b);},call:function(h){var n;function q(q,v,y){u(h,function(){this.execute(this._msgCtx,q,y,this._msgCount,{result:function(f){u(h,function(){this._ctrl.releaseMasterToken(v);this._openedStreams && this._output.close(y,ya);f && f.closeSource(this._openedStreams);return f;},n);},timeout:function(){u(h,function(){this._ctrl.releaseMasterToken(v);this._openedStreams && (this._output.close(y,ya),this._input.close());h.timeout();},n);},error:function(f){u(h,function(){this._ctrl.releaseMasterToken(v);this._openedStreams && (this._output.close(y,ya),this._input.close());if(w(f))return null;throw f;},n);}});},n);}n=this;u(h,function(){var v,y,z;v=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);y=Date.now();z=this._remoteEntity.openConnection();this._output=z.output;this._input=z.input;-1 != v && (v=this._timeout - (Date.now() - y));this._openedStreams=!0;}catch(f){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,ya);this._input && this._input.close();if(w(f))return null;throw f;}this._builder?q(this._builder,this._tokenTicket,v):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(f){u(h,function(){q(f.builder,f.tokenTicket,v);},n);},timeout:function(){u(h,function(){this._openedStreams && (this._output.close(this._timeout,ya),this._input.close());h.timeout();},n);},error:function(f){u(h,function(){this._openedStreams && (this._output.close(this._timeout,ya),this._input.close());if(w(f))return null;throw f;},n);}});},n);}});})();(function(){od=la.Class.create({init:function(h){Object.defineProperties(this,{id:{value:h,writable:!1,configurable:!1}});},toJSON:function(){var h;h={};h.id=this.id;return h;},equals:function(h){return this === h?!0:h instanceof od?this.id == h.id:!1;},uniqueKey:function(){return this.id;}});pe=function(q){var n;n=q.id;if(!n)throw new ja(h.JSON_PARSE_ERROR,JSON.stringify(q));return new od(n);};})();la.Class.create({isNewestMasterToken:function(h,q,n){},isMasterTokenRevoked:function(h,q){},acceptNonReplayableId:function(h,q,n,u){},createMasterToken:function(h,q,n,u,H){},isMasterTokenRenewable:function(h,q,n){},renewMasterToken:function(h,q,n,u,H){},isUserIdTokenRevoked:function(h,q,n,u){},createUserIdToken:function(h,q,n,u){},renewUserIdToken:function(h,q,n,u){}});(function(){function q(h,q,n,u){this.sessiondata=h;this.tokendata=q;this.signature=n;this.verified=u;}jb=la.Class.create({init:function(h,q,u,H,w,F,G,B,O,ra,Q){var v;v=this;n(Q,function(){var y,z,ca,S,xa;if(u.getTime() < q.getTime())throw new da("Cannot construct a master token that expires before its renewal window opens.");if(0 > H || H > Oa)throw new da("Sequence number " + H + " is outside the valid range.");if(0 > w || w > Oa)throw new da("Serial number " + w + " is outside the valid range.");y=Math.floor(q.getTime() / 1E3);z=Math.floor(u.getTime() / 1E3);if(ra)ca=ra.sessiondata;else {S={};F && (S.issuerdata=F);S.identity=G;S.encryptionkey=ta(B.toByteArray());S.hmackey=ta(O.toByteArray());ca=Ta(JSON.stringify(S),Na);}if(ra)return (Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:H,writable:!1,configurable:!1},serialNumber:{value:w,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},identity:{value:G,writable:!1,configurable:!1},encryptionKey:{value:B,writable:!1,configurable:!1},hmacKey:{value:O,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:ra.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ra.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ra.signature,writable:!1,enumerable:!1,configurable:!1}}),this);xa=h.getMslCryptoContext();xa.encrypt(ca,{result:function(q){n(Q,function(){var u,U;u={};u.renewalwindow=y;u.expiration=z;u.sequencenumber=H;u.serialnumber=w;u.sessiondata=ta(q);U=Ta(JSON.stringify(u),Na);xa.sign(U,{result:function(q){n(Q,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:H,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:w,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},identity:{value:G,writable:!1,configurable:!1},encryptionKey:{value:B,writable:!1,configurable:!1},hmacKey:{value:O,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:U,writable:!1,enumerable:!1,configurable:!1},signature:{value:q,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(h){Q.error(h);}});},v);},error:function(h){Q.error(h);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(h){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(h){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(h){var q;if(this.sequenceNumber == h.sequenceNumber)return this.expiration > h.expiration;if(this.sequenceNumber > h.sequenceNumber){q=this.sequenceNumber - Oa + 127;return h.sequenceNumber >= q;}q=h.sequenceNumber - Oa + 127;return this.sequenceNumber < q;},toJSON:function(){var h;h={};h.tokendata=ta(this.tokendata);h.signature=ta(this.signature);return h;},equals:function(h){return this === h?!0:h instanceof jb?this.serialNumber == h.serialNumber && this.sequenceNumber == h.sequenceNumber && this.expiration.getTime() == h.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Ub=function(v,u,z){n(z,function(){var y,w,F,G,ca;y=v.getMslCryptoContext();w=u.tokendata;F=u.signature;if("string" !== typeof w || "string" !== typeof F)throw new ja(h.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(u));try{G=ua(w);}catch(Ha){throw new B(h.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(u),Ha);}if(!G || 0 == G.length)throw new ja(h.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(u));try{ca=ua(F);}catch(Ha){throw new B(h.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(u),Ha);}y.verify(G,ca,{result:function(w){n(z,function(){var u,F,H,U,X,na,S,xa,O,Ka;na=Va(G,Na);try{S=JSON.parse(na);u=parseInt(S.renewalwindow);F=parseInt(S.expiration);H=parseInt(S.sequencenumber);U=parseInt(S.serialnumber);X=S.sessiondata;}catch(sa){if(sa instanceof SyntaxError)throw new ja(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + na,sa);throw sa;}if(!u || u != u || !F || F != F || "number" !== typeof H || H != H || "number" !== typeof U || U != U || "string" !== typeof X)throw new ja(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + na);if(F < u)throw new B(h.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + na);if(0 > H || H > Oa)throw new B(h.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + na);if(0 > U || U > Oa)throw new B(h.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + na);xa=new Date(1E3 * u);O=new Date(1E3 * F);try{Ka=ua(X);}catch(sa){throw new B(h.MASTERTOKEN_SESSIONDATA_INVALID,X,sa);}if(!Ka || 0 == Ka.length)throw new B(h.MASTERTOKEN_SESSIONDATA_MISSING,X);w?y.decrypt(Ka,{result:function(u){n(z,function(){var y,F,Q,B,S,X;S=Va(u,Na);try{X=JSON.parse(S);y=X.issuerdata;F=X.identity;Q=X.encryptionkey;B=X.hmackey;}catch(f){if(f instanceof SyntaxError)throw new ja(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + S,f);throw f;}if(y && "object" !== typeof y || !F || "string" !== typeof Q || "string" !== typeof B)throw new ja(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + S);Bb(Q,sb,Kb,{result:function(f){Bb(B,tb,Tb,{result:function(b){n(z,function(){var a;a=new q(u,G,ca,w);new jb(v,xa,O,H,U,y,F,f,b,a,z);});},error:function(b){z.error(new M(h.MASTERTOKEN_KEY_CREATION_ERROR,b));}});},error:function(f){z.error(new M(h.MASTERTOKEN_KEY_CREATION_ERROR,f));}});});},error:function(h){z.error(h);}}):(u=new q(null,G,ca,w),new jb(v,xa,O,H,U,null,null,null,null,u,z));});},error:function(h){z.error(h);}});});};})();(function(){function q(h,q,n){this.tokendata=h;this.signature=q;this.verified=n;}bc=la.Class.create({init:function(h,q,u,H,w,F,G,ca,O){var v;v=this;n(O,function(){var y,z,U,X,na,S,xa;if(u.getTime() < q.getTime())throw new da("Cannot construct a user ID token that expires before its renewal window opens.");if(!H)throw new da("Cannot construct a user ID token without a master token.");if(0 > w || w > Oa)throw new da("Serial number " + w + " is outside the valid range.");y=Math.floor(q.getTime() / 1E3);z=Math.floor(u.getTime() / 1E3);U=H.serialNumber;if(ca){X=ca.tokendata;na=ca.signature;S=ca.verified;U=H.serialNumber;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:U,writable:!1,configurable:!1},serialNumber:{value:w,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},customer:{value:G,writable:!1,configurable:!1},verified:{value:S,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:X,writable:!1,enumerable:!1,configurable:!1},signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});return this;}X={};F && (X.issuerdata=F);X.identity=G;X=Ta(JSON.stringify(X),Na);xa=h.getMslCryptoContext();xa.encrypt(X,{result:function(q){n(O,function(){var u,Q;u={};u.renewalwindow=y;u.expiration=z;u.mtserialnumber=U;u.serialnumber=w;u.userdata=ta(q);Q=Ta(JSON.stringify(u),Na);xa.sign(Q,{result:function(q){n(O,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:H.serialNumber,writable:!1,configurable:!1},serialNumber:{value:w,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},customer:{value:G,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Q,writable:!1,enumerable:!1,configurable:!1},signature:{value:q,writable:!1,enumerable:!1,configurable:!1}});return this;},v);},error:function(h){n(O,function(){h instanceof B && h.setEntity(H);throw h;},v);}});},v);},error:function(h){n(O,function(){h instanceof B && h.setEntity(H);throw h;},v);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(h){return h && h.serialNumber == this.mtSerialNumber;},toJSON:function(){var h;h={};h.tokendata=ta(this.tokendata);h.signature=ta(this.signature);return h;},equals:function(h){return this === h?!0:h instanceof bc?this.serialNumber == h.serialNumber && this.mtSerialNumber == h.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Vb=function(v,u,z,H){n(H,function(){var w,y,G,ca,O;w=v.getMslCryptoContext();y=u.tokendata;G=u.signature;if("string" !== typeof y || "string" !== typeof G)throw new ja(h.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(u)).setEntity(z);try{ca=ua(y);}catch(ra){throw new B(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(u),ra).setEntity(z);}if(!ca || 0 == ca.length)throw new ja(h.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(u)).setEntity(z);try{O=ua(G);}catch(ra){throw new B(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(u),ra).setEntity(z);}w.verify(ca,O,{result:function(u){n(H,function(){var y,F,G,X,na,S,xa,ya,ra,sa;S=Va(ca,Na);try{xa=JSON.parse(S);y=parseInt(xa.renewalwindow);F=parseInt(xa.expiration);G=parseInt(xa.mtserialnumber);X=parseInt(xa.serialnumber);na=xa.userdata;}catch(ga){if(ga instanceof SyntaxError)throw new ja(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + S,ga).setEntity(z);throw ga;}if(!y || y != y || !F || F != F || "number" !== typeof G || G != G || "number" !== typeof X || X != X || "string" !== typeof na)throw new ja(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + S).setEntity(z);if(F < y)throw new B(h.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + S).setEntity(z);if(0 > G || G > Oa)throw new B(h.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + S).setEntity(z);if(0 > X || X > Oa)throw new B(h.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + S).setEntity(z);ya=new Date(1E3 * y);ra=new Date(1E3 * F);if(!z || G != z.serialNumber)throw new B(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + G + "; mt " + JSON.stringify(z)).setEntity(z);try{sa=ua(na);}catch(ga){throw new B(h.USERIDTOKEN_USERDATA_INVALID,na,ga).setEntity(z);}if(!sa || 0 == sa.length)throw new B(h.USERIDTOKEN_USERDATA_MISSING,na).setEntity(z);u?w.decrypt(sa,{result:function(w){n(H,function(){var n,y,F,G,U;F=Va(w,Na);try{G=JSON.parse(F);n=G.issuerdata;y=G.identity;}catch(f){if(f instanceof SyntaxError)throw new ja(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + F).setEntity(z);throw f;}if(n && "object" !== typeof n || "object" !== typeof y)throw new ja(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + F).setEntity(z);try{U=pe(y);}catch(f){throw new B(h.USERIDTOKEN_IDENTITY_INVALID,"userdata " + F,f).setEntity(z);}y=new q(ca,O,u);new bc(v,ya,ra,z,X,n,U,y,H);});},error:function(h){n(H,function(){h instanceof B && h.setEntity(z);throw h;});}}):(y=new q(ca,O,u),new bc(v,ya,ra,z,X,null,null,y,H));});},error:function(h){n(H,function(){h instanceof B && h.setEntity(z);throw h;});}});});};})();(function(){function q(q,n){var v,w,u;v=q.tokendata;if("string" !== typeof v)throw new ja(h.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(q));try{w=ua(v);}catch(na){throw new B(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(q),na);}if(!w || 0 == w.length)throw new ja(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(q));try{u=JSON.parse(Va(w,Na)).name;}catch(na){if(na instanceof SyntaxError)throw new ja(h.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(q),na);throw na;}if(!u)throw new ja(h.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(q));return n[u]?n[u]:n[""];}function v(h,q,n){this.tokendata=h;this.signature=q;this.verified=n;}Nb=la.Class.create({init:function(h,q,v,w,u,G,ca,O,ra,Q){var y;y=this;n(Q,function(){var z,F,H,S,xa;if(w && u && !u.isBoundTo(w))throw new da("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");z=w?w.serialNumber:-1;F=u?u.serialNumber:-1;if(ra)return (xa=ra.tokendata,Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:z,writable:!1,configurable:!1},uitSerialNumber:{value:F,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:ra.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ra.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ca?(H=nd(ca,v),H.length < v.length || (ca=null,H=v)):(ca=null,H=v);S={};S.name=q;-1 != z && (S.mtserialnumber=z);-1 != F && (S.uitserialnumber=F);S.encrypted=G;ca && (S.compressionalgo=ca);if(G && 0 < H.length)O.encrypt(H,{result:function(H){n(Q,function(){var U;S.servicedata=ta(H);U=Ta(JSON.stringify(S),Na);O.sign(U,{result:function(w){n(Q,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:z,writable:!1,configurable:!1},uitSerialNumber:{value:F,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:U,writable:!1,enumerable:!1,configurable:!1},signature:{value:w,writable:!1,enumerable:!1,configurable:!1}});return this;},y);},error:function(h){n(Q,function(){h instanceof B && (h.setEntity(w),h.setUser(u));throw h;});}});},y);},error:function(h){n(Q,function(){h instanceof B && (h.setEntity(w),h.setUser(u));throw h;});}});else {S.servicedata=ta(H);xa=Ta(JSON.stringify(S),Na);O.sign(xa,{result:function(w){n(Q,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:z,writable:!1,configurable:!1},uitSerialNumber:{value:F,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:w,writable:!1,enumerable:!1,configurable:!1}});return this;},y);},error:function(h){n(Q,function(){h instanceof B && (h.setEntity(w),h.setUser(u));throw h;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(h){return h?h instanceof jb?h.serialNumber == this.mtSerialNumber:h instanceof bc?h.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var h;h={};h.tokendata=ta(this.tokendata);h.signature=ta(this.signature);return h;},equals:function(h){return this === h?!0:h instanceof Nb?this.name == h.name && this.mtSerialNumber == h.mtSerialNumber && this.uitSerialNumber == h.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Fb=function(h,q,n,v,u,G,B,O,ra){new Nb(h,q,n,v,u,G,B,O,null,ra);};Gc=function(u,z,H,w,F,G){n(G,function(){var y,O,na,Q,pa,U,X,wa,S,xa,ya,M,sa;!F || F instanceof cc || (F=q(z,F));y=z.tokendata;O=z.signature;if("string" !== typeof y || "string" !== typeof O)throw new ja(h.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(z)).setEntity(H).setEntity(w);try{na=ua(y);}catch(ga){throw new B(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(z),ga).setEntity(H).setEntity(w);}if(!na || 0 == na.length)throw new ja(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(z)).setEntity(H).setEntity(w);try{Q=ua(O);}catch(ga){throw new B(h.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(z),ga).setEntity(H).setEntity(w);}ya=Va(na,Na);try{M=JSON.parse(ya);pa=M.name;U=M.mtserialnumber?parseInt(M.mtserialnumber):-1;X=M.uitserialnumber?parseInt(M.uitserialnumber):-1;wa=M.encrypted;S=M.compressionalgo;xa=M.servicedata;}catch(ga){if(ga instanceof SyntaxError)throw new ja(h.JSON_PARSE_ERROR,"servicetokendata " + ya,ga).setEntity(H).setEntity(w);throw ga;}if(!pa || "number" !== typeof U || U != U || "number" !== typeof X || X != X || "boolean" !== typeof wa || S && "string" !== typeof S || "string" !== typeof xa)throw new ja(h.JSON_PARSE_ERROR,"servicetokendata " + ya).setEntity(H).setEntity(w);if(M.mtserialnumber && 0 > U || U > Oa)throw new B(h.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ya).setEntity(H).setEntity(w);if(M.uitserialnumber && 0 > X || X > Oa)throw new B(h.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ya).setEntity(H).setEntity(w);if(-1 != U && (!H || U != H.serialNumber))throw new B(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + U + "; mt " + H).setEntity(H).setEntity(w);if(-1 != X && (!w || X != w.serialNumber))throw new B(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + X + "; uit " + w).setEntity(H).setEntity(w);wa=!0 === wa;if(S){if(!Qb[S])throw new B(h.UNIDENTIFIED_COMPRESSION,S);sa=S;}else sa=null;F?F.verify(na,Q,{result:function(q){n(G,function(){var y,z;if(q){try{y=ua(xa);}catch(gd){throw new B(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ya,gd).setEntity(H).setEntity(w);}if(!y || 0 != xa.length && 0 == y.length)throw new B(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ya).setEntity(H).setEntity(w);if(wa && 0 < y.length)F.decrypt(y,{result:function(h){n(G,function(){var n,y;n=sa?Hc(sa,h):h;y=new v(na,Q,q);new Nb(u,pa,n,-1 != U?H:null,-1 != X?w:null,wa,sa,F,y,G);});},error:function(h){n(G,function(){h instanceof B && (h.setEntity(H),h.setUser(w));throw h;});}});else {y=sa?Hc(sa,y):y;z=new v(na,Q,q);new Nb(u,pa,y,-1 != U?H:null,-1 != X?w:null,wa,sa,F,z,G);}}else (y="" == xa?new Uint8Array(0):null,z=new v(na,Q,q),new Nb(u,pa,y,-1 != U?H:null,-1 != X?w:null,wa,sa,F,z,G));});},error:function(h){n(G,function(){h instanceof B && (h.setEntity(H),h.setUser(w));throw h;});}}):(y="" == xa?new Uint8Array(0):null,O=new v(na,Q,!1),new Nb(u,pa,y,-1 != U?H:null,-1 != X?w:null,wa,sa,F,O,G));});};})();db={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(db);(function(){Jb=la.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(h){return this === h?!0:h instanceof Jb?this.scheme == h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});ee=function(q,v,u,z){n(z,function(){var n,w,y;n=u.scheme;w=u.authdata;if(!n || !w)throw new ja(h.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(u));if(!db[n])throw new Ca(h.UNIDENTIFIED_USERAUTH_SCHEME,n);y=q.getUserAuthenticationFactory(n);if(!y)throw new Ca(h.USERAUTH_FACTORY_NOT_FOUND,n);y.createData(q,v,w,z);});};})();nc=la.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,q,n,u){},authenticate:function(h,q,n,u){}});(function(){Yb=Jb.extend({init:function v(h,q){v.base.call(this,db.NETFLIXID);Object.defineProperties(this,{netflixId:{value:h,writable:!1,configurable:!1},secureNetflixId:{value:q,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.netflixid=this.netflixId;this.secureNetflixId && (h.securenetflixid=this.secureNetflixId);return h;},equals:function y(h){return this === h?!0:h instanceof Yb?y.base.call(this,h) && this.netflixId == h.netflixId && this.secureNetflixId == h.secureNetflixId:!1;}});qe=function(q){var n,u;n=q.netflixid;u=q.securenetflixid;if(!n)throw new ja(h.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(q));return new Yb(n,u);};})();Ve=nc.extend({init:function v(){v.base.call(this,db.NETFLIXID);},createData:function(h,q,u,H){n(H,function(){return qe(u);});},authenticate:function(q,n,u,H){if(!(u instanceof Yb))throw new da("Incorrect authentication data type " + u + ".");q=u.secureNetflixId;if(!u.netflixId || !q)throw new Ca(h.NETFLIXID_COOKIES_BLANK).setUser(u);throw new Ca(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(u);}});(function(){oc=Jb.extend({init:function y(h,q){y.base.call(this,db.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:h,writable:!1,configurable:!1},password:{value:q,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.email=this.email;h.password=this.password;return h;},equals:function z(h){return this === h?!0:h instanceof oc?z.base.call(this,this,h) && this.email == h.email && this.password == h.password:!1;}});re=function(q){var n,w;n=q.email;w=q.password;if(!n || !w)throw new ja(h.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(q));return new oc(n,w);};})();We=nc.extend({init:function y(){y.base.call(this,db.EMAIL_PASSWORD);},createData:function(h,q,u,w){n(w,function(){return re(u);});},authenticate:function(q,n,u,w){if(!(u instanceof oc))throw new da("Incorrect authentication data type " + u + ".");q=u.password;if(!u.email || !q)throw new Ca(h.EMAILPASSWORD_BLANK).setUser(u);throw new Ca(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(u);}});(function(){var w,F,O,ca,Ha,ra,Q,pa;function q(h,q){return "<" + h + ">" + q + "</" + h + ">";}function u(h){return h.replace(/[<>&"']/g,function(h){return Ha[h];});}function H(h){return encodeURIComponent(h).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}w=Kc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};F=la.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});O=pd=F.extend({init:function(q,w,u,y,z,F,H){var U;function B(y){n(H,function(){var n,F;try{F={};F.useridtoken=q;F.action=w;F.nonce=u;F.pin=ta(y);n=Ta(JSON.stringify(F),Na);}catch(Mb){throw new ja(h.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Mb);}z.sign(n,{result:function(h){Q(n,h);},error:H.error});},U);}function Q(h,z){n(H,function(){Object.defineProperties(this,{_userIdToken:{value:q,writable:!1,enumerable:!1,configurable:!1},_action:{value:w,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:u,writable:!1,enumerable:!1,configurable:!1},_pin:{value:y,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:h,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});return this;},U);}U=this;n(H,function(){F?Q(F.encoding,F.signature):z.encrypt(Ta(y,Na),{result:function(h){B(h);},error:H.error});},U);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this === h?!0:h instanceof O?this._action == h._action && this._nonce == h._nonce && this._pin == h._pin && this._userIdToken.equals(h._userIdToken):!1;}});pd.ACTION="userauth";ca=function(q,w,u,y,z){function F(y){n(z,function(){var F,Q,U,S,X,ca;F=Va(u,Na);try{ca=JSON.parse(F);Q=ca.useridtoken;U=ca.action;S=ca.nonce;X=ca.pin;}catch(f){if(f instanceof SyntaxError)throw new ja(h.JSON_PARSE_ERROR,"MDX authdata " + F,f);throw f;}if(!(Q && "object" === typeof Q && U && "string" === typeof U && S && "number" === typeof S && X) || "string" !== typeof X)throw new ja(h.JSON_PARSE_ERROR,"MDX authdata " + F);Vb(q,Q,w,{result:function(f){n(z,function(){if(!f.isDecrypted())throw new Ca(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + F);H(y,f,U,S,X);});},error:function(f){n(z,function(){if(f instanceof B)throw new Ca(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + F,f);throw f;});}});});}function H(h,q,w,F,H){n(z,function(){var B;B=ua(H);h.decrypt(B,{result:function(h){n(z,function(){var f;f=Va(h,Na);new O(q,w,F,f,null,{encoding:u,signature:y},z);});},error:z.error});});}n(z,function(){var H,B;try{B=q.getMslStore().getCryptoContext(w);H=B?B:new kb(q,w);}catch(yb){if(yb instanceof Sb)throw new Ca(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + ta(u));throw yb;}H.verify(u,y,{result:function(q){n(z,function(){if(!q)throw new M(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + ta(u));F(H);});},error:z.error});});};Ha={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};ra=pc=F.extend({init:function(h,n,w,y){var z,F;z=q("action",u(h));F=q("nonce",n.toString());w=q("pin",w);z=q("registerdata",z + F + w);z=Ta(z,"utf-8");Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:n,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:z,writable:!1,enumerable:!1,configurable:!1},_signature:{value:y,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this === h?!0:h instanceof ra?this._action == h._action && this._nonce == h._nonce && this._pin == h._pin:!1;}});pc.ACTION="regpairrequest";Q=qd=F.extend({init:function(h,w,y,z,F,B){var S;function Q(y){n(B,function(){var n,F,Q,S,f;n=ta(y);F=q("action",u(h));Q=q("nonce",w.toString());S=q("pin",n);F=q("registerdata",F + Q + S);f=Ta(F,"utf-8");n="action=" + H(h) + "&nonce=" + H(w.toString()) + "&pin=" + H(n);z.sign(Ta(n,"utf-8"),{result:function(b){U(f,b);},error:B.error});},S);}function U(q,u){n(B,function(){Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:w,writable:!1,enumerable:!1,configurable:!1},_pin:{value:y,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:q,writable:!1,enumerable:!1,configurable:!1},_signature:{value:u,writable:!1,enumerable:!1,configurable:!1}});return this;},S);}S=this;n(B,function(){F?U(F.encoding,F.signature):z.encrypt(Ta(y,"utf-8"),{result:function(h){Q(h);},error:B.error});},S);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this === h?!0:h instanceof Q?this._action == h._action && this._nonce == h._nonce && this._pin == h._pin:!1;}});qd.ACTION=pc.ACTION;pa=function(q,w,u,y,z){n(z,function(){var F,B,S,U,ca,X,O;F=q.getMslStore().getCryptoContext(w);B=F?F:new kb(q,w);F=Va(u,"utf-8");S=new DOMParser().parseFromString(F,"application/xml");F=S.getElementsByTagName("action");U=S.getElementsByTagName("nonce");S=S.getElementsByTagName("pin");ca=F && 1 == F.length && F[0].firstChild?F[0].firstChild.nodeValue:null;X=U && 1 == U.length && U[0].firstChild?parseInt(U[0].firstChild.nodeValue):null;O=S && 1 == S.length && S[0].firstChild?S[0].firstChild.nodeValue:null;if(!ca || !X || !O)throw new ja(h.XML_PARSE_ERROR,"MDX authdata " + ta(u));F="action=" + H(ca) + "&nonce=" + H(X.toString()) + "&pin=" + H(O);B.verify(Ta(F,"utf-8"),y,{result:function(q){n(z,function(){var w;if(!q)throw new M(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + ta(u));w=ua(O);B.decrypt(w,{result:function(f){n(z,function(){var b;b=Va(f,"utf-8");new Q(ca,X,b,null,{encoding:u,signature:y},z);});},error:z.error});});},error:z.error});});};fc=Jb.extend({init:function X(h,q,n,u,y,F){var z,H,B,Q,S,ca;X.base.call(this,db.MDX);z=null;H=null;B=null;if("string" === typeof n)(h=w.MSL_LEGACY,B=n);else if(n instanceof Uint8Array)(h=w.NTBA,H=n);else if(n instanceof jb)(h=w.MSL,z=n);else throw new TypeError("Controller token " + n + " is not a master token, encrypted CTicket, or MSL token construct.");Q=n=null;S=null;if(F){ca=F.controllerAuthData;n=ca.getAction();Q=ca.getPin();F=F.userIdToken;ca instanceof O?S=ca.getUserIdToken().customer:F && (S=F.customer);}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},action:{value:n,writable:!1,configurable:!1},targetPin:{value:q,writable:!1,configurable:!1},controllerPin:{value:Q,writable:!1,configurable:!1},customer:{value:S,writable:!1,configurable:!1},_masterToken:{value:z,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:H,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:B,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:u,writable:!1,enumerable:!1,configurable:!1},_signature:{value:y,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var h,q;h={};switch(this.mechanism){case w.MSL:q=JSON.parse(JSON.stringify(this._masterToken));h.mastertoken=q;break;case w.NTBA:q=Va(this._encryptedCTicket,"utf-8");h.cticket=q;break;case w.MSL_LEGACY:h.cticket=this._mslTokens;break;default:throw new da("Unsupported MDX mechanism.");}h.pin=this.targetPin;h.mdxauthdata=ta(this._controllerEncoding);h.signature=ta(this._signature);return h;},equals:function wa(h){return this === h?!0:h instanceof fc?wa.base.call(this,h) && (this._masterToken == h._masterToken || this._masterToken && this._masterToken.equals(h._masterToken)) && (this._encryptedCTicket == h._encryptedCTicket || this._encryptedCTicket && Za(this._encryptedCTicket,h._encryptedCTicket)) && this._mslTokens == h._mslTokens && Za(this._controllerEncoding,h._controllerEncoding) && Za(this._signature,h._signature):!1;}});se=function(q,w,u){function y(y,F,z,H){Ub(q,F,{result:function(F){n(u,function(){if(!F.isDecrypted())throw new Ca(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + w.toString());ca(q,F,z,H,{result:function(h){n(u,function(){var f,b;f=h.getEncoding();b=h.getSignature();return new fc(q,y,F,f,b,{controllerAuthData:h,userIdToken:null});});},error:u.error});});},error:function(q){n(u,function(){if(q instanceof B)throw new Ca(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(w),q);throw q;});}});}function F(q,w,y,F){n(u,function(){throw new Ca(h.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function z(y,F,z,H){function Q(f,b){n(b,function(){var a,c;try{a=ua(f);}catch(l){throw new Ca(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(w),l);}if(!a || 0 == a.length)throw new Ca(h.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(w));try{c=JSON.parse(Va(a,"utf-8"));Ub(q,c,{result:function(a){n(b,function(){if(!a.isDecrypted())throw new Ca(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + w.toString());return a;});},error:function(a){n(b,function(){if(a instanceof B)throw new Ca(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(w),a);throw a;});}});}catch(l){if(l instanceof SyntaxError)throw new ja(h.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(w),l);throw l;}});}function ca(f,b,a){n(a,function(){var c,l;try{c=ua(f);}catch(k){throw new Ca(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(w),k);}if(!c || 0 == c.length)throw new Ca(h.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(w));try{l=JSON.parse(Va(c,"utf-8"));Vb(q,l,b,{result:function(b){n(a,function(){if(!b.isDecrypted())throw new Ca(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(w));return b;});},error:function(b){n(a,function(){if(b instanceof B)throw new Ca(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(w),b);throw b;});}});}catch(k){if(k instanceof SyntaxError)throw new ja(h.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(w),k);throw k;}});}n(u,function(){var f;f=F.split(",");if(3 != f.length || "1" != f[0])throw new Ca(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(w));Q(f[1],{result:function(b){ca(f[2],b,{result:function(a){pa(q,b,z,H,{result:function(b){n(u,function(){return new fc(q,y,F,z,H,{controllerAuthData:b,userIdToken:a});});},error:function(a){n(u,function(){if(a instanceof Sb)throw new Ca(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(w),a);throw a;});}});},error:u.error});},error:u.error});});}n(u,function(){var q,n,u,H,B;q=w.pin;n=w.mdxauthdata;u=w.signature;if(!q || "string" !== typeof q || !n || "string" !== typeof n || !u || "string" !== typeof u)throw new ja(h.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(w));try{H=ua(n);B=ua(u);}catch(Mb){throw new Ca(h.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(w),Mb);}if(w.mastertoken){n=w.mastertoken;if(!n || "object" !== typeof n)throw new ja(h.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(w));y(q,n,H,B);}else if(w.cticket){n=w.cticket;if(!n || "string" !== typeof n)throw new ja(h.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(w));-1 == n.indexOf(",")?F(q,n,H,B):z(q,n,H,B);}else throw new Ca(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(w));});};})();(function(){var q,n,u;q=pd.ACTION;n=pc.ACTION;u=qd.ACTION;te=nc.extend({init:function F(){F.base.call(this,db.MDX);},createData:function(h,q,n,u){se(h,n,u);},authenticate:function(y,z,H,B){if(!(H instanceof fc))throw new da("Incorrect authentication data type " + H.getClass().getName() + ".");y=H.action;switch(H.mechanism){case Kc.MSL:if(q != y)throw new Ca(h.MDX_USERAUTH_ACTION_INVALID).setUser(H);break;case Kc.NTBA:if(n != y)throw new Ca(h.MDX_USERAUTH_ACTION_INVALID).setUser(H);break;case Kc.MSL_LEGACY:if(u != y)throw new Ca(h.MDX_USERAUTH_ACTION_INVALID).setUser(H);}y=H.controllerPin;z=H.targetPin;if(!y || !z)throw new Ca(h.MDX_PIN_BLANK).setUser(H);if(y != z)throw new Ca(h.MDX_PIN_MISMATCH).setUser(H);y=H.customer;if(!y)throw new Ca(h.MDX_USER_UNKNOWN).setUser(H);if(B && (B=B.customer,!y.equals(B)))throw new Ca(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + y + "; uit customer " + B).setUser(H);return y;}});})();(function(){var q,n,u;q={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};n=ve=la.Class.create({init:function(h,q){Object.defineProperties(this,{email:{value:h,writable:!1,enumerable:!0,configurable:!1},password:{value:q,writable:!1,enumerable:!0,configurable:!1}});}});u=we=la.Class.create({init:function(h,q){Object.defineProperties(this,{netflixId:{value:h,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:q,writable:!1,enumerable:!0,configurable:!1}});}});qc=Jb.extend({init:function F(h,q,y,z){var H,B,U,ca;F.base.call(this,db.SSO);H=null;B=null;U=null;ca=null;y instanceof n?(H=y.email,B=y.password):y instanceof u && (U=y.netflixId,ca=y.secureNetflixId);Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},token:{value:q,writable:!1,configurable:!1},email:{value:H,writable:!1,configurable:!1},password:{value:B,writable:!1,configurable:!1},netflixId:{value:U,writable:!1,configurable:!1},secureNetflixId:{value:ca,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof z?null:z,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.mechanism=this.mechanism;h.token=ta(this.token);this.email && this.password?(h.email=this.email,h.password=this.password):this.netflixId && this.secureNetflixId && (h.netflixid=this.netflixId,h.securenetflixid=this.secureNetflixId);this.profileGuid && (h.profileguid=this.profileGuid);return h;},equals:function na(h){return this === h?!0:h instanceof qc?na.base.call(this,h) && this.mechanism == h.mechanism && Za(this.token,h.token) && this.email == h.email && this.password == h.password && this.netflixId == h.netflixId && this.secureNetflixId == h.secureNetflixId && this.profileGuid == h.profileGuid:!1;}});ue=function(y){var z,H,B,Q,O,U,X,na,S;z=y.mechanism;H=y.token;if(!z || !H || "string" !== typeof H)throw new ja(h.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(y));if(!q[z])throw new Ca(h.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(y));B=y.email;Q=y.password;O=y.netflixid;U=y.securenetflixid;X=y.profileguid;if(B && !Q || !B && Q || O && !U || !O && U || B && O)throw new ja(h.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(y));try{na=ua(H);}catch(xa){throw new Ca(h.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(y),xa);}B && Q?S=new n(B,Q):O && U && (S=new u(O,U));return new qc(z,na,S,X);};})();Xe=nc.extend({init:function z(){z.base.call(this,db.SSO);},createData:function(h,q,w,u){n(u,function(){return ue(w);});},authenticate:function(q,n,w,u){var z,F;if(!(w instanceof qc))throw new da("Incorrect authentication data type " + w + ".");q=w.token;n=w.email;u=w.password;z=w.netflixId;F=w.secureNetflixId;if(!q || 0 == q.length)throw new Ca(h.SSOTOKEN_BLANK);if(!(null === n && null === u || n && u))throw new Ca(h.EMAILPASSWORD_BLANK);if(!(null === z && null === F || z && F))throw new Ca(h.NETFLIXID_COOKIES_BLANK).setUser(w);throw new Ca(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(w);}});(function(){rc=Jb.extend({init:function H(h,q){H.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:h,writable:!1,configurable:!1},profileGuid:{value:q,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));h.profileguid=this.profileGuid;return h;},equals:function w(h){return this == h?!0:h instanceof rc?w.base.call(this,h) && this.userIdToken.equals(h.userIdToken) && this.profileGuid == h.profileGuid:!1;}});xe=function(q,u,B,O){n(O,function(){var w,F;if(!u)throw new Ca(h.USERAUTH_MASTERTOKEN_MISSING);w=B.useridtoken;F=B.profileguid;if("object" !== typeof w || "string" !== typeof F)throw new ja(h.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(B));Vb(q,w,u,{result:function(q){n(O,function(){if(!q.isDecrypted())throw new Ca(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(B));return new rc(q,F);});},error:function(q){O.error(new Ca(h.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(B),q));}});});};})();Ye=nc.extend({init:function H(h){H.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,q,n,u){xe(h,q,n,u);},authenticate:function(q,n,u,B){if(!(u instanceof rc))throw new da("Incorrect authentication data type " + u + ".");n=u.userIdToken;q=u.profileGuid;if(!q)throw new Ca(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(u);n=n.user;if(!n)throw new Ca(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(u);q=this._store.switchUsers(n,q);if(!q)throw new Ca(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(u);if(B && (B=B.user,!q.equals(B)))throw new Ca(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + q + "; uit user " + B).setUserAuthenticationData(u);return q;}});Object.freeze({ENTITY_REAUTH:q.ENTITY_REAUTH,ENTITYDATA_REAUTH:q.ENTITYDATA_REAUTH});Ze=la.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(h,q){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(h){},getUserAuthenticationFactory:function(h){},getTokenFactory:function(){},getKeyExchangeFactory:function(h){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ye=la.Class.create({setCryptoContext:function(h,q){},getMasterToken:function(){},getNonReplayableId:function(h){},getCryptoContext:function(h){},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,q){},getUserIdToken:function(h){},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(h,q){},removeServiceTokens:function(h,q,n){},clearServiceTokens:function(){}});(function(){var q;q=Qb;nd=function(n,u){var w;w={};switch(n){case q.LZW:return Ad(u,w);case q.GZIP:return gzip$compress(u);default:throw new B(h.UNSUPPORTED_COMPRESSION,n);}};Hc=function(n,u,H){switch(n){case q.LZW:return Bd(u);case q.GZIP:return gzip$uncompress(u);default:throw new B(h.UNSUPPORTED_COMPRESSION,n.name());}};})();ye.extend({setCryptoContext:function(h,q){},getMasterToken:function(){return null;},getNonReplayableId:function(h){return 1;},getCryptoContext:function(h){return null;},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,q){},getUserIdToken:function(h){return null;},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(q,n){if(n){if(!q)throw new B(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(q))throw new B(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + n.mtSerialNumber + "; mt " + q.serialNumber);}return [];},removeServiceTokens:function(q,n,u){if(u && n && !u.isBoundTo(n))throw new B(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + u.masterTokenSerialNumber + "; mt " + n.serialNumber);},clearServiceTokens:function(){}});(function(){ze=ye.extend({init:function w(){w.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(h,q){var n;if(q){n=h.uniqueKey();this.masterTokens[n]=h;this.cryptoContexts[n]=q;}else this.removeCryptoContext(h);},getMasterToken:function(){var h,q,n;h=null;for(q in this.masterTokens){n=this.masterTokens[q];if(!h || n.isNewerThan(h))h=n;}return h;},getNonReplayableId:function(h){var q;h=h.serialNumber;q=this.nonReplayableIds[h] !== fa?this.nonReplayableIds[h]:0;if(0 > q || q > Oa)throw new da("Non-replayable ID " + q + " is outside the valid range.");q=q == Oa?0:q + 1;return this.nonReplayableIds[h]=q;},getCryptoContext:function(h){return this.cryptoContexts[h.uniqueKey()];},removeCryptoContext:function(h){var q,n,u,w;q=h.uniqueKey();if(this.masterTokens[q]){n=h.serialNumber;for(u in this.masterTokens){w=this.masterTokens[u];if(!w.equals(h) && w.serialNumber == n){delete this.masterTokens[q];delete this.cryptoContexts[q];return;}}Object.keys(this.userIdTokens).forEach(function(q){q=this.userIdTokens[q];q.isBoundTo(h) && this.removeUserIdToken(q);},this);try{this.removeServiceTokens(null,h,null);}catch(ra){if(ra instanceof B)throw new da("Unexpected exception while removing master token bound service tokens.",ra);throw ra;}delete this.nonReplayableIds[n];delete this.masterTokens[q];delete this.cryptoContexts[q];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(h){for(var q in h){delete h[q];}},this);},addUserIdToken:function(q,n){var u,w;u=!1;for(w in this.masterTokens){if(n.isBoundTo(this.masterTokens[w])){u=!0;break;}}if(!u)throw new B(h.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + n.mtSerialNumber);this.userIdTokens[q]=n;},getUserIdToken:function(h){return this.userIdTokens[h];},removeUserIdToken:function(h){var q,n,u;q=null;for(n in this.masterTokens){u=this.masterTokens[n];if(h.isBoundTo(u)){q=u;break;}}Object.keys(this.userIdTokens).forEach(function(n){if(this.userIdTokens[n].equals(h)){try{this.removeServiceTokens(null,q,h);}catch(ra){if(ra instanceof B)throw new da("Unexpected exception while removing user ID token bound service tokens.",ra);throw ra;}delete this.userIdTokens[n];}},this);},clearUserIdTokens:function(){for(var h in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[h]);}},addServiceTokens:function(q){q.forEach(function(q){var n,u,w;if(q.isMasterTokenBound()){n=!1;for(u in this.masterTokens){if(q.isBoundTo(this.masterTokens[u])){n=!0;break;}}if(!n)throw new B(h.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + q.mtSerialNumber);}if(q.isUserIdTokenBound()){n=!1;for(w in this.userIdTokens){if(q.isBoundTo(this.userIdTokens[w])){n=!0;break;}}if(!n)throw new B(h.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + q.uitSerialNumber);}},this);q.forEach(function(h){var q;if(h.isUnbound())this.unboundServiceTokens[h.uniqueKey()]=h;else {if(h.isMasterTokenBound()){q=this.mtServiceTokens[h.mtSerialNumber];q || (q={});q[h.uniqueKey()]=h;this.mtServiceTokens[h.mtSerialNumber]=q;}h.isUserIdTokenBound() && ((q=this.uitServiceTokens[h.uitSerialNumber]) || (q={}),q[h.uniqueKey()]=h,this.uitServiceTokens[h.uitSerialNumber]=q);}},this);},getServiceTokens:function(q,n){var u,w,F;if(n){if(!q)throw new B(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(q))throw new B(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + n.mtSerialNumber + "; mt " + q.serialNumber);}u={};for(w in this.unboundServiceTokens){F=this.unboundServiceTokens[w];u[F.uniqueKey()]=F;}if(q && (w=this.mtServiceTokens[q.serialNumber]))for(var O in w){F=w[O];F.isUserIdTokenBound() || (u[O]=F);}if(n && (O=this.uitServiceTokens[n.serialNumber]))for(var Q in O){w=O[Q];w.isBoundTo(q) && (u[Q]=w);}Q=[];for(var pa in u){Q.push(u[pa]);}return Q;},removeServiceTokens:function(q,n,u){var w,F,O;if(u && n && !u.isBoundTo(n))throw new B(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + u.mtSerialNumber + "; mt " + n.serialNumber);!q || n || u || Object.keys(this.unboundServiceTokens).forEach(function(h){this.unboundServiceTokens[h].name == q && delete this.unboundServiceTokens[h];},this);n && !u && (w=this.mtServiceTokens[n.serialNumber]) && (O=Object.keys(w),O.forEach(function(h){var n;n=w[h];q && n.name != q || delete w[h];},this),this.mtServiceTokens[n.serialNumber]=w);u && (F=this.uitServiceTokens[u.serialNumber]) && (n=Object.keys(F),n.forEach(function(h){var n;n=F[h];q && n.name != q || delete F[h];},this),this.uitServiceTokens[u.serialNumber]=F);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(h){for(var q in h){delete h[q];}},this);}});})();Ie=Se.extend({init:function w(){w.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(h,q){var n;if(q && h && h.length){n=ta(h);this._contextMap[n]=q;}},getCryptoContext:function(h){return h && h.length?(h=ta(h),this._contextMap[h] || null):null;},removeCryptoContext:function(h){h && h.length && (h=ta(h),delete this._contextMap[h]);}});Ae=Le.extend({init:function F(h,q,n,u){F.base.call(this,h);Object.defineProperties(this,{_kde:{value:q,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:u,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(q,n){if(!(n instanceof ob))throw new da("Incorrect authentication data type " + JSON.stringify(n) + ".");if(n.identity != this.localIdentity)throw new zb(h.ENTITY_NOT_FOUND,"mgk " + n.identity);return new Ac(q,this.localIdentity,this._kde,this._kdh,this._kdw);}});$e=Ld.extend({init:function na(h,q,n,u){na.base.call(this,h);Object.defineProperties(this,{_kpe:{value:q,writable:!1,enumerable:!1,configurable:!1},_kph:{value:n,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:u,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(q,n){if(!(n instanceof ub))throw new da("Incorrect authentication data type " + JSON.stringify(n) + ".");if(n.identity != this.localIdentity)throw new zb(h.ENTITY_NOT_FOUND,"psk " + n.identity);return new Ac(q,this.localIdentity,this._kpe,this._kph,this._kpw);}});bf=ze.extend({init:function ca(h,q,n,u,B,O){ca.base.call(this);this._log=h;this._esn=q;this._keyRequestData=n;this._createKeyRequestData=u;this._systemKeyName=B;this._systemKeyWrapFormat=O;},setCryptoContext:function Ha(h,q,n){var u;u=this;u._log.trace("Adding MasterToken",{SequenceNumber:h.sequenceNumber,SerialNumber:h.serialNumber,Expiration:h.expiration.getTime()});Ha.base.call(this,h,q);!n && (h=u._createKeyRequestData) && (u._log.trace("Generating new keyx request data"),h().then(function(h){u._keyRequestData=h;},function(h){u._log.error("Unable to generate new keyx request data","" + h);}));},addUserIdToken:function ra(h,q){this._log.trace("Adding UserIdToken",{UserId:h,SerialNumber:q.serialNumber,MTSerialNumber:q.mtSerialNumber,Expiration:q.expiration.getTime()});ra.base.call(this,h,q);},addServiceTokens:function Q(h){Q.base.call(this,h.filter(function(h){return !af[h.name];}));},getUserIdTokenKeys:function(){var h,q;h=[];for(q in this.userIdTokens){h.push(q);}return h;},rekeyUserIdToken:function(h,q){this.userIdTokens[h] && (this.userIdTokens[q]=this.userIdTokens[h],delete this.userIdTokens[h]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(h){var q;q=this;n(h,function(){var u;u=q.getMasterToken();u?q.getKeysForStore(u,{result:function(B){n(h,function(){var h,n,Q;h=q.userIdTokens;n=Object.keys(h).map(function(n){var B;B=h[n];return {userId:n,userIdTokenJSON:h[n].toJSON(),serviceTokenJSONList:q.getServiceTokens(u,B).map(Fe)};});B.esn=q._esn;B.masterTokenJSON=u.toJSON();B.userList=n;Q=q._keyRequestData.storeData;Q && Object.keys(Q).forEach(function(h){B[h]=Q[h];});return B;});},timeout:h.timeout,error:h.error}):h.result(null);});},getKeysForStore:function(q,u){var Q;Q=this;n(u,function(){var n;n=Q.getCryptoContext(q);n={encryptionKey:n.encryptionKey,hmacKey:n.hmacKey};if(n.encryptionKey && n.hmacKey){if(Q._systemKeyWrapFormat)Q.wrapKeysWithSystemKey(n,u);else return n;}else throw new B(h.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(q,u){var Q;Q=this;ud(this._systemKeyName,{result:function(U){n(u,function(){var n,O,X,M;n=q.encryptionKey;O=q.hmacKey;X=n[gc];M=O[gc];if(X && M)return {wrappedEncryptionKey:X,wrappedHmacKey:M};Promise.resolve().then(function(){return Promise.all([Ma.wrapKey(Q._systemKeyWrapFormat,n,U,U.algorithm),Ma.wrapKey(Q._systemKeyWrapFormat,O,U,U.algorithm)]);}).then(function(h){X=ta(h[0]);n[gc]=X;M=ta(h[1]);O[gc]=M;u.result({wrappedEncryptionKey:X,wrappedHmacKey:M});})["catch"](function(q){u.error(new B(h.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",q));});});},timeout:u.timeout,error:u.error});},unwrapKeysWithSystemKey:function(q,u){var Q;Q=this;ud(this._systemKeyName,{result:function(O){n(u,function(){var n,U;n=ua(q.wrappedEncryptionKey);U=ua(q.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ma.unwrapKey(Q._systemKeyWrapFormat,n,O,O.algorithm,sb,!1,Kb),Ma.unwrapKey(Q._systemKeyWrapFormat,U,O,O.algorithm,tb,!1,Tb)]);}).then(function(h){var n;n=h[0];h=h[1];n[gc]=q.wrappedEncryptionKey;h[gc]=q.wrappedHmacKey;u.result({encryptionKey:n,hmacKey:h});})["catch"](function(q){u.error(new B(h.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",q));});});},timeout:u.timeout,error:u.error});},loadStoreState:function(h,q,n,u){var O,U;function B(h,u){var B;try{B=n.userList.slice();}catch(yb){}B?(function Ib(){var n;n=B.shift();n?Vb(q,n.userIdTokenJSON,h,{result:function(q){try{O.addUserIdToken(n.userId,q);Q(h,q,n.serviceTokenJSONList,{result:Ib,timeout:Ib,error:Ib});}catch(Mb){Ib();}},timeout:Ib,error:Ib}):u.result();})():u.result();}function Q(h,n,u,B){var Q,U;try{Q=u.slice();}catch(ma){}if(Q){U=O.getCryptoContext(h);(function Mb(){var f;f=Q.shift();f?Gc(q,f,h,n,U,{result:function(b){O.addServiceTokens([b]);Mb();},timeout:function(){Mb();},error:function(){Mb();}}):B.result();})();}else B.result();}O=this;U=O._log;n.esn != O._esn?(U.error("Esn mismatch, starting fresh"),u.error()):(function(u){var S,X,M,xa;function B(){var n;if(!S && X && M && xa){S=!0;n=new kb(q,X,h.esn,{rawKey:M},{rawKey:xa});O.setCryptoContext(X,n,!0);u.result(X);}}function Q(h,f){U.error(h,f && "" + f);S || (S=!0,u.error());}n.masterTokenJSON?(Ub(q,n.masterTokenJSON,{result:function(h){X=h;B();},timeout:function(){Q("Timeout parsing MasterToken");},error:function(h){Q("Error parsing MasterToken",h);}}),O._systemKeyWrapFormat?O.unwrapKeysWithSystemKey(n,{result:function(h){M=h.encryptionKey;xa=h.hmacKey;B();},timeout:function(){Q("Timeout unwrapping keys");},error:function(h){Q("Error unwrapping keys",h);}}):Promise.resolve().then(function(){return Ma.encrypt({name:sb.name,iv:new Uint8Array(16)},n.encryptionKey,new Uint8Array(1));}).then(function(h){M=n.encryptionKey;})["catch"](function(h){Q("Error loading encryptionKey");}).then(function(){return Ma.sign(tb,n.hmacKey,new Uint8Array(1));}).then(function(h){xa=n.hmacKey;B();})["catch"](function(h){Q("Error loading hmacKey");})):Q("Persisted store is corrupt");})({result:function(h){B(h,u);},timeout:u.timeout,error:u.error});}});af={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};gc="$netflix$msl$wrapsys";cf=Ze.extend({init:function(h,q,n,u,B,O){var Q,U;Q=new lc([Qb.LZW]);U=new Ne();U.addPublicKey(q,n);u[Qa.RSA]=new Me(U);q={};q[db.EMAIL_PASSWORD]=new We();q[db.NETFLIXID]=new Ve();q[db.MDX]=new te();q[db.SSO]=new Xe();q[db.SWITCH_PROFILE]=new Ye();h={_mslCryptoContext:{value:new Ke(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Q,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:B,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:u,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:q,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:O,writable:!1,enumerable:!1,configurable:!1},_store:{value:h,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},getTime:function(){return Date.now();},getRandom:function(){return new Fd();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(h,q){q.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(h){return this._entityAuthFactories[h];},getUserAuthenticationFactory:function(h){return this._userAuthFactories[h];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(h){return this._keyExchangeFactories.filter(function(q){return q.scheme == h;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});wd=ne.extend({init:function(h,q,n,u){this._log=h;this._mslContext=q;this._mslRequest=n;this._keyRequestData=u;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(h,q,u,B){var Q,O;Q=this._mslRequest;O=this._mslContext;n(B,function(){var q,n;if(h || !Q.shouldSendUserAuthData)return null;if(Q.token){Q.email?q=new ve(Q.email,Q.password):Q.netflixId && (q=new we(Q.netflixId,Q.secureNetflixId));n="undefined" === typeof Q.profileGuid?null:Q.profileGuid;return new qc(Q.mechanism,Ta(Q.token),q,n);}return Q.email?new oc(Q.email,Q.password):Q.netflixId?new Yb(Q.netflixId,Q.secureNetflixId):Q.mdxControllerToken?(q=new pc("regpairrequest",Q.mdxNonce,Q.mdxEncryptedPinB64,Q.mdxSignature).getEncoding(),new fc(O,Q.mdxPin,Q.mdxControllerToken,q,Q.mdxSignature)):Q.useNetflixUserAuthData?new Yb():Q.profileGuid?(q=Q.userId,q=O.getMslStore().userIdTokens[q],new rc(q,Q.profileGuid)):u && Q.sendUserAuthIfRequired?new Yb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(h){h.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(h,q,n){var u,B,Q,O,U,M;u=this._log;B=(this._mslRequest.serviceTokens || []).slice();Q=this._mslContext;q=Q.getMslStore();O=h.builder.getMasterToken();U=this.getUserId();M=q.getUserIdToken(U);(function ga(){var q;q=B.shift();if(q)try{q instanceof Nb?(h.addPrimaryServiceToken(q),ga()):Gc(Q,q,O,M,null,{result:function(q){try{h.addPrimaryServiceToken(q);}catch(gd){u.warn("Exception adding service token","" + gd);}ga();},timeout:function(){u.warn("Timeout parsing service token");ga();},error:function(h){u.warn("Error parsing service token","" + h);ga();}});}catch(Ib){u.warn("Exception processing service token","" + Ib);ga();}else n.result(!0);})();},write:function(h,q,n){var u;u=Ta(this._mslRequest.body);h.write(u,0,u.length,q,{result:function(B){B != u.length?n.error(new Ya("Not all data was written to output.")):h.flush(q,{result:function(){n.result(!0);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},getDebugContext:function(){this._dc || (this._dc=new df(this._log,this._mslRequest));return this._dc;}});df=Ue.extend({init:function(h,q){this._log=h;this._mslRequest=q;},sentHeader:function(h){this._log.trace("Sent MSL header",vd(this._mslRequest,h),h.serviceTokens && h.serviceTokens.map(Ge).join("\n"));},receivedHeader:function(h){var q,n;q=vd(this._mslRequest,h);n=h.errorCode;n?this._log.warn("Received MSL error header",q,{errorCode:n,errorMessage:h.errorMessage,internalCode:h.internalCode}):this._log.trace("Received MSL header",q);}});Be={PSK:function(h){return Qc(h,Qa.PSK,$e,ub,hd,Ec);},MGK:function(h){return Qc(h,Qa.MGK,Ae,ob,hd,Ec);},MGK_WITH_FALLBACK:function(q){var n,u;switch(q.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":n="PSK";break;default:n="MGK";}u=Be[n];if(!u)throw new B(h.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + n);return u(q);},MGK_JWE:function(h){return Qc(h,Qa.MGK,Ae,ob,Rd,fd);},JWK_RSA:function(h){return Rc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Fc.JWK_RSA);},JWK_RSAES:function(h){return Rc(h,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Fc.JWK_RSAES);},JWEJS_RSA:function(h){return Rc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Fc.JWEJS_RSA);}};O.netflix=O.netflix || ({});O.netflix.msl={createMslClient:function(q,n){var u,O,Q,S,M;u=q.log;M=q.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Sa && Sa.generateKey && Sa.importKey && Sa.unwrapKey))throw new B(h.INTERNAL_EXCEPTION,"No WebCrypto");fb=Sa.generateKey({name:"AES-CBC",length:128},!0,Kb).then?vc.V2014_02:vc.LEGACY;M("mslisik");return Ma.importKey("spki",q.serverIdentityKeyData,Gd,!1,["verify"]);}).then(function(q){return new Promise(function(n,u){Pb(q,{result:n,error:function(){u(new B(h.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(n){O=n;if(n=Be[q.authenticationType])return (M("mslcc"),n(q));throw new B(h.INTERNAL_EXCEPTION,"Invalid authenticationType: " + q.authenticationType);}).then(function(h){var n;Q=new bf(u,q.esn,h.keyRequestData,h.createKeyRequestData,q.authenticationKeyNames.s,q.systemKeyWrapFormat);S=new cf(Q,q.serverIdentityId,O,h.entityAuthFactories,h.entityAuthData,h.keyExchangeFactories);n=q.storeState;if(n)return (M("mslss"),u.info("Loading store state"),new Promise(function(h,u){Q.loadStoreState(q,S,n,{result:h,timeout:h,error:h});}));u.info("No store state, starting fresh");}).then(function(){var h;h=new oe();M("msldone");n.result(new He(u,h,S,Q,q.ErrorSubCodes));})["catch"](function(h){n.error(h);});},IHttpLocation:Qe,MslIoException:Ya};(function(){var ua,ma,Ca;function h(){h=function(){};ma.Symbol || (ma.Symbol=q);}function q(f){return "jscomp_symbol_" + (f || "") + Ca++;}function n(){var f;h();f=ma.Symbol.iterator;f || (f=ma.Symbol.iterator=ma.Symbol("iterator"));"function" != typeof Array.prototype[f] && ua(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return u(this);}});n=function(){};}function u(f){var b;b=0;return B(function(){return b < f.length?{done:!1,value:f[b++]}:{done:!0};});}function B(f){n();f={next:f};f[ma.Symbol.iterator]=function(){return this;};return f;}function S(f){var b;n();h();n();b=f[Symbol.iterator];return b?b.call(f):u(f);}function M(f,b){var l;function a(){}a.prototype=b.prototype;f.prototype=new a();f.prototype.constructor=f;for(var c in b){if(Object.defineProperties){l=Object.getOwnPropertyDescriptor(b,c);l && Object.defineProperty(f,c,l);}else f[c]=b[c];}}function da(f){if(!(f instanceof Array)){f=S(f);for(var b,a=[];!(b=f.next()).done;){a.push(b.value);}f=a;}return f;}function ja(f,b){var a,l;if(b){a=ma;f=f.split(".");for(var c=0;c < f.length - 1;c++){l=f[c];(l in a) || (a[l]={});a=a[l];}f=f[f.length - 1];c=a[f];b=b(c);b != c && null != b && ua(a,f,{configurable:!0,writable:!0,value:b});}}function fa(f,b){return Object.prototype.hasOwnProperty.call(f,b);}function ga(f,b){var a,c;n();f instanceof String && (f+="");a=0;c={next:function(){var l;if(a < f.length){l=a++;return {value:b(l,f[l]),done:!1};}c.next=function(){return {done:!0,value:void 0};};return c.next();}};c[Symbol.iterator]=function(){return c;};return c;}function la(f,b,a){if(null == f)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return f + "";}function ta(f,b,a){var k;f instanceof String && (f=String(f));for(var c=f.length,l=0;l < c;l++){k=f[l];if(b.call(a,k,l,f))return {kk:l,S5:k};}return {kk:-1,S5:void 0};}ua="function" == typeof Object.defineProperties?Object.defineProperty:function(f,b,a){if(a.get || a.set)throw new TypeError("ES3 does not support getters and setters.");f != Array.prototype && f != Object.prototype && (f[b]=a.value);};ma="undefined" != typeof O && O === this?this:"undefined" != typeof global && null != global?global:this;Ca=0;ja("Object.setPrototypeOf",function(f){return f?f:"object" != typeof ("").__proto__?null:function(b,a){b.__proto__=a;if(b.__proto__ !== a)throw new TypeError(b + " is not extensible");return b;};});ja("Object.assign",function(f){return f?f:function(b,a){var l;for(var c=1;c < arguments.length;c++){l=arguments[c];if(l)for(var k in l){fa(l,k) && (b[k]=l[k]);}}return b;};});ja("Object.getOwnPropertySymbols",function(f){return f?f:function(){return [];};});ja("Promise",function(f){var c,l;function b(a){var b;this.iT=0;this.xpa=void 0;this.RR=[];b=this.Ifa();try{a(b.resolve,b.reject);}catch(g){b.reject(g);}}function a(){this.Zy=null;}if(f)return f;a.prototype.JHa=function(a){null == this.Zy && (this.Zy=[],this.Bhb());this.Zy.push(a);};a.prototype.Bhb=function(){var a;a=this;this.KHa(function(){a.Krb();});};c=ma.setTimeout;a.prototype.KHa=function(a){c(a,0);};a.prototype.Krb=function(){var a,g;for(;this.Zy && this.Zy.length;){a=this.Zy;this.Zy=[];for(var b=0;b < a.length;++b){g=a[b];delete a[b];try{g();}catch(p){this.Dhb(p);}}}this.Zy=null;};a.prototype.Dhb=function(a){this.KHa(function(){throw a;});};b.prototype.Ifa=function(){var b,g;function a(a){return function(d){g || (g=!0,a.call(b,d));};}b=this;g=!1;return {resolve:a(this.qMb),reject:a(this.apa)};};b.prototype.qMb=function(a){var l;if(a === this)this.apa(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.MOb(a);else {a:switch(typeof a){case "object":l=null != a;break a;case "function":l=!0;break a;default:l=!1;}l?this.pMb(a):this.iNa(a);}};b.prototype.pMb=function(a){var b;b=void 0;try{b=a.then;}catch(g){this.apa(g);return;}"function" == typeof b?this.NOb(b,a):this.iNa(a);};b.prototype.apa=function(a){this.qZa(2,a);};b.prototype.iNa=function(a){this.qZa(1,a);};b.prototype.qZa=function(a,b){if(0 != this.iT)throw Error("Cannot settle(" + a + ", " + b | "): Promise already settled in state" + this.iT);this.iT=a;this.xpa=b;this.Lrb();};b.prototype.Lrb=function(){if(null != this.RR){for(var a=this.RR,b=0;b < a.length;++b){a[b].call();a[b]=null;}this.RR=null;}};l=new a();b.prototype.MOb=function(a){var b;b=this.Ifa();a.bZ(b.resolve,b.reject);};b.prototype.NOb=function(a,b){var g;g=this.Ifa();try{a.call(b,g.resolve,g.reject);}catch(p){g.reject(p);}};b.prototype.then=function(a,l){var p,d,m;function g(a,b){return "function" == typeof a?function(b){try{p(a(b));}catch(J){d(J);}}:b;}m=new b(function(a,b){p=a;d=b;});this.bZ(g(a,p),g(l,d));return m;};b.prototype["catch"]=function(a){return this.then(void 0,a);};b.prototype.bZ=function(a,b){var p;function g(){switch(p.iT){case 1:a(p.xpa);break;case 2:b(p.xpa);break;default:throw Error("Unexpected state: " + p.iT);}}p=this;null == this.RR?l.JHa(g):this.RR.push(function(){l.JHa(g);});};b.resolve=function(a){return a instanceof b?a:new b(function(b){b(a);});};b.reject=function(a){return new b(function(b,g){g(a);});};b.race=function(a){return new b(function(l,g){for(var p=S(a),d=p.next();!d.done;d=p.next()){b.resolve(d.value).bZ(l,g);}});};b.all=function(a){var l,g;l=S(a);g=l.next();return g.done?b.resolve([]):new b(function(a,d){var p,c;function m(b){return function(d){p[b]=d;c--;0 == c && a(p);};}p=[];c=0;do {p.push(void 0);c++;b.resolve(g.value).bZ(m(p.length - 1),d);g=l.next();}while(!g.done);});};b.$jscomp$new$AsyncExecutor=function(){return new a();};return b;});ja("Array.prototype.entries",function(f){return f?f:function(){return ga(this,function(b,a){return [b,a];});};});ja("Array.prototype.keys",function(f){return f?f:function(){return ga(this,function(b){return b;});};});ja("Math.tanh",function(f){return f?f:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ja("WeakMap",function(f){var l,k;function b(a){this.zQ=(k+=Math.random() + 1).toString();if(a){h();n();a=S(a);for(var b;!(b=a.next()).done;){b=b.value;this.set(b[0],b[1]);}}}function a(a){fa(a,l) || ua(a,l,{value:{}});}function c(b){var g;g=Object[b];g && (Object[b]=function(b){a(b);return g(b);});}if((function(){var a,b,p;if(!f || !Object.seal)return !1;try{a=Object.seal({});b=Object.seal({});p=new f([[a,2],[b,3]]);if(2 != p.get(a) || 3 != p.get(b))return !1;p["delete"](a);p.set(b,4);return !p.has(a) && 4 == p.get(b);}catch(d){return !1;}})())return f;l="$jscomp_hidden_" + Math.random().toString().substring(2);c("freeze");c("preventExtensions");c("seal");k=0;b.prototype.set=function(b,g){a(b);if(!fa(b,l))throw Error("WeakMap key fail: " + b);b[l][this.zQ]=g;return this;};b.prototype.get=function(a){return fa(a,l)?a[l][this.zQ]:void 0;};b.prototype.has=function(a){return fa(a,l) && fa(a[l],this.zQ);};b.prototype["delete"]=function(a){return fa(a,l) && fa(a[l],this.zQ)?delete a[l][this.zQ]:!1;};return b;});ja("Map",function(f){var k,r;function b(){var a;a={};return a.wx=a.next=a.head=a;}function a(a,b){var d;d=a.Gw;return B(function(){if(d){for(;d.head != a.Gw;){d=d.wx;}for(;d.next != d.head;){return (d=d.next,{done:!1,value:b(d)});}d=null;}return {done:!0,value:void 0};});}function c(a,b){var d,g,l;d=b && typeof b;"object" == d || "function" == d?k.has(b)?d=k.get(b):(d="" + ++r,k.set(b,d)):d="p_" + b;g=a.iw[d];if(g && fa(a.iw,d))for(a=0;a < g.length;a++){l=g[a];if(b !== b && l.key !== l.key || b === l.key)return {id:d,list:g,index:a,He:l};}return {id:d,list:g,index:-1,He:void 0};}function l(a){this.iw={};this.Gw=b();this.size=0;if(a){a=S(a);for(var g;!(g=a.next()).done;){g=g.value;this.set(g[0],g[1]);}}}if((function(){var a,b,d,l;if(!f || !f.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});b=new f(S([[a,"s"]]));if("s" != b.get(a) || 1 != b.size || b.get({x:4}) || b.set({x:4},"t") != b || 2 != b.size)return !1;d=b.entries();l=d.next();if(l.done || l.value[0] != a || "s" != l.value[1])return !1;l=d.next();return l.done || 4 != l.value[0].x || "t" != l.value[1] || !d.next().done?!1:!0;}catch(t){return !1;}})())return f;h();n();k=new WeakMap();l.prototype.set=function(a,b){var d;d=c(this,a);d.list || (d.list=this.iw[d.id]=[]);d.He?d.He.value=b:(d.He={next:this.Gw,wx:this.Gw.wx,head:this.Gw,key:a,value:b},d.list.push(d.He),this.Gw.wx.next=d.He,this.Gw.wx=d.He,this.size++);return this;};l.prototype["delete"]=function(a){a=c(this,a);return a.He && a.list?(a.list.splice(a.index,1),a.list.length || delete this.iw[a.id],a.He.wx.next=a.He.next,a.He.next.wx=a.He.wx,a.He.head=null,this.size--,!0):!1;};l.prototype.clear=function(){this.iw={};this.Gw=this.Gw.wx=b();this.size=0;};l.prototype.has=function(a){return ! !c(this,a).He;};l.prototype.get=function(a){return (a=c(this,a).He) && a.value;};l.prototype.entries=function(){return a(this,function(a){return [a.key,a.value];});};l.prototype.keys=function(){return a(this,function(a){return a.key;});};l.prototype.values=function(){return a(this,function(a){return a.value;});};l.prototype.forEach=function(a,b){for(var d=this.entries(),g;!(g=d.next()).done;){g=g.value;a.call(b,g[1],g[0],this);}};l.prototype[Symbol.iterator]=l.prototype.entries;r=0;return l;});ja("Set",function(f){function b(a){this.gu=new Map();if(a){a=S(a);for(var b;!(b=a.next()).done;){this.add(b.value);}}this.size=this.gu.size;}if((function(){var a,b,l,k;if(!f || !f.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});b=new f(S([a]));if(!b.has(a) || 1 != b.size || b.add(a) != b || 1 != b.size || b.add({x:4}) != b || 2 != b.size)return !1;l=b.entries();k=l.next();if(k.done || k.value[0] != a || k.value[1] != a)return !1;k=l.next();return k.done || k.value[0] == a || 4 != k.value[0].x || k.value[1] != k.value[0]?!1:l.next().done;}catch(r){return !1;}})())return f;h();n();b.prototype.add=function(a){this.gu.set(a,a);this.size=this.gu.size;return this;};b.prototype["delete"]=function(a){a=this.gu["delete"](a);this.size=this.gu.size;return a;};b.prototype.clear=function(){this.gu.clear();this.size=0;};b.prototype.has=function(a){return this.gu.has(a);};b.prototype.entries=function(){return this.gu.entries();};b.prototype.values=function(){return this.gu.values();};b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var l;l=this;this.gu.forEach(function(c){return a.call(b,c,c,l);});};return b;});ja("Number.isNaN",function(f){return f?f:function(b){return "number" === typeof b && isNaN(b);};});ja("String.prototype.includes",function(f){return f?f:function(b,a){return -1 !== la(this,b,"includes").indexOf(b,a || 0);};});ja("Array.prototype.find",function(f){return f?f:function(b,a){return ta(this,b,a).S5;};});ja("Array.prototype.values",function(f){return f?f:function(){return ga(this,function(b,a){return a;});};});ja("String.prototype.repeat",function(f){return f?f:function(b){var a;a=la(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ja("String.prototype.endsWith",function(f){return f?f:function(b,a){var c;c=la(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var l=b.length;0 < l && 0 < a;){if(c[--a] != b[--l])return !1;}return 0 >= l;};});ja("Array.prototype.findIndex",function(f){return f?f:function(b,a){return ta(this,b,a).kk;};});ja("String.prototype.startsWith",function(f){return f?f:function(b,a){var c,l,k;c=la(this,b,"startsWith");b+="";l=c.length;k=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var r=0;r < k && a < l;){if(c[a++] != b[r++])return !1;}return r >= k;};});ja("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ja("Array.prototype.fill",function(f){return f?f:function(b,a,c){var l;l=this.length || 0;0 > a && (a=Math.max(0,l + a));if(null == c || c > l)c=l;c=Number(c);0 > c && (c=Math.max(0,l + c));for(a=Number(a || 0);a < c;a++){this[a]=b;}return this;};});(function(f){var a;function b(c){var l;if(a[c])return a[c].V;l=a[c]={kk:c,wBb:!1,V:{}};f[c].call(l.V,l,l.V,b);l.wBb=!0;return l.V;}a={};b.$3b=f;b.l1b=a;b.d=function(a,l,k){b.ZFb(a,l) || Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:k});};b.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};b.n=function(a){var l;l=a && a.tDa?function(){return a["default"];}:function(){return a;};b.d(l,"a",l);return l;};b.ZFb=function(a,b){return Object.prototype.hasOwnProperty.call(a,b);};b.p="";return b(b.JMb=1224);})([function(f,b,a){function c(){c=Object.assign || (function(a){for(var b,d=1,g=arguments.length;d < g;d++){b=arguments[d];for(var l in b){Object.prototype.hasOwnProperty.call(b,l) && (a[l]=b[l]);}}return a;});return c.apply(this,arguments);}function l(a,b){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(a,b){a.__proto__=b;}) || (function(a,b){for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}});return l(a,b);}function k(a,b){function d(){this.constructor=a;}l(a,b);a.prototype=null === b?Object.create(b):(d.prototype=b.prototype,new d());}function r(a,b){var d,g,l;d={};for(g in a){Object.prototype.hasOwnProperty.call(a,g) && 0 > b.indexOf(g) && (d[g]=a[g]);}if(null != a && "function" === typeof Object.getOwnPropertySymbols){l=0;for(g=Object.getOwnPropertySymbols(a);l < g.length;l++){0 > b.indexOf(g[l]) && Object.prototype.propertyIsEnumerable.call(a,g[l]) && (d[g[l]]=a[g[l]]);}}return d;}function g(a,b,d,g){var l,m,p;l=arguments.length;m=3 > l?b:null === g?g=Object.getOwnPropertyDescriptor(b,d):g;if("object" === typeof Reflect && "function" === typeof Reflect.mz)m=Reflect.mz(a,b,d,g);else for(var t=a.length - 1;0 <= t;t--){if(p=a[t])m=(3 > l?p(m):3 < l?p(b,d,m):p(b,d)) || m;}return (3 < l && m && Object.defineProperty(b,d,m),m);}function p(a,b){return function(d,g){b(d,g,a);};}function d(a,b){if("object" === typeof Reflect && "function" === typeof Reflect.Gd)return Reflect.Gd(a,b);}function m(a,b,d,g){return new (d || (d=Promise))(function(l,m){function p(a){try{c(g.next(a));}catch(Ba){m(Ba);}}function t(a){try{c(g["throw"](a));}catch(Ba){m(Ba);}}function c(a){a.done?l(a.value):new d(function(b){b(a.value);}).then(p,t);}c((g=g.apply(a,b || [])).next());});}function t(a,b){var l,m,p,t,c;function d(a){return function(b){return g([a,b]);};}function g(d){if(m)throw new TypeError("Generator is already executing.");for(;l;){try{if((m=1,p && (t=d[0] & 2?p["return"]:d[0]?p["throw"] || ((t=p["return"]) && t.call(p),0):p.next) && !(t=t.call(p,d[1])).done))return t;if((p=0,t))d=[d[0] & 2,t.value];switch(d[0]){case 0:case 1:t=d;break;case 4:return (l.label++,{value:d[1],done:!1});case 5:l.label++;p=d[1];d=[0];continue;case 7:d=l.hE.pop();l.SA.pop();continue;default:if(!(t=l.SA,t=0 < t.length && t[t.length - 1]) && (6 === d[0] || 2 === d[0])){l=0;continue;}if(3 === d[0] && (!t || d[1] > t[0] && d[1] < t[3]))l.label=d[1];else if(6 === d[0] && l.label < t[1])(l.label=t[1],t=d);else if(t && l.label < t[2])(l.label=t[2],l.hE.push(d));else {t[2] && l.hE.pop();l.SA.pop();continue;}}d=b.call(a,l);}catch(Ba){d=[6,Ba];p=0;}finally{m=t=0;}}if(d[0] & 5)throw d[1];return {value:d[0]?d[1]:void 0,done:!0};}l={label:0,yk:function(){if(t[0] & 1)throw t[1];return t[1];},SA:[],hE:[]};h();h();n();return (c={next:d(0),"throw":d(1),"return":d(2)},"function" === typeof Symbol && (c[Symbol.iterator]=function(){return this;}),c);}function x(a,b){for(var d in a){b.hasOwnProperty(d) || (b[d]=a[d]);}}function A(a){var b,d;h();h();n();b="function" === typeof Symbol && a[Symbol.iterator];d=0;return b?b.call(a):{next:function(){a && d >= a.length && (a=void 0);return {value:a && a[d++],done:!a};}};}function J(a,b){var d,g,l,m;h();h();n();d="function" === typeof Symbol && a[Symbol.iterator];if(!d)return a;a=d.call(a);l=[];try{for(;(void 0 === b || 0 < b--) && !(g=a.next()).done;){l.push(g.value);}}catch(oa){m={error:oa};}finally{try{g && !g.done && (d=a["return"]) && d.call(a);}finally{if(m)throw m.error;}}return l;}function E(){for(var a=[],b=0;b < arguments.length;b++){a=a.concat(J(arguments[b]));}return a;}function L(){for(var a=0,b=0,d=arguments.length;b < d;b++){a+=arguments[b].length;}for(var a=Array(a),g=0,b=0;b < d;b++){for(var l=arguments[b],m=0,p=l.length;m < p;(m++,g++)){a[g]=l[m];}}return a;}function D(a){return this instanceof D?(this.S5=a,this):new D(a);}function C(a,b,d){var c,k,r;function g(a){c[a] && (k[a]=function(b){return new Promise(function(d,g){1 < r.push([a,b,d,g]) || l(a,b);});});}function l(a,b){var d;try{d=c[a](b);d.value instanceof D?Promise.resolve(d.value.S5).then(m,p):t(r[0][2],d);}catch(ka){t(r[0][3],ka);}}function m(a){l("next",a);}function p(a){l("throw",a);}function t(a,b){(a(b),r.shift(),r.length) && l(r[0][0],r[0][1]);}h();if(!Symbol.LY)throw new TypeError("Symbol.asyncIterator is not defined.");c=d.apply(a,b || []);r=[];h();return (k={},g("next"),g("throw"),g("return"),k[Symbol.LY]=function(){return this;},k);}function T(a){var d,g;function b(b,l){d[b]=a[b]?function(d){return (g=!g)?{value:D(a[b](d)),done:"return" === b}:l?l(d):d;}:l;}h();n();return (d={},b("next"),b("throw",function(a){throw a;}),b("return"),d[Symbol.iterator]=function(){return this;},d);}function P(a){var g,l;function b(b){l[b]=a[b] && (function(g){return new Promise(function(l,m){g=a[b](g);d(l,m,g.done,g.value);});});}function d(a,b,d,g){Promise.resolve(g).then(function(b){a({value:b,done:d});},b);}h();if(!Symbol.LY)throw new TypeError("Symbol.asyncIterator is not defined.");h();g=a[Symbol.LY];h();n();h();return g?g.call(a):(a="function" === typeof A?A(a):a[Symbol.iterator](),l={},b("next"),b("throw"),b("return"),l[Symbol.LY]=function(){return this;},l);}function ba(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function R(a){var b;if(a && a.tDa)return a;b={};if(null != a)for(var d in a){Object.hasOwnProperty.call(a,d) && (b[d]=a[d]);}b["default"]=a;return b;}function q(a){return a && a.tDa?a:{"default":a};}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return r;});a.d(b,"__decorate",function(){return g;});a.d(b,"__param",function(){return p;});a.d(b,"__metadata",function(){return d;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return t;});a.d(b,"__exportStar",function(){return x;});a.d(b,"__values",function(){return A;});a.d(b,"__read",function(){return J;});a.d(b,"__spread",function(){return E;});a.d(b,"__spreadArrays",function(){return L;});a.d(b,"__await",function(){return D;});a.d(b,"__asyncGenerator",function(){return C;});a.d(b,"__asyncDelegator",function(){return T;});a.d(b,"__asyncValues",function(){return P;});a.d(b,"__makeTemplateObject",function(){return ba;});a.d(b,"__importStar",function(){return R;});a.d(b,"__importDefault",function(){return q;});},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});f=a(42);b.SXb=f;f=a(1221);b.zU=f.zU;f=a(82);b.Gq=f.Gq;b.nj=f.nj;b.nv=f.nv;f=a(1205);b.lta=f.lta;b.Kc=f.Kc;f=a(1204);b.N=f.N;f=a(1203);b.x_a=f.x_a;f=a(1202);b.JTa=f.JTa;f=a(527);b.l=f.l;b.F8=f.F8;f=a(1201);b.optional=f.optional;f=a(1200);b.xi=f.xi;f=a(1199);b.ZD=f.ZD;f=a(1198);b.zT=f.zT;f=a(1197);b.XVa=f.XVa;f=a(529);b.p9=f.p9;f=a(108);b.id=f.id;f=a(95);b.mz=f.mz;f=a(524);b.w0a=f.w0a;b.y_a=f.y_a;b.KTa=f.KTa;b.E0a=f.E0a;f=a(151);b.HI=f.HI;a=a(1196);b.GTa=a.GTa;},function(f,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Iq=b.H7=b.Mva=b.G7=b.P5a=b.Q5a=b.Lva=b.Iva=b.O5a=b.qya=b.AV=b.mV=b.Kva=b.L=b.K=void 0;(function(a){a[a.zl=7001]="UNKNOWN";a[a.O$a=7002]="UNHANDLED_EXCEPTION";a[a.P6a=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Cwa=7010]="INIT_ASYNCCOMPONENT";a[a.Twa=7011]="INIT_HTTP";a[a.L6a=7014]="INIT_BADMOVIEID";a[a.b7a=7016]="INIT_NETFLIXID_MISSING";a[a.a7a=7017]="INIT_NETFLIXID_INVALID";a[a.d7a=7018]="INIT_SECURENETFLIXID_MISSING";a[a.Uwa=7020]="INIT_PLAYBACK_LOCK";a[a.Vwa=7022]="INIT_SESSION_LOCK";a[a.c7a=7029]="INIT_POSTAUTHORIZE";a[a.CXb=7031]="INIT_HEADER_MEDIA";a[a.gXb=7032]="HEADER_MISSING";a[a.fXb=7033]="HEADER_FRAGMENTS_MISSING";a[a.e7a=7034]="INIT_TIMEDTEXT_TRACK";a[a.DXb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.EXb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.p2a=7037]="ASE_SESSION_ERROR";a[a.o2a=7038]="ASE_SEEK_THREW";a[a.q2a=7039]="ASE_SKIPPED_THREW";a[a.Y6a=7041]="INIT_CORE_OBJECTS1";a[a.Z6a=7042]="INIT_CORE_OBJECTS2";a[a.$6a=7043]="INIT_CORE_OBJECTS3";a[a.zXb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.tXb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.Mwa=7053]="INIT_COMPONENT_STORAGE";a[a.Nwa=7054]="INIT_COMPONENT_STORAGELOCK";a[a.uXb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.vXb=7056]="INIT_COMPONENT_NRDDPI";a[a.xXb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.Iwa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.r8=7059]="INIT_COMPONENT_DEVICE";a[a.wXb=7062]="INIT_COMPONENT_NTBA";a[a.Jwa=7063]="INIT_COMPONENT_MSL";a[a.N6a=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.Hwa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Zx=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.yXb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.M6a=7069]="INIT_COMPONENT_ACCOUNT";a[a.R6a=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.T6a=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.U6a=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.V6a=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.W6a=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.Q6a=7081]="INIT_COMPONENT_NRDP";a[a.S6a=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.Swa=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.X6a=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.BXb=7085]="INIT_CONGESTION_SERVICE";a[a.Gwa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.Owa=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Ewa=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Dwa=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.AXb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.IF=7091]="INIT_COMPONENT_DRM_CACHE";a[a.O6a=7092]="INIT_COMPONENT_DRM";a[a.Kwa=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Fwa=7094]="INIT_COMPONENT_FTL";a[a.Lwa=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.Pwa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.Qwa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.Rwa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.A2a=7112]="AUTHORIZE_UNKNOWN";a[a.E7a=7117]="MANIFEST_VERIFY";a[a.j$a=7120]="START";a[a.rB=7121]="LICENSE";a[a.X9a=7122]="SECURESTOP";a[a.BBa=7123]="STOP";a[a.WWb=7124]="FPSAPPDATA";a[a.C8=7125]="KEEPALIVE";a[a.SVb=7126]="DEACTIVATE";a[a.J_b=7127]="SYNC_DEACTIVATE_LINKS";a[a.OUb=7130]="ACTIVATE";a[a.$8a=7131]="PING";a[a.uYb=7133]="NETFLIXID";a[a.I5a=7134]="ENGAGE";a[a.C7a=7135]="LOGIN";a[a.q$a=7136]="SWITCH_PROFILES";a[a.B7a=7137]="LOGBLOB";a[a.K8a=7138]="PAUSE";a[a.N9a=7139]="RESUME";a[a.zBa=7140]="SPLICE";a[a.eWb=7141]="DOWNLOAD_EVENT";a[a.V2a=7142]="BIND";a[a.I8a=7143]="PAIR";a[a.W2a=7144]="BIND_DEVICE";a[a.Z5a=7145]="GENERATE_SCREENSHOTS";a[a.c9a=7202]="PLAY_INIT_EXCEPTION";a[a.RXb=7301]="MEDIA_DOWNLOAD";a[a.hZb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.iZb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.wza=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.i9a=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.xza=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.j9a=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.L9=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.jZb=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";a[a.zza=7351]="PLAY_MSE_NOTSUPPORTED";a[a.yza=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.vza=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.M9=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.O9=7355]="PLAY_MSE_SOURCEADD";a[a.d9a=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.n9a=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.oZb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.gZb=7359]="PLAY_MSE_ADDKEY";a[a.rZb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.m9a=7361]="PLAY_MSE_EVENT_ERROR";a[a.N9=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.PV=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.l9a=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.o9a=7365]="PLAY_MSE_GETCURRENTTIME";a[a.p9a=7367]="PLAY_MSE_SETCURRENTTIME";a[a.q9a=7371]="PLAY_MSE_SOURCEAPPEND";a[a.pZb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.u9a=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.t9a=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.s9a=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.qZb=7379]="PLAY_MSE_SOURCE_EOS";a[a.r9a=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.nZb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.e9a=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.f9a=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.g9a=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.lZb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.k9a=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.kZb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.mZb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.h9a=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.Aza=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.L5a=7400]="EXTERNAL";a[a.OV=7500]="PAUSE_TIMEOUT";a[a.nV=7502]="INACTIVITY_TIMEOUT";a[a.z2a=7510]="AUTHORIZATION_EXPIRED";a[a.UVb=7520]="DECRYPT_AUDIO";a[a.xBa=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.Y9a=7601]="SECURE_STOP_KEY_ERROR";a[a.m_b=7602]="SECURE_STOP_VIDEO_ERROR";a[a.XZb=7603]="SECURE_STOP_NCCP_ERROR";a[a.YZb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.l_b=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.b_b=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.Z9a=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.c_b=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.d_b=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.g_b=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.ZZb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.e_b=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.i_b=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.f_b=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.a_b=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.k_b=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.h_b=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.$Zb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.j_b=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.C5a=7700]="EME_INVALID_KEYSYSTEM";a[a.nva=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.x7=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.JU=7703]="EME_GENERATEREQUEST_FAILED";a[a.KU=7704]="EME_UPDATE_FAILED";a[a.oWb=7705]="EME_KEYSESSION_ERROR";a[a.rva=7706]="EME_KEYMESSAGE_EMPTY";a[a.sva=7707]="EME_REMOVE_FAILED";a[a.E5a=7708]="EME_LOAD_FAILED";a[a.z5a=7709]="EME_CREATE_SESSION_FAILED";a[a.z7=7710]="EME_LDL_RENEWAL_ERROR";a[a.ova=7711]="EME_INVALID_INITDATA_DATA";a[a.pva=7712]="EME_INVALID_LICENSE_DATA";a[a.D5a=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.qWb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.qva=7715]="EME_INVALID_SECURESTOP_DATA";a[a.mva=7716]="EME_CLOSE_FAILED";a[a.F5a=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";a[a.a9a=7800]="PLAYDATA_STORE_FAILURE";a[a.fZb=7801]="PLAYDATA_SEND_FAILURE";a[a.LL=7900]="BRANCH_PLAY_FAILURE";a[a.pF=7901]="BRANCH_QUEUE_FAILURE";a[a.sta=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.zYb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.AYb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.Q8a=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.J9=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.b9a=8201]="PLAYGRAPH_SEGMENT_NOT_READY";})(a=b.K || (b.K={}));(function(a){a[a.zl=1001]="UNKNOWN";a[a.vh=1003]="EXCEPTION";a[a.h7a=1004]="INVALID_DI";a[a.t2a=1011]="ASYNCLOAD_EXCEPTION";a[a.u2a=1013]="ASYNCLOAD_TIMEOUT";a[a.PUb=1015]="ASYNCLOAD_BADCONFIG";a[a.r2a=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.s2a=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.nM=1101]="HTTP_UNKNOWN";a[a.m8=1102]="HTTP_XHR";a[a.kM=1103]="HTTP_PROTOCOL";a[a.jM=1104]="HTTP_OFFLINE";a[a.mM=1105]="HTTP_TIMEOUT";a[a.oB=1106]="HTTP_READTIMEOUT";a[a.Yx=1107]="HTTP_ABORT";a[a.owa=1108]="HTTP_PARSE";a[a.kwa=1110]="HTTP_BAD_URL";a[a.lM=1111]="HTTP_PROXY";a[a.aya=1203]="MSE_AUDIO";a[a.bya=1204]="MSE_VIDEO";a[a.T7a=1250]="MSE_MEDIA_ERR_BASE";a[a.WXb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.ZXb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.XXb=1253]="MSE_MEDIA_ERR_DECODE";a[a.$Xb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.YXb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.zF=1260]="EME_MEDIA_KEYERR_BASE";a[a.wWb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.rWb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.vWb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.uWb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.tWb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.sWb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.xWb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.B5a=1280]="EME_ERROR_NODRMSESSSION";a[a.A5a=1281]="EME_ERROR_NODRMREQUESTS";a[a.mWb=1282]="EME_ERROR_INDIV_FAILED";a[a.nWb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.H5a=1284]="EME_TIMEOUT_MESSAGE";a[a.G5a=1285]="EME_TIMEOUT_KEYCHANGE";a[a.A7=1286]="EME_UNDEFINED_DATA";a[a.yF=1287]="EME_INVALID_STATE";a[a.pWb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.y7=1289]="EME_EMPTY_DATA";a[a.aM=1290]="EME_TIMEOUT";a[a.oYb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.rYb=1305]="NCCP_PARSEXML";a[a.x9a=1309]="PROCESS_EXCEPTION";a[a.qYb=1311]="NCCP_NETFLIXID_MISSING";a[a.sYb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.lYb=1313]="NCCP_HMAC_MISSING";a[a.kYb=1315]="NCCP_HMAC_MISMATCH";a[a.jYb=1317]="NCCP_HMAC_FAILED";a[a.iYb=1321]="NCCP_CLIENTTIME_MISSING";a[a.hYb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.bwa=1331]="GENERIC";a[a.l8a=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.m8a=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.tYb=1341]="NCCP_TRANSACTION";a[a.mYb=1343]="NCCP_INVALID_DRMTYPE";a[a.nYb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.pYb=1345]="NCCP_MISSING_PAYLOAD";a[a.BZb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.AZb=1347]="PROTOCOL_MISSING_FIELD";a[a.zZb=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.ly=1402]="STORAGE_NODATA";a[a.s_b=1403]="STORAGE_EXCEPTION";a[a.A_b=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.B_b=1407]="STORAGE_QUOTA_TO_SMALL";a[a.DBa=1411]="STORAGE_LOAD_ERROR";a[a.m$a=1412]="STORAGE_LOAD_TIMEOUT";a[a.EBa=1414]="STORAGE_SAVE_ERROR";a[a.p$a=1415]="STORAGE_SAVE_TIMEOUT";a[a.baa=1417]="STORAGE_DELETE_ERROR";a[a.CBa=1418]="STORAGE_DELETE_TIMEOUT";a[a.z_b=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.w_b=1423]="STORAGE_FS_GETDIRECTORY";a[a.y_b=1425]="STORAGE_FS_READENTRIES";a[a.t_b=1427]="STORAGE_FS_FILEREAD";a[a.v_b=1429]="STORAGE_FS_FILEWRITE";a[a.u_b=1431]="STORAGE_FS_FILEREMOVE";a[a.x_b=1432]="STORAGE_FS_PARSEJSON";a[a.o$a=1451]="STORAGE_NO_LOCALSTORAGE";a[a.n$a=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.GYb=1501]="NTBA_UNKNOWN";a[a.FYb=1502]="NTBA_EXCEPTION";a[a.BYb=1504]="NTBA_CRYPTO_KEY";a[a.DYb=1506]="NTBA_CRYPTO_OPERATION";a[a.CYb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.EYb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.Aua=1553]="DEVICE_NO_ESN";a[a.Y6=1555]="DEVICE_ERROR_GETTING_ESN";a[a.T5a=1701]="FORMAT_UNKNOWN";a[a.Sva=1713]="FORMAT_XML";a[a.U5a=1715]="FORMAT_XML_CONTENT";a[a.S5a=1721]="FORMAT_BASE64";a[a.NU=1723]="FORMAT_DFXP";a[a.x6a=1801]="INDEXDB_OPEN_EXCEPTION";a[a.Awa=1802]="INDEXDB_NOT_SUPPORTED";a[a.w6a=1803]="INDEXDB_OPEN_ERROR";a[a.Bwa=1804]="INDEXDB_OPEN_NULL";a[a.v6a=1805]="INDEXDB_OPEN_BLOCKED";a[a.y6a=1807]="INDEXDB_OPEN_TIMEOUT";a[a.u6a=1808]="INDEXDB_INVALID_STORE_STATE";a[a.oV=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.c8a=1901]="MSL_UNKNOWN";a[a.W7a=1911]="MSL_INIT_NO_MSL";a[a.dya=1913]="MSL_INIT_ERROR";a[a.X7a=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.U7a=1931]="MSL_ERROR";a[a.b8a=1933]="MSL_REQUEST_TIMEOUT";a[a.a8a=1934]="MSL_READ_TIMEOUT";a[a.V7a=1935]="MSL_ERROR_HEADER";a[a.aYb=1936]="MSL_ERROR_ENVELOPE";a[a.bYb=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.cya=1957]="MSL_ERROR_REAUTH";a[a.Naa=2103]="WEBCRYPTO_MISSING";a[a.X$a=2105]="WEBCRYPTOKEYS_MISSING";a[a.Y$a=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.AVb=2200]="CACHEDDATA_PARSEJSON";a[a.Jta=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.BVb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.Vx=2203]="CACHEDDATA_INVALID_FORMAT";a[a.MUb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.NUb=3001]="ACCOUNT_INVALID";a[a.dWb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.cWb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.aWb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.bWb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.$Vb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.C_b=3300]="STORAGE_VA_LOAD_ERROR";a[a.D_b=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.G_b=3302]="STORAGE_VA_SAVE_ERROR";a[a.H_b=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.E_b=3304]="STORAGE_VA_REMOVE_ERROR";a[a.F_b=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.G9=3077]="PBO_DEVICE_EOL_WARNING";a[a.oza=3078]="PBO_DEVICE_EOL_FINAL";a[a.rza=3100]="PBO_DEVICE_RESET";a[a.qza=3101]="PBO_DEVICE_RELOAD";a[a.pza=3102]="PBO_DEVICE_EXIT";a[a.X8a=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.L8a=5005]="PBO_ACCOUNT_ON_HOLD";a[a.P8a=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.sza=5007]="PBO_INCORRECT_PIN";a[a.V8a=5008]="PBO_MOBILE_ONLY";a[a.Y8a=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.R8a=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.N8a=5059]="PBO_BLACKLISTED_IP";a[a.M8a=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.O8a=5080]="PBO_CHOICE_MAP_ERROR";a[a.W8a=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.T8a=5091]="PBO_MALFORMED_REQUEST";a[a.S8a=5092]="PBO_INVALID_SERVICE_VERSION";a[a.U8a=5093]="PBO_MDX_INVALID_CTICKET";a[a.r4a=5100]="DECODER_TIMEOUT_BUFFERING";a[a.s4a=5101]="DECODER_TIMEOUT_PRESENTING";a[a.i5a=5200]="DOWNLOADER_IO_ERROR";a[a.rta=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.$2a=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.dVb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.x6=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.X2a=5304]="BRANCHING_ASE_FAILURE";a[a.aVb=5305]="BRANCHING_MOMENT_FAILURE";a[a.Y2a=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.cVb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.a3a=5308]="BRANCHING_SEEK_THREW";a[a.bVb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.Z2a=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.b3a=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.c3a=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.j2a=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.i2a=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";a[a.I_b=5500]="STUDIO_MUXED_MANIFEST";})(c=b.L || (b.L={}));(function(a){a[a.oVb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.eVb=5005]="BR_ACCOUNT_ON_HOLD";a[a.iVb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.lVb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.hVb=5059]="BR_BLACKLISTED_IP";a[a.fVb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.mVb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.jVb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.nVb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.kVb=2207]="BR_ENDPOINT_ERROR";a[a.gVb=2208]="BR_AUTHORIZATION_ERROR";})(b.Kva || (b.Kva={}));b.mV={j3a:"400",e0b:"401",Cza:"413"};b.AV={UWb:1,X_b:2,AWb:3,d0b:4,KXb:5,zWb:6,Faa:7,K5a:8,PZb:9,p_b:10};(function(a){a[a.cZb=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.dZb=98]="PAIRING_UNKNOWN_ERROR";})(b.qya || (b.qya={}));b.O5a=function(a){return 7100 <= a && 7200 > a;};b.Iva=function(b){return b == a.OV || b == a.nV;};b.Lva=function(a){return 1100 <= a && 1199 >= a;};b.Q5a=function(a){return 1300 <= a && 1399 >= a;};b.P5a=function(a){return 1900 <= a && 1999 >= a;};b.G7=function(a,b){return 1 <= a && 9 >= a?b + a:b;};b.Mva=function(a){return b.G7(a,c.T7a);};b.H7=function(a){return b.G7(a,c.zF);};b.Iq=function(a){var b,r,g;b={};r=a.errorExternalCode || a.Ie;g=a.errorDetails || a.ub;b.ErrorSubCode=a.errorSubCode || a.ja || c.zl;r && (b.ErrorExternalCode=r);g && (b.ErrorDetails=g);return b;};},function(f){f.V={h1:function(b){for(var a in b){b.hasOwnProperty(a) && (this[a]=b[a]);}},reset:function(){}};},function(f,b,a){var k;function c(a){return k.VM.apply(this,arguments) || this;}function l(a){return new k.Lq(a,b.fa);}Object.defineProperty(b,"__esModule",{value:!0});b.rb=b.vwa=b.r9=b.um=b.fa=b.zB=b.timestamp=b.Nyb=b.zR=b.ph=b.Lb=b.bWa=b.jEb=b.E$a=void 0;k=a(523);M(c,k.VM);b.E$a=c;b.jEb=function(a){return new k.Lq(a,b.zB);};b.bWa=function(a){return new k.Lq(a * b.um.yf,b.zB);};b.Lb=l;b.ph=function(a){return new k.Lq(a,b.um);};b.zR=function(a){return new k.Lq(a,b.r9);};b.Nyb=function(a){return new k.Lq(a,b.vwa);};b.timestamp=function(a){return l(a);};b.zB=new c(1,"\u03bcs");b.fa=new c(1E3,"ms",b.zB);b.um=new c(1E3 * b.fa.yf,"s",b.zB);b.r9=new c(60 * b.um.yf,"min",b.zB);b.vwa=new c(60 * b.r9.yf,"hr",b.zB);b.rb=l(0);},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);l=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);return b;})(Error);b.assert=function(a,b){if(!a)throw new l(b || "Assertion failed");};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZL=b.xb=b.N8=b.Di=void 0;f=b.Di || (b.Di={});f[f.R5a=0]="FATAL";f[f.ERROR=1]="ERROR";f[f.Maa=2]="WARN";f[f.q8=3]="INFO";f[f.wCa=4]="TRACE";f[f.sa=5]="DEBUG";b.N8="LogFieldBuilderFactorySymbol";b.xb="LoggerFactorySymbol";b.ZL={};},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.ga=b.yAa=b.YP=b.Ig=b.gi=b.log=b.rf=b.CI=b.rCa=b.dIa=b.Ap=b.Tv=b.dc=b.rib=b.dea=b.pib=b.qib=b.ai=b.vL=b.PT=b.Lg=void 0;c=a(530);f=a(6);l=a(32);k=a(105);r=a(106);g=a(41);p=a(26);d=a(122);b.Lg=c.te.get(k.py);b.PT=b.Lg.encode.bind(b.Lg);b.vL=b.Lg.decode.bind(b.Lg);b.ai=c.te.get(r.Ux);b.qib=b.ai.encode.bind(b.ai);b.pib=b.ai.decode.bind(b.ai);b.dea=b.ai.UP.bind(b.ai);b.rib=b.ai.f0a.bind(b.ai);b.dc=c.te.get(g.Ai);b.Tv=function(a){a=p.Td(a)?b.vL(a):a;return b.dc.encode(a);};b.Ap=b.dc.decode.bind(b.dc);b.dIa=function(a){return b.PT(b.Ap(a));};b.rCa=a(571);b.CI=function(){return c.te.get(l.vF);};b.rf=c.te.get(f.xb);b.log=b.rf.ob("General");b.gi=function(a,d){return b.rf.ob(a,void 0,d);};b.Ig=function(a,d,g){return b.rf.ob(d,a,g);};b.YP=function(a,d,g,p){return b.rf.ob(a,void 0,p,d,g);};b.yAa=function(a,b,g){return c.te.get(d.GB)(a,b,g).tra();};b.ga=c.te;},function(f){var b;b={oa:function(a){return "number" === typeof a;},bf:function(a){return "object" === typeof a;},Td:function(a){return "string" === typeof a;},X:function(a){return "undefined" === typeof a;},fAb:function(a){return "boolean" === typeof a;},Yb:function(a){return "function" === typeof a;},Ua:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,b){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,b);},rHb:function(a){var c,l;l=[];if(!b.bf(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.ee=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var k=0,r=a.length;k < r;k++){c.call(l,a[k],k,a);}else for(k in a){b.has(a,k) && c.call(l,a[k],k,a);}return a;};f.V=b;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hla=b.localStorage=b.tzb=b.indexedDB=b.FV=b.oo=b.fv=b.TF=b.UF=b.URL=b.IV=b.GV=b.pya=b.vV=b.vB=b.wB=b.En=b.qm=b.Yh=b.e9=b.cv=b.oCa=b.uF=b.FB=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Pv=b.o8a=b.Ce=b.Ls=b.Ms=b.HV=b.rm=b.Zh=void 0;f=O;b.Zh=f.navigator;b.rm=null === b.Zh || void 0 === b.Zh?void 0:b.Zh.userAgent;b.HV=f.location;b.Ms=f.screen;b.Ls=f.performance;b.Ce=f.document;b.o8a=b.Ce.documentElement;b.Pv=Array.prototype;b.sort=b.Pv.sort;b.map=b.Pv.map;b.slice=b.Pv.slice;b.every=b.Pv.every;b.reduce=b.Pv.reduce;b.filter=b.Pv.filter;b.forEach=b.Pv.forEach;b.pop=b.Pv.pop;b.FB=Object.create;b.uF=Date.now;b.oCa=String.fromCharCode;b.cv=Math.floor;b.e9=Math.ceil;b.Yh=Math.round;b.qm=Math.max;b.En=Math.min;b.wB=Math.random;b.vB=Math.abs;b.vV=Math.pow;b.pya=Math.sqrt;b.GV=f.escape;b.IV=f.unescape;b.URL=f.URL || f.webkitURL;b.UF=f.MediaSource || f.WebKitMediaSource;b.TF=f.WebKitMediaKeys || f.MSMediaKeys || f.MediaKeys;b.fv=f.nfCrypto || f.webkitCrypto || f.msCrypto || f.crypto;b.oo=b.fv && (b.fv.webkitSubtle || b.fv.subtle);b.FV=f.nfCryptokeys || f.webkitCryptokeys || f.msCryptokeys || f.cryptokeys;try{b.indexedDB=f.indexedDB;}catch(a){b.tzb=a || "noex";}try{b.localStorage=f.localStorage;}catch(a){b.Hla=a || "noex";}},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.FM=b.cwa=b.qDa=void 0;f=a(0);f.__exportStar(a(936),b);f.__exportStar(a(118),b);f.__exportStar(a(20),b);f.__exportStar(a(934),b);f.__exportStar(a(933),b);f.__exportStar(a(932),b);f.__exportStar(a(931),b);f=a(930);b.qDa=f;f=a(929);b.cwa=f;a=a(430);b.FM=a;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.T$=b.OF=b.tV=b.t3a=b.o3a=b.q3a=b.r3a=b.Ata=b.n3a=b.p3a=b.zta=b.s3a=b.z3a=b.x3a=b.y3a=b.w3a=b.v5a=b.u5a=b.gva=b.I7a=b.J7a=b.Hs=b.Yxa=b.Zxa=b.ey=b.iva=b.w5a=b.t7=b.IU=b.A8a=b.f$a=b.Uxa=b.i3a=b.xua=b.MV=b.EB=b.LV=b.Txa=b.bv=b.h3a=b.qta=b.w7a=b.T$a=b.H7a=b.G7a=b.W9a=b.V9a=b.Pj=b.Md=b.gBa=b.Af=void 0;b.Af=function(){};b.gBa=function(){return !0;};b.Md={ia:!0};b.Pj=1E3;b.V9a=86400;b.W9a=604800;b.G7a=1E4;b.H7a=1E7;b.T$a=1.5;b.w7a=.128;b.qta=7.8125;b.h3a=128;b.bv=145152E5;b.Txa=1E5;b.LV="$netflix$player$order";b.EB=-1;b.MV=1;b.xua=["en-US"];b.i3a=8;b.Uxa=65535;b.f$a=65536;b.A8a=Number.MAX_VALUE;b.IU="playready";b.t7="widevine";b.w5a="fps";b.iva="clearkey";b.ey='audio/mp4; codecs="mp4a.40.5"';b.Zxa='audio/mp4; codecs="mp4a.40.42"';b.Yxa='audio/mp4; codecs="mp4a.a6"';b.Hs='video/mp4; codecs="avc1.640028"';b.J7a='video/mp4; codecs="hev1.2.6.L153.B0"';b.I7a='video/mp4; codecs="dvhe.01000000"';b.gva="9A04F079-9840-4286-AB92-E65BE0885F95";b.u5a="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.v5a="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.w3a=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.y3a="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.x3a="4E657466-6C69-7846-7261-6D6552617465";b.z3a="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.s3a="mp4a";b.zta="enca";b.p3a="ec-3";b.n3a="avc1";b.Ata="encv";b.r3a="hvcC";b.q3a="hev1";b.o3a="dvhe";b.t3a="vp09";b.tV=0;b.OF=1;b.T$="position:relative;width:100%;height:100%;overflow:hidden";},function(f,b,a){var k,r,g,p,d,m,t,x,A,J,E,L,D,h,T,P,ba,R;function c(a){return (a=b.config.F0a[l(a)])?a:{};}function l(a){if(a){if(0 <= a.indexOf("billboard"))return "billboard";if(0 <= a.toLowerCase().indexOf("preplay"))return "preplay";if(0 <= a.indexOf("embedded"))return "embedded";if(0 <= a.indexOf("content-sampling"))return "content-sampling";if(0 <= a.indexOf("video-merch-bob-horizontal"))return "video-merch-bob-horizontal";if(0 <= a.indexOf("mini-modal-horizontal"))return "mini-modal-horizontal";if(0 <= a.indexOf("standard"))return "standard";if(0 <= ["postplay-seamless","postplay","postplay-background-trailer"].indexOf(a))return a;}}Object.defineProperty(b,"__esModule",{value:!0});b.hlb=b.ilb=b.mfa=b.nfa=b.glb=b.LJa=b.flb=b.MJa=b.lfa=b.config=void 0;k=a(11);r=a(46);g=a(7);p=a(34);d=a(18);a(26);m=a(32);t=a(59);x=a(24);a(6);A=a(9);J=a(16);E=a(174);L=a(49);D=a(70);h=a(150);T=a(50);P=a(4);ba=a(33);R=a(19);b.MJa=function(a,c){var $a,B,Ga,gb,vb,ab,Wa,M,aa;function l(a,b){x.Dd(a,function(a,d){J.Yb(d)?b[a]=d.call(void 0,b[a]):J.bf(d) && (b[a]=b[a] || ({}),l(d,b[a]));});}function f(a,b,g,m){for(var p=[],t=3;t < arguments.length;++t){p[t - 3]=arguments[t];}return function(m){J.ec(m) && (g=m);d.Ya(J.Yb(a));return a.apply(void 0,[].concat([b,g],da(p)));};}function C(a){a=a.toLowerCase();gb.hasOwnProperty(a) && (Ga[a]=gb[a],vb[a]=gb[a]);return a;}function q(a,b,m){var p;a=a.toLowerCase();if(Ga.hasOwnProperty(a)){p=Ga[a];try{p=m?m(p):p;}catch(qb){p=void 0;}if(void 0 !== p)return p;d.Ya(!1);g.log.error("Invalid configuration value. Name: " + a);}return b;}function W(a,b,d,g){return q(a,b,function(a){J.Td(a) && (a=x.Ud(a));if(J.PQa(a,d,g))return a;});}function n(a,b,d,g){return q(a,b,function(a){J.Td(a) && (a=x.Ud(a));if(J.Ow(a,d,g))return a;});}function V(a,b,d,g){return q(a,b,function(a){J.Td(a) && (a=parseFloat(a));if(J.oa(a,d,g))return a;});}function u(a,b,d){return q(a,b,function(a){if(d?d.test(a):J.Td(a))return a;});}function I(a,b){return q(a,b,function(a){if("true" == a || !0 === a)return !0;if("false" == a || !1 === a)return !1;});}function Ba(a,b){return q(a,b,function(a){if(J.Td(a))return JSON.parse(A.IV(a));if(J.bf(a))return a;});}function va(a,b,d,g,m,p){var t;a=a.toLowerCase();Ga.hasOwnProperty(a) && (t=Ga[a]);if(!J.ec(t))return b;if(J.Td(t))if(t[0] !== d)t=g(t);else try{t=JSON.parse(A.IV(t));}catch(gf){t=void 0;}if(void 0 === t)return b;for(a=0;a < m.length;a++){if(!m[a](t))return b;}return p?p(t):t;}function Da(a,b,d,g,m){return va(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;){a[b]=x.Ud(a[b]);}return a;},[function(a){return J.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(!J.Ow(a[b],d,g))return !1;}return !0;},function(a){return void 0 === m || a.length >= m;}]);}function N(a,b){return va(a,b,"[",function(a){a=J.isArray(a)?a:a.split("|");for(var b=a.length;b--;){try{a[b]=JSON.parse(A.IV(a[b]));}catch(qb){a=void 0;break;}}return a;},[function(a){return J.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(!J.ec(a[b]) || !J.bf(a[b]))return !1;}return !0;}]);}function ka(a,b,d,g){return va(a,b,"[",function(a){return J.isArray(a)?a:a.split("|");},[function(a){return J.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(d?!d.test(a[b]):!J.Pw(a[b]))return !1;}return !0;},function(a){return void 0 === g || a.length >= g;}]);}function La(a,b,d){return va(a,b,"{",function(a){var b,g,m;b={};a=a.split(";");for(var d=a.length;d--;){g=a[d];m=g.indexOf(":");if(0 >= m)return;b[g.substring(0,m)]=g.substring(m + 1);}return b;},[function(a){return J.bf(a) && 0 < Object.keys(a).length;},function(a){if(d)for(var b in a){if(!d.test(a[b]))return !1;}return !0;}],function(a){var d;d={};x.Eb(d,b);x.Eb(d,a);return d;});}function eb(a){var b;b=[];x.Dd(a,function(a,d){var g;try{g="videoapp" === a.toLowerCase()?"[object object]":JSON.stringify(d);}catch(Ce){g="cantparse";}b.push(a + "=" + g);});return b.join("\n");}$a=/^[0-9]+[%]?$/;B=/^[0-9]*$/;vb={};ab=g.ga.get(p.vl);Wa=g.ga.get(h.$F);(function(b){function d(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0 < b && (Ga[a.substring(0,b).toLowerCase()]=a.substring(b + 1));});}Ga={};x.Eb(Ga,b);a && a.length && A.forEach.call(a,function(a){J.Td(a)?d(a):J.bf(a) && x.Eb(Ga,a,{pJ:!0});});gb=x.Eb({},r.v0(),{pJ:!0});if(b=r.NWa().cadmiumconfig)(g.log.info("Config cookie loaded",b),d(b));if(g.ga.get(ba.rj).Qgb || Ga.istestaccount)(x.Eb(Ga,gb),vb=gb);"clearkey" != u("drmType") || Ga.keysystemid || (Ga.keysystemid=(O.WebKitMediaKeys || HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"") + "org.w3.clearkey");})(c);b.config={};M={lrb:f(I,C("enableXHEAAC"),!1),Pga:f(I,C("enableDDPlus20"),!0),Oga:f(I,C("enableDDPlus"),!0),EP:f(I,C("enableDDPlusAtmos"),!1),Xqb:f(I,C("enableLSSDH"),!0),Sqb:f(I,C("enableHEVC"),!1),SUa:f(I,C("overrideEnableHEVC"),!1),Rga:f(I,C("enableHDR"),!1),RUa:f(I,C("overrideEnableHDR"),!1),h_:f(I,C("enableAVCHigh"),Wa.h_),WR:f(I,C("overrideEnableAVCHigh"),Wa.WR),jrb:f(I,C("enableVP9"),!1),TUa:f(I,C("overrideEnableVP9"),!1),Mqb:f(I,C("enableAV1"),!1),QUa:f(I,C("overrideEnableAV1"),!1),brb:f(I,C("enablePRK"),!1),Tqb:f(I,C("enableHWDRM"),!1),Vqb:f(I,C("enableImageSubs"),!0),DO:f(ka,C("audioProfiles"),Wa.DO),k2b:f(I,C("disableHD"),!1),X5:f(n,"videoCapabilityDetectorType",m.Ik.jB),Qda:f(n,"audioCapabilityDetectorType",m.Tx.jB),VA:f(ka,C("videoProfiles"),Wa.VA),pfb:f(ka,C("timedTextProfiles"),Wa.Ku),Ku:function(){return M.pfb().filter(function(a){return a === t.yl.Z6?M.Xqb():a === t.yl.SF?M.Vqb():!0;});},endpoint:f(I,C("endpoint"),!1),version:f(u,"version","unknown"),cZa:f(I,C("setMediaKeysEarly"),!1),R4b:f(I,C("nrdpPersistCookiesToIndexDB"),!1),aqb:f(I,C("doNotPerformLdlOnPlaybackCreate"),!1),bqb:f(I,C("doNotPerformLdlOnPlaybackStart"),!1),j1a:f(I,C("useHdcpLevelOnCast"),!1),Uqb:f(I,C("enableHdcp"),!1),Vr:f(I,C("prepareCadmium"),!1),Ofb:f(I,C("acceptManifestOnPrepareItemParams"),!0),$Va:f(Ba,"ppmconfig",{maxNumberTitlesScheduled:1}),HIb:f(I,C("playerPredictionModelV2"),!0),mI:f(I,C("enableLdlPrefetch"),!1),FP:f(I,C("enableGetHeadersAndMediaPrefetch"),!1),hpb:f(I,C("deleteCachedManifestOnPlayback"),!1),lpb:f(I,C("deleteOtherManifestCacheOnCreate"),!1),kpb:f(I,C("deleteOtherLdlCacheOnCreate"),!1),i5b:f(n,C("periodicPrepareLogsIntervalMilliseconds"),36E5),rJb:f(n,C("prepareManifestCacheMaxCount"),50),pJb:f(n,C("prepareLdlCacheMaxCount"),30),hWa:f(n,C("prepareManifestExpiryMilliseconds"),12E5),qJb:f(n,C("prepareLdlExpiryMilliseconds"),78E4),oJb:f(u,C("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),J6b:f(Ba,"videoApp"),KA:f(Ba,"storageRules"),Ftb:f(I,"ftlEnabled",!0),kka:f(n,C("imageSubsResolution"),0),gzb:f(n,C("imageSubsMaxBuffer"),Wa.ADb.aa(T.As),0),YO:f(I,C("captureBatteryStatus"),!1),kub:f(n,C("getBatteryApiTimeoutMilliseconds"),5E3),he:f(u,C("keySystemId"),Wa.he),xRa:f(ka,C("keySystemList"),void 0,void 0),nEb:f(n,C("hdcpGlobalTimeout1"),1E4),oEb:f(n,C("hdcpGlobalTimeout2"),1E4),u4b:f(n,C("hdcpQueryTimeout1"),1E3),v4b:f(n,C("hdcpQueryTimeout2"),1E3),pEb:f(n,C("hdcpQueryTimeout2"),100),qEb:f(I,C("microsoftHwdrmRequiresHevc"),!1),kEb:f(I,C("microsoftEnableDeviceInfo"),!1),lEb:f(I,C("microsoftEnableHardwareInfo"),!1),mEb:f(I,C("microsoftEnableHardwareReset"),!1),sTb:f(I,C("useHevcCodecForDolbyVision"),!1),CCb:f(I,"logMediaPipelineStatus",!1),vS:f(I,C("renderDomDiagnostics"),!0),aSa:function(){return -1;},oJ:f(W,C("logDisplayMaxEntryCount"),Wa.oJ,-1),JCb:f(W,C("logToConsoleLevel"),-1),g1b:f(W,C("bladerunnerCmdHistorySize"),10),Qt:function(){return ab.Qt;},jTb:f(I,"upgradeNetflixId",!0),Mla:f(I,"logErrorIfEsnNotProvided",!0),aha:f(I,"enforceSinglePlayback",Wa.aha),n_:f(I,"enforceSingleSession",Wa.n_),bfa:f(I,"closeOtherPlaybacks",!0),Chb:f(n,"asyncLoadTimeout",15E3,1),SCb:f(n,"mainThreadMonitorPollRate",0),Q4b:f(I,"nrdpAlwaysShowUIOverlay",!1),S4b:f(I,"nrdpValidateSSOTokens",!0),S5b:f(I,"showNrdpDebugBadging",!1),a6:function(){return ab.a6;},Jz:function(){return ab.Jz;},CH:function(){return ab.CH;},iF:function(){return ab.iF;},y1a:f(n,C("verbosePlaybackInfoDenominator"),0),g4:f(I,"renderTimedText",!0),YIb:f(I,"preBufferTimedText",!0),isb:f(I,"fatalOnTimedTextLoadError",!0),W_a:f(La,"timedTextStyleDefaults",{}),pra:f(La,"timedTextStyleOverrides",{}),ora:f(La,"timedTextFontFamilyMapping",Wa.ora || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),X_a:f(n,C("timedTextTimeOverride"),0),mL:f(n,"timedTextSimpleFallbackThreshold",Wa.mL.aa(T.As)),Ufa:f(u,C("customDfxpUrl")),irb:f(I,C("enableSubtitleTrackerLogging"),!1),FNb:f(I,C("sendSubtitleQoeLogblobOnMidplay"),!1),Hea:f(Da,"cdnIdWhiteList",[]),Gea:f(Da,"cdnIdBlackList",[]),Nha:f(u,C("forceAudioTrack")),cFb:f(I,"muteVolumeOnPlaybackClose",!0),T4b:f(u,"nrdpVolumeControlType","VOLUME_STREAM"),Pha:f(u,C("forceTimedTextTrack")),FDb:f(n,C("maxRetriesTimedTextDownload"),0),uRb:f(n,C("timedTextRetryInterval"),8E3),fQb:f(u,"storageType","idb",/^(none|fs|idb|ls)$/),XRa:f(n,"lockExpiration",1E4),ACb:f(n,"lockRefresh",3E3),Jjb:f(I,"captureUnhandledExceptions",!0),fzb:f(I,"ignoreUnhandledExceptionDuringPlayback",!0),uSb:f(I,"unhandledExceptionsArePlaybackErrors",!1),J0a:f(u,"unhandledExceptionSource",""),DJb:f(I,"preserveLastFrame",!1),AEb:f(n,"minBufferingTimeInMilliseconds",4E3),VJb:f(n,"progressBackwardsGraceTimeMilliseconds",4E3),WJb:f(n,"progressBackwardsMinPercent",10),Dib:f(u,C("bookmarkIgnoreBeginning"),"0",$a),Eib:f(u,C("bookmarkIgnoreEnd"),"5%",$a),Fib:f(u,C("bookmarkIgnoreEndForBranching"),"60000",$a),tJ:f(n,"maxParallelConnections",3),hpa:f(I,"reportThroughputInLogblobs",!0),CJ:f(n,"minAudioMediaRequestDuration",16E3),yEb:f(n,"minAudioMediaRequestDurationBranching",0),HJ:f(n,"minVideoMediaRequestDuration",4E3),FEb:f(n,"minVideoMediaRequestDurationAL1",0),GEb:f(n,"minVideoMediaRequestDurationBranching",0),C2:f(n,"minAudioMediaRequestSizeBytes",0),J2:f(n,"minVideoMediaRequestSizeBytes",0),vqb:f(I,"droppedFrameRateFilterEnabled",!1),wqb:f(n,"droppedFrameRateFilterMaxObservation",60,10,1E3),yqb:f(function(a,b,d,g,m,p){return va(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var d=a[b].length;d--;){a[b][d]=x.Ud(a[b][d]);}}return a;},[function(a){return J.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b-- && void 0 !== a;){if(!J.isArray(a[b]))return !1;for(var m=a[b].length;m--;){if(!J.Ow(a[b][m],d,g))return !1;}}return !0;},function(a){if(void 0 !== m)for(var b=a.length;b--;){if(m !== a[b].length)return !1;}return !0;},function(a){return void 0 === p || a.length >= p;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),u2b:f(I,"droppedFrameRateFilterWithoutRebufferEnabled",!0),xqb:f(n,"droppedFrameRateFilterMinHeight",384),zqb:f(Da,"droppedFramesPercentilesList",[]),rEb:f(I,"microsoftScreenSizeFilterEnabled",!1),qBb:f(I,"keyStatusFilterEnabled",!1),rSb:f(I,"uiLabelFilterEnabled",!0),qSb:f(Ba,"uiLabelFilter",{}),$ob:f(n,C("defaultVolume"),100,0,100),fLa:f(I,"disableVideoRightClickMenu",!1),E2:f(n,"minDecoderBufferMilliseconds",1E3,0,k.bv),iE:f(n,"optimalDecoderBufferMilliseconds",5E3,0,k.bv),IUa:f(n,"optimalDecoderBufferMillisecondsBranching",3E3,0,k.bv),hA:f(n,"minimumTimeBeforeBranchDecision",3E3,0,k.bv),$z:f(n,"maxDecoderBufferMilliseconds",Wa.$z.aa(P.fa),0,k.bv),IKa:f(n,"decoderTimeoutMilliseconds",1E4,1),Rpb:f(I,"disgardMediaOnAppend",!1),Ygb:f(I,"appendMediaBeforeInit",!1),NHb:f(n,"pauseTimeoutLimitMilliseconds",18E5),nka:f(n,"inactivityMonitorInterval",3E4,0),Nfb:f(Da,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),nI:f(I,"enableTrickPlay",!1),Dgb:f(Da,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),dSb:f(n,"trickPlayHighResolutionBitrateThreshold",1E3),eSb:f(n,"trickPlayHighResolutionThresholdMilliseconds",1E4),hSb:f(V,"trickplayBufferFactor",.5),cSb:f(n,"trickPlayDownloadRetryCount",1),hma:f(u,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),Zma:f(u,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),uwa:f(Ba,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),MSa:f(W,"maxIQRSamples",Infinity),nTa:f(W,"minIQRSamples",5),p1a:f(I,"useResourceTimingAPI",!1),dzb:f(I,"ignoreFirstByte",!0),$Db:f(I,"mediaRequestAsyncLoadStart",!0),BTb:f(I,"useXHROnLoadStart",!1),sha:f(Da,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),nZ:f(n,"connectTimeoutMilliseconds",8E3,500),bna:f(n,"noProgressTimeoutMilliseconds",8E3,500),vTb:f(I,"useOnLineApi",!1),V_a:f(n,"timedTextDownloadRetryCountBeforeCdnSwitch",3),J4b:f(n,"netflixRequestExpiryTimeout",0),rUb:f(I,"webkitDecodedFrameCountIncorrectlyReported",!1),jNb:f(n,"seekBackOnAudioTrackChangeMilliseconds",8E3),LHb:f(I,"pausePlaybackOnAudioSwitch",!0),Zqa:f(ka,C("supportedAudioTrackTypes"),[],void 0,1),qQa:f(n,"initialLogFlushTimeout",5E3),OVa:f(u,"playdataPersistKey",ab.Qt?"unsentplaydatatest":"unsentplaydata"),aqa:f(I,"sendPersistedPlaydata",!0),EIb:f(n,"playdataPersistIntervalMilliseconds",4E3),m5b:f(n,"playdataSendDelayMilliseconds",1E4),I4:f(I,"sendPlaydataBackupOnInit",!0),FCb:f(ka,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),tEb:f(I,"midplayEnabled",!0),iTa:f(n,"midplayIntervalMilliseconds",3E5),uEb:f(Da,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),vP:f(n,"downloadReportDenominator",0),iqb:f(n,"downloadReportInterval",3E5),$Ra:f(n,"logConfigApplyDenominator",0),lIa:f(La,C("bookmarkByMovieId"),{}),SP:f(I,C("forceLimitedDurationLicense"),!1),Wz:f(n,C("licenseRenewalRequestDelay"),0),Wna:f(n,C("persistedReleaseDelay"),1E4),U3b:f(I,C("limitedDurationFlagOverride"),void 0),Kj:f(I,C("secureStopEnabled"),!1),K5b:f(I,C("secureStopFromPersistedKeySession"),!1),xYa:f(n,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),Ppa:f(n,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),gNb:f(n,C("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),hNb:f(n,C("secureStopPersistedKeySessionRetries"),17,1),fNb:f(n,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),jYa:f(n,"safariPlayPauseWorkaroundDelay",100),AUb:f(n,"workaroundValueForSeekIssue",1200),Bea:f(I,C("callEndOfStream"),Wa.Bea),aIb:f(I,"performRewindCheck",!0),ksb:f(I,"fatalOnUnexpectedSeeking",!0),jsb:f(I,"fatalOnUnexpectedSeeked",!0),IOb:f(I,C("setVideoElementSize")),Fkb:f(I,C("clearVideoSrc"),!0),VKa:f(n,C("delayPlayPause"),0),xn:f(I,C("useTypescriptEme"),!1),yP:f(u,C("drmPersistKey"),"unsentDrmData"),Foa:f(I,C("promiseBasedEme"),!1),Ijb:f(I,"captureKeyStatusData",!1),RI:f(I,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),TFb:f(I,C("nudgeSourceBuffer"),!1),Qpa:f(W,C("seekDelta"),1),fS:f(I,C("preciseSeeking"),!1),aJb:f(I,C("preciseSeekingOnTwoCoreDevice"),!1),UKa:f(La,C("delayErrorHandling")),m0a:f(I,"trackingLogEnabled",!1),n0a:f(function(a,b){var d;d=La(a,b,void 0);d && Object.entries(d).forEach(function(a){var b;b=S(a);a=b.next().value;b=b.next().value;"true" === b?d[a]=!0:"false" === b && (d[a]=!1);});return d;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),zra:f(u,"trackingLogPath","/customerevents/track/debug"),TRb:f(Da,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Kh:f(u,"esn",""),xMa:f(u,"fesn",""),drb:f(I,C("enablePerformanceLogging"),!1),Qga:f(I,C("enableEmeVerboseLogging"),!1),Yqb:f(I,"enableLastChunkLogging",!1),xO:f(u,"appId","",B),sessionId:f(u,"sessionId","",B),Jea:f(u,"cdnProxyUrl"),zTb:f(I,"usePlayReadyHeaderObject",!1),VMa:f(n,"forceXhrErrorResponseCode",void 0),kr:{F4b:f(u,"mslApiPath","/msl/"),x2b:f(u,C("edgePath"),"/cbp/cadmium-29"),v5b:f(u,"proxyPath",""),Px:f(u,"uiVersion"),F5:f(u,"uiPlatform"),u1b:function(){return "0";},roa:f(ka,"preferredLanguages",k.xua,/^[a-zA-Z-]{2,5}$/,1),jtb:f(u,C("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),OQb:f(I,"supportPreviewContentPin",!0),PQb:f(I,"supportWatermarking",!0),mPb:f(I,"showAllSubDubTracks",!1),K2b:f(I,C("failOnGuidMismatch"),!1)},V3:{enabled:f(I,"qcEnabled",!1),Oo:f(u,"qcPackageId","")},rs:f(I,"useRangeHeader",!1),HP:f(I,"enableMilestoneEventList",!1),HO:f(u,"authenticationType",ab.Qt?Wa.Xhb:Wa.HO),WHa:f(La,"authenticationKeyNames",x.Eb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),ZQb:f(u,"systemKeyWrapFormat"),mzb:f(I,"includeNetflixIdUserAuthData",!0),hPb:f(I,"shouldSendUserAuthData",!0),dqa:f(I,"sendUserAuthIfRequired",Wa.dqa),bPb:f(I,"shouldClearUserData",!1),YEb:f(I,"mslDeleteStore",!1),$Eb:f(I,"mslPersistStore",!0),Dlb:f(I,"correctNetworkForShortTitles",!0),VIb:f(I,"postplayHighInitBitrate",!1),ftb:f(I,"flushHeaderCacheOnAudioTrackChange",!0),SQb:f(I,"supportsUnequalizedDownloadables",!0),EKa:f(n,C("debugAseDenominator"),100),IY:f(n,"aseAudioBufferSizeBytes",Wa.IY.aa(T.As)),KY:f(n,"aseVideoBufferSizeBytes",Wa.KY.aa(T.As)),ku:f(n,"minInitVideoBitrate",560),Nma:f(n,"minHCInitVideoBitrate",560),bx:f(n,"maxInitVideoBitrate",Infinity),wR:f(n,"minInitAudioBitrate",0),vR:f(n,"minHCInitAudioBitrate",0),jR:f(n,"maxInitAudioBitrate",65535),B2:f(n,"minAcceptableVideoBitrate",235),xR:f(n,"minRequiredBuffer",3E4),Zi:f(n,"minPrebufSize",7800),Mma:f(n,"minCheckBufferingCompleteInterval",999999),Uoa:f(V,"rebufferingFactor",1),kq:f(n,"maxBufferingTime",2600),dsa:f(I,"useMaxPrebufSize",!0),bA:f(n,"maxPrebufSize",45E3),sma:f(n,"maxRebufSize",Infinity),k1:f(N,"initialBitrateSelectionCurve",null),mQa:f(n,"initSelectionLowerBound",560),nQa:f(n,"initSelectionUpperBound",1050),r5:f(n,"throughputPercentForAudio",15),aea:f(n,"bandwidthMargin",10),bea:f(I,"bandwidthMarginContinuous",!1),cea:f(N,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),qfa:f(n,"conservBandwidthMargin",20),bra:f(I,"switchConfigBasedOnInSessionTput",!1),cP:f(n,"conservBandwidthMarginTputThreshold",0),rfa:f(N,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),u_a:f(I,"switchAlgoBasedOnHistIQR",!1),OA:f(u,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),rma:f(W,"maxPlayerStateToSwitchConfig",-1),Tla:f(u,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),s8:f(V,"IQRThreshold",.5),aka:f(u,"histIQRCalcToUse","simple"),Lo:f(n,"maxTotalBufferLevelPerSession",0),csa:f(I,"useBufferSizeLimiter",!1),SPa:f(n,"highWatermarkLevel",3E4),e0a:f(n,"toStableThreshold",3E4),w5:f(n,"toUnstableThreshold",Wa.w5.aa(P.fa)),Hqa:f(I,"skipBitrateInUpswitch",!0),msa:f(n,"watermarkLevelForSkipStart",8E3),Uja:f(n,"highStreamRetentionWindow",9E4),Ula:f(n,"lowStreamTransitionWindow",51E4),Wja:f(n,"highStreamRetentionWindowUp",3E5),Wla:f(n,"lowStreamTransitionWindowUp",3E5),Vja:f(n,"highStreamRetentionWindowDown",6E5),Vla:f(n,"lowStreamTransitionWindowDown",0),Tja:f(V,"highStreamInfeasibleBitrateFactor",.5),Vw:f(n,"lowestBufForUpswitch",15E3),c2:f(n,"lockPeriodAfterDownswitch",15E3),Yla:f(n,"lowWatermarkLevel",25E3),Ww:f(n,"lowestWaterMarkLevel",2E4),Zla:f(I,"lowestWaterMarkLevelBufferRelaxed",!1),Dma:f(V,"mediaRate",1),q2:f(n,"maxTrailingBufferLen",1E4),CO:f(n,"audioBufferTargetAvailableSize",262144),ST:f(n,"videoBufferTargetAvailableSize",1048576),WSa:f(n,"maxVideoTrailingBufferSize",8388608),GSa:f(n,"maxAudioTrailingBufferSize",393216),z_:f(V,"fastUpswitchFactor",3),uha:f(V,"fastDownswitchFactor",1),cx:f(n,"maxMediaBufferAllowed",24E4),HDb:f(n,"maxVideoBufferAllowedInBytes",0),Dqa:f(I,"simulatePartialBlocks",!0),zZa:f(I,"simulateBufferFull",!0),sfa:f(I,"considerConnectTime",!1),pfa:f(V,"connectTimeMultiplier",1),iSa:f(n,"lowGradeModeEnterThreshold",12E4),jSa:f(n,"lowGradeModeExitThreshold",9E4),JSa:f(n,"maxDomainFailureWaitDuration",3E4),FSa:f(n,"maxAttemptsOnFailure",18),oMa:f(I,"exhaustAllLocationsForFailure",!0),PSa:f(n,"maxNetworkErrorsDuringBuffering",20),iR:f(n,"maxBufferingTimeAllowedWithNetworkError",6E4),vMa:f(n,"fastDomainSelectionBwThreshold",2E3),M_a:f(n,"throughputProbingEnterThreshold",4E4),N_a:f(n,"throughputProbingExitThreshold",34E3),WRa:f(n,"locationProbingTimeout",1E4),zMa:f(n,"finalLocationSelectionBwThreshold",1E4),K_a:f(V,"throughputHighConfidenceLevel",.75),L_a:f(V,"throughputLowConfidenceLevel",.4),VLa:f(I,"enablePerfBasedLocationSwitch",!1),Wr:f(I,"probeServerWhenError",!0),zoa:f(n,"probeRequestTimeoutMilliseconds",8E3),Nv:f(I,"allowSwitchback",!0),uE:f(n,"probeDetailDenominator",100),k2:f(n,"maxDelayToReportFailure",300),Jla:f(n,"locationStatisticsUpdateInterval",6E4),ZJa:f(I,"countGapInBuffer",!1),gHa:f(I,"allowCallToStreamSelector",!0),tIa:f(n,"bufferThresholdForAbort",1E4),Yna:f(n,"pipelineScheduleTimeoutMs",2),dx:f(n,"maxPartialBuffersAtBufferingStart",2),Oma:f(n,"minPendingBufferLen",6E3),aA:f(n,"maxPendingBufferLen",12E3),DDb:f(n,"maxPendingBufferLenAL1",3E4),tma:f(n,"maxStreamingSkew",4E3),qma:f(n,"maxPendingBufferPercentage",10),uJ:f(n,"maxRequestsInBuffer",60),SSa:f(n,"maxRequestsInBufferAL1",240),TSa:f(n,"maxRequestsInBufferBranching",120),V0:f(n,"headerRequestSize",4096),uR:f(n,"minBufferLenForHeaderDownloading",1E4),zS:f(n,"reserveForSkipbackBufferMs",1E4),pna:f(n,"numExtraFragmentsAllowed",2),Po:f(I,"pipelineEnabled",!1),FZa:f(n,"socketReceiveBufferSize",0),OY:f(n,"audioSocketReceiveBufferSize",32768),xL:f(n,"videoSocketReceiveBufferSize",65536),Rja:f(n,"headersSocketReceiveBufferSize",32768),K5:f(n,"updatePtsIntervalMs",1E3),nea:f(n,"bufferTraceDenominator",100),MC:f(n,"bufferLevelNotifyIntervalMs",2E3),zO:f(n,"aseReportDenominator",0),Lda:f(n,"aseReportIntervalMs",3E5),MLa:f(I,"enableAbortTesting",!1),AGa:f(n,"abortRequestFrequency",8),Vqa:f(n,"streamingStatusIntervalMs",2E3),tx:f(n,"prebufferTimeLimit",24E4),D2:f(n,"minBufferLevelForTrackSwitch",2E3),Rna:f(n,"penaltyFactorForLongConnectTime",2),Rla:f(n,"longConnectTimeThreshold",200),pda:f(n,"additionalBufferingLongConnectTime",2E3),qda:f(n,"additionalBufferingPerFailure",8E3),sS:f(n,"rebufferCheckDuration",6E4),TLa:f(I,"enableLookaheadHints",!1),eSa:f(n,"lookaheadFragments",2),rz:f(I,"enableOCSideChannel",!0),KV:f(Ba,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),S0a:f(I,"updateDrmRequestOnNetworkFailure",!1),TKa:f(I,"deferAseScheduling",!1),ISa:f(n,"maxDiffAudioVideoEndPtsMs",16E3),tL:f(I,"useHeaderCache",!0),sP:f(n,"defaultHeaderCacheSize",4),JZ:f(n,"defaultHeaderCacheDataPrefetchMs",8E3),Nja:f(n,"headerCacheMaxPendingData",6),LJ:f(I,"neverWipeHeaderCache",!0),Oja:f(n,"headerCachePriorityLimit",5),JP:f(I,"enableUsingHeaderCount",!1),NPa:f(I,"headerCacheTruncateHeaderAfterParsing",!0),etb:f(I,C("flushHeaderCacheBeforePlayback"),!1),Yma:f(n,"networkFailureResetWaitMs",2E3),Xma:f(n,"networkFailureAbandonMs",6E4),p2:f(n,"maxThrottledNetworkFailures",3),q5:f(n,"throttledNetworkFailureThresholdMs",200),Xla:f(W,"lowThroughputThreshold",400),nha:f(I,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),BTa:f(I,"mp4ParsingInNative",!1),HZa:f(I,"sourceBufferInOrderAppend",!0),cs:f(I,"requireAudioStreamToEncompassVideo",!0),fHa:f(I,"allowAudioToStreamPastVideo",!0),ah:f(I,"enableManagerDebugTraces",!1),wSa:f(n,"managerDebugMessageInterval",1E3),vSa:f(n,"managerDebugMessageCount",20),kUa:f(I,"notifyManifestCacheEom",!1),mea:f(n,"bufferThresholdToSwitchToSingleConnMs",18E4),lea:f(n,"bufferThresholdToSwitchToParallelConnMs",12E4),z3:f(n,"periodicHistoryPersistMs",3E5),y4:f(n,"saveVideoBitrateMs",18E4),tHa:f(I,"appendMediaRequestOnComplete",!0),AL:f(I,"waitForDrmToAppendMedia",!1),M_:f(I,C("forceAppendHeadersAfterDrm"),!1),rK:f(I,C("reappendRequestsOnSkip"),!1),gFb:f(n,"netIntrStoreWindow",36E3),CEb:f(n,"minNetIntrDuration",8E3),esb:f(n,"fastHistoricBandwidthExpirationTime",10368E3),hib:f(n,"bandwidthExpirationTime",5184E3),bsb:f(n,"failureExpirationTime",86400),Kyb:f(n,"historyTimeOfDayGranularity",4),Nrb:f(I,"expandDownloadTime",!1),NEb:f(n,"minimumMeasurementTime",500),MEb:f(n,"minimumMeasurementBytes",131072),jRb:f(n,"throughputMeasurementTimeout",2E3),Czb:f(n,"initThroughputMeasureDataSize",262144),kRb:f(u,"throughputPredictor","ewma"),iRb:f(n,"throughputMeasureWindow",5E3),nRb:f(n,"throughputWarmupTime",5E3),hRb:f(n,"throughputIQRMeasureWindow",5E3),s7a:f(n,"IQRBucketizerWindow",15E3),klb:f(n,"connectTimeHalflife",10),sMb:f(n,"responseTimeHalflife",10),Jyb:f(n,"historicBandwidthUpdateInterval",2E3),LEb:f(n,"minimumBufferToStopProbing",1E4),Npa:f(u,"secondThroughputEstimator","none"),uYa:f(W,"secondThroughputMeasureWindowInMs",Infinity),Rqb:f(ka,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),zsb:f(Ba,"filterDefinitionOverrides",{}),Wob:f(u,"defaultFilter","throughput-ewma"),bNb:f(u,"secondaryFilter","none"),Xob:f(Ba,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),FR:f(I,"needMinimumNetworkConfidence",!0),gea:f(I,"biasTowardHistoricalThroughput",!0),xY:f(I,"addHeaderDataToNetworkMonitor",!1),Pqa:f(I,"startMonitorOnLoadStart",!1),gpa:f(I,"reportFailedRequestsToNetworkMonitor",!1),mma:f(W,"maxFastPlayBufferInMs",Infinity),lma:f(W,"maxFastPlayBitThreshold",Infinity),Cda:f(I,"appendFirstHeaderOnComplete",!0),mhb:f(u,"ase_stream_selector","optimized"),yka:f(u,"initBitrateSelectorAlgorithm","default"),rea:f(u,"bufferingSelectorAlgorithm","default"),FKa:f(u,"ase_ls_failure_simulation",""),Xfa:f(I,"ase_dump_fragments",!1),Zfa:f(n,"ase_location_history",0),$fa:f(n,"ase_throughput",0),HKa:f(I,"ase_simulate_verbose",!1),QIb:f(n,"pollingPeriod",150),sCb:f(n,"loadTimeMs",18E4),kDb:f(n,"marginTimeMs",1E4),TA:f(I,"useMediaCache",!1),oz:f(n,"diskCacheSizeLimit",52428800),oR:f(n,"mediaCachePrefetchMs",8E3),yma:f(La,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),qia:f(I,"getDeviceIdFromBindDevice",!1),jda:f(I,"addFailedLogBlobsToQueue",!0),F0a:{"content-sampling":{kq:f(n,"contentSamplingMaxBufferingTime",3E3),HK:f(u,"contentSamplingSelectStartingVMAFMethod","fallback"),pO:f(I,"contentSamplingActivateSelectStartingVMAF",!0),GJ:f(n,"contentSamplingMinStartingVideoVMAF",80),tR:f(n,"contentSamplingMinAcceptableVMAF",70),XD:f(n,"contentSamplingMinAllowedVmaf",60)},billboard:{ku:f(n,"billboardMinInitVideoBitrate",1050),bx:f(n,"billboardMaxInitVideoBitrate",null),Zi:f(n,"billboardMinPrebufSize",null),bA:f(n,"billboardMaxPrebufSize",null),kq:f(n,"billboardMaxBufferingTime",null),dx:f(n,"billboardMaxPartialBuffersAtBufferingStart",null),Ww:f(n,"billboardLowestWaterMarkLevel",6E3),Vw:f(n,"billboardLowestBufForUpswitch",25E3),OA:f(u,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Cq:f(I,"billboardUseNewApi",null)},preplay:{ku:f(n,"preplayMinInitVideoBitrate",1050),bx:f(n,"preplayMaxInitVideoBitrate",null),Zi:f(n,"preplayMinPrebufSize",null),bA:f(n,"preplayMaxPrebufSize",null),kq:f(n,"preplayMaxBufferingTime",null),dx:f(n,"preplayMaxPartialBuffersAtBufferingStart",null),Ww:f(n,"preplayLowestWaterMarkLevel",6E3),Vw:f(n,"preplayLowestBufForUpswitch",25E3),Cq:f(I,"preplayUseNewApi",null)},embedded:{ku:f(n,"embeddedMinInitVideoBitrate",1050),bx:f(n,"embeddedMaxInitVideoBitrate",null),Zi:f(n,"embeddedMinPrebufSize",null),bA:f(n,"embeddedMaxPrebufSize",null),kq:f(n,"embeddedMaxBufferingTime",null),dx:f(n,"embeddedMaxPartialBuffersAtBufferingStart",null),Ww:f(n,"embeddedLowestWaterMarkLevel",6E3),Vw:f(n,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{ku:f(n,"videoMerchBobHorizontalMinInitVideoBitrate",null),bx:f(n,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Zi:f(n,"videoMerchBobHorizontalMinPrebufSize",null),bA:f(n,"videoMerchBobHorizontalMaxPrebufSize",null),kq:f(n,"videoMerchBobHorizontalMaxBufferingTime",null),dx:f(n,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Ww:f(n,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Vw:f(n,"videoMerchBobHorizontalLowestBufForUpswitch",null),Cq:f(I,"videoMerchBobHorizontalUseNewApi",!0),VA:f(ka,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{ku:f(n,"miniModalHorizontalMinInitVideoBitrate",null),bx:f(n,"miniModalHorizontalMaxInitVideoBitrate",null),Zi:f(n,"miniModalHorizontalMinPrebufSize",null),bA:f(n,"miniModalHorizontalMaxPrebufSize",null),kq:f(n,"miniModalHorizontalMaxBufferingTime",500),dx:f(n,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Ww:f(n,"miniModalHorizontalLowestWaterMarkLevel",null),Vw:f(n,"miniModalHorizontalLowestBufForUpswitch",null),Cq:f(I,"miniModalHorizontalUseNewApi",null)},standard:{Cq:f(I,"standardUseNewApi",null)},"postplay-seamless":{Cq:f(I,"postplaySeamlessUseNewApi",!0)},postplay:{Cq:f(I,"postplayUseNewApi",null)},"postplay-background-trailer":{Cq:f(I,"postplayBackgroundTrailerUseNewApi",null)}},krb:f(I,"enableVerbosePlaydelayLogging",!1),grb:f(I,"enableSeamless",!1),$ja:f(n,"hindsightDenominator",0),Zja:f(n,"hindsightDebugDenominator",0),Z0:f(Ba,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),IP:f(I,"enableSessionHistoryReport",!1),Nga:f(n,"earlyStageEstimatePeriod",1E4),HRa:f(n,"lateStageEstimatePeriod",3E4),l2:f(n,"maxNumSessionHistoryStored",30),H2:f(n,"minSessionHistoryDuration",3E4),hu:f(n,"maxActiveRequestsPerSession",3),i2:f(n,"maxActiveRequestsSABCell100",2),m2:f(n,"maxPendingBufferLenSABCell100",500),Ela:f(I,"limitAudioDiscountByMaxAudioBitrate",!0),Pi:f(Ba,"browserInfo",{}),Zib:f(n,C("busyGracePeriod"),199),GNb:f(I,C("sendTransitionLogblob"),!0),jI:f(I,C("editVideoFragments"),!0),d_:f(I,C("earlyAppendSingleChildBranch"),!0),nzb:f(I,C("includeSegmentInfoOnLogblobs"),!0),Rrb:f(I,"exposeTestData",!1),bga:f(I,"declareBufferingCompleteAtSegmentEnd",!0),Wy:f(I,"applyProfileTimestampOffset",!1),Yj:f(I,"applyProfileStreamingOffset",!1),Rgb:f(I,C("allowSmallSeekDelta"),!1),BPb:f(n,C("smallSeekDeltaThresholdMilliseconds"),E.jW),Oqb:f(I,"enableCDMAttestedDescriptors",!1),m4:f(I,"requireDownloadDataAtBuffering",!1),n4:f(I,"requireSetupConnectionDuringBuffering",!1),Voa:f(I,"recordFirstFragmentOnSubBranchCreate",!1),Mib:f(I,"branchingAudioTrackFrameDropSmallSeekFix",!0),TMa:f(I,"forceL3WidevineCdm",!1),uTb:f(I,"useMobileVMAF",!1),wpb:f(u,"desiredVMAFTypeMobile","phone_plus_lts"),xpb:f(u,"desiredVMAFTypeNonMobile","plus_lts"),pO:f(I,"activateSelectStartingVMAF",!1),GJ:f(n,"minStartingVideoVMAF",1),tR:f(n,"minAcceptableVMAF",1),XD:f(n,"minAllowedVmaf",1),xda:f(I,"alwaysNotifyEOSForPlaygraph",!0),j_:f(I,"enableNewAse",!0),Cq:f(I,"useNewApi",!1),i_:f(I,"enableHudsonFieldTest",!1),yQ:f(ka,"hudsonTitles",["81127954","70125931","80158148"]),pma:f(n,"maxPartialBuffersAtHudson",1),NR:f(n,"numberOfChunksPerSegment",4),p5:f(n,"targetContentLatency",1E4),gra:f(n,"targetLongContentLatency",3E4),K2:f(n,"minimumTimeDelay",1),l_:f(I,"enableWsslEstimate",!1),j2:f(n,"maxAllowedOutstandingRequests",4),I2:f(n,"minStreamableConcurrencyWindow",3E3),j5:f(V,"streamableConcurrencyFactor",.3),RO:f(n,"bufferingConcurrencyWindow",7800),Eqa:f(I,"singleStreamablePerBranch",!0),k_:f(I,"enableResolutionVMAFStreamFilter",!1),r4:f(Ba,"resolutionVMAFCappingRuleList",{}),Tna:f(W,"percentCapTitlesForResolutionVMAFStreamFilter",100),Ppb:f(I,"disableSkipping",!1)};aa=!0;b.lfa=function(a){var m,p,t;m=g.ga.get(R.qd).id;if(0 < b.config.$Ra && 0 === m % b.config.$Ra)try{p=g.ga.get(L.wl);t=g.ga.get(D.Kq).Lp("config","info",{params:a});p.Qc(t);}catch(qb){g.log.error("Failed to log config$apply",qb);}O._cad_global.config=b.config;d.Ya(a);a && (Ga=x.Eb({},a,{pJ:!0}),x.Eb(Ga,vb,{pJ:!0}),l(M,b.config),Ga.istestaccount && g.log.trace("Config applied for",eb(aa?Ga:a)),aa=!1);};b.lfa(Ga);};b.flb=function(a,b){return J.Td(a) && "%" == a[a.length - 1]?A.Yh(parseFloat(a) * b / 100):a | 0;};b.LJa=function(a){return a?(a=x.Eb({},b.config),x.Eb(a,{iE:b.config.IUa},{jx:!0})):b.config;};b.glb=function(a){var d;d=x.Eb({},b.config);return x.Eb(d,c(a),{jx:!0});};b.nfa=function(b){b=c(b);return x.Eb({},a(162)(b),{jx:!0});};b.mfa=function(d,g,m){m=! !m && (0 <= m.indexOf("h264hpl") || 0 <= m.indexOf("vp9"));d={CJ:d?b.config.yEb:b.config.CJ,HJ:d?b.config.GEb:m?b.config.FEb:b.config.HJ,uJ:d && m?Math.max(b.config.TSa,b.config.SSa):d?b.config.TSa:m?b.config.SSa:b.config.uJ,aA:m?b.config.DDb:b.config.aA,d_:!g};return x.Eb({},a(162)(d),{jx:!0});};b.ilb=c;b.hlb=l;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.$d=b.sb=b.ze=b.yb=b.W=b.x8=b.HB=b.Ob=void 0;(function(a){a.wCb="loadedtracks";a.vCb="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.Np="currenttimechanged";a.xIa="bufferedtimechanged";a.Bqb="durationchanged";a.cUb="videosizechanged";a.OHb="pausedchanged";a.OIb="playingchanged";a.urb="endedchanged";a.wea="busychanged";a.OHa="audiotracklistchanged";a.FO="audiotrackchanged";a.dF="timedtexttracklistchanged";a.nL="timedtexttrackchanged";a.FT="trickplayframeschanged";a.dFb="mutedchanged";a.jUb="volumechanged";a.nPb="showsubtitle";a.FLb="removesubtitle";a.qUb="watermark";a.Uka="isReadyToTransition";a.QI="inactivated";a.qNb="segmentmaploaded";a.rNb="segmentpresenting";a.$hb="autoplaywasallowed";a.aib="autoplaywasblocked";})(b.Ob || (b.Ob={}));(b.HB || (b.HB={})).LS="playgraphsegmenttransition";b.x8=(function(){function a(){}a.OYa="serverTimeChanged";return a;})();(function(a){a.sH="aseException";a.tH="aseReport";a.Yhb="authorized";a.Xda="autoplayWasAllowed";a.Mk="autoplayWasBlocked";a.mib="bandwidthMeterAggregateUpdate";a.Wv="bufferUnderrun";a.closed="closed";a.Jf="closing";a.Np="currentTimeChanged";a.pz="downloadComplete";a.QI="inactivated";a.JRa="licenseAdded";a.nJ="licensed";a.eu="locationSelected";a.rJ="manifestClosing";a.hq="manifestPresenting";a.b4b="manifestSelected";a.u2="mediaBufferChanged";a.Vma="needLicense";a.V2="nextBranchingSegmentChosen";a.Qo="playbackStart";a.ll="repositioned";a.BE="repositioning";a.kYa="safePlayRequested";a.kNb="segmentAborted";a.FK="segmentPresenting";a.L5b="segmentComplete";a.mNb="segmentLastPts";a.pNb="segmentStarting";a.NK="serverSwitch";a.wZa="shouldUpdateVideoDiagInfo";a.fL="subtitleError";a.kra="throttledMediaTimeChanged";a.lL="timedTextRebuffer";a.dF="timedTextTrackListChanged";a.FT="trickPlayFramesChanged";a.HT="tryRecoverFromStall";a.Vra="updateNextBranchingSegmentWeights";a.HTb="userInitiatedPause";a.t1a="userInitiatedResume";})(b.W || (b.W={}));(function(a){a[a.VF=0]="NOTLOADED";a[a.LOADING=1]="LOADING";a[a.rd=2]="NORMAL";a[a.CLOSING=3]="CLOSING";a[a.CLOSED=4]="CLOSED";})(b.yb || (b.yb={}));(function(a){a[a.rd=1]="NORMAL";a[a.Yd=2]="BUFFERING";a[a.ABa=3]="STALLED";})(b.ze || (b.ze={}));(function(a){a[a.fg=1]="WAITING";a[a.Vc=2]="PLAYING";a[a.qj=3]="PAUSED";a[a.Ds=4]="ENDED";})(b.sb || (b.sb={}));(function(a){a[a.$u=0]="INITIAL";a[a.kv=1]="SEEK";a[a.hG=2]="TRACK_CHANGED";a[a.KB=3]="SEGMENT_CHANGED";})(b.$d || (b.$d={}));},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jc=b.HF=b.sm=b.zs=void 0;b.zs={t1b:"casttv",chrome:"chrome",A1b:"chromecast",kr:"edge",Dqb:"edgeoss",Xsb:"firefox",y3b:"ie",opera:"opera",KMb:"safari"};b.sm={FY:"android",eJa:"chromeos",QBb:"linux",nSa:"mac",F_a:"tesla",nsa:"windows"};b.HF={blb:"computer",wVa:"phone",w_a:"tablet"};b.Jc="ConfigSymbol";},function(f,b,a){b=a(140);b.Yob=0;f.V={EventEmitter:b,Pg:a(940)};},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Yb=b.Jka=b.Pw=b.Td=b.bla=b.rAb=b.gAb=b.Tka=b.Ow=b.PQa=b.oa=b.$ka=b.isArray=b.kRa=b.bf=b.ec=b.is=void 0;f=a(280);b.is=f.qB;b.ec=function(a){return b.is.de(a);};b.bf=function(a){return b.is.AC(a);};b.kRa=function(a){return b.is.ada(a);};b.isArray=function(a){return b.is.Ov(a);};b.$ka=function(a){return b.is.lHa(a);};b.oa=function(a,l,k){return b.is.Dh(a,l,k);};b.PQa=function(a,l,k){return b.is.zda(a,l,k);};b.Ow=function(a,l,k){return b.is.At(a,l,k);};b.Tka=function(a){return b.is.mO(a);};b.gAb=function(a){return b.is.Lfb(a);};b.rAb=function(a){return b.is.Mfb(a);};b.bla=function(a){return b.is.mHa(a);};b.Td=function(a){return b.is.bo(a);};b.Pw=function(a){return b.is.Fm(a);};b.Jka=function(a){return b.is.lO(a);};b.Yb=function(a){return b.is.sY(a);};},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(432),b);},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Iob=b.Wfa=b.Bob=b.Fob=b.XH=b.rP=b.Eob=b.Gob=b.YH=b.DKa=b.Dob=b.Cob=b.Ya=b.lf=b.Hob=b.pta=void 0;f=a(7);a=a(93);b.pta=function(){b.Ya();};b.Hob=!0;b.lf=f.ga.get(a.Bs);b.Ya=b.lf.assert.bind(b.lf);b.Cob=b.lf.qhb.bind(b.lf);b.Dob=b.lf.rhb.bind(b.lf);b.DKa=b.lf.whb.bind(b.lf);b.YH=b.lf.zhb.bind(b.lf);b.Gob=b.lf.xhb.bind(b.lf);b.Eob=b.lf.uhb.bind(b.lf);b.rP=b.lf.thb.bind(b.lf);b.XH=b.lf.yhb.bind(b.lf);b.Fob=b.lf.vhb.bind(b.lf);b.Bob=b.lf.phb.bind(b.lf);b.Wfa=b.lf.shb.bind(b.lf);b.Iob=b.lf.Xzb.bind(b.lf);},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.qd=void 0;b.qd="ApplicationSymbol";},function(f,b){function a(a,b){return a && b?Math.abs(a * b / c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a % b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});b.U=void 0;f=(function(){function b(a,b){"object" === typeof a?(this.qt=a.tb,this.Gl=a.P):(this.qt=a,this.Gl=b);}b.$Gb=function(a){return new b(1,a);};b.compare=function(a,b){return a.zj(b);};b.abs=function(a){return new b(Math.abs(a.qt),a.Gl);};b.Pc=function(a){return 0 === a?b.rb:new b(a,1E3);};b.sra=function(a,b){return Math.floor(1E3 * a / b);};b.Uma=function(a,b){return Math.floor(a * b / 1E3);};b.max=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.Yha=function(k,r){var g;if(k.P === r.P)return new b(c(k.tb,r.tb),k.P);g=a(k.P,r.P);return b.Yha(k.we(g),r.we(g));};Object.defineProperties(b.prototype,{tb:{get:function(){return this.qt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{P:{get:function(){return this.Gl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ka:{get:function(){return 1E3 * this.qt / this.Gl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ph:{get:function(){return this.qt / this.Gl;},enumerable:!1,configurable:!0}});b.prototype.we=function(a){a/=this.P;return new b(Math.floor(this.tb * a),Math.floor(this.P * a));};b.prototype.add=function(c){var k;if(this.P === c.P)return new b(this.tb + c.tb,this.P);k=a(this.P,c.P);return this.we(k).add(c.we(k));};b.prototype.Oa=function(a){return this.add(new b(-a.tb,a.P));};b.prototype.$D=function(a){return new b(this.tb * a,this.P);};b.prototype.Pp=function(c){var k;if("number" === typeof c){k=a(this.tb,c);return k !== this.tb?this.we(k / this.tb * this.P).Pp(c):new b(this.tb / c,this.P);}if(this.P === c.P)return this.tb / c.tb;k=a(this.P,c.P);return this.we(k).Pp(c.we(k));};b.prototype.uga=function(c){var k;if(this.P === c.P)return new b(Math.abs(this.tb - c.tb),this.P);k=a(this.P,c.P);return this.we(k).uga(c.we(k));};b.prototype.dPa=function(b){return a(this.P,b);};b.prototype.eXa=function(){return new b(this.P,this.tb);};b.prototype.compare=function(b,c){var g;if(this.P === c.P)return b(this.tb,c.tb);g=a(this.P,c.P);return b(this.we(g).tb,c.we(g).tb);};b.prototype.zj=function(a){return this.equal(a)?0:this.lessThan(a)?-1:1;};b.prototype.equal=function(a){return this.compare(function(a,b){return a === b;},a);};b.prototype.dE=function(a){return this.compare(function(a,b){return a !== b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a < b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a > b;},a);};b.prototype.iJ=function(a){return this.compare(function(a,b){return a <= b;},a);};b.prototype.Wp=function(a){return this.compare(function(a,b){return a >= b;},a);};b.prototype.uib=function(a,b){var g;g=!1;void 0 === g && (g=!0);return g?this.Wp(a) && this.iJ(b):this.greaterThan(a) && this.lessThan(b);};b.prototype.toJSON=function(){return {ticks:this.tb,timescale:this.P};};b.prototype.toString=function(){return this.tb + "/" + this.P;};b.prototype.fh=function(){return this.tb + "/" + this.P + " (" + this.ka + "ms)";};b.rb=new b(0,1E3);b.cl=new b(1,1E3);b.au=new b(Infinity,1);return b;})();b.U=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ae=void 0;b.Ae="IsTypeSymbol";},function(f){f.V={pVb:{mv:0,r_b:1,name:["STARTUP","STEADY"]},$U:{Sg:0,q_b:1,P$a:2,name:["STARTING","STABLE","UNSTABLE"]},Sa:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Wh:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Ag:{URL:0,LB:1,oxa:2,ev:3,name:["URL","SERVER","LOCATION","NETWORK"]},Ve:{HAVE_NOTHING:0,nB:1,mB:2,eM:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Rg:{XUb:0,VWb:1,xZb:2,NEXT:3,XYb:4,V_b:5,XWb:6,QXb:7,mv:8,ERROR:9,P9:10,w9a:11,w6:12,A7a:13,z7a:14,a$a:15,$9a:16,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway").split(" ")},yWb:{ev:0,TVb:1,name:["NETWORK","DECODE"]},n_b:{VVb:"delayedSeamless",pXb:"hideLongTransition"}};},function(f,b,a){var c,l,k,r;c=a(92);l=a(1178);k=a(270);r=a(1175);f=(function(){function a(a){this.xv=!1;a && (this.Dm=a);}a.prototype.Ir=function(b){var d;d=new a();d.source=this;d.XJ=b;return d;};a.prototype.subscribe=function(a,b,g){var d;d=this.XJ;a=l.JRb(a,b,g);d?d.call(a,this.source):a.add(this.source || !a.tn?this.Dm(a):this.Rca(a));if(a.tn && (a.tn=!1,a.WE))throw a.XE;return a;};a.prototype.Rca=function(a){try{return this.Dm(a);}catch(d){a.WE=!0;a.XE=d;a.error(d);}};a.prototype.forEach=function(a,b){var d;d=this;b || (c.root.JB && c.root.JB.config && c.root.JB.config.Promise?b=c.root.JB.config.Promise:c.root.Promise && (b=c.root.Promise));if(!b)throw Error("no Promise impl found");return new b(function(b,g){var m;m=d.subscribe(function(b){if(m)try{a(b);}catch(E){g(E);m.unsubscribe();}else a(b);},g,b);});};a.prototype.Dm=function(a){return this.source.subscribe(a);};a.prototype[k.observable]=function(){return this;};a.prototype.gIb=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return 0 === a.length?this:r.hIb(a)(this);};a.prototype.ns=function(){var a,b;b=this;a || (c.root.JB && c.root.JB.config && c.root.JB.config.Promise?a=c.root.JB.config.Promise:c.root.Promise && (a=c.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,d){var g;b.subscribe(function(a){return g=a;},function(a){return d(a);},function(){return a(g);});});};a.create=function(b){return new a(b);};return a;})();b.Bb=f;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.YJa=b.WMa=b.vw=b.hk=b.Ye=b.eR=b.trim=b.wQ=b.j_a=b.Loa=b.tHb=b.Ud=b.CHa=b.OIa=b.Eb=b.Dd=void 0;c=a(18);l=a(26);k=a(9);r=a(16);b.Dd=function(a,b){for(var d in a){a.hasOwnProperty(d) && b(d,a[d]);}};b.Eb=b.Eb || (function(a,p,d){var g,t,c;if(p)if(d){g=d.pJ;t=d.prefix;c=d.jx;b.Dd(p,function(b,d){if(!c || l.ec(d))a[(t || "") + (g?b.toLowerCase():b)]=d;});}else b.Dd(p,function(b,d){a[b]=d;});return a;});b.OIa=function(a,b,d,m){var g;if(a){g=a[b];r.Yb(g) && (d=g.apply(a,k.slice.call(arguments,3)));}return d;};b.CHa=function(a){for(var b={},d=a.length;d--;){b[a[d]]=!0;}return b;};b.Ud=b.Ud || (function(a){return parseInt(a,10);});b.tHb=function(a){return (/^true$/i).test(a);};b.Loa=function(a,b){return k.Yh(a + k.wB() * (b - a));};b.j_a=function(a){return JSON.stringify(a,null,"  ");};b.wQ=(function(){var b,d;function a(a){c.Ya(void 0 !== b[a]);return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};d=/[&'"<>]/g;return function(b){return b.replace(d,a);};})();b.trim=(function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};})();b.eR=function(a){return Array.isArray(a)?a:[a];};b.Ye=b.Ye || (function(a){var b,d,g;if(a){b=a.stack;d=a.number;g=a.message;g || (g="" + a);b?(a="" + b,0 != a.indexOf(g) && (a=g + "\n" + a)):a=g;d && (a+="\nnumber:" + d);return a;}});b.hk=function(a){return r.oa(a)?a.toFixed(0):"";};b.vw=function(a){return r.oa(a)?(a / 1E3).toFixed(0):"";};b.WMa=function(a){return r.oa(a)?a.toFixed():"";};b.YJa=function(a){for(var b=[],d=0;d < a.length;d++){b[d]=a[d];}return b;};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.sa=void 0;b.sa=!1;},function(f,b,a){var r,g;function c(a){return null !== a && void 0 !== a;}function l(a){return typeof a == b.yCa;}function k(a,b,m){var d,p,k;if(b)if(m){d=m.pJ;p=m.prefix;k=m.jx;g.Dd(b,function(b,g){if(!k || c(g))a[(p || "") + (d?b.toLowerCase():b)]=g;});}else g.Dd(b,function(b,d){a[b]=d;});return a;}Object.defineProperty(b,"__esModule",{value:!0});b.L=b.Ye=b.wQ=b.wI=b.WC=b.createElement=b.It=b.BHa=b.jZ=b.SK=b.Eb=b.Fn=b.Ud=b.Pw=b.Td=b.bf=b.ec=b.xCa=b.C$a=b.D$a=b.yCa=b.XA=b.g6=b.Fq=b.GL=b.FL=b.lj=b.vV=b.vB=b.wB=b.En=b.qm=b.Yh=b.e9=b.cv=b.uF=b.G8a=b.FB=b.Pj=b.Af=void 0;r=a(9);g=a(24);b.Af=function(){};b.Pj=1E3;b.FB=Object.create;b.G8a=Object.keys;b.uF=Date.now;b.cv=Math.floor;b.e9=Math.ceil;b.Yh=Math.round;b.qm=Math.max;b.En=Math.min;b.wB=Math.random;b.vB=Math.abs;b.vV=Math.pow;b.lj="$attributes";b.FL="$children";b.GL="$name";b.Fq="$text";b.g6="$parent";b.XA="$sibling";b.yCa="string";b.D$a="number";b.C$a="function";b.xCa="object";b.ec=c;b.bf=function(a){return typeof a == b.xCa;};b.Td=l;b.Pw=function(a){return l(a) && a;};b.Ud=function(a){return parseInt(a,10);};b.Fn=function(a,b,g){return a >= b?a <= g?a:g:b;};b.Eb=k;b.SK=function(a){return k({},a);};b.jZ=function(a){var p;for(var b=0;b < arguments.length;++b){;}for(var b=0,g=arguments.length;b < g;){p=arguments[b++];if(c(p))return p;}};b.BHa=function(a,b){for(var d,g=!0,p;g;){for((g=!1,d=a.length);--d;){p=a[d];p[b] < a[d - 1][b] && (a[d]=a[d - 1],a[d - 1]=p,g=!0);}}};b.It=function(a,b){if(a.length == b.length){for(var d=a.length;d--;){if(a[d] != b[d])return !1;}return !0;}return !1;};b.createElement=function(a,b,m,t){var d;d=r.Ce.createElement(a);b && (d.style.cssText=b);m && (d.innerHTML=m);t && g.Dd(t,function(a,b){d.setAttribute(a,b);});return d;};b.WC=function(a){var b;b="";g.Dd(a,function(a,d){b+=(b?";":"") + a + ":" + d;});return b;};b.wI=function(a,d,g){var m;a / d > g?(m=b.Yh(d * g),a=d):(m=a,a=b.Yh(a / g));return {width:m,height:a};};b.wQ=(function(){var b,g;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};g=/[&'"<>]/g;return function(b){return b.replace(g,a);};})();b.Ye=function(a){var b,g;if(a){b=a.stack;g=a.number;a="" + a;b?(b="" + b,0 != b.indexOf(a) && (b=a + "\n" + b)):b=a;g && (b+="\nnumber:" + g);return b;}};b.L={zl:1001,vh:1003,T5a:1701,Sva:1713,U5a:1715,S5a:1721,NU:1723};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cf=void 0;b.Cf="UtilitiesSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sf=void 0;b.Sf="AsyncComponentLoaderSymbol";},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(138);b.sa=!1;f=(function(){function a(a,b,g,p,d){this.hb=a;this.type=b;this.byteOffset=g;this.byteLength=p;this.parent=d;this.Yc={};this.jE=p;}a.nD=function(a,b){var p,m;function g(a){a && a.nD && (a=a.nD(b),a.length && (p=p.concat(a)));}p=[];a.type === b && p.push(a);if(a.Yc)for(var d in a.Yc){m=a.Yc[d];Array.isArray(m) && m.forEach(g);}return p;};a.rO=function(a,b){void 0 === a.Yc[b.type] && (a.Yc[b.type]=[]);a.Yc[b.type].push(b);};a.oD=function(b,c){return a.nD(b,c)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.hb;},enumerable:!0,configurable:!0}});a.prototype.bg=function(){var a;a=this.hb.Mb();this.version=a >> 24;this.Si=a & 16777215;};a.prototype.rO=function(b){a.rO(this,b);};a.prototype.nD=function(b){return a.nD(this,b);};a.prototype.oD=function(b){return a.oD(this,b);};a.prototype.parse=function(){return !0;};a.prototype.uI=function(){return !0;};a.prototype.ps=function(a){if((a=this.Yc[a]) && Array.isArray(a) && 1 === a.length)return a[0];};a.prototype.kl=function(a,b){b=void 0 === b?this.hb.offset:b;c.assert(b >= this.startOffset + 8 && b + a <= this.startOffset + this.jE,"Removal range [0x" + b.toString(16) + "-0x" + (b + a).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.jE).toString(16) + ")");this.hb.kl(a,b,this);};a.prototype.h4=function(a,b,g){g=void 0 === g?this.hb.offset:g;c.assert(g >= this.startOffset + 8 && g + a <= this.startOffset + this.jE,"Removal range [0x" + g.toString(16) + "-0x" + (g + a).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.jE).toString(16) + ")");this.hb.h4(a,b,g,this);};a.prototype.VWa=function(a,b,g){if(1 < g){for(var p=[];0 < g--;){p.push(this.QFa(a,b));}return p;}return this.QFa(a,b);};a.prototype.Au=function(a){var b,g;g=this;void 0 === b && (b={});a.forEach(function(a){var d,m;if("offset" === a.type){d=a.offset;if(0 < d % 8)throw Error("Requested offset " + a.offset + "is not an even byte multiple");g.hb.offset+=d / 8;}else for(d in a){m=a[d];b[d]="string" === typeof m?g.VWa(m):g.VWa(m.type,m.length,m.ihb);}});return b;};a.prototype.QFa=function(a,b){var g;g=this.byteLength - this.hb.offset + this.startOffset;"undefined" === typeof b && (b=g);switch(a){case "int8":a=this.hb.Ad();break;case "int64":a=this.hb.Ij();break;case "int32":a=this.hb.Mb();break;case "int16":a=this.hb.jh();break;case "string":a=this.hb.tKb(Math.min(b,g));break;default:throw Error("Invalid type: " + a);}return a;};a.xc=!1;return a;})();b.eg=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.KF=b.hB=b.sj=b.yU=void 0;b.yU="ConfigurableInputsSymbol";b.sj="ValidatingConfigurableInputsSymbol";b.hB="ConfigNameSymbol";b.KF="InitParamsSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.aG=b.WV=b.b7=b.J8=b.Fya=b.BB=b.Haa=b.ay=b.Oaa=void 0;b.Oaa="WindowTimersSymbol";b.ay="JSONSymbol";b.Haa="UserAgentSymbol";b.BB="NavigatorSymbol";b.Fya="MediaSourceSymbol";b.J8="LocationSymbol";b.b7="DateSymbol";b.WV="PerformanceSymbol";b.aG="PlatformExtraInfoSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.t5a=b.vF=b.mDa=b.U$a=b.Bi=b.Bd=b.Ik=b.Tx=b.Js=void 0;(function(a){a[a.Audio=0]="Audio";a[a.gDa=1]="Video";})(b.Js || (b.Js={}));(function(a){a[a.jB=0]="Default";a[a.AB=1]="Microsoft";})(b.Tx || (b.Tx={}));(function(a){a[a.jB=0]="Default";a[a.N6=1]="Cast";a[a.Q6=2]="Chrome";a[a.AB=3]="Microsoft";a[a.FBa=4]="Safari";})(b.Ik || (b.Ik={}));(function(a){a[a.NM=0]="SD";a[a.VU=1]="HD";a[a.zW=2]="UHD";a[a.Vu=3]="DV";a[a.Zu=4]="HDR10";a[a.oF=5]="AVCHigh";a[a.qy=6]="VP9";a[a.mj=7]="AV1";})(b.Bd || (b.Bd={}));(function(a){a[a.Gs=0]="Level_1_4";a[a.sB=1]="Level_2_2";})(b.Bi || (b.Bi={}));b.U$a=function(){};(function(a){a[a.GZb=0]="Platform";a[a.QVb=1]="CurrentTitle";})(b.mDa || (b.mDa={}));b.vF="DeviceCapabilitiesSymbol";b.t5a=function(){};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Os=b.rj=void 0;b.rj="PlatformSymbol";b.Os="PlatformMutableSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.vl=b.Ks=b.Yu=void 0;(function(a){a[a.BCa=0]="Test";a[a.fxa=1]="Int";a[a.t$a=2]="Staging";a[a.E9a=3]="Prod";})(b.Yu || (b.Yu={}));(function(a){a[a.JM=0]="PreferMsl";a[a.PAa=1]="PreferNoMsl";a[a.z8a=2]="NoMsl";})(b.Ks || (b.Ks={}));b.vl="GeneralConfigSymbol";},function(f,b,a){var r,g,p;function c(a){var b,d,g,k;g=Object.getOwnPropertyNames(a);for(a=Object.getPrototypeOf(a);a !== Object.prototype;){try{for(var p=(b=void 0,r.__values(Object.getOwnPropertyNames(a))),c=p.next();!c.done;c=p.next()){k=c.value;-1 === g.indexOf(k) && g.push(k);}}catch(L){b={error:L};}finally{try{c && !c.done && (d=p["return"]) && d.call(p);}finally{if(b)throw b.error;}}a=Object.getPrototypeOf(a);}return g;}function l(a,b,g,p,c){var d;Object.getOwnPropertyNames(a).filter(function(a){return c(a) && (g || !Object.prototype.hasOwnProperty.call(b,a)) && (p || !((a in b)));}).forEach(function(g){d=Object.getOwnPropertyDescriptor(a,g);void 0 !== d && Object.defineProperty(b,g,d);});}function k(a,b,g,p){var d,m;d=[];g || (d=Object.getOwnPropertyNames(b));p || (d=c(b));m=Object.getPrototypeOf(a);null !== m && m !== Object.prototype && k(m,b,g,p);l(a,b,!0,!0,function(a){return "constructor" !== a && -1 === d.indexOf(a);});}Object.defineProperty(b,"__esModule",{value:!0});b.Se=b.Clb=void 0;r=a(0);g=a(5);b.Clb=k;p=Object.getOwnPropertyNames(Function);b.Se=function(a,b,c,r){void 0 === c && (c=!0);void 0 === r && (r=!0);r || g.assert(!c);a.prototype?(k(a.prototype,b.prototype,c,r),l(a,b,c,r,function(a){return -1 === p.indexOf(a);})):l(a,b.prototype,c,r,function(a){return -1 === p.indexOf(a);});return b;};},function(f,b,a){var r,g;function c(a,b){return a && a.Gr && (b || !1 !== a.Tt);}function l(a,b,g){return !r.oa(a) || a < b?b:a > g?g:a;}function k(a){if(!(this instanceof k))return new k(a);this.bd=r.oa(a)?a:void 0;}r=a(8);g=new (a(3).Console)("ASEJS_STREAM_SELECTOR","media|asejs");f.V={console:g,debug:!1,assert:function(a,b){if(!a)throw (a=b?" : " + b:"",g.error("Assertion failed" + a),Error("ASEJS_STREAM_SELECTOR assertion failed" + a));},cJ:c,Cha:function(a,b,g){var m,p,c,k;function d(b){var d;d=a[b];if(!d.Gr || g && !g(d,b))return !1;k=b;return !0;}m=a.length;p=0;c=m;r.isArray(b) && (p=l(b[0],0,m),c=l(b[1],0,m),b=b[2]);b=l(b,p - 1,c);for(m=b - 1;m >= p;--m){if(d(m))return k;}for(m=b + 1;m < c;++m){if(d(m))return k;}return -1;},WEb:function(a,b){return Math.floor(a / (125 * b) * 1E3);},$ib:function(a,b){return Math.ceil(a / 1E3 * b * 125);},F3b:function(a,b){return !a.slice(b + 1).some(c);},Jn:k,Eh:function(a,b){var d;return a.some(function(a,g,m){d=a;return b(a,g,m);})?d:void 0;},DC:function(a,b){var d;return a.some(function(a,g,m){d=g;return b(a,g,m);})?d:-1;},hZ:l};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.th=void 0;b.th="ClockSymbol";},function(f,b,a){var l;function c(a){return a.filter(function(b,g){return a.indexOf(b) === g;});}Object.defineProperty(b,"__esModule",{value:!0});b.fna=b.Txb=b.Elb=b.sr=b.BEb=b.AJa=b.DHa=b.Yy=b.fhb=b.ghb=b.DC=b.AHa=b.Eh=void 0;l=a(0);b.Eh=function(a,b){var g;return a.some(function(a,d,m){g=a;return b(a,d,m);})?g:void 0;};b.AHa=function(a,b){for(var g=a.length - 1;0 <= g;--g){if(b(a[g],g,a))return a[g];}};b.DC=function(a,b){var g;g=-1;return a.some(function(a,d,m){g=d;return b(a,d,m);})?g:-1;};b.ghb=function(a,b){for(var g=a.length - 1;0 <= g;g--){if(b(a[g],g,a))return g;}return -1;};b.fhb=c;b.Yy=function(a,b,g){return g?a.filter(function(a){return !b.some(function(b){return g(a,b);});}):a.filter(function(a){return -1 === b.indexOf(a);});};b.DHa=function(a,b){return c(a.concat(b));};b.AJa=function(a){return function(b,g){b=a(b);g=a(g);return b < g?-1:b > g?1:0;};};b.BEb=function(a){return function(b,g){return a(b) < a(g)?b:g;};};b.sr=function(a){var b;return (b=[]).concat.apply(b,l.__spread(a));};b.Elb=function(a,b){void 0 === b && (b=function(a){return a;});return a.reduce(function(a,p){p=b(p);return (void 0 === a[p]?a[p]=1:++a[p],a);},{});};b.Txb=function(a,b){return a.reduce(function(a,p){var d;d=b(p);return (void 0 === a[d]?a[d]=[p]:a[d].push(p),a);},{});};b.fna=function(a){return null !== a && void 0 !== a;};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tg=void 0;b.Tg="SchedulerSymbol";},function(f,b,a){var r,g,p;function c(a){return function(b,d){return b.Soa(d,a);};}function l(a,b){return a.W3.iKb[b] || k(a,b);}function k(a,b){a=a.Iw.data[b];switch(typeof a){case "undefined":break;case "string":case "number":case "boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(b,"__esModule",{value:!0});b.fo=b.Zoa=b.object=b.Drb=b.url=b.$=b.hh=b.Kra=b.Wzb=b.l5=b.string=b.Qx=b.Cc=b.q1=b.config=void 0;r=a(50);g=a(4);p=a(147);b.config=function(a,b){return function(d,g,m){var c,t;c=void 0 !== b?b:g;t=m.get;void 0 !== t && (m.get=function(){var b;if(!this.PAb(g))return this.Pwb(g);a:{b=(this.Pgb?l:k)(this,c.toString());if(void 0 !== b)if((b=a(this.OR,b),b instanceof p.Gn))this.$Ma(c,b);else break a;b=t.bind(this)();}this.rMb(g,b);return b;});return m;};};b.q1=function(a,b){return a.RWa(b);};b.Cc=function(a,b){return a.Ooa(b);};b.Qx=function(a,b){return a.Vo(b);};b.string=function(a,b){return a.Soa(b);};b.l5=function(a,g){return a.dj(g,b.string);};b.Wzb=function(a,g){return a.dj(g,b.q1);};b.Kra=function(a,g){return a.dj(g,b.Qx);};b.hh=function(a,b){a=a.Vo(b);return a instanceof p.Gn?a:g.Lb(a);};b.$=function(a,b){a=a.Vo(b);return a instanceof p.Gn?a:r.$(a);};b.url=c(/^\S+$/);b.Drb=function(a){return function(b,d){return b.QWa(d,a);};};b.object=function(){return function(a,b){return a.SWa(b);};};b.Zoa=c;b.fo=function(a,b){return function(d,g){return d.dj(g,a,b);};};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ai=void 0;b.Ai="Base64EncoderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.iy="named";b.BV="name";b.UM="unmanaged";b.gza="optional";b.oM="inject";b.uB="multi_inject";b.tCa="inversify:tagged";b.uCa="inversify:tagged_props";b.F9="inversify:paramtypes";b.G4a="design:paramtypes";b.AM="post_construct";},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.le=b.ML=b.vCa=void 0;c=a(0);l=a(1185);k=a(1);r=a(147);b.vCa="isTestAccount";g=(function(){var d;function a(a,b){this.NJa=b;this.Goa={};this.Iw=a.Iw;this.OR=a.OR;this.W3=a.W3;}a.prototype.$Ma=function(){};a.prototype.rMb=function(a,b){this.Goa[a]=[b,this.Iw.u4];};a.prototype.PAb=function(a){return l.E9.of(this.Goa[a]).map(function(a){return a[1];}).lx(-1) < this.Iw.u4;};a.prototype.Pwb=function(a){return l.E9.of(this.Goa[a]).map(function(a){return a[0];}).lx(function(){throw Error("Invalid State Error");});};ma.Object.defineProperties(a.prototype,{Pgb:{configurable:!0,enumerable:!0,get:function(){var a,d;if(this && this.Iw && this.Iw.data){a=this.Iw.data[b.vCa];"undefined" !== typeof a && (d=a.toString());a=this.OR.Ooa(d);a=a instanceof r.Gn?!1:a;}else a=!1;return a;}}});d=a;return d=c.__decorate([k.N(),c.__param(0,k.xi()),c.__param(1,k.xi())],d);})();b.ML=g;f=(function(){var b;function a(a,b){var d;d=g.call(this,a,b) || this;d.NJa=b;d.debug=a.debug;d.ma=a.rf.ob(d.NJa);return d;}M(a,g);a.prototype.$Ma=function(a,b){this.ma.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};b=a;return b=c.__decorate([c.__param(0,k.xi()),c.__param(1,k.xi())],b);})();b.le=f;},function(f,b,a){var l;function c(a,b,g,c,d,m,t,x,f,J,E,L){this.code=void 0 === a?l.K.zl:a;this.ld=b;this.Hg=g;this.iI=c;this.lu=d;this.message=m;this.Nt=t;this.data=x;this.eha=f;this.CIb=J;this.alert=E;this.uda=L;this.ia=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.zc=void 0;l=a(2);c.Ye=function(a){var b,g,c;if(a){b=a.stack;g=a.number;c=a.message;c || (c="" + a);b?(a="" + b,0 !== a.indexOf(c) && (a=c + "\n" + a)):a=c;g && (a+="\nnumber:" + g);return a;}return "";};c.prototype.uP=function(a){this.Nt=c.Ye(a);this.data=a;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.ld,extCode:this.Hg,edgeCode:this.iI,mslCode:this.lu,message:this.message,details:this.Nt,data:this.data,errorDisplayMessage:this.eha,playbackServiceError:this.CIb};};c.W_=function(a,b){return new c(a,l.L.vh,void 0,void 0,void 0,void 0,b.message,b.stack);};c.xUb=function(a,b){return new c(a,l.L.vh,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,b);};b.zc=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ts=b.Bg=b.xh=void 0;b.xh={bSa:"logblob",qa:"manifest",Wi:"license",events:"events",bind:"bind",VUa:"pair",ping:"ping",config:"config"};f=b.Bg || (b.Bg={});f[f.Es=20]="High";f[f.l9=10]="Medium";f[f.NF=0]="Low";b.Ts={Bg:"reqPriority",Q9a:"reqAttempt",R9a:"reqName",A3a:"browsername",B3a:"browserversion",E8a:"osname",F8a:"osversion",j4a:"clienttype",M$a:"uiversion"};},function(f,b,a){var d,m,t,x,A,J,E;function c(){var a,d;if(a=b.v0.OFa)return a;a=J.HV.search.substr(1);d=a.indexOf("#");0 <= d && (a=a.substr(0,d));a=l(a);return b.v0.OFa=a;}function l(a){for(var b=/[+]/g,d=(a || "").split("&"),g={},m,c=0;c < d.length;c++){a=x.trim(d[c]);m=a.indexOf("=");0 <= m?g[decodeURIComponent(a.substr(0,m).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(m + 1).replace(b,"%20")):g[a.toLowerCase()]=null;}return g;}function k(a){return (a=(/function (.{1,})\(/).exec(a.toString())) && 1 < a.length?a[1]:"";}function r(a){return k(a.constructor);}function g(a){return J.sort.call(a,function(a,b){return a - b;});}function p(a){for(var b=0,d=a.length;d--;){b+=a[d];}return b;}Object.defineProperty(b,"__esModule",{value:!0});b.TIb=b.lQ=b.WNa=b.J1=b.PIb=b.YQa=b.u3a=b.v3a=b.dtb=b.cr=b.alb=b.wI=b.wsb=b.gE=b.N2a=b.n6=b.O2a=b.fU=b.Psa=b.M2a=b.Szb=b.WC=b.wJb=b.sna=b.oia=b.getFunctionName=b.SJ=b.XR=b.v0=b.Hwb=b.NWa=b.SGa=b.TJa=b.rKb=b.It=b.BJa=void 0;d=a(11);m=a(18);t=a(7);x=a(24);A=a(26);J=a(9);E=a(16);b.BJa=function(a,b){if(a === b)return !0;if(!a || !b)return !1;for(var d in a){if(a.hasOwnProperty(d) && (!b.hasOwnProperty(d) || a[d] !== b[d]))return !1;}return !0;};b.It=b.It || (function(a,b){if(a.length == b.length){for(var d=a.length;d--;){if(a[d] != b[d])return !1;}return !0;}return !1;});b.rKb=function(a){var b;if(a){b=a.length;if(b)return (b=x.Loa(0,b - 1),a[b]);}};b.TJa=function(a,b){if(a.length != b.length)return !1;a.sort();b.sort();for(var d=a.length;d--;){if(a[d] !== b[d])return !1;}return !0;};b.SGa=function(a,b,d){function g(){a.removeEventListener(b,g);d.apply(this,arguments);}a.addEventListener(b,g);};b.NWa=function(){var a,b,d,g,m,c;a=J.Ce.cookie.split("; ");b=a.length;c={};for(d=0;d < b;d++){if(g=x.trim(a[d]))(m=g.indexOf("="),0 < m && (c[g.substr(0,m)]=g.substr(m + 1)));}return c;};b.Hwb=c;b.v0=Object.assign(c,{OFa:void 0});b.XR=l;b.SJ=function(a){var b;b="";x.Dd(a,function(a,d){b && (b+="&");m.Ya(A.Td(d) || E.oa(d) || E.Jka(d));b+=encodeURIComponent(a) + "=" + encodeURIComponent(d);});return b;};b.getFunctionName=k;b.oia=r;b.sna=function(a){var b;b="";E.isArray(a) || E.$ka(a)?b=J.reduce.call(a,function(a,b){return a + (32 <= b && 128 > b?J.oCa(b):".");},""):A.Td(a)?b=a:x.Dd(a,function(a,d){b+=(b?", ":"") + "{" + a + ": " + (E.Yb(d)?k(d) || "function":d) + "}";});return "[" + r(a) + " " + b + "]";};b.wJb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};b.WC=b.WC || (function(a){var b;b="";x.Dd(a,function(a,d){b+=(b?";":"") + a + ":" + d;});return b;});b.Szb=function(a,b){var d;d=a[0];if(b <= d[0])return d.slice(1);for(var g=1,m;m=a[g++];){if(b <= m[0]){a=(b - d[0]) / (m[0] - d[0]);b=[];for(g=1;g < d.length;g++){b.push((d[g] || 0) + a * ((m[g] || 0) - (d[g] || 0)));}return b;}d=m;}return d.slice(1);};b.M2a=function(a,b){var m;for(var d={},g=0;g < b.length;g++){m=b[g];if("string" != typeof m && "number" != typeof m)return !1;d[b[g]]=1;}for(g=0;g < a.length;g++){if((m=a[g],!d[m]))return !1;}return !0;};b.Psa=function(a,b){0 > a.indexOf(b) && a.push(b);};b.fU=g;b.O2a=p;b.n6=function(a,b){var d,g,m,c;d=-1;g=a.length;if(1 === arguments.length){for(;++d < g && !(null != (m=a[d]) && m <= m);){m=void 0;}for(;++d < g;){null != (c=a[d]) && c > m && (m=c);}}else {for(;++d < g && !(null != (m=b.call(a,a[d],d)) && m <= m);){m=void 0;}for(;++d < g;){null != (c=b.call(a,a[d],d)) && c > m && (m=c);}}return m;};b.N2a=function(a,b){var d,g,m,c;d=-1;g=a.length;if(1 === arguments.length){for(;++d < g && !(null != (m=a[d]) && m <= m);){m=void 0;}for(;++d < g;){null != (c=a[d]) && m > c && (m=c);}}else {for(;++d < g && !(null != (m=b.call(a,a[d],d)) && m <= m);){m=void 0;}for(;++d < g;){null != (c=b.call(a,a[d],d)) && m > c && (m=c);}}return m;};b.gE=function(a){return E.Yb(a.then)?a:new Promise(function(b,d){a.oncomplete=function(){b(a.result);};a.onerror=function(){d(a.error);};});};b.wsb=function(a,b){var m,c,p,t,r,k;function d(a){0 > m.indexOf(a) && E.oa(a) && m.push(a);}a=a.slice();g(a);m=[];if(!b || !b.length)return a;if(!a.length)return [];c=b.length;try{for(;c--;){r="" + b[c];k=A.Ud(r);switch(r[r.length - 1]){case "-":for(p=a.length;p--;){if((t=a[p],t < k)){d(t);break;}}break;case "+":for(p=0;p < a.length;p++){if((t=a[p],t > k)){d(t);break;}}break;default:0 <= a.indexOf(k) && d(k);}}}catch(ea){}m.length || m.push(a[0]);g(m);return m;};b.wI=b.wI || (function(a,b,d){var g;a / b > d?(g=J.Yh(b * d),a=b):(g=a,a=J.Yh(a / d));return {width:g,height:a};});b.alb=function(a,b,d){for(var g=[],m=0;m < b;m++){g.push(J.vV(a[m] - d,2));}return J.pya(p(g) / g.length);};b.cr=function(a,b){var d;d=a.length;b=(d - 1) * b + 1;if(1 === b)return a[0];if(b == d)return a[d - 1];d=J.cv(b);return a[d - 1] + (b - d) * (a[d] - a[d - 1]);};b.dtb=function(a,b){if(!E.isArray(a))throw Error("boxes is not an array");if(0 >= a.length)throw Error("There are no boxes in boxes");b=E.isArray(b)?b:[b];for(var d=a.length,g=0;g < d;g++){for(var m=0;m < b.length;m++){if(a[g].type == b[m])return a[g];}}throw Error("Box not found " + b);};b.v3a=function(a){return a.Tub("trak/mdia/minf/stbl/stsd/" + d.zta + "|" + d.Ata).children.filter(function(a){return "sinf" == a.type && "cenc" == a.M2b.schm.I5b;})[0].Tub("schi/tenc").Rw;};b.u3a=function(a){var d;function b(a,b){var g;g=d[a];d[a]=d[b];d[b]=g;}d=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return d;};b.YQa=function(){return E.Yb(J.Zh.requestMediaKeySystemAccess);};b.PIb=function(a){return function(b){return b && b[a];};};E.Yb(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(a,b){var d,g;void 0 === a && (a=0);void 0 === b && (b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0 > a && (a+=this.byteLength);0 > b && (b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0 >= b - a)return new ArrayBuffer(0);d=new ArrayBuffer(b - a);g=new Uint8Array(d);a=new Uint8Array(this,a,b - a);g.set(a);return d;});b.J1=function(a){return a && 0 == a.toLowerCase().indexOf("https");};b.WNa=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041 == a[0]?"LE":2712847316 == a[0]?"BE":"undefined";};b.lQ=function(){var a,b,d;try{a=/playercore.*js/;b=J.Ls.getEntries("resource").filter(function(b){return null !== a.exec(b.name);});if(b && 0 < b.length){d=J.Yh(b[0].duration);return JSON.stringify(d);}}catch(T){}};b.TIb=function(a,b,d){if(a && a.length){if(d && d.rkb)try{a.forEach(function(a,g){var m;m=(g=d.rkb[g]) && g.media;m && A.Td(m)?(m=t.Ap(m).buffer,a.media={arrayBuffer:m,length:m.byteLength,stream:b,vc:g.cdn}):t.log.warn("chunk not in cache",a.eh);});}catch(T){t.log.error("error reading cached chunks",T);}else t.log.warn("chunks not available in cached stream",d.type);}else t.log.warn("chunks not available in mediabuffer",d.type);};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hk=void 0;b.Hk="PboCommandContextSymbol";},function(f,b,a){var l,k,r,g,p;function c(){return l.te.get(r.qd).OD.aa(p.fa);}Object.defineProperty(b,"__esModule",{value:!0});b.Kkb=b.$ea=b.pJa=b.Ikb=b.Jkb=b.iZ=b.di=void 0;l=a(530);k=a(37);r=a(19);g=a(91);p=a(4);b.di=function(){return l.te.get(r.qd).zb().aa(p.fa);};b.iZ=function(){return l.te.get(k.th).Pe.aa(p.um);};b.Jkb=function(){return l.te.get(r.qd).OD.aa(p.um);};b.Ikb=function(){return l.te.get(g.av).jz();};b.pJa=c;b.$ea=function(){return l.te.get(k.th).Pe.aa(p.fa);};b.Kkb=function(){return c();};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.K8=b.wl=b.sV=void 0;b.sV="LogBatcherConfigSymbol";b.wl="LogBatcherSymbol";b.K8="LogBatcherProviderSymbol";},function(f,b,a){var k;function c(a){return k.VM.apply(this,arguments) || this;}function l(a){return new k.Lq(a,b.gB);}Object.defineProperty(b,"__esModule",{value:!0});b.rb=b.Iya=b.E8=b.As=b.gB=b.dEb=b.vBb=b.$=b.MO=b.D3a=void 0;k=a(523);M(c,k.VM);b.D3a=c;b.MO=l;b.$=function(a){return new k.Lq(a,b.As);};b.vBb=function(a){return new k.Lq(a,b.E8);};b.dEb=function(a){return new k.Lq(a,b.Iya);};b.gB=new c(1,"b");b.As=new c(8 * b.gB.yf,"B",b.gB);b.E8=new c(1024 * b.As.yf,"KB",b.gB);b.Iya=new c(1024 * b.E8.yf,"MB",b.gB);b.rb=l(0);},function(f,b,a){var c,l;c=a(119);l=a(177);f.V=function(a){return function g(b,d){switch(arguments.length){case 0:return g;case 1:return l(b)?g:c(function(d){return a(b,d);});default:return l(b) && l(d)?g:l(b)?c(function(b){return a(b,d);}):l(d)?c(function(d){return a(b,d);}):a(b,d);}};};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.mm=void 0;b.mm="EmeConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xm=b.qQb=b.uUa=void 0;b.uUa=function(a,b){return a - b;};b.qQb=function(a,b){return a.localeCompare(b);};b.Xm=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c && Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.j5a="Cannot apply @injectable decorator multiple times.";b.k5a="Metadata key was used more than once in a parameter:";b.vM="NULL argument";b.kxa="Key Not Found";b.l2a="Ambiguous match found for serviceIdentifier:";b.J3a="Could not unbind serviceIdentifier:";b.r8a="No matching bindings found for serviceIdentifier:";b.Q7a="Missing required @injectable annotation in:";b.R7a="Missing required @inject or @multiInject annotation in:";b.N$a=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.M3a="Circular dependency found:";b.xYb="Sorry, this feature is not fully implemented yet.";b.f7a="Invalid binding type:";b.s8a="No snapshot available to restore.";b.i7a="Invalid return type in middleware. Middleware must return!";b.FXb="Value provided to function binding must be a function!";b.k7a="The toSelf function can only be applied when a constructor is used as service identifier";b.g7a="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.m2a=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.a4a="Invalid Container constructor argument. Container options must be an object.";b.Z3a="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Y3a="Invalid Container option. Auto bind injectable must be a boolean";b.$3a="Invalid Container option. Skip base check must be a boolean";b.d8a="Cannot apply @postConstruct decorator multiple times in the same class";b.v9a=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.N3a=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "It looks like there is a circular dependency " + ("in one of the '" + a[0] + "' bindings. Please investigate bindings with") + ("service identifier '" + a[1] + "'.");};b.i$a="Maximum call stack size exceeded";},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.K0=b.NI=b.L0=b.Iz=b.Sl=b.Qe=void 0;f=a(65);c=a(58);l=a(9);b.Qe=new f.oj();b.Sl=1;b.Iz=2;b.L0=3;b.NI=4;b.K0=5;c.Ec(function(){var c,g,p;function a(a,b){if(g)g.on(a,b);else O.addEventListener(a,b);}c=O.jQuery;g=c && c(O);c=(c=O.netflix) && c.cadmium && c.cadmium.addBeforeUnloadHandler;p=l.Ce.hidden;c?c(function(a){b.Qe.ac(b.Sl,a);}):a("beforeunload",function(a){b.Qe.ac(b.Sl,a);});a("keydown",function(a){b.Qe.ac(b.Iz,a);});a("resize",function(){b.Qe.ac(b.L0);});l.Ce.addEventListener("visibilitychange",function(){p !== l.Ce.hidden && (p=l.Ce.hidden,b.Qe.ac(b.NI));});});(function(){O.addEventListener("error",function(a){b.Qe.ac(b.K0,a);return !0;});})();},function(f,b,a){var l,k;function c(a,g){var p;p=b.Hn[0];p == g && (p=b.Hn[1]);p?p.close(function(){c(a,g);}):a && a(l.Md);}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=b.lAa=b.o$=b.p$=b.bG=b.r$=b.q$=b.u$=b.t$=b.Hn=b.v$=b.s$=void 0;l=a(11);k=a(18);b.s$=c;b.v$=function(a,g){switch(a){case b.q$:b.t$.push(g);return;case b.r$:b.u$.push(g);return;}k.Ya(!1);};b.Hn=[];b.t$=[];b.u$=[];b.q$=1;b.r$=3;b.bG={index:0,SEb:void 0,Iha:void 0};b.p$="network";b.o$="media";b.lAa="timedtext";b.mAa="playback";},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.VEb=b.platform=b.Mm=b.wc=b.Ovb=b.hQ=b.qSa=void 0;f=a(0);f.__exportStar(a(432),b);f.__exportStar(a(944),b);f.__exportStar(a(943),b);f.__exportStar(a(942),b);c=a(20);Object.defineProperty(b,"Timestamp",{enumerable:!0,get:function(){return c.U;}});b.qSa=function(c){b.platform.h1(c);return a(941).fya;};b.hQ=function(c){b.platform.h1(c);return Promise.resolve().then(function(){return a(380);}).then(function(a){return a.hQ();});};b.Ovb=function(){return a(242);};f=a(22);b.wc=f;f=a(736);b.Mm=f.Mm;f=a(3);b.platform=f;l=a(735);b.VEb=function(){return {hy:l.hy};};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ec=void 0;b.Ec=function(a){return setTimeout(a,0);};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.yl=b.zi=b.Y=void 0;f=(function(){function a(){}a.cM="playready-h264mpl30-dash";a.DF="playready-h264mpl31-dash";a.UU="playready-h264mpl40-dash";a.a6a="playready-h264hpl22-dash";a.RU="playready-h264hpl30-dash";a.SU="playready-h264hpl31-dash";a.TU="playready-h264hpl40-dash";a.c8="hevc-main-L30-dash-cenc";a.d8="hevc-main-L31-dash-cenc";a.e8="hevc-main-L40-dash-cenc";a.f8="hevc-main-L41-dash-cenc";a.g8="hevc-main-L50-dash-cenc";a.h8="hevc-main-L51-dash-cenc";a.Y7="hevc-main10-L30-dash-cenc";a.Z7="hevc-main10-L31-dash-cenc";a.a8="hevc-main10-L40-dash-cenc";a.b8="hevc-main10-L41-dash-cenc";a.FF="hevc-main10-L50-dash-cenc";a.GF="hevc-main10-L51-dash-cenc";a.aV="hevc-main10-L30-dash-cenc-prk";a.cV="hevc-main10-L31-dash-cenc-prk";a.eV="hevc-main10-L40-dash-cenc-prk";a.gV="hevc-main10-L41-dash-cenc-prk";a.bV="hevc-main10-L30-dash-cenc-prk-do";a.dV="hevc-main10-L31-dash-cenc-prk-do";a.fV="hevc-main10-L40-dash-cenc-prk-do";a.hV="hevc-main10-L41-dash-cenc-prk-do";a.iV="hevc-main10-L50-dash-cenc-prk-do";a.jV="hevc-main10-L51-dash-cenc-prk-do";a.lXb="hevc-main-L30-L31-dash-cenc-tl";a.mXb="hevc-main-L31-L40-dash-cenc-tl";a.nXb="hevc-main-L40-L41-dash-cenc-tl";a.oXb="hevc-main-L50-L51-dash-cenc-tl";a.hXb="hevc-main10-L30-L31-dash-cenc-tl";a.iXb="hevc-main10-L31-L40-dash-cenc-tl";a.jXb="hevc-main10-L40-L41-dash-cenc-tl";a.kXb="hevc-main10-L50-L51-dash-cenc-tl";a.TL="hevc-dv5-main10-L30-dash-cenc-prk";a.UL="hevc-dv5-main10-L31-dash-cenc-prk";a.tF="hevc-dv5-main10-L40-dash-cenc-prk";a.VL="hevc-dv5-main10-L41-dash-cenc-prk";a.WL="hevc-dv5-main10-L50-dash-cenc-prk";a.CU="hevc-dv5-main10-L51-dash-cenc-prk";a.R7="hevc-hdr-main10-L30-dash-cenc";a.S7="hevc-hdr-main10-L31-dash-cenc";a.T7="hevc-hdr-main10-L40-dash-cenc";a.U7="hevc-hdr-main10-L41-dash-cenc";a.V7="hevc-hdr-main10-L50-dash-cenc";a.W7="hevc-hdr-main10-L51-dash-cenc";a.fM="hevc-hdr-main10-L30-dash-cenc-prk";a.gM="hevc-hdr-main10-L31-dash-cenc-prk";a.EF="hevc-hdr-main10-L40-dash-cenc-prk";a.hM="hevc-hdr-main10-L41-dash-cenc-prk";a.WU="hevc-hdr-main10-L50-dash-cenc-prk";a.XU="hevc-hdr-main10-L51-dash-cenc-prk";a.dDa="vp9-profile0-L21-dash-cenc";a.YM="vp9-profile0-L30-dash-cenc";a.ZM="vp9-profile0-L31-dash-cenc";a.$M="vp9-profile0-L40-dash-cenc";a.ZCa="vp9-profile2-L30-dash-cenc-prk";a.$Ca="vp9-profile2-L31-dash-cenc-prk";a.aDa="vp9-profile2-L40-dash-cenc-prk";a.bDa="vp9-profile2-L50-dash-cenc-prk";a.cDa="vp9-profile2-L51-dash-cenc-prk";a.ysa="av1-main-L20-dash-cbcs-prk";a.zsa="av1-main-L21-dash-cbcs-prk";a.Asa="av1-main-L30-dash-cbcs-prk";a.Bsa="av1-main-L31-dash-cbcs-prk";a.Csa="av1-main-L40-dash-cbcs-prk";a.Dsa="av1-main-L41-dash-cbcs-prk";a.Esa="av1-main-L50-dash-cbcs-prk";a.Fsa="av1-main-L51-dash-cbcs-prk";a.U9a=[a.cM];a.f6a=[a.DF,a.UU];a.J$a=[a.c8,a.d8,a.e8,a.f8,a.g8,a.h8];a.L$a=[a.Y7,a.Z7,a.a8,a.b8,a.FF,a.GF];a.K$a=[a.aV,a.cV,a.eV,a.gV,a.FF,a.GF];a.b0b=[a.bV,a.dV,a.fV,a.hV,a.iV,a.jV];a.e6a=[a.R7,a.S7,a.T7,a.U7,a.V7,a.W7];a.d6a=[a.fM,a.gM,a.EF,a.hM,a.WU,a.XU];a.l5a=[a.TL,a.tF,a.WL,a.UL,a.VL,a.CU];a.fWb=[a.TL,a.UL,a.tF,a.VL,a.WL];a.SUb=[a.RU,a.SU,a.TU];a.j0b=[a.YM,a.ZM,a.$M];a.qy=[a.dDa,a.YM,a.ZM,a.$M,a.ZCa,a.$Ca,a.aDa,a.bDa,a.cDa];a.C2a=[a.ysa,a.zsa,a.Asa];a.B2a=[a.Bsa,a.Csa,a.Dsa];a.D2a=[a.Esa,a.Fsa];a.mj=[].concat(a.C2a,a.B2a,a.D2a);a.$5a=a.U9a.concat(a.f6a);a.c6a=a.J$a;a.b6a=a.L$a;a.K2a=[].concat(a.$5a,a.c6a,a.b6a,a.K$a,a.e6a,a.d6a,a.l5a,a.qy,a.mj);return a;})();b.Y=f;b.zi=(function(){function a(){}a.YU="heaac-2-dash";a.g6a="heaac-5.1-dash";a.ZU="heaac-2hq-dash";a.FW="xheaac-dash";a.AU="ddplus-2.0-dash";a.W6="ddplus-5.1-dash";a.BU="ddplus-atmos-dash";a.X7="playready-heaac-2-dash";a.i6a="heaac-2-dash-enc";a.m4a="ddplus-2.0-dash-enc";a.n4a="ddplus-5.1-dash-enc";a.h6a="playready-heaac-2-dash-enc";a.K2a=[a.YU,a.ZU,a.AU,a.W6,a.BU,a.X7,a.i6a,a.m4a,a.n4a,a.h6a];return a;})();b.yl=(function(){function a(){}a.e$a="simplesdh";a.Z6="dfxp-ls-sdh";a.SF="nflx-cmisc";a.o_b="simplesdh-enc";a.ZVb="dfxp-ls-sdh-enc";a.EV="nflx-cmisc-enc";return a;})();},function(f){f.V=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(f,b){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;("stack" in b) && (this.stack=b.stack);this.interval=a;}Object.defineProperty(b,"__esModule",{value:!0});b.jy=b.Mn=void 0;M(a,Error);b.Mn=a;b.jy="PromiseTimerSymbol";},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);f=(function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key === c.iy?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return a;})();b.Metadata=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.sh=void 0;c=a(0);l=a(1);k=a(325);r=a(4);g=a(44);p=a(34);f=(function(){var b;function a(a,b,d,g,m,c){this.context=a;this.errorCode=b;this.wMb=d;this.lpa=m;this.QX=c;this.name=g;}a.prototype.send=function(a,b,d,g,m,c,k){var t;k=void 0 === k?p.Ks.JM:k;t=this;return this.Zub(a,b,d,k,g,m,c).then(function(a){return t.context.Tpb.send(a.context,a.request);});};a.prototype.Zub=function(a,b,d,g,m,c,p){var t,k;try{t=this.context.XLb.create(this.context.CD.jz(),b,d,m,g);k=this.Wib(a,g,c,p);return Promise.resolve({context:k,request:t});}catch(P){return Promise.reject(P);}};a.prototype.Wib=function(a,b,d,g){return {af:this.context.af,log:a,ck:this.name,url:this.context.oTb(k.AIa(this.context.kf,this.context.aj,this.name,b)),zpa:this.wMb,timeout:r.ph(59),headers:k.zIa(this.context.aj,this.context.nz),kpa:this.kpa,lpa:void 0 !== d?d:this.lpa,yib:g};};a.prototype.Pl=function(a){return a instanceof g.zc?a:k.Pl(this.errorCode,a);};a.prototype.cJa=function(a){var b;b=this;a.forEach(function(a){if(b.KQ(a))throw a.error;});};a.prototype.KQ=function(a){return void 0 !== a.error;};ma.Object.defineProperties(a.prototype,{kpa:{configurable:!0,enumerable:!0,get:function(){return this.QX;}}});b=a;return b=c.__decorate([l.N(),c.__param(0,l.xi()),c.__param(1,l.xi()),c.__param(2,l.xi()),c.__param(3,l.xi()),c.__param(4,l.xi()),c.__param(5,l.xi())],b);})();b.sh=f;},function(f,b,a){var c,l,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.rh=void 0;c=a(0);a(5);l=a(22);k=a(100);r=a(411);g=a(20);f=a(35);p=a(170);d=a(230);a=a(117);m=(function(a){function b(b,g){var m;m=a.call(this,b,g) || this;m.tj=g.index;m.xG=g.Xa;m.Xs=g.nb;m.Hfb=g.qb?g.qb:b.qb;m.KS=g.KS;m.LFa=g.xk || 0;m.XEa=! !g.Hr;m.Fd=void 0 === g.S_ || void 0 === g.Qha || g.S_ === g.Xa && g.Qha === g.nb?m:new d.cB(m,{Xa:g.S_,nb:g.Qha});m.$cb=g.Tma;m.hab=g.Oi;m.Rq=g.Ka?m.bUa(g.Ka):void 0;m.kGa=g.ks;m.Fe=!1;return m;}c.__extends(b,a);b.kKa=function(a){for(var b=new Uint32Array(a.length),d=new Uint32Array(a.length),g=0,m,c,p=0;p < a.length;++p){m=a[p];c=m.oc;b[p]=m.Xs - m.xG;d[p]=c;g+=c;}return new r.gaa(b,d,a.length?a[0].P:1E3,g);};Object.defineProperties(b.prototype,{Rz:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{index:{get:function(){return this.tj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qb:{get:function(){return this.Hfb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xa:{get:function(){return this.xG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nb:{get:function(){return this.Xs;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xk:{get:function(){return this.LFa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hr:{get:function(){return this.XEa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tma:{get:function(){return this.$cb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Oi:{get:function(){return this.hab;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ka:{get:function(){return this.Rq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ks:{get:function(){return this.kGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{S_:{get:function(){return this.Fd.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qha:{get:function(){return this.Fd.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{stb:{get:function(){return this.Fd.Qp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cNa:{get:function(){return this.Fd.hoa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yz:{get:function(){return this.Fd.ad;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T_:{get:function(){return this.Fd.Vd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bNa:{get:function(){return this.Fd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rha:{get:function(){return this.Fd.kc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rtb:{get:function(){return this.Fd.Tb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xI:{get:function(){return this.stb / this.stream.xa.tb;},enumerable:!1,configurable:!0}});b.prototype.eZa=function(a){this.LFa=a.we(this.P).tb;};b.prototype.ima=function(){this.XEa=!0;};b.prototype.gZa=function(a){this.KS={xe:a.KNa(),hRa:a.ls};};b.prototype.US=function(a){this.kGa=a;};b.prototype.Lj=function(a){var b,g;void 0 === a && (a={});b=this.stream.xa.tb;g=this.Rq || ({start:0,end:this.xI});a=this.bUa(a);this.Fd && this.Fd !== this || (this.Fd=new d.cB(this,this));a.start > g.start && (this.xG=this.Fd.Xa + a.start * b);a.end < g.end && (this.Xs=this.Fd.Xa + a.end * b);this.Rq=a;};b.prototype.BP=function(a){void 0 === a && (a=1);this.Rq?this.Lj({start:this.Rq.start + a,end:this.Rq.end}):this.Lj({start:a});};b.prototype.wLa=function(){this.Rq?this.Lj({start:this.Rq.start,end:(this.Rq.end || 0) - 1}):this.Lj({start:0,end:-1});};b.prototype.Rsb=function(a){var d;if(!(a < this.T || a >= this.pa) && this.Oi && this.Oi.length){a=new g.U(a + 1 - this.T,1E3).Pp(this.stream.xa);for(var b=this.Oi.length - 1;0 <= b;--b){d=this.Oi[b];if(d.ln <= a)return d;}return {ln:0,Fc:this.yz};}};b.prototype.Qsb=function(a){var d;if(!(a < this.T || a >= this.pa) && this.Oi && this.Oi.length){a=new g.U(a + 1 - this.T,1E3).Pp(this.stream.xa);for(var b=this.Oi.length - 1;0 <= b;--b){d=this.Oi[b];if(d.ln <= a)return d;}return {ln:0,Fc:this.yz};}};b.prototype.BMa=function(a,b){var d,m,c;if(!(a < this.T || a >= this.pa)){d=this.xa.tb;m=this.xa.P;c=Math.floor(this.Qp / d);a=Math.min((b?Math.ceil:Math.floor)((g.U.Uma(a,m) - this.Xa + (b?-1:1) * (m / 1E3 - 1)) / d),c);d=g.U.sra(this.Xa + a * d,m);return a === c?void 0:{ln:a,Fc:d};}};b.prototype.E_=function(a){return this.I === l.Sa.VIDEO?this.Rsb(a):this.BMa(a,!1);};b.prototype.Osb=function(a){return this.I === l.Sa.VIDEO?this.Qsb(a):this.BMa(a,!0);};b.prototype.tda=function(a){this.oc+=a.$;this.Xs=a.nb;this.Rq && (this.Fd=new d.cB(this,{Xa:this.S_,nb:this.Xs}),this.Rq.end=this.xI);};b.prototype.toString=function(){return "[" + this.za + ", " + this.R + "kbit/s, " + ("c:" + this.kc + "-" + this.Tb + ",") + ("p:" + this.ad + "-" + this.Vd + ",d:" + this.duration + "]");};b.prototype.toJSON=function(){var a;a=p.Sx.prototype.toJSON.call(this);k({index:this.index,startPts:this.T,endPts:this.pa,contentStartPts:this.kc,contentEndPts:this.Tb,fragmentStartPts:this.yz !== this.T?this.yz:void 0,fragmentEndPts:this.T_ !== this.pa?this.T_:void 0,edit:this.Ka},a);return a;};b.prototype.GMa=function(a){var b;if(this.Oi)for(var d=0;d < this.Oi.length;++d){this.Oi[d].ln === a && (b=this.Oi[d].offset);}return b;};b.prototype.bUa=function(a){return {start:a.start || 0,end:(void 0 !== a.end && 0 <= a.end?0:this.xI) + (a.end || 0)};};return b;})(p.Sx);b.rh=m;f.Se(a.dB,m);f.Se(a.$A,m);},function(f,b,a){var l,k;function c(){var a,b;a=this;this.Sq={};this.on=function(b,d,g){a.addListener(b,d,g);};this.addListener=function(b,d,g){a.Sq && (a.Sq[b]=a.Sq[b] || new k.P$(!0)).add(d,g);};this.removeListener=function(b,d){a.Sq && a.Sq[b] && a.Sq[b].removeAll(d);};this.uia=function(b){return a.Sq && a.Sq[b]?a.Sq[b].sr():[];};b=this;this.ac=function(a,d,g){var m;if(b.Sq){m=b.uia(a);for(a={kk:0};a.kk < m.length;(a={kk:a.kk},a.kk++)){g?(function(a){return function(){var b;b=m[a.kk];l.Ec(function(){b(d);});};})(a)():m[a.kk].call(this,d);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.oj=void 0;l=a(58);k=a(483);c.prototype.Gg=function(){this.Sq=void 0;};b.oj=c;},function(f,b,a){var m,t,x,A,J,E,L,D,h,T,P,n,R,q,W,ea;function c(a){var b,d,g,m;b=a.url.split("?");d=b[0];g="sc=" + a.XMb;m=a.DIa?"random=" + (1E17 * P.wB()).toFixed(0):"";d=b[1]?d + ("?" + b[1] + "&" + g):d + ("?" + g);d=d + (m?"&" + m:"");a.vc && !A.J1(d) && (a=t.config && t.config.Jea) && (d=a.replace("{URL}",d).replace("{EURL}",encodeURIComponent(d)));return d;}function l(a){var b,d,g,m;b=a.url.split("?");d=b[0];g="bb_reason=" + a.reason;m=a.DIa?"random=" + (1E17 * P.wB()).toFixed(0):"";d=b[1]?d + ("?" + b[1] + "&" + g):d + ("?" + g);d=d + (m?"&" + m:"");a.vc && !A.J1(d) && (a=t.config && t.config.Jea) && (d=a.replace("{URL}",d).replace("{EURL}",encodeURIComponent(d)));return d;}function k(a,b){var d,g,m,c;d=a.url.split("?");g=d[0];m=r(a);m && (b.Zr=m,(void 0 === a.rs?t.config.rs:a.rs)?(a.headers=a.headers || ({}),a.headers.Range="bytes=" + m):(b.Zr=m,g="/" == g[g.length - 1]?g + "range/":g + "/range/",g+=m));m=a.DIa?"random=" + (1E17 * P.wB()).toFixed(0):"";t.config.rz && a.X4 && (c="sc=" + a.X4,m=c + (m?"&" + m:""));g=d[1]?g + ("?" + d[1] + (m?"&" + m:"")):g + (m?"?" + m:"");a.vc && !A.J1(g) && (a=t.config && t.config.Jea) && (g=a.replace("{URL}",g).replace("{EURL}",encodeURIComponent(g)));b.url=g;}function r(a){var b;b=a.offset;if(void 0 !== b)return (h.rP(b),void 0 !== a.length?(a=a.offset + a.length - 1,h.rP(a),b + "-" + a):b + "-");}function g(){return !1 !== P.Zh.onLine;}function p(a,d,g,m){var c,p;c=m.moa;p=m.headers;a.open(c?"POST":"GET",d,!g);switch(m.responseType){case b.xQ:a.responseType="arraybuffer";break;case b.dka:T.OIa(a,"overrideMimeType",void 0,"text/xml");}c && (d={"Content-Type":E.Td(c)?"text/plain":"application/x-octet-stream"},p=p?E.Eb(d,p):d);p && T.Dd(p,function(b,d){a.setRequestHeader(b,d);});m.withCredentials && (a.withCredentials=!0);void 0 !== a.msCaching && (a.msCaching="disabled");c?a.send(c):a.send();}function d(a,d){switch(d.type){case b.xQ:return a.response || new ArrayBuffer(0);case b.dka:return a.responseXML;default:return a.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.xQ=b.dka=b.cka=b.eka=b.c1=b.VPa=b.UPa=b.a1=b.aab=b.bab=b.Uyb=b.b1=b.Ryb=b.Syb=b.Qyb=b.Tyb=b.af=void 0;m=a(65);t=a(12);x=a(11);A=a(46);J=a(48);E=a(26);L=a(2);D=a(7);h=a(18);T=a(24);P=a(9);n=a(58);R=a(16);q=a(28);W={raa:1,n0b:2,U2a:3};b.af=(function(){var A,C,T,P;function a(a){var b;try{b=a.url;R.bla(b)?0 === b.indexOf("https")?P.ssl++:0 === b.indexOf("http")?P["non-ssl"]++:P.invalid++:P.invalid++;}catch(va){}}function r(){C.ac(b.VPa);C.ac(b.eka);}function f(){C.ac(b.c1);C.ac(b.eka);}A=D.gi("Http");C=new m.oj();T=0;P={ssl:0,"non-ssl":0,invalid:0};D.ga.get(q.Sf).register(L.K.Twa,function(a){t.config.vTb && (O.addEventListener("online",r),O.addEventListener("offline",f),b.b1=g);a(x.Md);});return {addEventListener:C.addListener,removeEventListener:C.removeListener,download:function(g,m){var W,V,ha,Y,Ia,u,ia,oa,I,qa,Aa;function c(){var a;c=E.Af;Aa && (clearTimeout(Aa),Aa=null);C.removeListener(b.c1,f);I && (I.onloadstart=null,I.onreadystatechange=null,I.onprogress=null,I.onerror=null,I.onload=null,I=I.onabort=null);oa.ia || (oa.ja != L.L.Yx?W.warn("Download failed",V,L.Iq(oa)):W.trace("Download aborted",V));a=ha;ha=void 0;for(var d=a.length;d--;){(function(){var b;b=a[d];n.Ec(function(){b(oa);});})();}C.ac(b.UPa,oa,!0);}function r(){Aa && (clearTimeout(Aa),Aa=null);Aa=setTimeout(P,qa?ia:u);}function l(a,b,d,g){var m,p;oa.ia=!1;oa.ja=a;m=J.di();p=oa.Yk;p.oh=p.oh || m;p.kn=p.kn || m;0 < b && (oa.Bj=oa.Ie=b);d && (oa.ub=d);g && (oa.DA=g);a !== L.L.jM && a !== L.L.oB && a !== L.L.mM || !I || (I.onabort=null,q());c();}function x(a){var b,d;try{d=a.getResponseHeader("X-Netflix.Retry.Server.Policy");d && (b=JSON.parse(d));}catch(gf){}return b;}function f(){b.b1() || l(L.L.jM);}function P(){l(qa?L.L.oB:L.L.mM);}function q(){try{I && I.abort();}catch(qb){}}function ba(){l(L.L.Yx);}h.Ya(m);W=g.j && g.j.log && D.Ig(g.j,"Http") || A;V={Num:T++};ha=[m];Y={};u=g.nZ || t.config.nZ;ia=g.bna || t.config.bna;a(g);oa=(function(){var a,b,d;a=E.Af;b=E.Af;d=E.Af;return {request:g,type:g.responseType,Yk:Y,abort:q,timeout:P,fda:function(a){c !== E.Af && (h.Ya(ha,"Callback should be added before download starts."),ha && ha.unshift(a));},f3:function(a){d(a);},j3:function(b){a(b);},fE:function(a){b(a);},oOb:function(a){d=a;},vOb:function(b){a=b;},iOb:function(a){b=a;}};})();n.Ec(function(){var a,m;if(R.bla(g.url))try{if((k(g,oa),Ia=oa.url,h.YH(Ia),V.Url=Ia,b.b1())){I=new XMLHttpRequest();a=t.config.BTb && "undefined" != typeof I.onloadstart;a && (I.onloadstart=function(){var a;a=J.di();Y.requestTime=a;oa.f3({mediaRequest:g,timestamp:a});});I.onreadystatechange=function(){if(2 == I.readyState){qa=!0;Y.oh=J.di();I.onreadystatechange=null;r();for(var a=oa,b=I.getAllResponseHeaders().split("\n"),d=b.length,m,c,p={};d--;){if(m=b[d])(c=m.indexOf(": "),1 <= c && c < m.length - 1 && (p[m.substr(0,c)]=m.substr(c + 2)));}a.headers=p;oa.j3({timestamp:Y.oh,connect:!0,mediaRequest:g,start:Y.requestTime,rt:[Y.oh - Y.requestTime]});}};I.onprogress=function(a){qa=!0;Y.vfa=a.loaded;r();a={mediaRequest:g,bytes:a.loaded,tempstamp:J.di(),bytesLoaded:a.loaded};oa.j3(a);};I.onload=function(){var a;if(c !== E.Af){h.Ya(void 0 === Y.kn);Y.kn=J.di();Y.oh=Y.oh || Y.kn;200 <= I.status && 299 >= I.status?(a=d(I,oa),oa.parsed=!1,oa.content=a,oa.ia=!0):I.status == ea?l(L.L.lM,I.status):l(L.L.kM,I.status,I.response,x(I));c();}};I.onabort=ba;I.onerror=function(){var a,b;a=I.status;"undefined" !== typeof t.config.VMa && (a=t.config.VMa);if(0 < a){if(a == ea)l(L.L.lM,a);else {try{b=I.responseText;}catch(lf){}l(L.L.kM,a,b,x(I));}}else l(L.L.nM);};m=J.di();p(I,Ia,!1,g);C.ac(b.a1,oa,!0);a || (Y.requestTime=m,oa.f3({mediaRequest:g,timestamp:m}));r();C.addListener(b.c1,f);}else n.Ec(l.bind(void 0,L.L.jM));}catch(rb){W.error("Exception starting download",rb,V);l(L.L.m8,void 0,E.Ye(rb));}else l(L.L.kwa);});return oa;},Nb:P,P4b:function(a){var b;b=new XMLHttpRequest();a=l(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},qPb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},JJb:function(a){var b,d,g;b=new XMLHttpRequest();d=a.url;g=a.GJb;b.open("HEAD",d);b.timeout=Math.max(2 * g.yCb,t.config.zoa);b.onreadystatechange=function(){2 == b.readyState && g && g.mu({url:d});};b.ontimeout=b.onerror=function(){g && g.lna({url:d});};b.send();},M9a:W};})();b.Tyb=c;b.Qyb=l;b.Syb=k;b.Ryb=r;b.b1=x.gBa;b.Uyb=g;b.bab=p;b.aab=d;b.a1=1;b.UPa=2;b.VPa=3;b.c1=4;b.eka=5;b.cka=1;b.dka=2;b.xQ=3;ea=420;O._cad_global.http=b.af;},function(f,b,a){var l,k,r,g,p;function c(a){return ["STANDARD","LIMITED","PREVIEW"][a];}Object.defineProperty(b,"__esModule",{value:!0});b.om=b.Da=b.Fi=void 0;f=a(123);(function(a){a[a.xl=0]="STANDARD";a[a.by=1]="LIMITED";a[a.wZb=2]="PREVIEW";})(l || (l={}));k=(function(){function a(){}a.c0b="uirequest";a.uZb="prefetch_start";a.sZb="prefetch_complete";a.tZb="prefetch_delete";a.eZb="periodic_update";return a;})();r={manifest:f.Le.Dk.xsa,ldl:f.Le.Dk.rB,getHeaders:f.Le.Dk.iM,getMedia:f.Le.Dk.MEDIA};(function(a){a[a.HAVE_NOTHING=0]="HAVE_NOTHING";a[a.HAVE_METADATA=1]="HAVE_METADATA";a[a.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";a[a.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";a[a.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(g || (g={}));(function(a){a.x2a="asl_start";a.v2a="asl_comp";a.QUb="asl_exc";a.w2a="asl_fail";a.l$a="stf_creat";a.C6a="idb_open";a.z6a="idb_block";a.J6a="idb_upgr";a.I6a="idb_succ";a.A6a="idb_error";a.B6a="idb_invalid_state";a.E6a="idb_open_timeout";a.G6a="idb_open_wrkarnd";a.H6a="idb_storelen_exc";a.D6a="idb_open_exc";a.F6a="idb_timeout_invalid_storelen";a.Y7a="msl_load_data";a.$7a="msl_load_no_data";a.Z7a="msl_load_failed";})(p=b.Fi || (b.Fi={}));(function(a){a.I9="PlaybackRequestStart";a.H9="PlaybackRequestEnd";a.hW="RequestPrefetchManifestStart";a.gW="RequestPrefetchManifestEnd";a.fW="RequestManifestStart";a.eW="RequestManifestEnd";a.dW="RequestLicenseStart";a.cW="RequestLicenseEnd";a.sU="RequestTimedTextUrlStart";a.rU="RequestTimedTextUrlEnd";a.qU="RequestAudioUrlStart";a.pU="RequestAudioUrlEnd";a.uU="RequestVideoUrlStart";a.tU="RequestVideoUrlEnd";a.i6="AppendBufferStart";a.h6="AppendBufferEnd";a.$$="SetMediaKeysStart";a.Z$="SetMediaKeysEnd";a.PU="GenerateChallengeStart";a.OU="GenerateChallengeEnd";a.k6="ApplyLicenseStart";a.j6="ApplyLicenseEnd";})(b.Da || (b.Da={}));b.om=(function(){function a(){}a.LXb=l;a.WJa=c;a.vZb=k;a.BM=r;a.Fi=p;a.iwa=g;return a;})();},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.QF=b.oy=void 0;b.oy="TimingApiSymbol";b.QF="MilestoneTimingApiSymbol";},function(f,b,a){var c,l,k,r,g,p;c=this && this.__extends || (function(a,b){function d(){this.constructor=a;}for(var g in b){b.hasOwnProperty(g) && (a[g]=b[g]);}a.prototype=null === b?Object.create(b):(d.prototype=b.prototype,new d());});l=a(515);f=a(124);k=a(272);r=a(271);g=(function(a){function b(b,d,m){var c;a.call(this);this.XE=null;this.Jg=this.tn=this.WE=!1;switch(arguments.length){case 0:this.destination=k.empty;break;case 1:if(!b){this.destination=k.empty;break;}if("object" === typeof b){if(b instanceof g || ("syncErrorThrowable" in b) && b[r.IE]){c=b[r.IE]();this.tn=c.tn;this.destination=c;c.add(this);}else (this.tn=!0,this.destination=new p(this,b));break;}default:(this.tn=!0,this.destination=new p(this,b,d,m));}}c(b,a);b.prototype[r.IE]=function(){return this;};b.create=function(a,d,g){a=new b(a,d,g);a.tn=!1;return a;};b.prototype.next=function(a){this.Jg || this.Fl(a);};b.prototype.error=function(a){this.Jg || (this.Jg=!0,this.gf(a));};b.prototype.complete=function(){this.Jg || (this.Jg=!0,this.ae());};b.prototype.unsubscribe=function(){this.closed || (this.Jg=!0,a.prototype.unsubscribe.call(this));};b.prototype.Fl=function(a){this.destination.next(a);};b.prototype.gf=function(a){this.destination.error(a);this.unsubscribe();};b.prototype.ae=function(){this.destination.complete();this.unsubscribe();};b.prototype.yfb=function(){var a,b;a=this.rp;b=this.dC;this.dC=this.rp=null;this.unsubscribe();this.Jg=this.closed=!1;this.rp=a;this.dC=b;};return b;})(f.ny);b.Ln=g;p=(function(a){function b(b,d,g,m){var c;a.call(this);this.PN=b;b=this;l.Yb(d)?c=d:d && (c=d.next,g=d.error,m=d.complete,d !== k.empty && (b=Object.create(d),l.Yb(b.unsubscribe) && this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.Rj=b;this.Fl=c;this.gf=g;this.ae=m;}c(b,a);b.prototype.next=function(a){var b;if(!this.Jg && this.Fl){b=this.PN;b.tn?this.Uaa(b,this.Fl,a) && this.unsubscribe():this.Vaa(this.Fl,a);}};b.prototype.error=function(a){var b;if(!this.Jg){b=this.PN;if(this.gf)(b.tn?this.Uaa(b,this.gf,a):this.Vaa(this.gf,a),this.unsubscribe());else if(b.tn)(b.XE=a,b.WE=!0,this.unsubscribe());else throw (this.unsubscribe(),a);}};b.prototype.complete=function(){var a,b,d;a=this;if(!this.Jg){b=this.PN;if(this.ae){d=function(){return a.ae.call(a.Rj);};b.tn?this.Uaa(b,d):this.Vaa(d);}this.unsubscribe();}};b.prototype.Vaa=function(a,b){try{a.call(this.Rj,b);}catch(A){throw (this.unsubscribe(),A);}};b.prototype.Uaa=function(a,b,d){try{b.call(this.Rj,d);}catch(J){return (a.XE=J,a.WE=!0);}return !1;};b.prototype.Uca=function(){var a;a=this.PN;this.PN=this.Rj=null;a.unsubscribe();};return b;})(g);},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kq=void 0;b.Kq="LogMessageFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.ws=b.oaa=void 0;b.oaa="StorageValidatorSymbol";b.ws="AppStorageFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Od=void 0;b.Od=new (function(){})();},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Us=void 0;b.Us="VideoPreparerSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ns=void 0;b.Ns="PboConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cs=void 0;b.Cs="DeviceFactorySymbol";},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,A;Object.defineProperty(b,"__esModule",{value:!0});b.aB=b.yi=void 0;c=a(0);f=a(15);l=a(8);k=f.Pg;r=a(3);g=r.Fk;p=a(173);d=a(101);m=a(10);f=a(35);t=a(169);x=a(170);(function(a){a[a.q8a=0]="NOTHING_APPENDED";a[a.J8a=1]="PARTIAL";a[a.Uu=2]="COMPLETE";a[a.ERROR=3]="ERROR";})(A=b.yi || (b.yi={}));a=(function(a){function b(b,d,m,c,p,r,l){d=a.call(this,d,m) || this;t.bB.call(d,b,c,p,r,l);x.Sx.call(d,b,c);d.cN=b.url || c.url;d.bN=c.responseType;d.sDa=c.X4;void 0 === d.bN && (d.bN=g.Zb && !g.Zb.zK.MB?0:1);d.Wf=new k();d.Wf.on(d,g.Zd.eza,d.MN);d.Wf.on(d,g.Zd.dza,d.pca);d.Wf.on(d,g.Zd.fza,d.qca);d.Wf.on(d,g.Zd.yM,d.LN);d.Wf.on(d,g.Zd.DB,d.XG);d.iG=!1;d.ed=!1;d.Eg=!1;d.jt=!1;d.sN=!1;d.bm=0;return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{active:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dXa:{get:function(){return this.Eg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return !this.iG && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vt:{get:function(){return this.iG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qka:{get:function(){return this.jt && !this.sN;},enumerable:!1,configurable:!0}});b.prototype.Jb=function(a){t.bB.prototype.Jb.call(this,a);this.ic || !this.Xc.xY && this.bc || (this.ic=d.pf(),this.active && (this.ic.CE(r.time.da(),{requestId:this.Sn(),re:this.Rb,type:this.I}),this.Eg && (this.ic.npa(r.time.da()),this.connect && 0 < this.qq.length && this.ic.Mv(this.qq[0]))));};b.prototype.Kw=function(){return this.Fe || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};b.prototype.CC=function(a,b,d,g,c,p,t){this.Fe=a.appendBuffer(this.response,t || m.Xk(this));return {status:this.Fe?A.Uu:A.ERROR};};b.prototype.ou=function(){(this.jt=g.prototype.open.call(this,this.cN,{start:this.offset,end:this.offset + this.$ - 1},this.bN,{},void 0,void 0,this.sDa)) && this.TP(this);return this.jt;};b.prototype.abort=function(){var a;if(this.vt)return !0;a=this.ed;this.ic && a && this.ic.EE(r.time.da(),this.Eg,{requestId:this.Sn(),re:this.Rb,type:this.I});this.iG=!0;this.Eg=this.ed=!1;g.prototype.abort.call(this);this.Q_(this,a,this.Qka);return !0;};b.prototype.pc=function(){7 !== this.readyState && 5 !== this.readyState && (this.G.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Wf && this.Wf.clear();a.prototype.pc.call(this);};b.prototype.MN=function(){var a;a=this.kd || this.qf;p.Su.pf().push(r.time.da() - a);this.ed || (this.ed=!0,this.Ho=this.track.Ho(),this.stream.H.DSa || this.ic && this.ic.CE(a,{requestId:this.Sn(),re:this.Rb,type:this.I}),this.qD(this),this.cm=this.kd);};b.prototype.pca=function(){var a,b,d;a=this.kd || this.Dha;b=this.connect;d=this.qq;p.Su.pf().push(r.time.da() - a);this.ed || (this.ed=!0);this.Eg || (this.Eg=!0,this.stream.H.DSa && this.ic && this.ic.CE(a,{requestId:this.Sn(),re:this.Rb,type:this.I}),this.ic && this.ic.npa(a),b && 0 < d.length && this.ic && this.ic.Mv(d[0]),this.xz(this),this.cm=a);};b.prototype.qca=function(){var a,b,d;a=this;b=this.kd;d=this.Ne - this.bm;p.Su.pf().push(r.time.da() - b);this.Eg || (this.Eg=!0);this.ic && (void 0 === this.cm || this.ic.Ty(d,this.cm,b,{requestId:this.Sn(),re:this.Rb,type:this.I}),this.qq && this.qq.length && this.qq.forEach(function(b){a.ic.Lv(b);}));this.rD(this);this.cm=b;this.bm=this.Ne;};b.prototype.LN=function(){var a,b,d;a=this;b=this.kd;d=this.Ne - this.bm;p.Su.pf().push(r.time.da() - b);this.ic && (0 < d && this.ic.Ty(d,this.cm,b,{requestId:this.Sn(),re:this.Rb,type:this.I}),this.qq && this.qq.length && this.qq.forEach(function(b){a.ic.Lv(b);}),this.ic.EE(b,this.Eg,{requestId:this.Sn(),re:this.Rb,type:this.I}));this.Eg=this.ed=!1;this.sN=!0;this.vr(this);this.cm=b;this.bm=this.Ne;this.pc();};b.prototype.Sn=function(){var a,b;a=(a=this.stream)?a.toString():this.url;b=this.WY;b && (a+=",range " + b.start + "-" + b.end);return a;};b.prototype.XG=function(){var a,b,d,g;this.G.warn("AseMediaRequest._onError:",this.toString());a=this.kd;b=this.status;d=this.kg;g=this.ki;p.Su.pf().push(r.time.da() - a);this.complete?this.G.warn("Error on a done request " + this.toString() + ", failurecode: " + d):this.vt?this.G.warn("Error on an aborted request " + this.toString() + ", failurecode: " + d):l.oa(d)?(this.ic && this.Xc && this.Xc.gpa && this.qf && void 0 === b && this.ic.Ty(this.bm?this.Ne - this.bm:this.Ne,this.cm?this.cm:this.qf,a,{requestId:this.Sn(),re:this.Rb,type:this.I}),this.R_(this)):this.G.warn("ignoring undefined request error (nativecode: " + g + ")");};return b;})(g);b.aB=a;f.Se(t.bB,a,!1);f.Se(x.Sx,a,!1);},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(138);b.wy=function(a){c.assert("number" === typeof a);return String.fromCharCode(a >>> 24 & 255) + String.fromCharCode(a >>> 16 & 255) + String.fromCharCode(a >>> 8 & 255) + String.fromCharCode(a & 255);};b.WDa=function(a){return a.charCodeAt(3) + (a.charCodeAt(2) << 8) + (a.charCodeAt(1) << 16) + (a.charCodeAt(0) << 24);};b.x0b=function(a,b){return Math.floor(1E3 * a / b);};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qg=void 0;b.Qg={audio:"audio",video:"video",u5:"timedtext",Fra:"trickplay"};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.E7=b.iaa=b.D8=b.naa=b.laa=b.MU=b.pm=void 0;b.pm={start:"start",stop:"stop",PQ:"keepAlive",KP:"engage",splice:"splice"};b.MU="EventPboCommandFactorySymbol";b.laa="StartEventPboCommandSymbol";b.naa="StopEventPboCommandSymbol";b.D8="KeepAliveEventPboCommandSymbol";b.iaa="SpliceEventPboCommandSymbol";b.E7="EngageEventPboCommandSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dla=b.Ci=void 0;(function(a){a[a.xl=0]="STANDARD";a[a.by=1]="LIMITED";})(b.Ci || (b.Ci={}));b.Dla=function(a){return ["STANDARD","LIMITED"][a];};},function(f,b,a){var l,k;function c(a,b,c,d,m){a=void 0 === a?l.K.zl:a;return k.zc.call(this,a,b,c,void 0,void 0,d,k.zc.Ye(m),m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Te=void 0;l=a(2);k=a(44);M(c,k.zc);b.Te=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gq={Request:"Request",haa:"Singleton",yW:"Transient"};b.nj={lua:"ConstantValue",mua:"Constructor",lva:"DynamicValue",N7:"Factory",Function:"Function",w8:"Instance",u7a:"Invalid",cBa:"Provider"};b.nv={fua:"ClassProperty",nua:"ConstructorArgument",Jaa:"Variable"};},function(f,b){var c;function a(a,b){var k;k=this;this.Jba=[];c.forEach(function(g){(g=g(a,b)) && k.Jba.push(g);});}Object.defineProperty(b,"__esModule",{value:!0});b.yB=b.Hya=void 0;c=[];a.prototype.hs=function(a){var g;for(var b=[],c=this.Jba.length;c--;){g=this.Jba[c];g.hs(a) && b.push(g.tI);}if(b.length)return b;};b.Hya=a;b.yB=function(a){c.push(a);};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bf=void 0;f=b.Bf || (b.Bf={});f.Km="created";f.Gu="started";f.hL="succeeded";f.Tp="failed";f.ak="cancelled";f.Eea="cancelled_on_create";f.cZ="cancelled_on_start";f.Dea="cancelled_not_encrypted";},function(f,b,a){(function(b,l){var r;function c(a,b,d){this.now=a;this.PZa=a=this.now();this.p_=a + b;this.bIb=b;this.zob=a + d;this.debug=!1;this.iz=this.Mr=0;}r=new (a(3).Console)("ASEJS_QOE_EVAL","media|asejs");c.prototype.constructor=c;c.prototype.Cg=function(a,c){var d;a=((a - this.PZa) / 1E3).toFixed(3);a=("     ").slice(a.length - 4) + a;d=b.eEb();r.debug(a + (" " + Math.floor(d.s3b / 1024 / 1024) + " MB/" + Math.floor(d.PPa / 1024 / 1024) + " MB ") + this.DZ + c);};c.prototype.Xeb=function(a){var b;b=this.now();this.DZ=a;this.Mr=0;this.Cg(b,"starting");};c.prototype.zfb=function(a){var g,d;this.iz++;if(!(1E3 > this.iz)){this.iz=0;g=this.now();if(g >= this.zob)throw (r.error("Execution deadline exceeded after " + (g - this.PZa) + "ms: " + this.DZ),Error("Execution deadline exceeded: " + this.DZ));d=b.eEb();this.Mr=Math.max(this.Mr,d.PPa);if(7516192768 < d.PPa)throw Error("Heap total limit exceeded: " + this.DZ);if(!(g <= this.p_)){for(;g > this.p_;){this.p_+=this.bIb;}this.Cg(g,a);}}};c.Jb=function(a){l.yA=new c(a,5E3,33E5);};c.R4=function(a){l.yA && l.yA.Xeb(a);};c.update=function(a){l.yA && l.yA.zfb(a);};c.Kia=function(){if(l.yA)return l.yA.Mr;};c.now=function(){return l.yA?l.yA.now():Date.now();};f.V=c;}).call(this,a(264),a(190));},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(b){a.prototype.parse.call(this,b);this.jd=this.Au([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{u3b:"int32"},{H6b:"int32"},{offset:32,type:"offset"},{S2b:"int16"},{J1b:{type:"int8",ihb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};b.xc=!0;return b;})(a(235)["default"]);b["default"]=f;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.We="avc1";return b;})(f);b.E2a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.We="avc2";return b;})(f);b.F2a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.We="avc3";return b;})(f);b.G2a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.We="avc4";return b;})(f);b.H2a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.We="hvc1";return b;})(f);b.q6a=a;f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.We="hev1";return b;})(f);b.l6a=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.v9="6674654e-696c-5078-6966-665374726d21";b.w9="6674654e-696c-4878-6165-6465722e7632";b.Tya="6674654e-696c-5078-6966-66496e646578";b.DV="6674654e-696c-4d78-6f6f-6653697a6573";b.CV="6674654e-696c-5378-6565-6b506f696e74";b.uza="cedb7489-e77b-514c-84f9-7148f9882554";b.tza="524f39a2-9b5a-144f-a244-6c427c648df4";b.u9="6674654e-696c-4678-7261-6d6552617465";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.xs=void 0;f=(function(){function a(a){this.Me=a;}a.prototype.fZa=function(a){this.Me=a;};a.prototype.lJa=function(){this.Me=void 0;};a.prototype.TP=function(a){return this.Me && this.Me.m3 && this.Me.m3(a);};a.prototype.qD=function(a){this.Me && this.Me.kx && this.Me.kx(a);};a.prototype.xz=function(a){this.Me && this.Me.VJ && this.Me.VJ(a);};a.prototype.rD=function(a){this.Me && this.Me.WJ && this.Me.WJ(a);};a.prototype.XMa=function(a){this.Me && this.Me.Ina && this.Me.Ina(a);};a.prototype.vr=function(a){this.Me && this.Me.Hj && this.Me.Hj(a);};a.prototype.R_=function(a){this.Me && this.Me.UR && this.Me.UR(a);};a.prototype.Q_=function(a,b,k){this.Me && this.Me.TR && this.Me.TR(a,b,k);};return a;})();b.xs=f;f.prototype.m3=f.prototype.TP;f.prototype.kx=f.prototype.qD;f.prototype.VJ=f.prototype.xz;f.prototype.WJ=f.prototype.rD;f.prototype.Hj=f.prototype.vr;f.prototype.UR=f.prototype.R_;f.prototype.TR=f.prototype.Q_;f.prototype.Ina=f.prototype.XMa;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.IL=b.R2a=b.q6=b.r6=void 0;(function(a){a[a.uLa=0]="downloading";a[a.pqb=1]="downloaded";a[a.Fe=2]="appended";a[a.buffered=3]="buffered";a[a.dpa=4]="removed";a[a.y6b=5]="unused";})(b.r6 || (b.r6={}));(function(a){a[a.waiting=1]="waiting";a[a.Y4b=2]="ondeck";a[a.uLa=4]="downloading";a[a.pqb=8]="downloaded";a[a.FQ=6]="inprogress";})(b.q6 || (b.q6={}));b.R2a="AseBufferViewSymbol";b.IL="AseBufferAccountingSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.k7=b.XL=b.QU=b.I7=void 0;b.I7="EventSourceSymbol";b.QU="GlobalEventSourceSymbol";b.XL="DebugEventSourceSymbol";b.k7="DiagnosticsEventSourceSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.av=void 0;b.av="IdProviderSymbol";},function(f,b,a){f=a(190);a="undefined" !== typeof self && "undefined" !== typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && self;f="undefined" !== typeof O && O || "undefined" !== typeof f && f || a;b.root=f;if(!f)throw Error("RxJS could not find any global context (window, self, global)");},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bs=b.d7=void 0;b.d7="DebugConfigSymbol";b.Bs="DebugSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.eG=b.bv=b.v8=void 0;b.v8="Injector";b.bv=145152E5;b.eG="ProfileSymbol";},function(f,b,a){var k,r;function c(a,b,d,m,c){var g,p,r;g={};p="number" === typeof c;c=void 0 !== c && p?c.toString():d;if(p && void 0 !== d)throw Error(k.g7a);Reflect.Mja(a,b) && (g=Reflect.getMetadata(a,b));d=g[c];if(Array.isArray(d))for(var p=0,t=d;p < t.length;p++){r=t[p];if(r.key === m.key)throw Error(k.k5a + " " + r.key.toString());}else d=[];d.push(m);g[c]=d;Reflect.kga(a,g,b);}function l(a,b){return function(d,g){b(d,g,a);};}Object.defineProperty(b,"__esModule",{value:!0});k=a(54);r=a(42);b.YE=function(a,b,d,m){c(r.tCa,a,b,m,d);};b.wT=function(a,b,d){c(r.uCa,a.constructor,b,d);};b.mz=function(a,b,d){"number" === typeof d?Reflect.mz([l(d,a)],b):"string" === typeof d?Reflect.mz([a],b,d):Reflect.mz([a],b);};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.wh=b.B8a=b.Fn=void 0;c=a(16);b.Fn=b.Fn || (function(a,b,c){return a >= b?a <= c?a:c:b;});b.B8a=function(a,b,c,g,p){return (a - b) * (p - g) / (c - b) + g;};b.wh=function(a){if(c.oa(a))return (a / 1E3).toFixed(3);};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.cy=b.s6a=b.ResponseType=void 0;f=b.ResponseType || (b.ResponseType={});f[f.Text=0]="Text";f[f.o0b=1]="Xml";f[f.tVb=2]="Binary";b.s6a="HttpClientSymbol";b.cy="LegacyHttpSymbol";},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.qBa=b.jv=void 0;c=a(0);l=a(771);(function(a){a[a.fT=0]="startPlayback";a[a.m_=1]="endPlayback";})(b.jv || (b.jv={}));f=(function(){function a(a){this.config=a;this.EXa=[];}a.prototype.zt=function(a){var b,p;p=c.__read(this.config.rga.filter(function(b){return b.Ip === a.Ip;}),1)[0];(null !== (b=null === p || void 0 === p?void 0:p.enabled) && void 0 !== b?b:a.enabled)?this.EXa.push(a):a.Qb && a.Qb();};a.prototype.zz=function(a){var b,p,d,m,k,f;d={};m=[];try{for(var t=c.__values(this.EXa),r=t.next();!r.done;r=t.next()){k=r.value;try{f=k.zz({Vm:a});f && (k.DR?d[k.DR]=f:d=c.__assign(c.__assign({},d),f));}catch(E){m.push(E);}}}catch(E){b={error:E};}finally{try{r && !r.done && (p=t["return"]) && p.call(t);}finally{if(b)throw b.error;}}m.length && (d["rpt-error"]=new l.Jsa("Reporting error",m));return d;};return a;})();b.qBa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});f=a(237);c=a(137);b.m5a=c;c=a(420);b.Eaa=c;c=a(416);b.Z0b=c;b.ZBa=f.KJ.Yc.sidx;f=a(890);b.hy=f.hy;f=a(412);b.tM=f.tM;f=a(886);b.gy=f.gy;b.gR=f.gR;f=a(77);b.wy=f.wy;a=a(885);b.Js=a.Js;},function(f){f.V=function a(c,l){var k;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,l);Object.getOwnPropertyNames(c).forEach(function(a){k=Object.getOwnPropertyDescriptor(c,a);void 0 !== k && Object.defineProperty(l,a,k);});};},function(f,b,a){var k,r,g,p,d,m,t,x,A;function c(a){var b;if(!a.Vca){b=a.cPa();a.El.yC(b["default"].Ga,a.Hi);a.El.lF(b.Fr?b.Fr.x3:void 0,b.Fr?b.Fr.BK:void 0);k.Ua(a.Xb) || (a.Vca=!0);}}function l(a,b,d){var c;this.H=d;this.$n={};this.CG=d.CG;this.oEa=new p(this.CG);this.qN=new m(!0);this.eN=new m(!1);this.reset();this.lca=a;this.El=b;this.REa=r.Zm.name();this.El.Q4(this.REa);this.YN=this.SB=0;this.fN=[];r.events.on("networkchange",(function(a){this.REa=a;this.El.Q4(a);}).bind(this));c=d.$fa;c && (c={Cd:g.Ve.eM,La:{Ga:parseInt(c,10),Uh:0},Rh:{cib:0,Uh:0},Er:{cib:0,Uh:0}},this.get=function(){return c;});A=this;}k=a(8);r=a(3);g=a(22);a(10);b=a(15).EventEmitter;p=a(429).Xva;d=new r.Console("ASEJS_NETWORK_MONITOR","media|asejs");m=a(921).Fva;t=a(139);x=a(919);A=void 0;l.prototype.constructor=l;l.prototype=Object.create(b.prototype);l.pf=function(){x(void 0 !== A);return A;};l.reset=function(){A && A.reset();};Object.defineProperties(l.prototype,{startTime:{get:function(){return this.ne;}},Cd:{get:function(){return this.Hi;}},xp:{get:function(){return this.SB;}},BGa:{get:function(){return this.fN;}}});l.prototype.hbb=function(){var a,b,d,g;a=this.H;b=a.xbb.concat(a.Hbb);d=a.Iba;g=this.oEa;return b.reduce(function(a,b){a[b]=g.create(b,d);return a;},{});};l.prototype.reset=function(){var a,b,d,m;a=this.H.Iba;b=this.oEa;d=this.H;this.location=null;this.$n=this.hbb();if(this.H.XLa){m=this.H.O_a;this.$n.mRb=new t(m.numB * m.bSizeMs,m.bSizeMs);}this.qN.reset();this.eN.reset();this.Dv=b.create("respconn-ewma",a);this.wv=b.create("respconn-ewma",a);this.Hi=g.Ve.HAVE_NOTHING;this.Bfb=(function(){c(this);}).bind(this);this.qY=void 0;this.Dy=this.oc=this.Xb=this.ne=null;this.Fab=this.kY=this.iO=0;this.tca=!1;d.RXa && (this.YN=this.SB=0,this.fN=[]);};l.prototype.SS=function(a){var b;b=this.$n;if(a !== this.location){k.X(this.qY) || (clearInterval(this.qY),this.qY=void 0);k.Ua(this.location) && (this.kY=this.iO=0,this.ne=null);if(!k.Ua(a)){this.Hi=g.Ve.HAVE_NOTHING;for(var d in b){b[d] && b[d].reset && b[d].reset();}this.Dv.reset();this.wv.reset();}k.Ua(this.ne) || (this.iO+=(k.Ua(this.Xb)?r.time.da():this.Xb) - this.ne,this.kY+=this.oc);this.Xb=this.ne=null;this.oc=0;this.location=a;this.El.SS(a);}};l.prototype.Q4=function(a){this.El.Q4(a);};l.prototype.egb=function(a){this.$n.QoEEvaluator?d.warn("monitor (QoEEvaluator) already existed."):this.$n.QoEEvaluator=a;};l.prototype.yLb=function(){delete this.$n.QoEEvaluator;};l.prototype.Ty=function(a,b,m,p){var t,r;this.R1=Math.max(this.R1 || 0,m);t=this.H;r=this.$n;if(!0 === p.nF)(p=r["throughput-wssl"]) && p.add(a,b,m,!0);else if(k.X(b))d.warn("addDataReceived called with undefined start time");else {t.Gbb && 10 > m - b?b=m - 10:0 === m - b && (b=m - 1);this.qN.Ty(a,b,m,p);this.eN.Ty(a,b,m,p);for(var l in r){r[l] && r[l].add && r[l].add(a,b,m);}this.Hi=Math.max(this.Hi,g.Ve.nB);k.Ua(this.ne) && (this.ne=b,this.Xb=null,this.Vca=!1,this.oc=0);k.Ua(this.Xb) || (b > this.Xb && (this.ne+=b - this.Xb),this.Xb=null,this.Vca=!1);this.oc+=a;this.Hi < g.Ve.mB && (m - this.ne > t.Ycb || this.oc > t.Xcb) && (this.Hi=g.Ve.mB);this.Hi < g.Ve.eM && (m - this.ne > t.jeb || this.oc > t.ieb) && (!this.tca || this.Fab > t.Wcb) && (this.Hi=g.Ve.eM,c(this),this.qY=setInterval(this.Bfb,t.Icb));k.Ua(this.Dy) || (b - this.Dy > t.nFa?this.lca.BQa(this.Dy,b):m - b > t.nFa && this.lca.BQa(b,m));this.Dy=Math.max(m,this.Dy);}};l.prototype.Mv=function(a){this.Dv.add(a);this.El.Mv(a);};l.prototype.Lv=function(a){this.wv.add(a);this.El.Lv(a);};l.prototype.start=function(a){var b;k.Ua(this.Dy) && !k.Ua(this.Xb) && (this.Dy=a);b=this.$n;if(this.H.Pqa)for(var d in b){b[d] && b[d].start && b[d].start(a);}};l.prototype.stop=function(a){var b,d;b=this.$n;for(d in b){b[d] && b[d].stop && b[d].stop(a);}this.Xb=k.Ua(this.Xb)?a:Math.min(this.Xb,a);this.Dy=null;};l.prototype.flush=function(){var a,b;a=this.$n;for(b in a){a[b] && a[b].flush && a[b].flush();}};l.prototype.fail=function(){this.ne=null;};l.prototype.XNa=function(){var a,b;a=this.$n.entropy;a && (b=a.ijb(),a.reset());return b;};l.prototype.cPa=function(){var a,b,d,g,m,c,p;a=r.time.da();b={};d=this.$n;g=this.H;m=g.lbb;c=g.Teb;for(p in d){d[p] && d[p].get && (b[p]=d[p].get(a),"iqr" === d[p].type && (b.Fr=b[p]),"tdigest" === d[p].type && (b.jj=b[p]),"wssl" === d[p].type && (b.nF=b[p]));}b.cdnavtp=this.qN.Qm();b.activecdnavtp=this.eN.Qm();b["default"]=m && b[m]?b[m]:b["throughput-ewma"];"none" !== g.Npa && "none" !== c && (b.vYa=c && b[c]?b[c]:b["throughput-sw"]);return b;};l.prototype.get=function(){var a,b,d,g,m,c;a=this.cPa();b=a["default"];d=this.Dv.get();g=this.wv.get();m=this.H;if(a.vYa)(c=a.vYa,b=k.oa(b.Ga) && k.oa(c.Ga) && b.Ga > c.Ga && 0 < c.Ga?c:b);a.Cd=this.Hi;a.La=b;!m.l_ || !b || k.Ua(b.Ga) || isNaN(b.Ga) || !a.nF || k.Ua(a.nF.Ga) || isNaN(a.nF.Ga) || ("max" === m.$1a?a.La.Ga=Math.max(a.nF.Ga,b.Ga):"sum" === m.$1a && (a.La.Ga+=a.nF.Ga));a.Rh=d;a.Er=g;this.H.XLa && (b=this.H.O_a,a.o6b=this.$n.mRb.get(b.fillS,b.fillHl));b=this.iO + !k.Ua(this.ne)?(k.Ua(this.Xb)?r.time.da():this.Xb) - this.ne:0;a.time=b;return a;};l.prototype.Utb=function(){var a;a=this.iO + !k.Ua(this.ne)?(k.Ua(this.Xb)?r.time.da():this.Xb) - this.ne:0;return {wH:Math.floor(8 * (this.kY + this.oc) / a),t3b:this.lca.$c()};};l.prototype.txb=function(){var a,b,d;a={};b=this.get(!0);if(b.Cd && b.La){a.aseavtp=Number(b.La.Ga).toFixed(2);a.asevartp=Number(b.La.Uh).toFixed(2);if(b.Fr){d=b.Fr.x3;!d || isNaN(d.sk) || isNaN(d.qk) || isNaN(d.$i) || (a.aseniqr=0 < d.$i?Number((d.sk - d.qk) / d.$i).toFixed(2):-1,a.aseiqr=Number(d.sk - d.qk).toFixed(2),a.asemedtp=Number(d.$i).toFixed(2));a.iqrsamples=b.Fr.BK;}b.jj && b.jj.zw && (a.tdigest=b.jj.zw());}return a;};l.prototype.CE=function(a,b){var d;d=b.requestId;1 === ++this.SB && (this.emit("active",a),this.start(a));d && this.fN.push(d);this.qN.CE(a,b);this.eN.CE(a,b);};l.prototype.npa=function(a){++this.YN;this.R1=Math.max(this.R1 || 0,a);};l.prototype.EE=function(a,b,d){var g;g=d.requestId;b && --this.YN;--this.SB;this.H.RXa && (this.SB=Math.max(this.SB,0),this.YN=Math.max(this.YN,0));0 === this.SB && (this.stop(a),this.emit("inactive",a));g && (b=this.fN.indexOf(g),0 <= b && this.fN.splice(b,1));this.qN.EE(a,d);this.eN.EE(a,d);};f.V=l;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.tB=void 0;b.tB="LoggerSinksSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.PB=void 0;b.PB="ThrottleFactorySymbol";},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.my=void 0;c=a(0);l=a(1);f=(function(){var b;function a(){}a.prototype.format=function(a,b){var g;for(var d=1;d < arguments.length;++d){;}g=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return "undefined" != typeof g[b]?g[b]:a;});};a.prototype.rQb=function(a){for(var b=a.length,d=new Uint16Array(b),g=0;g < b;g++){d[g]=a.charCodeAt(g);}return d.buffer;};a.prototype.j_a=function(a){return JSON.stringify(a,null,"  ");};b=a;return b=c.__decorate([l.N()],b);})();b.my=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.py=void 0;b.py="Utf8EncoderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ux=void 0;b.Ux="Base16EncoderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.dv=void 0;b.dv="MediaKeySystemAccessServicesSymbol";},function(f,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.TV=b.pj=b.rh=void 0;b.rh=function(){};(function(a){a.CM="PRE_FETCH";a.R$="QC";a.xl="STANDARD";a.lW="SUPPLEMENTAL";a.h5a="DOWNLOAD";})(b.pj || (b.pj={}));b.TV="PboManifestCommandSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fs=void 0;f=b.Fs || (b.Fs={});f[f.rVb=8]="Backspace";f[f.Tab=9]="Tab";f[f.EWb=13]="Enter";f[f.P_b=16]="Shift";f[f.PVb=17]="Ctrl";f[f.UUb=18]="Alt";f[f.EZb=19]="PauseBreak";f[f.IVb=20]="CapsLock";f[f.GWb=27]="Escape";f[f.R_b=32]="Space";f[f.DZb=33]="PageUp";f[f.CZb=34]="PageDown";f[f.DWb=35]="End";f[f.rXb=36]="Home";f[f.MXb=37]="LeftArrow";f[f.f0b=38]="UpArrow";f[f.UZb=39]="RightArrow";f[f.lWb=40]="DownArrow";f[f.GXb=45]="Insert";f[f.iWb=46]="Delete";f[f.r0b=48]="Zero";f[f.$Yb=49]="One";f[f.$_b=50]="Two";f[f.Y_b=51]="Three";f[f.aXb=52]="Four";f[f.ZWb=53]="Five";f[f.Q_b=54]="Six";f[f.O_b=55]="Seven";f[f.CWb=56]="Eight";f[f.HYb=57]="Nine";f[f.KUb=65]="A";f[f.WUb=66]="B";f[f.zVb=67]="C";f[f.l4a=68]="D";f[f.E=69]="E";f[f.HWb=70]="F";f[f.bXb=71]="G";f[f.eXb=72]="H";f[f.t6a=73]="I";f[f.HXb=74]="J";f[f.B8=75]="K";f[f.x7a=76]="L";f[f.PXb=77]="M";f[f.k8a=78]="N";f[f.UYb=79]="O";f[f.bZb=80]="P";f[f.Q=81]="Q";f[f.NZb=82]="R";f[f.S9a=83]="S";f[f.B$a=84]="T";f[f.a0b=85]="U";f[f.g0b=86]="V";f[f.k0b=87]="W";f[f.Qaa=88]="X";f[f.p0b=89]="Y";f[f.q0b=90]="Z";f[f.NXb=91]="LeftWindowKey";f[f.VZb=92]="RightWindowKey";f[f.M_b=93]="SelectKey";f[f.KYb=96]="Numpad0";f[f.LYb=97]="Numpad1";f[f.MYb=98]="Numpad2";f[f.NYb=99]="Numpad3";f[f.OYb=100]="Numpad4";f[f.PYb=101]="Numpad5";f[f.QYb=102]="Numpad6";f[f.RYb=103]="Numpad7";f[f.SYb=104]="Numpad8";f[f.TYb=105]="Numpad9";f[f.gYb=106]="Multiply";f[f.TUb=107]="Add";f[f.T_b=109]="Subtract";f[f.hWb=110]="DecimalPoint";f[f.kWb=111]="Divide";f[f.IWb=112]="F1";f[f.MWb=113]="F2";f[f.NWb=114]="F3";f[f.OWb=115]="F4";f[f.PWb=116]="F5";f[f.QWb=117]="F6";f[f.RWb=118]="F7";f[f.SWb=119]="F8";f[f.TWb=120]="F9";f[f.JWb=121]="F10";f[f.KWb=122]="F11";f[f.LWb=123]="F12";f[f.JYb=144]="NumLock";f[f.K_b=145]="ScrollLock";f[f.N_b=186]="SemiColon";f[f.FWb=187]="Equals";f[f.LVb=188]="Comma";f[f.gWb=189]="Dash";f[f.FZb=190]="Period";f[f.$Wb=191]="ForwardSlash";f[f.Z_b=192]="Tilde";f[f.aZb=219]="OpenBracket";f[f.qVb=220]="BackSlash";f[f.KVb=221]="CloseBracket";f[f.MZb=222]="Quote";},function(f,b,a){f.V={EventEmitter:a(793),Pg:a(792)};},function(f,b,a){var g,p;function c(a){return a instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(a);}function l(a){return g.Td(a);}function k(a){return g.oa(a);}function r(a){return !c(a) && !l(a) && !k(a) && !Array.isArray(a) && g.bf(a);}g=a(8);p={iB:0,kW:1,t8a:2,OBJECT:3,zl:4};f.V={uja:function(a){return c(a)?p.iB:l(a)?p.kW:k(a)?p.t8a:r(a)?p.OBJECT:p.zl;},t1:c,Td:l,oa:k,bf:r,hp:p};},function(f){var b;b={h1:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};f.V=b;},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});f=a(0);f.__exportStar(a(815),b);f.__exportStar(a(814),b);f.__exportStar(a(813),b);f.__exportStar(a(812),b);f.__exportStar(a(811),b);f.__exportStar(a(810),b);f.__exportStar(a(809),b);f.__exportStar(a(808),b);f.__exportStar(a(385),b);f.__exportStar(a(807),b);f.__exportStar(a(806),b);f.__exportStar(a(805),b);},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});f=a(0);f.__exportStar(a(135),b);f.__exportStar(a(854),b);f.__exportStar(a(165),b);},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.Bn=void 0;c=a(0);l=a(22);k=a(880);r=a(3);f=(function(){function b(a){this.dN=a;this.Th=[];this.console=new r.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(b,{pf:{get:function(){var g;if(void 0 === b.ZB){g=a(3);b.ZB=new b(g.wF);}return b.ZB;},enumerable:!1,configurable:!0}});b.reset=function(){b.ZB=void 0;};b.prototype.gr=function(a,b,g,c,r,l){var d,m,p,t;d=!1;p=l.SOb?this.Isb(g,b,a,l.TOb):-1;if(-1 === p){m={track:this.wnb(g,c,a,r,l),Sr:g,u:b,IWa:a,oK:[],Km:!1,SZ:!1};this.Th.push(m);t=function(){m.Km=!0;m.track.removeListener("created",t);};m.track.on("created",t);d=!1;}else (d=!0,m=this.Th[p]);a=new k.vBa(this.console,m.track,m.Km,d);m.oK.push(a);return a;};b.prototype.dI=function(a){var b,g;a.jr();b=this.F_(function(b){return b.track === a.track;});if(-1 !== b){if((b=this.Th[b],1 === b.oK.length))(b.track.jr(),b.SZ=!0);else {g=b.oK.indexOf(a);0 <= g && b.oK.splice(g,1);}}else a.track.jr();};b.prototype.Je=function(){this.dN.Je();};b.prototype.wnb=function(a,b,g,t,r){var d,m,p;d=this;m=!1;a?1 === g?(a=!1,b=1,r.Po?(a=!0,b=r.tJ):r.hu && 2 < r.hu && (a=!0,b=r.hu),a={type:this.dN.VIDEO,openRange:!a,pipeline:a,connections:b,socketBufferSize:r.xL,minRequestSize:r.FJ}):0 === g?(m=r.Po && (r.xTb || b && r.yTb),a={type:this.dN.AUDIO,openRange:!m,pipeline:m,connections:1,socketBufferSize:r.OY,minRequestSize:r.FJ}):a={type:this.dN.j6a,openRange:!1,pipeline:!0,connections:1,socketBufferSize:r.Rja,minRequestSize:r.FJ}:a={type:0 === g?l.Sa.AUDIO:l.Sa.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === g?r.OY:r.xL,minRequestSize:r.FJ};p=new this.dN(a,t);p.on("transportreport",function(a){var b;b=d.F_(function(a){return a.track === p;});-1 !== b && (b=d.Th[b],b.oK.length && b.oK[0].emit("transportreport",a));});p.on("destroyed",function(){var a;a=d.F_(function(a){return a.track === p;});-1 !== a && d.Th.splice(a,1);p.removeAllListeners();});if(m && r.wTb || r.o1a)p.on("pipelinedisabled",function(){r.o1a && 1 === p.config.type?p.d4(c.__assign(c.__assign({},p.config),{socketBufferSize:r.IEb,pipeline:!1,openRange:!0,connections:1})):p.d4(c.__assign(c.__assign({},p.config),{pipeline:!1,openRange:!0}));});return p;};b.prototype.Isb=function(a,b,g,c){return this.F_(function(d){return !d.SZ && (!c && d.track.config.a5b || !a?!d.Sr && d.IWa === g:d.Sr && d.u === b && d.IWa === g);});};b.prototype.F_=function(a){for(var b=0;b < this.Th.length;++b){if(a(this.Th[b]))return b;}return -1;};return b;})();b.Bn=f;},function(f,b,a){var g;function c(a,b){return void 0 === a?void 0:0 === a?g.U.rb:new g.U(a,b);}function l(a,b){return a && Math.floor(g.U.sra(a,b));}function k(a,b){return void 0 === a || void 0 === b?void 0:a + b;}function r(a,b){return void 0 === a || void 0 === b?void 0:a - b;}Object.defineProperty(b,"__esModule",{value:!0});b.$A=b.dB=void 0;g=a(20);f=(function(){function a(){}Object.defineProperties(a.prototype,{Qp:{get:function(){return r(this.nb,this.Xa) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hoa:{get:function(){return k(this.Xa,this.xk);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{PVa:{get:function(){return k(this.nb,this.xk);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{c_:{get:function(){return c(this.Qp,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$g:{get:function(){return c(this.Xa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{no:{get:function(){return c(this.nb,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gn:{get:function(){return c(this.hoa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{en:{get:function(){return c(this.PVa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{U3:{get:function(){return c(this.xk,this.P);},enumerable:!1,configurable:!0}});return a;})();b.dB=f;f=(function(){function a(){}Object.defineProperties(a.prototype,{duration:{get:function(){return r(this.pa,this.T) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return l(k(this.Xa,this.xk),this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pa:{get:function(){return l(k(this.nb,this.xk),this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hn:{get:function(){return l(this.xk,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ei:{get:function(){return l(this.Xa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kc:{get:function(){return l(this.Xa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tb:{get:function(){return l(this.nb,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ad:{get:function(){return l(k(this.Xa,this.xk),this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vd:{get:function(){return l(k(this.nb,this.xk),this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pw:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xx:{get:function(){return this.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wu:{get:function(){return this.pa;},enumerable:!1,configurable:!0}});return a;})();b.$A=f;},function(f,b,a){var t;function c(a,b){if(a.length == b.length && 1 < a.length){for(var d=a.length,m=0,c=g(a),p=g(b),t=0;t < d;t++){m+=a[t] * b[t];}return (m - c * p / d) / d;}return !1;}function l(a){if(!Array.isArray(a) || 2 > a.length)return !1;a=k(a);return Math.sqrt(a);}function k(a){var b;if(!Array.isArray(a) || 2 > a.length)return !1;b=r(a);return g(a.map(function(a){return (a - b) * (a - b);})) / (a.length - 1);}function r(a){return Array.isArray(a) && a.length?g(a) / a.length:!1;}function g(a){return Array.isArray(a)?a.reduce(function(a,b){return a + b;},0):!1;}function p(a,b,d){return Math.max(Math.min(a,d),b);}function d(a,b){return "number" === typeof a?a:b;}function m(a){return 1 / (1 + Math.exp(-a));}t=a(8);f.V={Pa:function(a,b,d){try{a.emit(b,d);}catch(E){a.gf("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",E,"Event:",d);}},Kt:function(){var a,b,d;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a + b.byteLength;},0);d=new Uint8Array(b);a.reduce(function(a,b){d.set(new Uint8Array(b),a);return a + b.byteLength;},0);return d.buffer;},hZ:p,xkb:function(a,b,g,m){return {min:p(d(a.min,b),g,m),max:p(d(a.max,b),g,m),cw:p(a.cw || 6E4,0,6E5),VIa:p(a.VIa || 0,-3E5,3E5),scale:p(a.scale || 6E4,0,3E5),qYa:p(a.qYa || 0,-3E5,3E5),gamma:p(a.gamma || 1,.1,10)};},Dd:function(a,b){void 0 !== a && t.rHb(a).forEach(function(a){b(a[0],a[1]);});},kMa:function(a,b,d){return a.min + (a.max - a.min) * (1 - Math.pow(m(6 * (b - (a.cw + (a.VIa || 0) * (1 - d))) / (a.scale + (a.qYa || 0) * (1 - d))),a.gamma));},Grb:function(a,b){return a.min + (a.max - a.min) * Math.pow(m(6 * (b - a.cw) / a.scale),a.gamma);},k3b:g,dub:r,Gxb:k,i3b:l,X2b:c,W2b:function(a,b){var d;if(a.length == b.length){d=c(a,b);a=l(a);b=l(b);if(0 < a && 0 < b)return d / (a * b);}return !1;},Yw:function(a,b,d){return b.lKa?b.lKa(d):new a.Console("ASEJS","media|asejs",d);},Upa:function(a){return a.length?"{" + a + "} ":"";},TMb:function(a,b,d){return {min:a.min * d + (1 - d) * b.min,max:a.max * d + (1 - d) * b.max,cw:a.cw * d + (1 - d) * b.cw,scale:a.scale * d + (1 - d) * b.scale,gamma:a.gamma * d + (1 - d) * b.gamma};},tanh:Math.tanh || (function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity == b?1:Infinity == a?-1:(b - a) / (b + a);}),Aqa:m,Xk:function(a){var b;b=a.Ra.Dc.ba.id;return {T:a.T,duration:a.duration,offset:a.offset,$:a.$,R:a.R,profile:a.profile,bc:a.bc,Ba:b,za:a.za,Rb:a.Rb,location:a.location,jk:a.jk,ei:a.ei,ru:{Dc:{ba:{id:b}}}};}};},function(f,b,a){var c;c=a(177);f.V=function(a){return function r(b){return 0 === arguments.length || c(b)?r:a.apply(this,arguments);};};},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pu=b.Ima=b.fTa=void 0;f=a(1020);a=a(1017);b.fTa=f;b.Ima=function(a,l){return b.fTa(function(a,b){return void 0 !== b?b:a;},a,l);};b.pu=a;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.NB=void 0;b.NB="SourceBufferTypeProviderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.GB=void 0;b.GB="PlayerErrorFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.G$=b.Le=void 0;(function(a){a.kB=(function(){function a(){}a.H3a="cache_start";a.I3a="cache_success";a.E3a="cache_abort";a.G3a="cache_fail";a.F3a="cache_evict";a.Z8a="pb_request";a.k$a="start_playback";return a;})();a.Dk=(function(){function a(){}a.xsa="auth";a.rB="ldl";a.iM="hdr";a.MEDIA="media";return a;})();a.eU=(function(){function a(){}a.nU="cached";a.LOADING="loading";a.K5a="expired";return a;})();})(b.Le || (b.Le={}));b.G$="PrefetchEventsFactorySymbol";},function(f,b,a){var l,k,r,g,p,d;function c(a){return a.reduce(function(a,b){return a.concat(b instanceof d.AW?b.Rt:b);},[]);}l=a(187);k=a(514);r=a(515);g=a(1177);p=a(513);d=a(1176);f=(function(){function a(a){this.closed=!1;this.iH=this.dC=this.rp=null;a && (this.Uca=a);}a.prototype.unsubscribe=function(){var a,b,m,f,E,h;a=!1;if(!this.closed){m=this.rp;f=this.dC;E=this.Uca;h=this.iH;this.closed=!0;this.iH=this.dC=this.rp=null;for(var D=-1,C=f?f.length:0;m;){m.remove(this);m=++D < C && f[D] || null;}r.Yb(E) && (m=g.y0a(E).call(this),m === p.uz && (a=!0,b=b || (p.uz.e instanceof d.AW?c(p.uz.e.Rt):[p.uz.e])));if(l.isArray(h))for((D=-1,C=h.length);++D < C;){m=h[D];k.bf(m) && (m=g.y0a(m.unsubscribe).call(m),m === p.uz && (a=!0,b=b || [],m=p.uz.e,m instanceof d.AW?b=b.concat(c(m.Rt)):b.push(m)));}if(a)throw new d.AW(b);}};a.prototype.add=function(b){var d;if(!b || b === a.EMPTY)return a.EMPTY;if(b === this)return this;d=b;switch(typeof b){case "function":d=new a(b);case "object":if(d.closed || "function" !== typeof d.unsubscribe)return d;if(this.closed)return (d.unsubscribe(),d);"function" !== typeof d.ADa && (b=d,d=new a(),d.iH=[b]);break;default:throw Error("unrecognized teardown " + b + " added to Subscription.");}(this.iH || (this.iH=[])).push(d);d.ADa(this);return d;};a.prototype.remove=function(a){var b;b=this.iH;b && (a=b.indexOf(a),-1 !== a && b.splice(a,1));};a.prototype.ADa=function(a){var b,d;b=this.rp;d=this.dC;b && b !== a?d?-1 === d.indexOf(a) && d.push(a):this.dC=[a]:this.rp=a;};a.EMPTY=(function(a){a.closed=!0;return a;})(new a());return a;})();b.ny=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.YA=void 0;b.YA="ApiInfoSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.xB=void 0;b.xB="MediaKeysStorageFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.$L=b.s7=void 0;b.s7="DrmServicesSymbol";b.$L="DrmServicesProviderSymbol";},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,A,J,E,h,D,C,T,P,n;Object.defineProperty(b,"__esModule",{value:!0});b.aN=void 0;c=a(202);l=a(12);k=a(56);r=a(7);g=a(204);p=a(2);d=a(30);m=a(212);t=a(158);x=a(294);A=a(194);J=a(73);E=a(28);h=a(291);D=a(19);C=a(152);T=a(175);P=a(520);n=a(357);f=(function(){function a(b){var d,t;d=this;this.createPlayer=function(a,b){var g;b=void 0 === b?{}:b;b="number" === typeof b?{vi:b}:b;g=r.ga.get(T.PF);g=b.manifest?g.create(b.manifest):void 0;a=r.ga.get(A.IM).Znb(a);return d.qKa(a,b,g);};this.createPlaygraphPlayer=function(a,b,g){var m;m=r.ga.get(T.PF);g=g?m.create(g):void 0;return d.qKa(C.D9a.encode(a),b,g);};this.closeAllPlayers=function(a){k.s$(void 0 === a?function(){}:a);};this.init=function(b){b=void 0 === b?function(){}:b;d.uH.$Q(function(g){g.ia?(l.config.I4?d.BNb().then(function(){c.iAa();})["catch"](function(a){r.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(d,a.AO);b(Object.assign({success:!0},a.AO));}):b({success:!1,error:r.yAa(g.errorCode || p.K.Cwa,g)});});};this.applyConfig=function(a){d.V0a(a);l.lfa(a);};this.prepare=function(a,b){var g;a=d.toa.$Ka(a) || [];g=new Set();a=a.filter(function(a){var b;b=g.has(a.u);g.add(a.u);return !b;});if(l.config.Vr && d.mc)try{d.mc.vx(a,b);}catch(ia){r.log.warn("Prepare call failed",ia);}};this.predownload=function(a,b){if((a=d.toa.$Ka(a)) && l.config.TA && d.mc)try{d.mc.dJb(a,b);}catch(Ia){r.log.warn("Predownload call failed",Ia);}};this.lookupPredownloaded=function(){return l.config.TA && d.mc?d.mc.OCb():Promise.resolve([]);};this.ppmUpdate=function(a){O._cad_global.playerPredictionModel?((a=d.toa.vpb(a)) && O._cad_global.playerPredictionModel.update(a),O._cad_global.prefetchEvents && O._cad_global.prefetchEvents.update(a)):r.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){r.CI().pT().then(a)["catch"](function(){return a(!1);});};this.supportsUltraHd=function(a){r.CI().qT().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){r.CI().mT().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyVision=function(a){r.CI().nT().then(a)["catch"](function(){return a(!1);});};this.close=function(){};this.deviceThroughput=function(){var a;a=r.ga.get(m.wM).Dfa();return a?Promise.resolve(a.Qm()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=r.ga.get(m.wM).Dfa();return a?Promise.resolve(a.jwb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.grb;};this.V0a(b);r.ga.get(n.l6);this.toa=r.ga.get(g.XV);this.uH=r.ga.get(E.Sf);t=r.ga.get(P.l$).apply();l.MJa([b],t);this.mc=r.ga.get(J.Us);r.CI().qT();}a.prototype.V0a=function(a){r.ga.get(d.KF).fEb(a);};a.prototype.BNb=function(){return r.ga.get(t.DM)()["catch"](function(a){r.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){r.log.error("Unable to send deferred playdata",a);});};a.prototype.qKa=function(a,b,d){var g,m,c,p,t;b=void 0 === b?{}:b;m=r.ga.get(D.qd);c=r.ga.get(x.C$);p=r.ga.get(h.E$);t=r.ga.get(A.IM);c=c.create(a);a=c.k0();m=m.zb();b=Object.assign(Object.assign({startPts:b.playbackState && b.playbackState.currentTime || a.Xd,uiPlayStartTime:Date.now()},b),{endPts:null !== (g=a.Ge) && void 0 !== g?g:void 0,isPlaygraph:!0});g=p.create(m,c,t);g.addEpisode({movieId:a.la,playbackParams:b,manifest:d});return g;};a.AO={};return a;})();b.aN=f;},function(f){function b(a,b){return a.some(function(a){return a.id === b;});}function a(a,b){return a.filter(c.bind(null,b)).map(l).reduce(k,0);}function c(a,b){return a.id === b.id && a.displayTime + a.duration === b.displayTime;}function l(a){return a.duration;}function k(a,b){return a + b;}f.V={Skb:function(a,b,c){for(var d=0;d < a.length;d++){if(a[d] !== b[d])return (c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1);}return !0;},Jfa:function(a,b,c){var d;d={};d.displayTime=a.Ml;d.duration=a.duration;d.originX=a.eHb;d.originY=a.fHb;d.sizeX=a.uPb;d.sizeY=a.vPb;d.imageData=b;d.id=a.DD;d.rootContainerExtentX=c.zMb;d.rootContainerExtentY=c.AMb;return d;},ria:function(a,b){return "o_" + a + "s_" + b;},PTb:function(a,b){b("P" === String.fromCharCode(a[1]));b("N" === String.fromCharCode(a[2]));b("G" === String.fromCharCode(a[3]));},ec:function(a){return "undefined" !== typeof a;},J5b:b,v2b:a,eQ:function(a,b){var g,d;g=Object.create({});for(d in a){g[d]=a[d];}a instanceof Error && (g.message=a.message,g.stack=a.stack);g.errorString=b;return g;},assert:function(a,b){if(!a)throw (b && b.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},aQa:function(a){return a && 0 < a.entries.length && 0 === a.images.length;},DQb:function(a,b){for(var g=b.entries.length,d,m=0;m < g;m++){if((d=b.entries[m],d.Ml <= a && d.Ml + d.duration >= a))return !0;}return !1;},EQb:function(a,b,c){for(var d=c.entries.length,g,p,r=0;r < d;r++){g=c.entries[r];p=g.Ml;g=p + g.duration;if(b < p)break;if(p <= a && g >= a || p > a && p <= b)return !0;}return !1;},PJa:function(c){return c.map(function(b,p){b.duration+=a(c.slice(p + 1),b);return b;}).reduce(function(a,c){b(a,c.id) || a.push(c);return a;},[]);},jja:function(a){return a.reduce(function(a,b){return a + b.entries.reduce(function(a,b){return b.jka + a;},0);},0);},cqb:function(a,b){return a && a.yu <= b && a.So >= b;},qvb:function(a){if(a)return a.endTime;},Mvb:function(a){try{return String.fromCharCode.apply(String,a);}catch(g){}return "";}};},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.fp=void 0;c=a(0);l=a(1);k=a(45);r=a(63);a(161);f=(function(){var b;function a(a,b,g,c,p){b=r.sh.call(this,a,b,c,k.xh.events,p,k.xh.events + "/" + g) || this;b.context=a;b.Hrb=g;return b;}M(a,r.sh);a.prototype.Je=function(a,b){var d,g;d=this;g=this.VY(b);return this.send(a,b.href,g).then(function(){return b;})["catch"](function(a){throw d.Pl(a);});};a.prototype.zo=function(a,b,g){var d,m;d=this;m=this.VY(g);return this.send(a,b.fQ("events").href,m).then(function(a){b.kda(a.result.links);return g;})["catch"](function(a){throw d.Pl(a);});};a.prototype.VY=function(a){return {event:this.Hrb,xid:a.ea,position:a.position || 0,clientTime:a.$O,sessionStartTime:a.PS,mediaId:a.xJ,trackId:a.jb,sessionId:a.sessionId,appId:a.xO,playTimes:this.Yib(a.$R),sessionParams:a.gm,mdxControllerEsn:a.xma};};a.prototype.uea=function(a){return {downloadableId:a.wd,duration:a.duration};};a.prototype.Yib=function(a){var b;b={total:a.total,audio:a.audio.map(this.uea),video:a.video.map(this.uea),text:a.text.map(this.uea)};a.total !== a.fF && (b.totalContentTime=a.fF);return b;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.xi()),c.__param(1,l.xi()),c.__param(2,l.xi()),c.__param(3,l.xi()),c.__param(4,l.xi())],b);})();b.fp=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.Jh=void 0;c=a(11);l=a(12);f=a(2);k=a(18);r=a(7);g=a(366);p=a(9);d=a(28);m=a(33);t=r.ga.get(d.Sf);t.register(f.K.r8,function(a){var d,f,x,h;d=r.ga.get(m.rj);k.Ya(l.config);k.Ya(p.fv && p.fv.getDeviceId || p.FV || d.X_);f=r.ga.get(g.j7);x=r.gi("Device");t.od("devs");h=r.ga.get(m.Os);f.create({deviceId:l.config.deviceId,X_:d.X_,cLa:"deviceid",Kh:l.config.Kh,vz:h.uva,qga:d.qga,userAgent:p.rm,Mla:l.config.Mla,qia:l.config.qia,Fpb:h.H4a || !1,Whb:l.config.WHa.e,Epb:h.WVb || !1,G4b:l.config.Qt?"mslstoretest":"mslstore"}).then(function(d){b.Jh=d;O._cad_global.device=b.Jh;x.info("Esn source: " + b.Jh.jha);t.od("devdone");a(c.Md);})["catch"](function(b){b.ia=void 0;a(b);});});},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Jq=b.jia=void 0;c=a(12);l=a(72);k=a(331);b.jia=function(a,b,p,d){var g,t;t=a.us;t=null === (g=null === t || void 0 === t?void 0:t[0].tc) || void 0 === g?void 0:g[0].eP;g=c.nfa(p.ke);t=c.mfa(! !a.dr,!1,t);g=l.Od.Xc.Kp(Object.assign(Object.assign({},g),t));b=k.wja(b,k.gLa);return {u:d,ie:0,Svb:function(){return {qa:a,Mf:!1,FC:a.QKa[0].FC};},config:g,Jd:! !p.Jd,ATa:p.ATa,Zq:b};};b.Jq=function(){return "";};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.cG=void 0;b.cG="PlaygraphConfigSymbol";},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.ZCb=b.jVa=b.zHb=b.LNa=b.HHb=b.XA=b.g6=b.Fq=b.GL=b.FL=b.lj=void 0;c=a(24);l=a(18);b.lj="$attributes";b.FL="$children";b.GL="$name";b.Fq="$text";b.g6="$parent";b.XA="$sibling";b.HHb=/^\s*\<\?xml.*\?\>/i;b.LNa=function(a,b,g){for(var c=2;c < arguments.length;++c){;}for(c=1;(b=arguments[c++]) && (a=a[b]);){;}return a;};b.zHb=function(a,r){var g;a?g=c.Ud(a[b.Fq]):void 0 !== r && (g=r);l.rP(g);return g;};b.jVa=function(a,c){var g;a?g=a[b.Fq]:void 0 !== c && (g=c);l.DKa(g);return g;};b.ZCb=function(a,c){var g;g={};g[b.lj]=a;g[b.Fq]=c;return g;};},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Mq=b.caa=void 0;c=a(20);(function(a){a[a.absolute=0]="absolute";a[a.nLb=1]="relative";})(l=b.caa || (b.caa={}));k=(function(){function a(a,b){this.type=a;this.timestamp=b;}a.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + l[this.type];};return a;})();f=(function(){function a(){}a.ZT=function(a){return new k(l.absolute,a);};a.Q1a=function(a){return new k(l.nLb,a);};a.lsa=new k(l.absolute,c.U.au);return a;})();b.Mq=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(234);f=(function(){function a(a,b,c){this.tag=a;this.view=b;this.M=c;this.startOffset=c.offset;}a.OWa=function(b,g){var c,d;c=b.Ad();d=b.wKb();b=new (l.bI[c] || a)(c,b.Qub(d),b);b.parse(g);return b;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.aE=0;return !0;};a.prototype.CMa=function(a){var b;b=[];this.tag === a && b.push(this);if(this.bI)for(var p=0;p < this.bI.length;p++){b=c.__spreadArrays(b,this.bI[p].CMa(a));}return b;};a.prototype.oD=function(a){for(a=this.CMa(a);0 < a.length;){return a[0];}};a.prototype.PFa=function(){for(this.bI=[];this.M.offset < this.startOffset + this.length;){this.bI.push(a.OWa(this.M,this));}};return a;})();b.h7=f;f.prototype.skip=f.prototype.parse;},function(f){var c,l;function b(){var b,r;if(DataView.prototype && DataView.prototype.II && !l){try{b=new ArrayBuffer(4);r=new DataView(b);r.JI(0,4,1);}catch(g){return;}try{b=new ArrayBuffer(4);r=new DataView(b);r.JI(1,2,2);}catch(g){DataView.prototype.JI=a(DataView.prototype.JI,DataView.prototype.getUint8,Uint8Array);DataView.prototype.F0=a(DataView.prototype.F0,DataView.prototype.getUint16,Uint16Array);DataView.prototype.II=a(DataView.prototype.II,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Cia=a(DataView.prototype.Cia,DataView.prototype.getInt8,Int8Array);DataView.prototype.Aia=a(DataView.prototype.Aia,DataView.prototype.getInt16,Int16Array);DataView.prototype.Bia=a(DataView.prototype.Bia,DataView.prototype.getInt32,Int32Array);}c.Cxb=function(a,b,d,m,c){return d?a.JI(b,d,m || 1,c):new Uint8Array(0);};c.Axb=function(a,b,d,m,c){return d?a.F0(b,d,m || 2,c):new Uint16Array(0);};c.Bxb=function(a,b,d,m,c){return d?a.II(b,d,m || 4,c):new Uint32Array(0);};c.a3b=function(a,b,d,m,c){return d?a.Cia(b,d,m || 1,c):new Int8Array(0);};c.Z2b=function(a,b,d,m,c){return d?a.Aia(b,d,m || 2,c):new Int16Array(0);};c.$2b=function(a,b,d,m,c){return d?a.Bia(b,d,m || 4,c):new Int32Array(0);};l=!0;}}function a(a,b,g){return function(c,d,m,t){var p;m=m || g.BYTES_PER_ELEMENT;if(c + d * m > this.byteLength){p=new g(d);p.set(a.call(this,c,d - 1,m,t));p[d - 1]=b.call(this,c + (d - 1 * m),t);return p;}return a.call(this,c,d,m,t);};}c={JI:function(a,b,g,c,d){var m;m=new Uint8Array(g);c=c || 1;for(var p=0;p < g;(++p,b+=c)){m[p]=a.getUint8(b,d);}return m;},F0:function(a,b,g,c,d){var m;m=new Uint16Array(g);c=c || 2;for(var p=0;p < g;(++p,b+=c)){m[p]=a.getUint16(b,d);}return m;},II:function(a,b,g,c,d){var m;m=new Uint32Array(g);c=c || 4;for(var p=0;p < g;(++p,b+=c)){m[p]=a.getUint32(b,d);}return m;},Cia:function(a,b,g,c,d){var m;m=new Int8Array(g);c=c || 1;for(var p=0;p < g;(++p,b+=c)){m[p]=a.getInt8(b,d);}return m;},Aia:function(a,b,g,c,d){var m;m=new Int16Array(g);c=c || 2;for(var p=0;p < g;(++p,b+=c)){m[p]=a.getInt16(b,d);}return m;},Bia:function(a,b,g,c,d){var m;m=new Int32Array(g);c=c || 4;for(var p=0;p < g;(++p,b+=c)){m[p]=a.getInt32(b,d);}return m;},J2b:b};l=!1;c.Wub=function(){return l;};b();f.V=c;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);return b;})(Error);b.assert=function(a,b){if(!a)throw new l(b || "Assertion failed");};},function(f,b,a){function c(a,b){this.lH=a;this.Ni=Math.floor((a + b - 1) / b);this.Wc=b;this.reset();}a(5);c.prototype.shift=function(){this.fd.shift();this.st.shift();};c.prototype.qu=function(a){return this.IIa(this.fd[a],a);};c.prototype.update=function(a,b){this.fd[a]=(this.fd[a] || 0) + b;};c.prototype.push=function(){this.fd.push(0);this.st.push(0);this.ab+=this.Wc;};c.prototype.add=function(a,b,c){var g,p,d;if(null === this.ab)for((g=Math.max(Math.floor((c - b + this.Wc - 1) / this.Wc),1),this.ab=b);this.fd.length < g;){this.push();}for(;this.ab <= c;){this.push();this.fd.length > this.Ni && this.shift();}if(null === this.wm || b < this.wm)this.wm=b;if(b > this.ab - this.Wc)this.update(this.fd.length - 1,a);else if(b == c)(g=this.fd.length - Math.max(Math.ceil((this.ab - c) / this.Wc),1),0 <= g && this.update(g,a));else for(g=1;g <= this.fd.length;++g){p=this.ab - g * this.Wc;d=p + this.Wc;if(!(p > c)){if(d < b)break;this.update(this.fd.length - g,Math.round(a * (Math.min(d,c) - Math.max(p,b)) / (c - b)));}}for(;this.fd.length > this.Ni;){this.shift();}};c.prototype.start=function(a){null === this.wm && (this.wm=a);null === this.ab && (this.ab=a);};c.prototype.stop=function(a){var b,c;if(null !== this.ab)if(a - this.ab > 10 * this.lH)this.reset();else {for(;this.ab <= a;){this.push();this.fd.length > this.Ni && this.shift();}b=this.fd.length - Math.ceil((this.ab - this.wm) / this.Wc);c=this.fd.length - Math.ceil((this.ab - a) / this.Wc);if(0 <= c)if((0 > b && (this.wm=this.ab - this.Wc * this.fd.length,b=0),b === c))this.st[b]+=a - this.wm;else if(c > b)for((this.st[b]+=(this.ab - this.wm) % this.Wc,this.st[c]+=this.Wc - (this.ab - a) % this.Wc,a=b + 1);a < c;++a){this.st[a]=this.Wc;}this.wm=null;}};c.prototype.IIa=function(a,b){b=this.$ha(b);return 0 === b?null:8 * a / b;};c.prototype.$ha=function(a){var b;b=this.st[a];null !== this.wm && (a=this.ab - (this.fd.length - a - 1) * this.Wc,a > this.wm && (b=a - this.wm <= this.Wc?b + (a - this.wm):this.Wc));return b;};c.prototype.get=function(a,b){var c,g;c=this.fd.map(this.IIa,this);if("last" === a)for(a=0;a < c.length;++a){null === c[a] && (c[a]=0 < a?c[a - 1]:0);}else if("average" === a){b=1 - Math.pow(.5,1 / ((b || 2E3) / this.Wc));for(a=0;a < c.length;++a){null === c[a]?c[a]=Math.floor(g || 0):g=void 0 !== g?b * c[a] + (1 - b) * g:c[a];}}return c;};c.prototype.reset=function(){this.Qba || (this.fd=[],this.st=[],this.wm=this.ab=null);};c.prototype.setInterval=function(a){this.Ni=Math.floor((a + this.Wc - 1) / this.Wc);};f.V=c;},function(f){var r,g,p,d;function b(){b.Jb.call(this);}function a(a,d,g,c){var m,p;if("function" !== typeof g)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof g);m=a.Uf;void 0 === m?(m=a.Uf=Object.create(null),a.YB=0):(void 0 !== m.M4b && (a.emit("newListener",d,g.listener?g.listener:g),m=a.Uf),p=m[d]);void 0 === p?(m[d]=g,++a.YB):("function" === typeof p?p=m[d]=c?[g,p]:[p,g]:c?p.unshift(g):p.push(g),g=void 0 === a.JN?b.Yob:a.JN,0 < g && p.length > g && !p.nUb && (p.nUb=!0,g=Error("Possible EventEmitter memory leak detected. " + p.length + " " + String(d) + " listeners added. Use emitter.setMaxListeners() to increase limit"),g.name="MaxListenersExceededWarning",g.mr=a,g.type=d,g.count=p.length,console && console.warn && console.warn(g)));return a;}function c(){for(var a=[],b=0;b < arguments.length;b++){a.push(arguments[b]);}this.KMa || (this.target.removeListener(this.type,this.V1a),this.KMa=!0,g(this.listener,this.target,a));}function l(a,b,d){a={KMa:!1,V1a:void 0,target:a,type:b,listener:d};b=c.bind(a);b.listener=d;return a.V1a=b;}function k(a){var b;b=this.Uf;if(void 0 !== b){a=b[a];if("function" === typeof a)return 1;if(void 0 !== a)return a.length;}return 0;}r="object" === typeof Reflect?Reflect:null;g=r && "function" === typeof r.apply?r.apply:function(a,b,d){return Function.prototype.apply.call(a,b,d);};p=Number.isNaN || (function(a){return a !== a;});f.V=b;b.EventEmitter=b;b.prototype.Uf=void 0;b.prototype.YB=0;b.prototype.JN=void 0;d=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return d;},set:function(a){if("number" !== typeof a || 0 > a || p(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + a + ".");d=a;}});b.Jb=function(){if(void 0 === this.Uf || this.Uf === Object.getPrototypeOf(this).Uf)(this.Uf=Object.create(null),this.YB=0);this.JN=this.JN || void 0;};b.prototype.setMaxListeners=function(a){if("number" !== typeof a || 0 > a || p(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + a + ".");this.JN=a;return this;};b.prototype.emit=function(a){var c,d,m;for(var b=[],d=1;d < arguments.length;d++){b.push(arguments[d]);}c="error" === a;d=this.Uf;if(void 0 !== d)c=c && void 0 === d.error;else if(!c)return !1;if(c){0 < b.length && (m=b[0]);if(m instanceof Error)throw m;b=Error("Unhandled error." + (m?" (" + m.message + ")":""));b.context=m;throw b;}d=d[a];if(void 0 === d)return !1;if("function" === typeof d)g(d,this,b);else {m=d.length;for(var c=Array(m),p=0;p < m;++p){c[p]=d[p];}for(d=0;d < m;++d){g(c[d],this,b);}}return !0;};b.prototype.addListener=function(b,d){return a(this,b,d,!1);};b.prototype.on=b.prototype.addListener;b.prototype.kWa=function(b,d){return a(this,b,d,!0);};b.prototype.once=function(a,b){if("function" !== typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof b);this.on(a,l(this,a,b));return this;};b.prototype.xJb=function(a,b){if("function" !== typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof b);this.kWa(a,l(this,a,b));return this;};b.prototype.removeListener=function(a,b){var d,g,c,m,p;if("function" !== typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof b);g=this.Uf;if(void 0 === g)return this;d=g[a];if(void 0 === d)return this;if(d === b || d.listener === b)0 === --this.YB?this.Uf=Object.create(null):(delete g[a],g.removeListener && this.emit("removeListener",a,d.listener || b));else if("function" !== typeof d){c=-1;for(m=d.length - 1;0 <= m;m--){if(d[m] === b || d[m].listener === b){p=d[m].listener;c=m;break;}}if(0 > c)return this;if(0 === c)d.shift();else {for(;c + 1 < d.length;c++){d[c]=d[c + 1];}d.pop();}1 === d.length && (g[a]=d[0]);void 0 !== g.removeListener && this.emit("removeListener",a,p || b);}return this;};b.prototype.TJ=b.prototype.removeListener;b.prototype.removeAllListeners=function(a){var b,d,g;d=this.Uf;if(void 0 === d)return this;if(void 0 === d.removeListener)return (0 === arguments.length?(this.Uf=Object.create(null),this.YB=0):void 0 !== d[a] && (0 === --this.YB?this.Uf=Object.create(null):delete d[a]),this);if(0 === arguments.length){b=Object.keys(d);for(d=0;d < b.length;++d){g=b[d];"removeListener" !== g && this.removeAllListeners(g);}this.removeAllListeners("removeListener");this.Uf=Object.create(null);this.YB=0;return this;}b=d[a];if("function" === typeof b)this.removeListener(a,b);else if(void 0 !== b)for(d=b.length - 1;0 <= d;d--){this.removeListener(a,b[d]);}return this;};b.prototype.listeners=function(a){var b;b=this.Uf;if(void 0 === b)a=[];else if((a=b[a],void 0 === a))a=[];else if("function" === typeof a)a=[a.listener || a];else {for(var b=Array(a.length),d=0;d < b.length;++d){b[d]=a[d].listener || a[d];}a=b;}return a;};b.listenerCount=function(a,b){return "function" === typeof a.listenerCount?a.listenerCount(b):k.call(a,b);};b.prototype.listenerCount=k;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.xW=b.Nn=void 0;b.Nn={ZF:"PRIMARY",usa:"ASSISTIVE",Lta:"COMMENTARY",NONE:"NONE"};b.xW={assistive:b.Nn.usa,closedcaptions:b.Nn.usa,directorscommentary:b.Nn.Lta,commentary:b.Nn.Lta,subtitles:b.Nn.ZF,primary:b.Nn.ZF,none:b.Nn.NONE};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.RF=void 0;b.RF="MslProviderSymbol";},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.lm=void 0;c=a(32);l=a(59);k=a(464);f=a(104);r=a(144);new f.my();a=(function(){function a(a,b,g){var d;d=k.SL.call(this,a,b,c.Js.gDa) || this;d.config=a;d.Ema=b;d.is=g;d.type=c.Ik.jB;d.WT=r.Kd.rKa();return d;}M(a,k.SL);a.prototype.Hu=function(){return Promise.resolve(!1);};a.prototype.yw=function(){return Promise.resolve("");};a.prototype.pT=function(){return Promise.resolve(!1);};a.prototype.nT=function(){return Promise.resolve(!1);};a.prototype.qT=function(){return Promise.resolve(!1);};a.prototype.mT=function(){return Promise.resolve(!1);};a.prototype.zI=function(a){return this.WT[a];};a.prototype.ida=function(a){return a;};a.prototype.zSa=function(a){switch(a){case c.Bi.Gs:return "1.4";case c.Bi.sB:return "2.2";}};a.prototype.YC=function(){var a;a={};a[l.Y.cM]="avc1.4D401E";a[l.Y.DF]="avc1.4D401F";a[l.Y.UU]="avc1.4D4028";a[l.Y.c8]="hev1.1.6.L90.B0";a[l.Y.d8]="hev1.1.6.L93.B0";a[l.Y.e8]="hev1.1.6.L120.B0";a[l.Y.f8]="hev1.1.6.L123.B0";a[l.Y.g8]="hev1.1.6.L150.B0";a[l.Y.h8]="hev1.1.6.L153.B0";a[l.Y.Y7]="hev1.2.6.L90.B0";a[l.Y.Z7]="hev1.2.6.L93.B0";a[l.Y.a8]="hev1.2.6.L120.B0";a[l.Y.b8]="hev1.2.6.L123.B0";a[l.Y.FF]="hev1.2.6.L150.B0";a[l.Y.GF]="hev1.2.6.L153.B0";a[l.Y.aV]="hev1.2.6.L90.B0";a[l.Y.cV]="hev1.2.6.L93.B0";a[l.Y.eV]="hev1.2.6.L120.B0";a[l.Y.gV]="hev1.2.6.L123.B0";a[l.Y.R7]="hev1.2.6.L90.B0";a[l.Y.S7]="hev1.2.6.L93.B0";a[l.Y.T7]="hev1.2.6.L120.B0";a[l.Y.U7]="hev1.2.6.L123.B0";a[l.Y.V7]="hev1.2.6.L150.B0";a[l.Y.W7]="hev1.2.6.L153.B0";a[l.Y.fM]="hev1.2.6.L90.B0";a[l.Y.gM]="hev1.2.6.L93.B0";a[l.Y.EF]="hev1.2.6.L120.B0";a[l.Y.hM]="hev1.2.6.L123.B0";a[l.Y.TL]=r.Kd.a7;a[l.Y.UL]=r.Kd.Eua;a[l.Y.tF]=r.Kd.Fua;a[l.Y.VL]=r.Kd.Gua;a[l.Y.WL]=r.Kd.Hua;a[l.Y.CU]=r.Kd.Iua;a[l.Y.a6a]="avc1.640016";a[l.Y.RU]="avc1.64001E";a[l.Y.SU]="avc1.64001F";a[l.Y.TU]="avc1.640028";a[l.Y.dDa]=r.Kd.XM;a[l.Y.YM]=r.Kd.XM;a[l.Y.ZM]=r.Kd.XM;a[l.Y.$M]=r.Kd.XM;a[l.Y.ZCa]=r.Kd.WM;a[l.Y.$Ca]=r.Kd.WM;a[l.Y.aDa]=r.Kd.WM;a[l.Y.bDa]=r.Kd.WM;a[l.Y.cDa]=r.Kd.WM;a[l.Y.ysa]=r.Kd.mj;a[l.Y.zsa]=r.Kd.mj;a[l.Y.Asa]=r.Kd.mj;a[l.Y.Bsa]=r.Kd.mj;a[l.Y.Csa]=r.Kd.mj;a[l.Y.Dsa]=r.Kd.mj;a[l.Y.Esa]=r.Kd.mj;a[l.Y.Fsa]=r.Kd.mj;return a;};a.prototype.HOa=function(a){return a || this.config().VA;};a.prototype.FI=function(){return Promise.resolve(void 0);};a.prototype.kQ=function(){return Promise.resolve(void 0);};a.prototype.kP=function(a){var b;b=[];this.is.de(a) && b.push(this.zSa(a));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:! !b.length}];};a.qL="video/mp4;codecs={0};";return a;})();b.lm=a;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Kd=void 0;c=a(32);b.Kd=(function(){function a(){}a.rKa=function(b){var k;k={};k[c.Bd.NM]=a.CF;k[c.Bd.VU]=a.CF;k[c.Bd.zW]=a.dM;k[c.Bd.Zu]=a.Zu;k[c.Bd.Vu]=b || a.Vu;k[c.Bd.oF]=a.CF;k[c.Bd.qy]=a.XM;k[c.Bd.mj]=a.mj;return k;};a.CF="avc1.640028";a.dM="hev1.1.6.L93.B0";a.a7="dvhe.05.01";a.Eua="dvhe.05.04";a.Fua="dvhe.05.05";a.Gua="dvhe.05.06";a.Hua="dvhe.05.07";a.Iua="dvhe.05.09";a.Vu=a.a7;a.Zu=a.dM;a.cU="mp4a.40.2";a.FW="mp4a.40.42";a.RVb="ec-3";a.i0b="vp9";a.XM="vp09.00.11.08.02";a.WM="vp09.02.31.10.01";a.mj="av01.0.04M.08";a.d4a=[a.Iua,a.Hua,a.Gua,a.Fua,a.Eua,a.a7];return a;})();},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.KM=b.qaa=void 0;b.qaa="SystemRandomSymbol";b.KM="RandomGeneratorSymbol";},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});f=a(0);f.__exportStar(a(23),b);f.__exportStar(a(512),b);f.__exportStar(a(1173),b);f.__exportStar(a(272),b);f.__exportStar(a(124),b);a(1166);a(1162);a(1159);a(1155);a(1152);a(1149);a(1147);a(1144);a(1140);a(1137);a(1136);a(1130);a(1128);a(1126);a(1124);a(1123);a(1117);},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.qW=b.Gn=void 0;b.Gn=function(){};b.qW="StringObjectReaderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.jva=b.Cn=void 0;f=b.Cn || (b.Cn={});f[f.sE=0]="playready";f[f.d6=1]="widevine";f[f.mD=2]="fairplay";f[f.G1b=3]="clearkey";b.jva="DrmTypeSymbol";},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.xF=b.Db=void 0;c=a(148);l=a(44);k=a(2);b.Db=(function(){function a(){}a.sia=function(a){if(a){if(a.includes(b.xF.sE))return c.Cn.sE;if(a.includes("fps"))return c.Cn.mD;if(a.includes(b.xF.d6))return c.Cn.d6;}throw new l.zc(k.K.C5a,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + a);};a.QNa=function(a){switch(a){case c.Cn.sE:return b.xF.sE;case c.Cn.mD:return b.xF.mD;default:return b.xF.d6;}};a.Ps="com.microsoft.playready";a.Ld="com.microsoft.playready.hardware";a.HM="com.microsoft.playready.software";a.HZb="com.chromecast.playready";a.IZb="org.chromium.external.playready";a.YWb="com.apple.fps.2_0";a.$$a="com.widevine.alpha";a.JZb="com.microsoft.playready.recommendation";a.KZb="com.microsoft.playready.recommendation.3000";a.LZb="com.microsoft.playready.recommendation.2000";return a;})();b.xF={mD:"fairplay",d6:"widevine",sE:"playready"};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.$F=void 0;b.$F="PlatformConfigDefaultsSymbol";},function(f,b,a){var p;function c(a){return "function" === typeof a?a.name:"symbol" === typeof a?a.toString():a;}function l(a,b){return null === a.nx?!1:a.nx.xf === b?!0:l(a.nx,b);}function k(a){function b(a,d){void 0 === d && (d=[]);d.push(c(a.xf));return null !== a.nx?b(a.nx,d):d;}return b(a).reverse().join(" --\x3e ");}function r(a){a.Qea.forEach(function(a){if(l(a,a.xf))throw (a=k(a),Error(p.M3a + " " + a));r(a);});}function g(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: " + a;}Object.defineProperty(b,"__esModule",{value:!0});p=a(54);b.HI=c;b.PRa=function(a,b,c){var d;d="";a=c(a,b);0 !== a.length && (d="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null !== a.Vk && (b=g(a.Vk));d=d + "\n " + b;a.VC.hTa && (d=d + " - " + a.VC.hTa);}));return d;};b.tkb=r;b.RBb=function(a,b){var d,g;if(b.Yka() || b.Oka()){d="";g=b.fwb();b=b.Pub();null !== g && (d+=g.toString() + "\n");null !== b && b.forEach(function(a){d+=a.toString() + "\n";});return " " + a + "\n " + a + " - " + d;}return " " + a;};b.getFunctionName=g;},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});f=a(0);f.__exportStar(a(585),b);f.__exportStar(a(584),b);},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Op=b.storage=void 0;c=a(12);l=a(11);k=a(316);f=a(2);r=a(315);g=a(313);p=a(7);a=a(28);b.storage=b.storage || void 0;b.Op=b.Op || void 0;p.ga.get(a.Sf).register(f.K.Mwa,function(a){var d;switch(c.config.fQb){case "idb":d=r.a_a;break;case "none":d=k.c_a;break;case "ls":d=g.b_a;}d(function(d){d.ia?(b.storage=d.storage,b.Op=d.Op,a(l.Md)):a(d);});});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.EM=void 0;b.EM="PboPublisherSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wb=void 0;b.Wb=(function(){function a(){}a.Zd={eza:"mr1",dza:"mr2",fza:"mr3",yM:"mr4",D8a:"mr5",DB:"mr6"};a.Ac={UNSENT:0,OPENED:1,ky:2,IB:3,DONE:5,bM:6,HL:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.RZb={tsa:0,MB:1,Uya:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.AF={NO_ERROR:-1,S4a:0,Cua:1,d5a:2,W4a:3,T3a:4,Nta:5,L6:6,U3a:7,V3a:8,W3a:9,Q3a:10,S3a:11,Mta:12,R3a:13,P3a:14,n6a:15,mwa:16,lwa:17,j8:18,l8:19,k8:20,pwa:21,p6a:22,kV:23,nwa:24,o6a:25,Z4a:26,T4a:27,h$a:28,J4a:29,K4a:30,L4a:31,M4a:32,N4a:33,O4a:34,P4a:35,Q4a:36,R4a:37,U4a:38,V4a:39,X4a:40,Y4a:41,$4a:42,a5a:43,b5a:44,c5a:45,e5a:46,f5a:47,g$a:48,TIMEOUT:49,i8:50,jwa:51,m6a:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Zb={zK:{tsa:!0,MB:!1,Uya:!0}};return a;})();},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.p7=b.$ua=void 0;b.$ua=function(){this.AUDIO=0;this.VIDEO=1;this.j6a=2;this.Je=function(){};};b.p7="DownloadTrackConstructorFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.M$=b.Qs=void 0;f=b.Qs || (b.Qs={});f.C_a="taskstart";f.A_a="taskabort";f.B_a="taskfail";f.D_a="tasksuccess";b.M$="PreparerTaskSchedulerSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.DM=b.e$=void 0;b.e$="PboPlaydataServicesSymbol";b.DM="PboPlaydataServicesProviderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.LF=void 0;b.LF="LicenseProviderSymbol";},function(f,b,a){var l,k;function c(a){switch(a){case l.L.kM:return "http";case l.L.mM:return "connectiontimeout";case l.L.oB:return "readtimeout";case l.L.owa:return "corruptcontent";case l.L.Yx:return "abort";case l.L.nM:case l.L.m8:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.eja=b.Tia=b.Sia=void 0;l=a(2);k=a(9);b.Sia=c;b.Tia=function(a,b){a={errorcode:a + (b.errorCode || l.K.zl)};b.ja && (a.errorsubcode=b.ja);b.Ie && (a.errorextcode=b.Ie);b.fha && (a.erroredgecode=b.fha);b.ub && (a.errordetails=b.ub);b.Bj && (a.httperr=b.Bj);b.P2 && (a.aseneterr=b.P2);b.q_ && (a.errordata=b.q_);b.pR && (a.mediaerrormessage=b.pR);(b=c(Number(b.ja))) && (a.nwerr=b);return a;};b.eja=function(){return {screensize:k.Ms.width + "x" + k.Ms.height,screenavailsize:k.Ms.availWidth + "x" + k.Ms.availHeight,clientsize:O.innerWidth + "x" + O.innerHeight};};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.e7=b.f7=void 0;(b.f7 || (b.f7={})).z9a="PboDebugEvent";b.e7={e8a:"Manifest",Event:"Event",OXb:"Logblob"};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});f.V=function(a){return {minInitVideoBitrate:a.ku,minHCInitVideoBitrate:a.Nma,maxInitVideoBitrate:a.bx,minInitAudioBitrate:a.wR,maxInitAudioBitrate:a.jR,minHCInitAudioBitrate:a.vR,minAcceptableVideoBitrate:a.B2,minRequiredBuffer:a.xR,minPrebufSize:a.Zi,minCheckBufferingCompleteInterval:a.Mma,rebufferingFactor:a.Uoa,useMaxPrebufSize:a.dsa,maxPrebufSize:a.bA,maxRebufSize:a.sma,maxBufferingTime:a.kq,minAudioMediaRequestSizeBytes:a.C2,minVideoMediaRequestSizeBytes:a.J2,initialBitrateSelectionCurve:a.k1,initSelectionLowerBound:a.mQa,initSelectionUpperBound:a.nQa,throughputPercentForAudio:a.r5,bandwidthMargin:a.aea,bandwidthMarginContinuous:a.bea,bandwidthMarginCurve:a.cea,conservBandwidthMargin:a.qfa,switchConfigBasedOnInSessionTput:a.bra,conservBandwidthMarginTputThreshold:a.cP,conservBandwidthMarginCurve:a.rfa,switchAlgoBasedOnHistIQR:a.u_a,switchConfigBasedOnThroughputHistory:a.OA,maxPlayerStateToSwitchConfig:a.rma,lowEndMarkingCriteria:a.Tla,IQRThreshold:a.s8,histIQRCalcToUse:a.aka,maxTotalBufferLevelPerSession:a.Lo,highWatermarkLevel:a.SPa,toStableThreshold:a.e0a,toUnstableThreshold:a.w5,skipBitrateInUpswitch:a.Hqa,watermarkLevelForSkipStart:a.msa,highStreamRetentionWindow:a.Uja,lowStreamTransitionWindow:a.Ula,highStreamRetentionWindowUp:a.Wja,lowStreamTransitionWindowUp:a.Wla,highStreamRetentionWindowDown:a.Vja,lowStreamTransitionWindowDown:a.Vla,highStreamInfeasibleBitrateFactor:a.Tja,lowestBufForUpswitch:a.Vw,lockPeriodAfterDownswitch:a.c2,lowWatermarkLevel:a.Yla,lowestWaterMarkLevel:a.Ww,lowestWaterMarkLevelBufferRelaxed:a.Zla,mediaRate:a.Dma,maxTrailingBufferLen:a.q2,audioBufferTargetAvailableSize:a.CO,videoBufferTargetAvailableSize:a.ST,maxVideoTrailingBufferSize:a.WSa,maxAudioTrailingBufferSize:a.GSa,fastUpswitchFactor:a.z_,fastDownswitchFactor:a.uha,maxMediaBufferAllowed:a.cx,maxMediaBufferAllowedInBytes:a.HDb,simulatePartialBlocks:a.Dqa,simulateBufferFull:a.zZa,considerConnectTime:a.sfa,connectTimeMultiplier:a.pfa,lowGradeModeEnterThreshold:a.iSa,lowGradeModeExitThreshold:a.jSa,maxDomainFailureWaitDuration:a.JSa,maxAttemptsOnFailure:a.FSa,exhaustAllLocationsForFailure:a.oMa,maxNetworkErrorsDuringBuffering:a.PSa,maxBufferingTimeAllowedWithNetworkError:a.iR,fastDomainSelectionBwThreshold:a.vMa,throughputProbingEnterThreshold:a.M_a,throughputProbingExitThreshold:a.N_a,locationProbingTimeout:a.WRa,finalLocationSelectionBwThreshold:a.zMa,throughputHighConfidenceLevel:a.K_a,throughputLowConfidenceLevel:a.L_a,locationStatisticsUpdateInterval:a.Jla,enablePerfBasedLocationSwitch:a.VLa,probeServerWhenError:a.Wr,probeRequestTimeoutMilliseconds:a.zoa,allowSwitchback:a.Nv,probeDetailDenominator:a.uE,maxDelayToReportFailure:a.k2,countGapInBuffer:a.ZJa,bufferThresholdForAbort:a.tIa,allowCallToStreamSelector:a.gHa,pipelineScheduleTimeoutMs:a.Yna,maxPartialBuffersAtBufferingStart:a.dx,minPendingBufferLen:a.Oma,maxPendingBufferLen:a.aA,maxPendingBufferLenSABCell100:a.m2,maxActiveRequestsSABCell100:a.i2,maxStreamingSkew:a.tma,maxPendingBufferPercentage:a.qma,maxRequestsInBuffer:a.uJ,headerRequestSize:a.V0,minBufferLenForHeaderDownloading:a.uR,reserveForSkipbackBufferMs:a.zS,numExtraFragmentsAllowed:a.pna,pipelineEnabled:a.Po,maxParallelConnections:a.tJ,socketReceiveBufferSize:a.FZa,audioSocketReceiveBufferSize:a.OY,videoSocketReceiveBufferSize:a.xL,headersSocketReceiveBufferSize:a.Rja,updatePtsIntervalMs:a.K5,bufferTraceDenominator:a.nea,bufferLevelNotifyIntervalMs:a.MC,aseReportDenominator:a.zO,aseReportIntervalMs:a.Lda,enableAbortTesting:a.MLa,abortRequestFrequency:a.AGa,streamingStatusIntervalMs:a.Vqa,prebufferTimeLimit:a.tx,minBufferLevelForTrackSwitch:a.D2,penaltyFactorForLongConnectTime:a.Rna,longConnectTimeThreshold:a.Rla,additionalBufferingLongConnectTime:a.pda,additionalBufferingPerFailure:a.qda,rebufferCheckDuration:a.sS,enableLookaheadHints:a.TLa,lookaheadFragments:a.eSa,enableOCSideChannel:a.rz,OCSCBufferQuantizationConfig:a.KV,updateDrmRequestOnNetworkFailure:a.S0a,deferAseScheduling:a.TKa,maxDiffAudioVideoEndPtsMs:a.ISa,useHeaderCache:a.tL,useHeaderCacheData:a.FP,defaultHeaderCacheSize:a.sP,defaultHeaderCacheDataPrefetchMs:a.JZ,headerCacheMaxPendingData:a.Nja,neverWipeHeaderCache:a.LJ,headerCachePriorityLimit:a.Oja,enableUsingHeaderCount:a.JP,networkFailureResetWaitMs:a.Yma,networkFailureAbandonMs:a.Xma,maxThrottledNetworkFailures:a.p2,throttledNetworkFailureThresholdMs:a.q5,lowThroughputThreshold:a.Xla,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.nha,mp4ParsingInNative:a.BTa,sourceBufferInOrderAppend:a.HZa,requireAudioStreamToEncompassVideo:a.cs,allowAudioToStreamPastVideo:a.fHa,enableManagerDebugTraces:a.ah,managerDebugMessageInterval:a.wSa,managerDebugMessageCount:a.vSa,bufferThresholdToSwitchToSingleConnMs:a.mea,bufferThresholdToSwitchToParallelConnMs:a.lea,netIntrStoreWindow:a.gFb,minNetIntrDuration:a.CEb,fastHistoricBandwidthExpirationTime:a.esb,bandwidthExpirationTime:a.hib,failureExpirationTime:a.bsb,historyTimeOfDayGranularity:a.Kyb,expandDownloadTime:a.Nrb,minimumMeasurementTime:a.NEb,minimumMeasurementBytes:a.MEb,throughputMeasurementTimeout:a.jRb,initThroughputMeasureDataSize:a.Czb,throughputMeasureWindow:a.iRb,throughputIQRMeasureWindow:a.hRb,IQRBucketizerWindow:a.s7a,connectTimeHalflife:a.klb,responseTimeHalflife:a.sMb,historicBandwidthUpdateInterval:a.Jyb,throughputWarmupTime:a.nRb,minimumBufferToStopProbing:a.LEb,throughputPredictor:a.kRb,ase_stream_selector:a.mhb,enableFilters:a.Rqb,filterDefinitionOverrides:a.zsb,defaultFilter:a.Wob,secondaryFilter:a.bNb,defaultFilterDefinitions:a.Xob,initBitrateSelectorAlgorithm:a.yka,bufferingSelectorAlgorithm:a.rea,ase_ls_failure_simulation:a.FKa,ase_dump_fragments:a.Xfa,ase_location_history:a.Zfa,ase_throughput:a.$fa,ase_simulate_verbose:a.HKa,secondThroughputEstimator:a.Npa,secondThroughputMeasureWindowInMs:a.uYa,marginPredictor:a.hma,networkMeasurementGranularity:a.Zma,HistoricalTDigestConfig:a.uwa,maxIQRSamples:a.MSa,minIQRSamples:a.nTa,periodicHistoryPersistMs:a.z3,saveVideoBitrateMs:a.y4,needMinimumNetworkConfidence:a.FR,biasTowardHistoricalThroughput:a.gea,maxFastPlayBufferInMs:a.mma,maxFastPlayBitThreshold:a.lma,headerCacheTruncateHeaderAfterParsing:a.NPa,minAudioMediaRequestDuration:a.CJ,minVideoMediaRequestDuration:a.HJ,minAudioMediaRequestDurationCache:a.CJ,minVideoMediaRequestDurationCache:a.HJ,addHeaderDataToNetworkMonitor:a.xY,useMediaCache:a.TA,mediaCachePartitionConfig:a.yma,diskCacheSizeLimit:a.oz,mediaCachePrefetchMs:a.oR,hindsightDenominator:a.$ja,hindsightDebugDenominator:a.Zja,hindsightParam:a.Z0,minimumTimeBeforeBranchDecision:a.hA,enableSessionHistoryReport:a.IP,earlyStageEstimatePeriod:a.Nga,lateStageEstimatePeriod:a.HRa,maxNumSessionHistoryStored:a.l2,minSessionHistoryDuration:a.H2,appendMediaRequestOnComplete:a.tHa,waitForDrmToAppendMedia:a.AL,forceAppendHeadersAfterDrm:a.M_,startMonitorOnLoadStart:a.Pqa,reportFailedRequestsToNetworkMonitor:a.gpa,reappendRequestsOnSkip:a.rK,maxActiveRequestsPerSession:a.hu,limitAudioDiscountByMaxAudioBitrate:a.Ela,appendFirstHeaderOnComplete:a.Cda,maxAudioFragmentOverlapMs:0,editVideoFragments:a.jI,declareBufferingCompleteAtSegmentEnd:a.bga,applyProfileTimestampOffset:a.Wy,applyProfileStreamingOffset:a.Yj,requireDownloadDataAtBuffering:a.m4,requireSetupConnectionDuringBuffering:a.n4,recordFirstFragmentOnSubBranchCreate:a.Voa,earlyAppendSingleChildBranch:a.d_,selectStartingVMAFMethod:a.HK,activateSelectStartingVMAF:a.pO,minStartingVideoVMAF:a.GJ,minAcceptableVMAF:a.tR,minAllowedVmaf:a.XD,alwaysNotifyEOSForPlaygraph:a.xda,enableNewAse:a.j_,useNewApi:a.Cq,useBufferSizeLimiter:a.csa,enableHudsonFieldTest:a.i_,hudsonTitles:a.yQ,maxPartialBuffersAtHudson:a.pma,numberOfChunksPerSegment:a.NR,targetContentLatency:a.p5,targetLongContentLatency:a.gra,minimumTimeDelay:a.K2,enableWsslEstimate:a.l_,maxAllowedOutstandingRequests:a.j2,minStreamableConcurrencyWindow:a.I2,streamableConcurrencyFactor:a.j5,bufferingConcurrencyWindow:a.RO,singleStreamablePerBranch:a.Eqa,enableResolutionVMAFStreamFilter:a.k_,resolutionVMAFCappingRuleList:a.r4,percentCapTitlesForResolutionVMAFStreamFilter:a.Tna};};},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.OL=void 0;c=a(831);l=a(830);k=a(222);Object.defineProperty(b,"BasePredictor",{enumerable:!0,get:function(){return k.OL;}});b["default"]=function(a,b){switch(a.hma){case "manifold":return new c.oya(a,b);default:return new l.bCa(a,b);}};},function(f,b,a){var c;b=a(847);c=a(397);a=a(845);f.V={STARTING:a.BYa,BUFFERING:b.F4,REBUFFERING:b.F4,PLAYING:c.Eu,PAUSED:c.Eu};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.taa=b.Nq=void 0;c=a(135);(function(a){a[a.bn=0]="pending";a[a.Bpa=1]="running";a[a.complete=2]="complete";a[a.SZ=3]="destroyed";})(l=b.Nq || (b.Nq={}));f=(function(){function a(){this.jc=l.bn;}Object.defineProperties(a.prototype,{state:{get:function(){return this.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ij:{get:function(){return this.gO;},enumerable:!1,configurable:!0}});a.prototype.Ahb=function(a){var b;null === (b=this.gO) || void 0 === b?void 0:b.cpa(this);this.gO=a;};a.prototype.EA=function(){this.jc=l.Bpa;this.Je();this.W2() === c.Mq.lsa && (this.jc=l.complete);};a.prototype.Qb=function(){var a;this.jc=l.SZ;null === (a=this.gO) || void 0 === a?void 0:a.cpa(this);};return a;})();b.taa=f;},function(f,b,a){var k,r,g,p,d,m,t,x;function c(a){return a && "function" === typeof a.Gg?!0:!1;}function l(a){return c(a) && (a=typeof a.nAb,"boolean" === a || "undefined" === a)?!0:!1;}Object.defineProperty(b,"__esModule",{value:!0});b.sr=b.map=b.k4a=b.Srb=b.mAb=b.P2a=b.eB=void 0;k=a(0);r=a(25);g=a(3).Promise;d=(function(){function a(a){var b;b=this;this.ncb=a;this.zN=!1;this.meb=function(a){return b.NJb(a);};this.$Ja();}a.gBb=function(a,b){function d(){var g;g=a.next();g.then(function(d){l(a) && a.nAb || b(d);});g.then(function(a){return !a.done && d();});}d();};Object.defineProperties(a.prototype,{Mw:{get:function(){return this.zN;},enumerable:!1,configurable:!0}});a.ivb=function(){return new m([]);};a.qja=function(){p || (p=g.resolve({done:!0}));return p;};a.m3b=function(){return {done:!0};};Object.defineProperties(a.prototype,{XI:{get:function(){return this.Oq || !1;},enumerable:!1,configurable:!0}});a.prototype.Gg=function(){this.cancel();};a.prototype.cancel=function(){this.zFa();this.Oq=!0;return this.lba;};a.prototype.next=function(){return this.Oq?this.lba:g.race([this.lba,this.ncb()]).then(this.meb);};a.prototype.NJb=function(a){a.done && (this.zN=!0,this.Gg());this.XI || (this.zFa(),this.$Ja());return a;};a.prototype.$Ja=function(){var a;a=this;this.lba=new g(function(b){a.zFa=function(){b({done:!0});};});};return a;})();b.eB=d;m=(function(a){function b(b){var d;d=a.call(this,function(){return d.hwb();}) || this;d.fo=b;d.index=0;return d;}k.__extends(b,a);b.prototype.Gg=function(){c(this.fo) && this.fo.Gg();a.prototype.Gg.call(this);};b.prototype.hwb=function(){return this.fo.length > this.index?g.resolve({value:this.fo[this.index++],done:!1}):g.resolve({done:!0});};return b;})(d);b.P2a=m;b.mAb=c;b.Srb=l;t=(function(a){function b(b,d,g){var c;c=a.call(this,function(){return c.$ma();}) || this;c.console=d;c.Sj=g;c.Coa=!1;Array.isArray(b)?c.NN=new m(b):c.NN=b;return c;}k.__extends(b,a);b.prototype.PJb=function(a){var b;this.Coa=!1;b=this.console;r.sa && b && b.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.LG)return (c(a) && a.Gg(),d.qja());Array.isArray(a)?this.Sj=new m(a):this.Sj=a;return this.$ma();};b.prototype.OJb=function(a){var b;b=this.console;r.sa && b && b.trace("CompoundIterator: processNextInnerResult",this.LG,a.done);if(!a.done || this.LG)return a;this.Sj=void 0;return this.$ma();};b.prototype.Gg=function(){var b;b=this.console;r.sa && b && b.trace("CompoundIterator: dispose");this.LG=!0;a.prototype.Gg.call(this);c(this.NN) && this.NN.Gg();c(this.Sj) && this.Sj.Gg();};b.prototype.toString=function(){return "CompoundIterator " + this.LG + " " + this.NN + " " + this.Sj;};b.prototype.$ma=function(){var a,b;a=this;b=this.console;r.sa && b && b.trace("CompoundIterator: nextImpl");if(this.Sj)return (r.sa && b && b.trace("CompoundIterator: getNextInner"),this.Sj.next().then(function(b){return a.OJb(b);}));this.Coa=!0;r.sa && b && b.trace("CompoundIterator: getNextOuter");return this.NN.next().then(function(b){return a.PJb(b);});};return b;})(d);b.k4a=t;b.map=function(a,b,d){return new x(a,b,d);};x=(function(a){function b(b,d,g){var c;c=a.call(this,function(){return c.Zbb();}) || this;c.source=b;c.gma=d;c.clb=g;return c;}k.__extends(b,a);b.prototype.Gg=function(){c(this.source) && this.source.Gg();a.prototype.Gg.call(this);};b.prototype.Zbb=function(){var a,b,d;a=this.clb;b=this.gma;d=this.source;r.sa && a && a.trace("MappedIterator: Requesting next");return d.next().then(function(a){return a.done?a:b(a.value);});};return b;})(d);b.sr=function(a,b,d){return new t(a,b,d);};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oia=b.wda=void 0;b.wda=function(a,b){var c,k,r;c=b.profile;b=b.u;k=a.ZMb;r=a.$Mb;return a.YMb || Array.isArray(k) && -1 !== k.indexOf(c) || "object" === typeof r && Array.isArray(r[c]) && -1 !== r[c].indexOf("" + b);};b.Oia=function(a,b){return void 0 !== a.DJ?a.DJ:b && void 0 !== b.DJ?b.DJ:100;};},function(f,b,a){var l,k,r,g,p,d,m,t,x;function c(a){var b;b=a.ka;return a.Oa(p.U.Pc(0 > b?Math.ceil(b):Math.floor(b)));}Object.defineProperty(b,"__esModule",{value:!0});b.J6=b.Mo=void 0;l=a(0);f=a(15);k=a(22);r=a(3);g=a(877);p=a(20);d=a(5);m=a(876);t=a(406);x=a(76);b.Mo=c;a=(function(a){function b(b,d,g,c,p,t,k){var r,l;l=a.call(this) || this;l.G=b;l.gg=d;l.If=g;l.Ic=c;l.H=p;l.S=t;l.ng=k;l.gf=l.G.error.bind(l.G);l.kb=l.G.warn.bind(l.G);l.Vj=l.G.trace.bind(l.G);null === (r=c.events) || void 0 === r?void 0:r.addListener("ready",function(){l.ty();});l.H.mFb && (l.Fma=new m.Gya(l.H,l.gg,l.If.Zb,l.G));l.reset();return l;}l.__extends(b,a);Object.defineProperties(b.prototype,{endOfStream:{get:function(){return this.hX;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{UY:{get:function(){return this.Ic?this.Ic.UY:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mUb:{get:function(){return this.Lk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yRa:{get:function(){return this.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{o_a:{get:function(){return ! !this.Ic.trb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{NA:{get:function(){return ! !this.Ic.reset;},enumerable:!1,configurable:!0}});b.prototype.reset=function(a){var b,d,c;this.Jk=!1;a || (this.Lk=[]);this.zX=this.Ah=this.Mba=this.OG=void 0;this.UN=p.U.rb;this.ht=void 0;this.tYa=new g.LBa(this.H,this.G);this.hX=!1;this.YX(p.U.rb);null === (d=(b=this.Ic).reset) || void 0 === d?void 0:d.call(b);null === (c=this.Fma) || void 0 === c?void 0:c.reset();};b.prototype.SMa=function(){this.Mba=!0;};b.prototype.pause=function(){this.Jk=!0;};b.prototype.resume=function(){this.Jk=!1;this.ty();};b.prototype.Fia=function(){var a;return null === (a=this.Ah) || void 0 === a?void 0:a.Vd;};b.prototype.Hhb=function(a){var b;if(this.H.PLa){d.assert(a.Ra);b=a.Ra.Dc;d.assert(void 0 !== a.kc);d.assert(void 0 !== b.Tb);if(a.kc >= b.Tb)return;a.hn !== b.pe && a.eZa(new p.U(b.pe,1E3));}this.Lk.push(a);this.ty();};b.prototype.qs=function(){this.ty();};b.prototype.j4=function(a){a=this.Lk.indexOf(a);-1 !== a && this.Lk.splice(a,1);};b.prototype.hUa=function(a,b){this.H.Cda && b && void 0 === this.Ah && this.DDa(a,0);this.ty();};b.prototype.a3=function(){this.hX || (this.hX=!0,this.ty(),this.o_a || this.Ic.endOfStream());};b.prototype.L4=function(){return JSON.stringify(this.Lk);};b.prototype.YX=function(a){var b;null !== (b=this.Nca) && void 0 !== b && b.equal(a) || (this.Nca=a,this.Ic.EOb(a.tb,a.P));};b.prototype.ty=function(){var a,b,d,g,c,m,p,t;b=this.H;if(this.Lk.length || this.Ah && !this.Ah.Fe)if(!this.Ic || !1 === this.Ic.ready)this.$G("@" + r.time.da() + ", append: not appending, sourceBuffer not ready");else if(!this.Ah || this.Ah.Fe || this.Ah.Kw())if(this.Ah && !this.Ah.Fe || this.Lk.length)if(this.Jk){d=this.Ah && !this.Ah.Fe?this.Ah:this.Lk[0];this.$G("@" + r.time.da() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(d));}else if((!this.Ah || this.Ah.Fe || (this.dEa(this.Ah),this.Ah.Fe)) && this.Lk.length)if((d=this.Lk[0],!d.complete && d.vt))(this.kb("aborted MediaRequest should not appear in the toAppend list"),this.$G("@" + r.time.da() + ", append: removing aborted request from toAppend: " + d.toString()),this.Lk.shift());else {g=d.stream;c=g.O;if(g.bh)if(this.XOb(g,d.index))(this.Mba=!1,this.DDa(g,d.index));else {m=this.S.Nw(c);p=this.hzb(g);if(m || p || !(this.yRa && g.track.t2 || b.AL))if((g=d.ad - this.S.Sd(),!(this.gg === k.Sa.AUDIO && d.Hr && d.Ka && !b.cs && !this.hX && 1 === this.Lk.length && g > b.tTa) || null !== (a=d.KS) && void 0 !== a && a.hRa)){if(b.PLa || b.Wqb)if((a=d.Ra.Dc,m=this.Bpb())){p=a.Aj;t=d.Tb >= m;g=g > b.tTa;if(m < a.Tb && t && g && !p)return;}if(b.MHb && this.ng && (b=this.ng(c.eb)) && !b.yO)this.pause();else {this.Lk.shift();try{this.nab(d);}catch(V){throw (this.G.error(V),V);}}}}}};b.prototype.XOb=function(a,b){var g;if(this.Mba || void 0 === this.OG || a.za !== this.OG.za)return !0;a=a.bh;d.assert(a);g=this.OG.OQa;return g === a.length - 1?!1:b >= a[g + 1].mg;};b.prototype.hzb=function(a){if(0 === a.I || !a.cu)return !0;if(void 0 === this.OG)return !1;a=a.bh;d.assert(a);return !1 === a[this.OG.OQa].gk;};b.prototype.Bpb=function(){throw Error("not supported");};b.prototype.iab=function(a){this.UN=t.aW.LIa(this.H,a.track,this.If.Zb,this.G);};b.prototype.DDa=function(a,b){var d;d=a.bh.reduce(function(a,d,g){return d.mg <= b?g:a;},0);if(this.Ic.appendBuffer(a.bh[d].data,{bc:!0,profile:a.profile,R:a.R,za:a.id}))(this.$G("@" + r.time.da() + ", header appended, streamId: " + a.za),this.OG={za:a.za,OQa:d},this.Deb(a.O.eb || 0,a.za,d),this.iab(a),this.ty());else throw (this.kb("appendHeader error: " + this.Ic.error),this.$G("@" + r.time.da() + ", appendHeader error: " + this.Ic.error),Error("appendHeaderError"));};b.prototype.nab=function(a){var b,d,g,c,m,t;d=a.U3 || p.U.rb;g=a.Ra.Dc.ba;g.pa && Infinity !== g.pa && (d=new p.U(g.pa,1E3).add(d).ph,Infinity === this.If.duration || this.If.duration < d) && (this.If.duration=d);if(this.Fma){d=!0;g=!1;c=p.U.rb;m=void 0 !== a.ks?p.U.Pc(a.ks).add(a.U3):void 0;t=null === (b=this.Lk[1]) || void 0 === b?void 0:b.gn;b=this.Fma.append(a,m,t);this.YX(b);}else (b=this.Ecb(a),d=b.FS,g=b.Kga,c=b.Vda);this.ht && c && (this.ht=this.ht.add(c));this.dEa(a,d,g);};b.prototype.dEa=function(a,b,d){var g,c,m;d=a.CC(this.Ic,this.If.Zb,this.Ah,this.Lk[0],b,d);b=d.status;(d=d.Jo) && this.emit(d.type,d);b !== x.yi.ERROR?(this.Ah=a,b === x.yi.Uu && (void 0 === this.ht || this.gg !== k.Sa.AUDIO || a.gn.equal(this.ht) || (this.yeb(a,this.ht),this.ht=void 0),this.$G("@" + r.time.da() + ", request appended, type: " + a.I + ", streamId: " + a.za + ", pts: " + a.ad + "-" + a.Vd),a.Hr?(this.ht=a.en,this.Ccb=this.Kab(a,this.Nca || p.U.rb),null === (c=(g=this.Ic).trb) || void 0 === c?void 0:c.call(g,a.KS),this.H.Cq && (null === (m=a.KS) || void 0 === m?0:m.hRa) && this.a3()):this.ht=void 0,this.Eeb(a),this.ty())):this.mab(a);};b.prototype.mab=function(a){if(void 0 !== this.Ic.error){if("done" === this.Ic.error)return;this.gf("failure to append queued mediaRequest: " + (a && a.toJSON()) + " err: " + this.Ic.error);throw this.Ic.error;}a=Error("failure to append queued mediaRequest: " + (a && JSON.stringify(a)) + " err: " + this.Ic.error);this.gf(a.message);throw a;};b.prototype.Ecb=function(a){var b,d,g,c,m;d=a.U3 || p.U.rb;if(void 0 === this.zX || d && !d.equal(this.zX)){g=this.UN.add(this.tYa.ov).add(d);this.YX(g);this.zX=d;}c=this.tYa.FS(this.gg,a,this.ht,this.UN,this.zX,this.Ah,this.Lk[0],this.Ccb,this.YX.bind(this),this.Feb.bind(this));d=c.FS;g=c.Kga;c=c.Vda;if(void 0 === this.Ah && !this.H.y2 && a.stream.Hd && this.H.Yj){m=null === (b=a.$g) || void 0 === b?void 0:b.Oa(a.stream.Hd).add(this.Nca);m.lessThan(p.U.rb) && a.BP(Math.ceil(m.$D(-1).Pp(a.stream.xa)));}return {FS:d,Kga:g,Vda:c};};b.prototype.Kab=function(a,b){var d,g;d=a.stream.xa;g=a.no;this.H.Yj && a.stream.Hd && (g=g.Oa(a.stream.Hd));return c(g.Oa(d)).add(c(d)).add(c(b));};b.prototype.Deb=function(a,b,d){a={type:"headerAppended",mediaType:this.gg,manifestIndex:a,streamId:b,isIndex:d};this.emit(a.type,a);};b.prototype.Eeb=function(a){a={type:"requestAppended",mediaType:this.gg,request:a};this.emit(a.type,a);};b.prototype.$G=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};b.prototype.yeb=function(a,b){var d;d=a.kc;a=a.gn.Oa(b).ka;d={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[d,a]}}};this.emit(d.type,d);};b.prototype.Feb=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.ka,minavsyncerror:b.ka}};this.emit(a.type,a);};return b;})(f.EventEmitter);b.J6=a;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.bB=void 0;c=a(0);l=a(5);k=a(22);r=a(3);f=(function(a){function b(b,g,c,p,k){c=a.call(this,c) || this;c.sda=!1;c.MXa=b;c.Xc=p;c.aFa=b.location || g.location;c.dO=b.Gc || g.Rb;c.hqa=b.hqa || g.hqa;c.t5=r.time.da();l.assert(k);c.G=k;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{location:{get:function(){return this.aFa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rb:{get:function(){return this.dO;},enumerable:!1,configurable:!0}});b.prototype.Jb=function(a){this.Ra=a;};b.prototype.T4=function(a,b){this.aFa=a;this.dO=b;};b.prototype.NX=function(a){var b,d,g;b={type:"logdata",target:"endplay",fields:{}};d=this.I === k.Sa.AUDIO?"audioedit":"videoedit";g=[this.yz === this.T?this.Tb:this.kc,this.yz === this.T?-this.duration:this.duration];a && a.xq && g.push(a.xq);b.fields[d]={type:"array",value:g};return b;};b.prototype.GX=function(a,b){this.Xc.rK && (this.dNa=!0,this.DLa=a,this.NDb=b);};b.prototype.M5=function(){var a,b;if(this.complete)return 0;a=this.MXa;b=a.O;return a.url?this.url === a.url || (b.T4(this,a.location,a.Gc),this.sT(a.url))?0:(this.G.warn("swapUrl failed: ",this.sI),2):(this.G.warn("updateurl, missing url for streamId:",a.za,"mediaRequest:",this,"stream:",a),1);};return b;})(a(88).xs);b.bB=f;},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Sx=void 0;a(5);f=(function(){function a(a,b){this.Nc=a;this.oc=b.$;this.ce=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.ce;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Nc.O;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Nc.u;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return this.Nc.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.Nc.za;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Nc.R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Nc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Nc.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JJ:{get:function(){return this.Nc.JJ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xa:{get:function(){return this.Nc.xa;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return {movieId:this.u,streamId:this.za,offset:this.offset,bytes:this.$};};return a;})();b.Sx=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(29);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.M.offset+=8;this.Yjb=this.M.jh();this.NMb=this.M.jh();this.M.offset+=4;this.mYa=this.M.jh();this.M.offset+=2;l.sa && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.Yjb + ", samplesize: " + this.NMb + ", samplerate: " + this.mYa);return b;};b.xc=!1;return b;})(a(235)["default"]);b["default"]=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.km=void 0;c=a(3);l=a(10);f=(function(){function a(a){this.G=new c.Console("ASEJS","media|asejs","(" + a + ")");this.hca=[];}a.prototype.Co=function(a){this.hca[a] || (this.hca[a]=l.Yw(c,this.G,"[" + a + "]"));return this.hca[a];};return a;})();b.km=new f(0);},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Su=void 0;c=a(243);l=a(5);f=(function(){function a(a){this.config=a;this.reset();}a.pf=function(){l.assert(void 0 !== a.ZB);return a.ZB;};a.jlb=function(b){a.ZB=new a(b);};a.E1b=function(){a.ZB=void 0;};a.prototype.push=function(a){this.jj && this.jj.push(a);};a.prototype.cb=function(){if(this.jj)return (this.jj.gw(),this.jj.li([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;}));};a.prototype.reset=function(){this.config.WLa && this.config.A8 && (this.jj=new c.U_b(this.config.A8.c,this.config.A8.maxc));};return a;})();b.Su=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.hBa=b.jW=b.o0=void 0;c=a(57);l=a(2);b.o0=function(a){return a === c.wc.Wh.AUDIO?l.L.aya:l.L.bya;};b.jW=50;b.hBa=1E3;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.PF=void 0;b.PF="ManifestFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.SM=void 0;b.SM="TrackStreamFactorySymbol";},function(f){f.V=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(f,b,a){var c,l,k;c=a(119);l=a(51);k=a(177);f.V=function(a){return function p(b,m,t){switch(arguments.length){case 0:return p;case 1:return k(b)?p:l(function(d,c){return a(b,d,c);});case 2:return k(b) && k(m)?p:k(b)?l(function(b,d){return a(b,m,d);}):k(m)?l(function(d,c){return a(b,d,c);}):c(function(d){return a(b,m,d);});default:return k(b) && k(m) && k(t)?p:k(b) && k(m)?l(function(b,d){return a(b,d,t);}):k(b) && k(t)?l(function(b,d){return a(b,m,d);}):k(m) && k(t)?l(function(d,c){return a(b,d,c);}):k(b)?c(function(b){return a(b,m,t);}):k(m)?c(function(d){return a(b,d,t);}):k(t)?c(function(d){return a(b,m,d);}):a(b,m,t);}};};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.pV=b.u8=b.o8=void 0;b.o8="IDBDatabaseFactorySymbol";b.u8="IndexedDBFactorySymbol";b.pV="IndexedDBStorageFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.p8=b.x9=b.Vya=void 0;b.Vya="NativeLocalStorageSymbol";b.x9="NativeLocalStorageFactorySymbol";b.p8="IDBFactorySymbol";},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.YL=b.o5a=void 0;c=a(32);b.o5a=function(){this.DO=[];this.VA=[];this.Qda=c.Tx.jB;this.X5=c.Ik.jB;};b.YL="DeviceCapabilitiesConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.QM=void 0;b.QM="TimeoutMonitorFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.nDa=b.K9=b.L7=void 0;b.L7="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.K9="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.nDa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";},function(f,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var g in b){b.hasOwnProperty(g) && (a[g]=b[g]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(a){function b(b){a.call(this);this.Aa=b;}c(b,a);b.create=function(a){return new b(a);};b.Ec=function(a){a.Nj.complete();};b.prototype.Dm=function(a){var g;g=this.Aa;if(g)return g.Rc(b.Ec,0,{Nj:a});a.complete();};return b;})(a(23).Bb);b.LU=f;},function(f,b,a){var c,l,k,r,g,p,d,m;c=a(92);l=a(506);k=a(505);r=a(514);g=a(23);p=a(269);d=a(1163);m=a(270);b.n5=function(a,b,f,J){var t;t=new d.exa(a,f,J);if(t.closed)return null;if(b instanceof g.Bb){if(b.xv)(t.next(b.value),t.complete());else return (t.tn=!0,b.subscribe(t));}else if(l.EQa(b)){a=0;for(f=b.length;a < f && !t.closed;a++){t.next(b[a]);}t.closed || t.complete();}else {if(k.MQ(b))return (b.then(function(a){t.closed || (t.next(a),t.complete());},function(a){return t.error(a);}).then(null,function(a){c.root.setTimeout(function(){throw a;});}),t);if(b && "function" === typeof b[p.iterator]){b=b[p.iterator]();do {a=b.next();if(a.done){t.complete();break;}t.next(a.value);if(t.closed)break;}while(1);}else if(b && "function" === typeof b[m.observable]){if((b=b[m.observable](),"function" !== typeof b.subscribe))t.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new d.exa(a,f,J));}else (b="You provided " + (r.bf(b)?"an invalid object":"'" + b + "'") + " where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",t.error(new TypeError(b)));}return null;};},function(f,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var g in b){b.hasOwnProperty(g) && (a[g]=b[g]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(a){function b(){a.apply(this,arguments);}c(b,a);b.prototype.b3=function(a,b){this.destination.next(b);};b.prototype.DFb=function(a){this.destination.error(a);};b.prototype.mu=function(){this.destination.complete();};return b;})(a(69).Ln);b.NV=f;},function(f,b){b.isArray=Array.isArray || (function(a){return a && "number" === typeof a.length;});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q7=b.P7=b.V$=b.W$=void 0;b.W$="ReportSyncSymbol";b.V$="ReportApiErrorSyncSymbol";b.P7="FtlProbeConfigSymbol";b.Q7="FtlProbeSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.RL=void 0;b.RL="CannedChallengeProvider";},function(f){var b;b=(function(){return this;})();try{b=b || Function("return this")() || (0,eval)("this");}catch(a){"object" === typeof O && (b=O);}f.V=b;},function(f){f.V={Tu:{saa:0,yBa:1,Qj:2,name:["transient","semiTransient","permanent"]},Ru:{Rva:0,wBa:1,iW:2,zM:3,gv:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},h0b:{W_b:0,VXb:1,HVb:2,gv:100,name:["trailer","montage","content"]},Is:{nxa:0,iBa:1,Q$a:2,g5a:3,gv:100,name:["left","right","up","down"]},qM:{b4a:0,iW:1,dXb:2,BWb:3,$Ub:4,cXb:5,T2a:6,gv:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},JF:{zM:0,zua:1,gv:100,name:["playFocused","detailsOpened"]}};},function(f,b,a){b=a(264);f.V="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.da:Date.now;},function(f){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},bja:function(){return this.buffer.length - this.position;},yx:function(){return this.buffer[this.position++];},dj:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},Uo:function(a){for(var b=0;a--;){b=256 * b + this.buffer[this.position++];}return b;},Poa:function(a){for(var b="";a--;){b+=String.fromCharCode(this.buffer[this.position++]);}return b;},wg:function(){return this.Uo(2);},Vo:function(){return this.Uo(4);},qK:function(){return this.Uo(8);},zu:function(a){for(var b,l="";a--;){b=this.yx();l+=("0123456789ABCDEF")[b >>> 4] + ("0123456789ABCDEF")[b & 15];}return l;},Qoa:function(a){for(var b=0,l=0;l < a;l++){b+=this.yx() << (l << 3);}return b;},pK:function(){return this.Qoa(4);},f6:function(a){this.buffer[this.position++]=a;},Z1a:function(a,b){this.position+=b;for(var c=1;c <= b;c++){this.buffer[this.position - c]=a & 255;a=Math.floor(a / 256);}},psa:function(a){for(var b=a.length,l=0;l < b;l++){this.buffer[this.position++]=a[l];}},EL:function(a,b){this.psa(a.dj(b));}};f.V=b;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.IM=void 0;b.IM="PlaygraphHelperSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.kp=void 0;f=b.kp || (b.kp={});f[f.$ya=0]="None";f[f.Wva=1]="Fetching";f[f.n7=2]="Done";f[f.Error=3]="Error";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ei=void 0;f=b.Ei || (b.Ei={});f[f.JZa=1]="sourceopen";f[f.Np=2]="currentTimeChanged";f[f.IS=3]="seeked";f[f.H4b=4]="needlicense";f[f.NRa=5]="licenseadded";f[f.IZa=6]="sourceBuffersAdded";f[f.Cna=7]="onNeedKey";},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.uKa=b.$la=void 0;c=a(18);l=a(24);k=a(16);(function(){var g,p,d;function a(a){c.Ya(void 0 !== g[a]);return g[a];}g={'"':'""',"\r":"","\n":" "};p=/["\r\n]/g;d=/[", ]/;b.uKa=function(b){return k.ec(b)?k.oa(b)?b:k.Td(b)?b.replace(p,a):k.Jka(b)?b:isNaN(b)?"NaN":"":"";};b.$la=function(a){var g,c;g=b.uKa;c="";l.Dd(a,function(a,b){a=g(a) + "=" + g(b);d.test(a) && (a='"' + a + '"');c=c?c + ("," + a):a;});return c;};})();},function(f,b,a){var l,k,r;function c(a,b){this.dt=b?[b]:[];this.Pba="$op$" + r++;this.o=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Uc=void 0;l=a(11);k=a(18);r=0;c.prototype.addListener=function(a,b){var d;d=this;k.Wfa(a);k.Ya(0 > this.dt.indexOf(a));a[l.LV + this.Pba]=b;this.dt=this.dt.slice();this.dt.push(a);this.dt.sort(function(a,b){return d.FPb(a,b);});};c.prototype.removeListener=function(a){var b;k.Wfa(a);this.dt=this.dt.slice();0 <= (b=this.dt.indexOf(a)) && this.dt.splice(b,1);};c.prototype.set=function(a,b){if(this.o !== a){b={oldValue:this.o,newValue:a,kz:b};this.o=a;a=this.dt;for(var d=a.length,g=0;g < d;g++){a[g](b);}}};c.prototype.when=function(a){var b;b=this;return new Promise(function(d){function g(c){if(a(c.newValue))return (b.removeListener(g),d(c.newValue));}if(a(b.o))return d(b.o);b.addListener(g);});};c.prototype.FPb=function(a,b){return (a[l.LV + this.Pba] || 0) - (b[l.LV + this.Pba] || 0);};ma.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});b.Uc=c;},function(f,b,a){var l,k,r,g,p,d,m,t,x,A,J,E;function c(a,b,d,c,t){var f,x;f=this;this.j=a;this.type=b;this.EDa=c;this.log=t;this.uX=new g.Uc(!1);this.WB={data:[],state:"",operation:""};this.BJ=this.rMa((this.type === l.wc.Sa.VIDEO?this.j.Mg.value:this.j.ud.value).tc);this.Tq=new p.oj();this.dca={Type:this.type};r.config.Wz && (x=!0,this.Gha=new g.Uc(!1));this.log.trace("Adding source buffer",this.dca,{TypeId:this.BJ});this.Ic=d.addSourceBuffer(this.BJ);this.Ic.addEventListener("updatestart",function(){f.WB.state="updatestart";});this.Ic.addEventListener("update",function(){f.WB.state="update";});this.Ic.addEventListener("updateend",function(){var a;f.uX.set(!1);f.ODa && f.ODa();f.WB.state="updateend";a=0;try{a=f.Ic.buffered.length;}catch(W){}x && a && (x=!1,f.Gha.set(!0));});this.Ic.addEventListener("error",function(b){var d;try{d=b.target.error && b.target.error.message;(b.message || d) && t.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(ea){}a.vd(m.K.r9a,k.o0(f.type));});this.Ic.addEventListener("abort",function(){});a.addEventListener(A.W.closed,function(){f.Ic=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.h9=void 0;l=a(57);k=a(174);r=a(12);g=a(198);p=a(65);d=a(7);a(89);m=a(2);a(4);t=a(18);x=a(16);A=a(13);J=a(121);E=a(155);c.prototype.Lh=function(){return this.uX.value;};c.prototype.updating=function(){return this.Ic?this.Ic.updating:!1;};c.prototype.P4=function(a){this.ODa=a;};c.prototype.k0=function(){return this.WB;};c.prototype.buffered=function(){return this.Ic.buffered;};c.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};c.prototype.toJSON=function(){return {type:this.type};};c.prototype.g0=function(){var a,b,d,g,c,m,p;try{a=this.Ic.buffered;c=0;if(a)for((b=[],d=0,g=a.length,d=0);d < g;d++){m=a.start(d);p=a.end(d);c=c + (p - m);t.Ya(p > m);b.push(m + "-" + p);}if(b)return {Buffered:c.toFixed(3),Ranges:b.join("|")};}catch(V){}};c.prototype.sHa=function(a,b){try{t.Ya(this.Ic.buffered && 1 >= this.Ic.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.g0()));}catch(C){}t.Ya(!this.Lh());this.rZa("append",a);b=b && b.hn / 1E3;x.oa(b) && this.Ic.timestampOffset !== b && (this.Ic.timestampOffset=b);this.Ic.appendBuffer(a);this.uX.set(!0);};c.prototype.remove=function(a,b){t.Ya(!this.Lh());try{this.rZa("remove");this.Ic.remove(a,b);this.uX.set(!0);}catch(C){this.log.error("SourceBuffer remove exception",C,this.dca);}};c.prototype.rZa=function(a,b){this.WB.data=b || [];this.WB.state="init";this.WB.operation=a;};c.prototype.EOb=function(a,b){this.JBb=Math.floor(1E3 * a / b);};c.prototype.Wjb=function(a){var b;if(this.Ic){if((a=this.rMa([{type:this.rlb,jg:a}]),a !== this.BJ)){b=this.BJ;this.log.info("Changing SourceBuffer mime-type from: " + this.BJ + " to: " + a);try{if(this.Ic.changeType)(this.Ic.changeType(a),this.BJ=a);else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(C){throw (this.log.error("Error changing SourceBuffer type",C,this.dca,{From:b,To:a}),C);}}}else this.log.info("No SourceBuffer");};c.prototype.appendBuffer=function(a,b){!b || b.bc?this.Dda(a,b):this.GY(a,b);return !0;};c.prototype.Dda=function(a,b){this.j.ji.Dda(this,a,b || ({}));};c.prototype.GY=function(a,b){this.j.ji.GY(this.mlb(a,b));};c.prototype.mlb=function(a,b){var d;d=this.JBb || 0;return {hJa:function(){this.response=void 0;},jk:function(){return this.requestId;},constructor:{name:"MediaRequest"},I:this.I,readyState:E.Wb.Ac.DONE,xx:b.T,wu:b.T + b.duration,pw:b.duration,hn:d,ei:b.ei,Ba:b.Ba,za:b.za,Rb:+b.Rb,location:b.location,zH:b.offset,yH:b.offset + b.$ - 1,R:b.R,response:a,APa:a && 0 < a.byteLength,Rz:!0,get bc() {return !this.Rz;},AYa:this.Ii - d || Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.Ba,isHeader:this.bc,ptsStart:this.xx,ptsOffset:this.hn,responseType:this.K0b,duration:this.pw,readystate:this.Dg};this.stream && (a.bitrate=this.stream.R);return JSON.stringify(a);}};};c.prototype.endOfStream=function(){var a;this.j.yp("EndOfStream");null === (a=this.j.ji) || void 0 === a?void 0:a.a3(this.I);};c.prototype.addEventListener=function(a,b,d){this.Tq.addListener(a,b,d);};c.prototype.removeEventListener=function(a,b){this.Tq.removeListener(a,b);};c.prototype.rMa=function(a){var b;b=d.ga.get(J.NB);return this.type === l.wc.Sa.VIDEO?b.mP(a):b.iP(a);};ma.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.type;}},UY:{configurable:!0,enumerable:!0,get:function(){return this.EDa.UY;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.EDa.sourceId;}},rlb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.h9=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.QV=void 0;b.QV="PboBindCommandSymbol";},function(f,b,a){var l,k,r,g,p,d,m,t,x,A,J,E,h,D,C,T,P;function c(a,b){var c;function d(a){return a && 0 < a.length && a[0].Vz;}c=g.ga.get(J.LF);return a.ea && d(a.gc)?c.release(Object.assign(Object.assign({},b),{ea:a.ea,gc:a.gc})):b.ea && d(b.gc)?c.release(b):Promise.resolve(l.Md);}Object.defineProperty(b,"__esModule",{value:!0});b.lXa=b.qua=void 0;l=a(11);k=a(12);r=a(48);g=a(7);p=a(18);d=a(519);m=a(2);t=a(67);x=a(58);A=a(16);J=a(159);E=a(158);h=a(13);D=a(74);C=a(73);T=a(200);P=a(33);f=(function(){function a(a){var b;b=this;this.j=a;this.XHa=this.ORa=!1;this.log=g.Ig(this.j,"Playback");this.mJ=g.ga.get(J.LF);this.aj=g.ga.get(D.Ns);this.mc=g.ga.get(C.Us);this.PHb=g.ga.get(T.QV);this.j.addEventListener(h.W.nJ,function(){return b.kTb();});p.Ya(k.config);k.config.xn || (this.sqb=g.ga.get(d.q7));}a.prototype.IO=function(a){var g,c,t;function b(){g.j.HYa().then(d)["catch"](a);}function d(b){try{g.j.sWa(b);a(l.Md);g.Tsb();}catch(ia){g.log.error("Exception processing authorization response",ia);a({ia:!1,ja:m.L.x9a});}}g=this;p.XH(this.j.u);p.XH(this.j.vi);c=this.j.qa;if(c){t=c.Oc.oha;t?(t-=r.$ea(),18E5 < t?x.Ec(function(){d(c);g.j.Zv="ui";}):(this.log.error("manifest is expired",{gap:t}),b())):x.Ec(function(){d(c);g.j.Zv="ui";});}else k.config.Vr?(t=this.mc.wr(this.j.u,"manifest")) && t.then(function(a){d(a);g.j.Zv="videopreparer";})["catch"](function(a){g.log.warn("manifest not in cache",a);b();}):b();};a.prototype.Gia=function(a){var b;b=this;return new Promise(function(d,c){var m,p,k;m=t.om.WJa(a.Xi);p=a.Qi.map(function(a){return {sessionId:a.sessionId,dataBase64:g.Tv(a.data)};});k=b.j.xwb(a.Qi[0].sessionId);m={ug:k.ug,Xi:A.is.Fm(a.Xi)?a.Xi:m,a_:[k.Sk],Qi:p,ea:k.ea,Pt:a.Pt,Yi:k.qa.Yi};b.j.gP && b.j.gP.pZ && (m.nR=b.j.gP.pZ);b.mJ.Kv(m).then(function(a){b.j.gc=a.gc;d(a);b.Usb(k);})["catch"](c);});};a.prototype.release=function(a){return c(this.j,a);};a.prototype.aKa=function(){var a;a=this.sqb.create();this.j.Rd && (a.he=this.j.Rd.yw());a.gc=this.j.gc;a.ea=this.j.ea;a.u=this.j.u;return a;};a.prototype.Usb=function(a){this.ORa || (this.ORa=!0,this.j.fireEvent(h.W.nJ,{u:a.u}));};a.prototype.Tsb=function(){var a;a=this;this.XHa || (this.XHa=!0,this.j.fireEvent(h.W.Yhb),g.ga.get(E.DM)().then(function(b){b.fT(a.j);}));};a.prototype.kTb=function(){var b,d;b=this;d=g.ga.get(P.rj);this.aj.E1 || a.f1a || (a.f1a=!0,d.ITb && k.config.jTb && this.PHb.Je(this.log,{}).then(function(){return b.log.trace("Updated NetflixId");})["catch"](function(a){return b.log.error("NetflixId upgrade failed",m.Iq(a));}));};a.f1a=!1;return a;})();b.qua=f;b.lXa=c;},function(f,b,a){var r,g,p,d,m,t,x,A,J,E,h,D,C,T;function c(a,b){var E;function d(b){return r.lXa(a,b);}function c(){var a,b,g,c;b=t.gi("Eme");g=t.ga.get(m.Os);g.Xu && g.Wu || (a=t.ga.get(C.GM)(),g.Xu=a.Cb,g.Wu=a.request);a=new g.Wu(b,void 0,d,{Vl:!1,JQ:!1});c=t.ga.get(A.NB);return g.Xu(b,"cenc",void 0,{Vl:!1,JQ:!1,bRa:p.config.Kj,zYa:{gTa:p.config.gNb,YIa:p.config.Ppa,x6b:p.config.fNb},CA:a,wWa:p.config.Foa,mF:p.config.Qga,j5b:p.config.hNb,NHa:c.iP([]),B1a:c.mP([]),RI:p.config.RI});}function f(){function a(a,b){var g,m;g=t.ga.get(T.HU);if(!b.gc || 0 === b.gc.length || !b.gc[0].Vz)return (E.error("releaseDrmSession exception: missing valid keySessionData"),l(a,b));if(0 < b.gc.length){E.info("Sending the deferred playdata and secure stop data");m=c();return m.create(p.config.he).then(function(){return m.b2b(b);}).then(function(d){E.info("Sent the deferred playdata and secure stop data");g.J4(d,b);return l(a,b);})["catch"](function(d){d && d.code === x.K.Z9a && l(a,b);d && d.code === x.K.Y9a && l(a,b);E.error("Unable to send last stop",d);g.J4(d,b);throw d;});}E.info("No key session so just send the playdata");return d(b).then(function(){E.trace("Successfully sent stop command for previous session");return l(a,b);})["catch"](function(a){E.error("Unable to send stop command for previous session",a);throw a;});}k(E).then(function(d){var c;c=d.b_.filter(function(a){return !1 === a.active;}).map(function(b){return a(d,b);});Promise.all(c).then(function(){E.info("release drm session completed for " + c.length + " entries");b(g.Md);})["catch"](function(a){a=a || ({});a.DrmCacheSize=c.length;E.error("Unable to release one or more DRM session data",a);b(g.Md);});})["catch"](function(a){E.error("Unable to load DRM session data",a);b(g.Md);});}E=t.gi("PlayDataManager");b=b || g.Af;p.config.xn?b(g.Md):f();}function l(a,b){return a?a.bpa(b):Promise.resolve();}function k(a){var d;if(!b.Hga){d=t.ga.get(J.vU);b.Hga=new Promise(function(b,g){d.PWa().then(function(){b(d);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);g(b);});});}return b.Hga;}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=b.hAa=b.Hga=void 0;r=a(201);g=a(11);p=a(12);d=a(55);m=a(33);t=a(7);x=a(2);A=a(121);J=a(274);E=a(158);h=a(13);D=a(49);f=a(28);C=a(277);T=a(273);b.hAa=function(a){var f,x,A,J,L,T;function b(){x || (a.od("pdsb"),x=t.ga.get(E.DM)().then(function(b){J=b;a.od("pdsc");return b;})["catch"](function(b){f.error("Unable to initialize the playdata services",b);a.od("pdse");throw b;}));return x;}function r(){A=!0;J && J.close();d.Qe.removeListener(d.Sl,r);}f=t.Ig(a,"PlayDataManager");A=!1;L=t.ga.get(m.Os);if(!L.Xu || !L.Wu){T=t.ga.get(C.GM)();L.Xu=T.Cb;L.Wu=T.request;}a.od("pdctor");a.addEventListener(h.W.Jf,function(){d.Qe.removeListener(d.Sl,r);});a.addEventListener(h.W.nJ,function(){var b;if(!p.config.xn && a.Rd){b=a.fP.aKa();k(f).then(function(a){return a.FGa(b);})["catch"](function(){f.error("Unable to load/add cached DRM data");});}});a.addEventListener(h.W.Jf,function(){var d;if(!A){a.lUb();d=[(function(){return p.config.xn || !a.Rd?Promise.resolve():new Promise(function(b){var d;f.info("Sending the expedited playdata and secure stop data");d=a.fP.aKa();a.Rd.H2b(d).then(function(b){f.info("Sent the expedited playdata and secure stop data");p.config.Kj && a.gq.B4({success:b.ia,persisted:!1,ss_km:b.iEb,ss_sr:b.N4,ss_ka:b.Wkb});return k(f);}).then(function(a){return l(a,d);}).then(function(){b();})["catch"](function(d){f.error("Unable to send the expedited playdata and secure stop data",d);p.config.Kj && a.gq.B4({success:d.ia,state:d.state,ErrorCode:d.code,ErrorSubCode:d.ld,ErrorExternalCode:d.Hg,ErrorEdgeCode:d.iI,ErrorDetails:d.cause && d.cause.ub});b();});});})(),(function(){return b().then(function(b){return b.ZZa(a.ha);}).then(function(){f.info("Sent the playdata");})["catch"](function(a){f.error("Unable to send the playdata",a);});})(),(function(){return new Promise(function(a){t.ga.get(D.wl).flush(!1)["catch"](function(){f.error("Unable to send logblob");a();}).then(function(){a();});});})()];Promise.all(d).then(function(){a.Z2();})["catch"](function(){a.Z2();});}});d.Qe.addListener(d.Sl,r);return {ANb:function(d){a.od("pdpb");p.config.I4 || b().then(function(b){return b.send(a.u);}).then(function(){p.config.xn?(a.od("pdpc"),d(g.Md)):c(a,function(){a.od("pdpc");d(g.Md);});})["catch"](function(){a.od("pdpe");d(g.Md);});}};};b.iAa=function(){return new Promise(function(a){c({},function(b){a(b);});});};t.ga.get(f.Sf).register(x.K.Zx,function(a){a(g.Md);});},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,A;Object.defineProperty(b,"__esModule",{value:!0});b.UE=void 0;c=a(11);l=a(12);k=a(55);r=a(48);g=a(2);p=a(18);d=a(7);m=a(24);t=a(9);x=a(153);A=a(16);f=a(28);d.ga.get(f.Sf).register(g.K.Nwa,function(a){var D,h,T;function f(){var a;f=c.Af;a=setInterval(J,l.config.ACb);k.Qe.addListener(k.Sl,function(b){b && b.isPopStateEvent?D.trace("popstate event, Lock timers can stay"):(m.Dd(h,function(a,b){localStorage.removeItem(b.fq);}),clearInterval(a));},c.EB);}function J(){var a;a=r.iZ();m.Dd(h,function(b,d){b=localStorage.getItem(d.fq);(b=JSON.parse(b))?b.updated=a:b={updated:a,sessionId:T,count:1};localStorage.setItem(d.fq,JSON.stringify(b));});}p.Ya(x.storage);D=d.gi("StorageLock");h={};T=Date.now() + "-" + Math.floor(1E6 * Math.random());b.UE={Kv:function(a,b,d){var k,x,E,J,L,C,P,n,R,q;function p(a){localStorage.setItem(E,JSON.stringify(a));a={fq:E};h[E]=a;D.trace("Lock acquired",{Name:a.fq});f();b({ia:!0,d2:a});}d=void 0 === d?!1:d;k=this;if(localStorage){x=r.iZ();E="lock-" + a;J={updated:x,sessionId:T,count:1};try{if((E in localStorage)){L=localStorage.getItem(E);C=0;P=JSON.parse(L);A.Ow(P.updated) && (C=P.updated);n=t.vB(x - C) * c.Pj;R=T === P.sessionId;if(n < l.config.XRa){if(R)(P.count+=1,D.debug("Incremented lock count for existing playbackSession",{id:T,count:P.count}),P.updated=x,p(P));else if(d){q=l.config.XRa - n + c.Pj;D.error("Waiting until current expiration to confirm whether lock is still active",{id:T,count:P.count,Epoch:x,LockEpoch:C,waitTimeoutMs:q});O.setTimeout(function(){return k.Kv(a,b,!1);},q);}else b({ia:!1});}else (D.error("Lock was expired or invalid, ignoring",{Epoch:x,LockEpoch:C}),p(J));}else p(J);}catch(Ba){D.error("Error acquiring Lock",{errorSubCode:g.L.vh,errorDetails:m.Ye(Ba)});b({ia:!0});}}else (t.Hla?D.error("Local storage access exception",{errorSubCode:g.L.n$a,errorDetails:m.Ye(t.Hla)}):D.error("No localstorage",{errorSubCode:g.L.o$a}),b({ia:!0}));},release:function(a,b){var d,g;p.Ya(h[a.fq] == a);if(localStorage){try{d=localStorage.getItem(a.fq);g=JSON.parse(d);1 < g.count?(--g.count,localStorage.setItem(a.fq,JSON.stringify(g)),D.trace("Lock count decremented",{Name:a.fq,count:g.count})):(localStorage.removeItem(a.fq),delete h[a.fq],D.trace("Lock released",{Name:a.fq}));}catch(W){D.error("Unable to release Lock",{Name:a.fq},W);}b && b(c.Md);}}};l.config.n_?b.UE.Kv("session",function(d){b.UE.TYa=d;a(c.Md);}):a(c.Md);});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.XV=void 0;b.XV="PlayPredictionDeserializerSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.VQ=void 0;b.VQ=function(a,b,l){var c;if(l.set)throw Error("Property " + b + " has a setter and cannot be made into a lazy property.");c=l.get;l.get=function(){var k,g;k=c.apply(this,arguments);g={enumerable:l.enumerable,value:k};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,b,g):Object.defineProperty(this,b,g);return k;};};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.S8=void 0;b.S8=(function(){function a(){}a.I4a="display";a.X3a="console";a.OZb="remote";a.l0b="writer";return a;})();},function(f,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xU=void 0;l=a(9);c.zfa=function(a){var b;if(l.Ce.queryCommandSupported && l.Ce.queryCommandSupported("copy")){b=l.Ce.createElement("textarea");b.textContent=a;b.style.position="fixed";l.Ce.body.appendChild(b);b.select();try{l.Ce.execCommand("copy");}catch(g){console.warn("Copy to clipboard failed.",g);}finally{l.Ce.body.removeChild(b);}}};b.xU=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.d$=b.c$=b.f$=void 0;b.f$="PboPlaydataValidatorSymbol";b.c$="PboPlaydataArrayValidatorSymbol";b.d$="PboPlaydataCollectionValidatorSymbol";},function(f,b,a){var r,g,p,d,m,t,x;function c(){}function l(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.Yza=b.UV=void 0;r=a(0);g=a(1);p=a(37);d=a(4);m=a(14);t=a(19);x=a(94);k.prototype.encode=function(a){return {downloadableId:a.wd,duration:a.duration};};k.prototype.decode=function(a){return {wd:a.downloadableId,duration:a.duration};};l.prototype.encode=function(a){return {total:a.total,totalContentTime:a.fF,audio:a.audio.map(new k().encode),video:a.video.map(new k().encode),text:a.text.map(new k().encode)};};l.prototype.decode=function(a){var b;return {total:a.total,fF:null !== (b=a.totalContentTime) && void 0 !== b?b:a.total,audio:a.audio.map(new k().decode),video:a.video.map(new k().decode),text:a.text.map(new k().decode)};};c.prototype.encode=function(a){return {type:a.type,href:a.href,xid:a.ea,movieId:a.u,position:a.position,clientTime:a.$O,sessionStartTime:a.PS,mediaId:a.xJ,playTimes:new l().encode(a.$R),trackId:a.jb,sessionId:a.sessionId,appId:a.xO,sessionParams:a.gm,mdxControllerEsn:a.xma,profileId:a.profileId};};c.prototype.decode=function(a){return {type:a.type,href:a.href,ea:a.xid,u:a.movieId,position:a.position,$O:a.clientTime,PS:a.sessionStartTime,xJ:a.mediaId,$R:new l().decode(a.playTimes),jb:a.trackId,sessionId:a.sessionId,xO:a.appId,gm:a.sessionParams,xma:a.mdxControllerEsn,profileId:a.profileId};};b.UV=c;f=(function(){var b;function a(a,b,d,g){this.Fa=a;this.J0=b;this.wa=d;this.profile=g;}a.prototype.create=function(a){return {href:a.qa && a.qa.Yi?a.qa.Yi.fQ("events").href:"",type:"online",ea:a.ea.toString(),u:a.u,position:a.Rfa || 0,$O:this.Fa.M4.aa(d.fa),PS:a.UI?a.UI.aa(d.fa):-1,xJ:this.Nub(a),$R:this.vwb(a),jb:void 0 !== a.vi?a.vi.toString():"",sessionId:this.J0().sessionId || this.wa.id,xO:this.J0().xO || this.wa.id,gm:a.Ta.gm || ({}),profileId:this.profile};};a.prototype.Bnb=function(a,b){return Object.assign({},this.create(a),{xma:b && b.pZ});};a.prototype.load=function(a){return new c().decode(a);};a.prototype.Nub=function(a){var b,d,g;b=a.ud.value;d=a.Mg.value;g=a.Hc.value;return b && d && g?(a=a.qa.Oc.media.find(function(a){return a.Th.AUDIO === b.jb && a.Th.VIDEO === d.jb && a.Th.raa === g.jb;}))?a.id:"":"";};a.prototype.Wia=function(a){return a.map(function(a){return {wd:a.downloadableId,duration:a.duration};});};a.prototype.vwb=function(a){return (a=a.dn)?(a=a.uwb(),{total:a.total,fF:a.totalContentTime,audio:this.Wia(a.audio),video:this.Wia(a.video),text:this.Wia(a.timedtext)}):{total:0,fF:0,video:[],audio:[],text:[]};};b=a;return b=r.__decorate([g.N(),r.__param(0,g.l(p.th)),r.__param(1,g.l(m.Jc)),r.__param(2,g.l(t.qd)),r.__param(3,g.l(x.eG))],b);})();b.Yza=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.SV=void 0;b.SV="PboLicenseResponseTransformerSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});f=(function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.bja=function(){return this.buffer.length - this.position;};a.prototype.yx=function(){return this.buffer[this.position++];};a.prototype.dj=function(a){var b;b=this.position;this.position+=a;return this.ZAb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.ZAb=function(a){return void 0 !== a.subarray;};a.prototype.Uo=function(a){for(var b=0;a--;){b=256 * b + this.buffer[this.position++];}return b;};a.prototype.Poa=function(a){for(var b="";a--;){b+=String.fromCharCode(this.buffer[this.position++]);}return b;};a.prototype.wg=function(){return this.Uo(2);};a.prototype.Vo=function(){return this.Uo(4);};a.prototype.qK=function(){return this.Uo(8);};a.prototype.zu=function(a){for(var b,c="";a--;){b=this.yx();c+=("0123456789ABCDEF")[b >>> 4] + ("0123456789ABCDEF")[b & 15];}return c;};a.prototype.Qoa=function(a){for(var b=0,c=0;c < a;c++){b+=this.yx() << (c << 3);}return b;};a.prototype.pK=function(){return this.Qoa(4);};a.prototype.f6=function(a){this.buffer[this.position++]=a;};a.prototype.Z1a=function(a,b){this.position+=b;for(var c=1;c <= b;c++){this.buffer[this.position - c]=a & 255;a=Math.floor(a / 256);}};a.prototype.psa=function(a){for(var b=a.length,c=0;c < b;c++){this.buffer[this.position++]=a[c];}};a.prototype.EL=function(a,b){this.psa(a.dj(b));};a.prototype.Y1a=function(b){b=new a(b);for(var c,k;;){if((c=b.bja(),k=c >>> 14))(k=Math.min(4,k),this.f6(192 | k),this.EL(b,16384 * k));else {128 > c?this.f6(c):this.Z1a(c | 32768,2);this.EL(b,c);break;}}};a.prototype.LWa=function(){var k;for(var b=[],l=new a(b);;){k=this.yx();if(k & 128){if(128 == (k & 192))(k&=63,k=(k << 8) + this.yx(),l.EL(this,k));else if((k&=63,0 < k && 4 >= k)){l.EL(this,16384 * k);continue;}else throw Error("bad asn1");}else l.EL(this,k);break;}return new Uint8Array(b);};return a;})();b.DU=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.wM=void 0;b.wM="NetworkMonitorFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.P8=b.O8=void 0;b.O8="LogMessageRulerConfigSymbol";b.P8="LogMessageRulerSymbol";},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.ssa=void 0;c=a(7);l=a(2);k=a(372);r=a(371);g=a(58);b.ssa=function(a,b){var d,p;try{d=k.a2a(a);}catch(x){c.log.error("xml2xmlDoc exception",x);}g.Ec(function(){if(d && d.documentElement)try{p=r.b2a(d);}catch(x){c.log.error("xmlDoc2js exception",x);}g.Ec(function(){p?b({ia:!0,object:p}):b({ia:!1,ja:l.L.Sva});});});};},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.aVa=b.$Ua=b.r3=b.Jna=b.bVa=b.dVa=b.cVa=b.eVa=b.s3=b.fVa=b.gVa=b.ZUa=void 0;c=a(18);l=a(26);k=a(11);r=a(134);g=a(9);p=a(16);d=a(24);b.ZUa=(function(){var ha,Y,u,ia,oa,qa,Aa,I,Ba,va,Da,N;function a(a){if(l.Pw(a)){a=a.toLowerCase();if("#" == a[0]){if(7 == a.length)return a;if(4 == a.length)return "#" + a[1] + a[1] + a[2] + a[2] + a[3] + a[3];}return b.eVa[a];}}function t(a,b,d){b=b[a];0 <= b || (b=parseFloat(a));if(0 <= b)return g.En(b,d);}function f(a,b){var d,g;d=a.length;g=a[d - 1];if("t" === g)return parseFloat(a) * b | 0;if("s" === g)return "m" === a[d - 2]?parseFloat(a) | 0:parseFloat(a) * k.Pj | 0;if((a=a.match(Ba)) && 4 <= a.length)return (3600 * parseInt(a[1],10) + 60 * parseInt(a[2],10) + parseFloat(a[3])) * k.Pj | 0;throw Error("dfxp-badtime");}function A(a,b,d,g,c){var m,p,t,k,r,l,f,x;m=void 0;if(a){p=a.style;d=p?d[p]:void 0;g=(p=a.region)?g[p]:void 0;p=c.length;for(t=0;t < p;t++){if((k=c[t],r=a[k],void 0 === r && d && (r=d[k]),void 0 === r && g && (r=g[k]),void 0 !== r && r !== b[k])){if(!m)for((m={},l=0);l < p;l++){f=c[l];x=b[f];void 0 !== x && (m[f]=x);}m[k]=r;}}}return m || b;}function J(a,b,d,g,c,m,p,t,k){var x,E;function f(a,D,J){var h,L,T,P,n,R;h=a[r.lj];L=h.style || D.style || "";T=h.region || D.region || "";L || T?(P=L + "/" + T,n=d[P]):n=b;if(!n){n=b;R=l.SK(g);l.Eb(R,c[L]);n=C(n,R,p,t,k);d[L + "/"]=n;T && (l.Eb(R,m[T]),l.Eb(R,c[L]),n=C(n,R,p,t,k),d[P]=n);}if(!J)a:{for(J=qa.length;J--;){if(void 0 !== h[qa[J]]){J=!0;break a;}}J=void 0;}J && (h=A(h,D,c,m,Aa),n=C(n,h,p,t,k));D=(a=a[r.FL]) && a.length;for(L=0;L < D;L++){T=a[L];l.bf(T)?va.test(T[r.GL])?E++:f(T,h,J):(x.push({text:T,lineBreaks:E,style:n}),E=0);}}x=[];E=0;f(a,g,!1);0 < E && x.push({text:"",lineBreaks:E,style:b});return x;}function E(a,b,d,g,c,m,p,t){var k,r;d && (d=Y[d] || "top",a.verticalAlignment !== d && (a.verticalAlignment=d));g && (d=u[g] || "left",a.horizontalAlignment !== d && (a.horizontalAlignment=d));c?((r=t[c])?(g=r.marginLeft,d=r.marginTop):(k=c.split(" "),g=n(k[0],p.x) || 0,d=n(k[1],p.y) || 0,r={uo:0,marginLeft:g,marginTop:d,Ggb:g * b.Cja + b.sQ,Igb:d * b.gsa + b.U5},30 > t.uo && (t.uo++,t[c]=r)),a.marginLeft=r.Ggb,a.marginTop=r.Igb):(d=g=0,(r=t["default"]) || (t["default"]=r={uo:0}));m && (c=r[m],c || (k=m.split(" "),c={Hgb:(1 - (g + (n(k[0],p.x) || 0))) * b.Cja + b.sQ,Fgb:(1 - (d + (n(k[1],p.y) || 0))) * b.gsa + b.U5},30 > r.uo && (r.uo++,r[m]=c)),a.marginRight=c.Hgb,a.marginBottom=c.Fgb);}function h(a,b,d,g,c){var m,p,t;m=a.displayAlign;p=a.textAlign;t=a.origin;a=a.extent;d=l.SK(d);E(d,b,m,p,t,a,g,c);d.id=ha++;return d;}function D(d,g,c,m){var p,k,r,f,x,A;p=t(c.characterSize || g.characterSize,b.fVa,2) || 1;k=(k=d.fontSize) && Da.test(k)?l.Fn(l.Ud(k),25,200):void 0;p*=k / 100 || 1;k=d.textOutline;if(k && "none" != k){f=k.split(" ");N.test(f)?(A=0,x=d.color):(A=1,x=a(f[0]));r=P(f[A]);f=P(f[A + 1]);}return {characterStyle:c.characterStyle || b.gVa[d.fontFamily] || g.characterStyle,characterSize:p * m,characterColor:a(c.characterColor || d.color || g.characterColor),characterOpacity:t(l.jZ(c.characterOpacity,d.opacity,g.characterOpacity),b.s3,1),characterEdgeAttributes:c.characterEdgeAttributes || k && ("none" === k?b.cVa:f?b.r3:b.Jna) || g.characterEdgeAttributes,characterEdgeColor:a(c.characterEdgeColor || x || g.characterEdgeColor),characterEdgeWidth:r,characterEdgeBlur:f,characterItalic:"italic" === d.fontStyle,characterUnderline:"underline" === d.textDecoration,backgroundColor:a(c.backgroundColor || d.backgroundColor || g.backgroundColor),backgroundOpacity:t(l.jZ(c.backgroundOpacity,d.opacity,g.backgroundOpacity),b.s3,1)};}function C(a,b,c,m,p){var t;b=D(b,c,m,p);d.Dd(b,function(b,d){d !== a[b] && (t || (t=g.FB(a)),t[b]=d);});return t || a;}function T(a,b,d,c,m,p,t,k){var l;l=a[r.lj];d=A(a[r.lj],b,d,m,I);b=d.region;a=l.displayAlign;d=d.textAlign;m=l.origin;l=l.extent;b || a || d || m || l?((c=c[b])?c=g.FB(c):a || m || l?(c=g.FB(oa),c.id=ha++):c=g.FB(ia),E(c,p,a,d,m,l,t,k)):c=ia;return c;}function P(a){a=l.Ud(a);return p.Ow(a,0,100)?a:0;}function n(a,b){var d;d=a[a.length - 1];if("%" === d)return l.Fn(.01 * parseFloat(a),0,1);if("c" === d)return l.Fn(l.Ud(a) / b,0,1);}function R(a){for(var b=a.length,d=a[--b].endTime;b--;){d=g.En(a[b].endTime,d);}return d;}function q(b){d.Dd(b,function(d,g){0 <= d.toLowerCase().indexOf("color") && (b[d]=a(g));});}function W(a,b){var d,m,p,t;d=a.pixelAspectRatio;t={sQ:0,Cja:1,U5:0,gsa:1};a=(a.extent || "640px 480px").split(" ");2 <= a.length && (d=(d || "").split(" "),m=parseFloat(a[0]) * (parseFloat(d[0]) || 1),p=parseFloat(a[1]) * (parseFloat(d[1]) || 1));m=0 < m && 0 < p?m / p:1280 / 720;b=b || 1280 / 720;d=m / b;.01 < g.vB(b - m) && (b >= m?(t.sQ=(1 - d) / 2,t.Cja=d):c.Ya(!1,"not implemented"));return t;}function ea(a){var d,g,c,m,p;if(d=a.cellResolution)if((d=d.split(" "),2 <= d.length)){g=l.Ud(d[0]);d=l.Ud(d[1]);if(0 < g && 0 < d)return {x:g,y:d};}d=a.extent;if(d && (d=d.split(" "),2 <= d.length)){g=l.Ud(d[0]);p=l.Ud(d[1]);if(a=a.pixelAspectRatio)(d=a.split(" "),c=l.Ud(d[0]),m=l.Ud(d[1]));if(g && p && 1.5 < g * (c || 1) / (p * (m || 1)))return b.aVa;}return b.$Ua;}ha=1;Y={before:"top",center:"center",after:"bottom"};u={left:"left",start:"left",center:"center",right:"right",end:"right"};ia={id:ha++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};oa={id:ha++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};qa=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");Aa=qa.concat(["style","region"]);I=["region","textAlign","displayAlign","extent","origin"];Ba=/^([0-9]+):([0-9]+):([0-9.]+)$/;va=/^br$/i;Da=/^[0-9]{1,3}%$/;N=/^[0-9]/;return function(d,c,m,p,x){var P,n,ba,V,Y,u,Ia,N,ia,Da,va,qa,Ba,ka,La,eb,B,$a,ib,O,Q,S,U,X,da,ga,ja,fa,Ee,la;function E(){try{for(var a;U;){if((ia=U[r.lj],X.push({id:ha++,startTime:f(ia.begin,ba),endTime:f(ia.end,ba),region:T(U,ga,u,N,Ia,V,ka,$a),textNodes:J(U,ja,fa,da,u,Ia,eb,B,La)}),U=U[r.XA],a=g.uF(),100 < a - Ee)){Ee=Date.now();la=setTimeout(E,1);return;}}}catch(jf){C({ja:l.L.NU,ub:l.Ye(jf)});return;}la=setTimeout(L,1);}function L(){var b,d,g,c,m,p,t;function a(a,g){for(var c,m=[],p={},t,k=d.length;k--;){c=d[k];t=c.region.id;p[t] || (p[t]=1,m.unshift(c));}(c=b[b.length - 1]) && c.endTime == a && l.It(c.blocks,m)?c.endTime=g:b.push({id:ha++,startTime:a,endTime:g,blocks:m});}try{if(!X.length){C({ia:!0,entries:[]});return;}l.BHa(X,"startTime");b=[];d=[];g=X[0];m=X[0].startTime;for(p=1;d.length || g;){for(;!d.length || g && g.startTime == m;){d.push(g);m=g.startTime;g=X[p++];}c=R(d);if(!g || c <= g.startTime)for((a(m,c),m=c,t=d.length);t--;){d[t].endTime <= m && d.splice(t,1);}else (a(m,g.startTime),m=g.startTime,d.push(g),g=X[p++]);}for(p=b.length;p--;){b[p].index=p;b[p].previous=b[p - 1];b[p].next=b[p + 1];}}catch(kf){C({ja:l.L.NU,ub:l.Ye(kf)});return;}C({ia:!0,entries:b});}function C(a){setTimeout(function(){P.abort=l.Af;x(a);},1);}P={abort:function(){la && clearTimeout(la);}};try{n=d[r.lj];ba=k.Pj / (l.Ud(n.tickRate) || 1);V=W(n,c);Y=l.Eb(oa,{marginLeft:V.sQ,marginTop:V.U5,marginRight:V.sQ,marginBottom:V.U5});u={};Ia={};N={};qa=d.head;Ba=d.body;ka=ea(n);La=1 / ka.y * V.gsa;eb=l.Eb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.r3,characterEdgeColor:"#000000",characterSize:1},m,{jx:!0});B=p || ({});$a={uo:0};if(qa){ib=qa.styling;if(ib)for(va=ib.style;va;){ia=va[r.lj];q(ia);u[ia.id]=ia;va=va[r.XA];}O=qa.layout;if(O)for(var M=O.region;M;){ia=M[r.lj];Q=ia.id;Da=l.SK(u[ia.style]);Da=l.Eb(Da,ia);for(va=M.style;va;){l.Eb(Da,va[r.lj]);va=va[r.XA];}q(Da);Ia[Q]=Da;N[Q]=h(Da,V,Y,ka,$a);M=M[r.XA];}}S=Ba.div;U=S.p;X=[];da={};da=A(Ba[r.lj],da,u,Ia,Aa);da=A(S[r.lj],da,u,Ia,Aa);ga={};ga=A(Ba[r.lj],ga,u,Ia,I);ga=A(S[r.lj],ga,u,Ia,I);ja=D(da,eb,B,La);l.Eb(ja,{windowColor:a(B.windowColor || eb.windowColor),windowOpacity:t(l.jZ(B.windowOpacity,eb.windowOpacity),b.s3,1),cellResolution:ka},{jx:!0});fa={};S.p=void 0;S[r.FL]=[];}catch(hf){C({ja:l.L.NU,ub:l.Ye(hf)});return;}Ee=g.uF();la=setTimeout(E,1);return P;};})();b.gVa={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.fVa={SMALL:.5,MEDIUM:1,LARGE:2};b.s3={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.eVa={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.cVa="NONE";b.dVa="RAISED";b.bVa="DEPRESED";b.Jna="UNIFORM";b.r3="DROP_SHADOW";b.$Ua={x:40,y:19};b.aVa={x:52,y:19};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.x0=b.Zt=b.isEqual=b.NQ=void 0;c=a(10);b.NQ=function(a){return ! !a.la;};b.isEqual=function(a,c){var k,g;k=b.NQ(a);g=b.NQ(c);return k === g?k?a.la === c.la:a.Pb === c.Pb:!1;};b.Zt=function(a){if(b.NQ(a))return a.la;a=a.Pb;return a.Va[a.rg].la;};b.x0=function(a,b){return a.hea?a.hea instanceof c.U?{offset:a.hea,Ba:b.rg}:a.hea:{offset:c.U.rb,Ba:b.rg};};},function(f,b,a){var l,k,r,g;function c(a,b,g){var d,c,m,r;b=l.__assign({},null === (m=null === a || void 0 === a?void 0:a.context) || void 0 === m?void 0:m.call(a,{vUa:b,Xy:g}));if((null === a || void 0 === a?0:a.Xy) && g)if(!0 === a.Xy)b.args=g;else {m={};b.args=m;try{for(var p=l.__values(a.Xy),k=p.next();!k.done;k=p.next()){r=k.value;m[r]=g[r];}}catch(D){d={error:D};}finally{try{k && !k.done && (c=p["return"]) && c.call(p);}finally{if(d)throw d.error;}}}return b;}Object.defineProperty(b,"__esModule",{value:!0});b.wW=b.gPa=b.Sc=void 0;l=a(0);k=a(25);r=a(3);g=a(10);b.Sc=function(a){return function(d,m,p){var t;t=p.value;p.value=function(){var d,p,k,r,l,f,x;p=b.gPa(this);if(p){r=c(a,this,arguments);l=null !== (d=null === a || void 0 === a?void 0:a.df) && void 0 !== d?d:String(m);k=p.BY(l,r,null === a || void 0 === a?void 0:a.gga);}try{return f=null === t || void 0 === t?void 0:t.apply(this,arguments);}catch(P){throw (x=P,P);}finally{if(k)if((k.data || (k.data={}),x))k.data.error=x;else if(g.MQ(f))f.then(function(b){k && (null === a || void 0 === a?0:a["return"]) && (k.data.resolve=b);},function(a){k && (k.data.reject=a);});else if(null === a || void 0 === a?0:a["return"])k.data.lRet=f;}};};};b.gPa=function(a){if(null === a || void 0 === a?0:a.Taa)return a.Taa;};f=(function(){function a(a){this.du=[];this.H=l.__assign({o2:10},a);Object.defineProperties(a.$J,{Taa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(a.prototype,{source:{get:function(){return this.H.source;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kBb:{get:function(){return l.__spread(this.du);},enumerable:!1,configurable:!0}});a.prototype.BY=function(a,b,g){var d,m,p,t;p=!1;t=null === (m=(d=this.H).XGa) || void 0 === m?void 0:m.call(d,this.H.$J);d=c({},this.H.$J);b=l.__assign(l.__assign(l.__assign({},t),d),b);t=0 < Object.keys(b).length;b={methodName:a,data:t?b:void 0,time:r.time.da()};g && this.du.length && (g=this.du[this.du.length - 1],g.methodName === a && (g.data=g.data || ({}),g.data.dedup=g.data.dedup || ({hitCount:1}),g.data.dedup.hitCount++,g.data.dedup.lJournal=b,p=!0));this.llb(b);p || this.du.push(b);this.du.length > this.H.o2 && this.du.shift();return b;};a.prototype.llb=function(a){var b;k.sa && (null === (b=this.H.console) || void 0 === b?void 0:b.trace(this.H.source + "::" + a.df,a.data));};a.prototype.Qb=function(){Object.defineProperties(this.H.$J,{Taa:{enumerable:!1,value:null,configurable:!0}});};a.prototype.clear=function(){this.du=[];};return a;})();b.wW=f;},function(f){f.V={pPa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(b){var c;void 0 === b.error.code && (b.error.code=0);void 0 === b.error.description && (b.error.description="Unknown");a.forEach(function(a){b.error && b.error.code == a.error.code && b.error.description === a.error.description && (c=a);});c?c.BS.push(b.Wo):a.push({error:b.error,BS:[b.Wo]});});return a;}},DNa:function(b){var a;a={freeSize:b.ik,dailyBytesRemaining:b.UH,bytesWritten:b.xj,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(a){return {key:a.key,operation:a.Nh,itemBytes:a.L1,error:a.error};}));return a;},uu:function(b){return b["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(f){f.V={Xxa:{code:-1,description:"MediaCache is not supported."},QZb:{code:100,description:"Resource was not found"},L7a:{code:101,description:"Resource Metadata was not found"},fG:{code:102,description:"Read failed",ep:function(b,a){return {code:this.code,description:b,cause:a};}},EW:{code:200,description:"Daily write limit exceeded"},qF:{code:201,description:"Capacity has been exceeded"},DW:{code:202,description:"Write failed, cause unknown",ep:function(b,a){return {code:this.code,description:b,cause:a};}},m0b:{code:203,description:"Write failed, cause unknown"},F4a:{code:300,description:"Failed to delete resource",ep:function(b,a){return {code:this.code,description:b,cause:a};}},$x:{code:900,description:"Invalid partition name"},j7a:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Bua:{code:701,description:"Failed to initialize underlying disk cache."},K7a:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(f,b,a){var r;function c(){}function l(a,b){this.Hp=a;void 0 !== b?(r(b <= a.nn,"require remain_sec <= chunk.sec but has " + b + " and " + a.nn),this.Jj=b):this.Jj=a.nn;}function k(a){void 0 === a && (a=[]);this.jl=[];this.zg=this.Ck=0;for(var b in a){this.add(a[b],void 0);}}r=a(5).assert;c.prototype=Error();l.prototype.constructor=l;l.prototype.Kp=function(){return new l(this.Hp,this.Jj);};k.prototype.constructor=k;k.prototype.add=function(a,b){a=new l(a,b);this.jl.push(a);this.zg+=a.Jj;this.Ck+=a.Hp.Dw() * a.Jj;};k.prototype.Kp=function(){var a,b;a=new k(void 0);for(b in this.jl){a.add(this.jl[b].Hp,this.jl[b].Jj);}return a;};k.prototype.Ar=function(){try{return this.jl[0];}catch(g){}};k.prototype.GVa=function(a){var b;for(r(0 <= a,"unexpected play_for_x_sec: x=" + a);0 < a;){if(void 0 === this.Ar())throw new c();if(a < this.Ar().Jj){b=this.Ar().Hp.Dw() * a;this.Ar().Jj-=a;this.zg-=a;this.Ck-=b;a=0;}else (b=this.jl.shift(),this.zg-=b.Jj,this.Ck-=b.Hp.Dw() * b.Jj,a-=b.Jj);}};k.prototype.xIb=function(a){var d;r(0 <= a,"unexpected play_y_kb: y=" + a);for(var b=0;0 < a;){if(void 0 === this.Ar())throw new c();if(a < this.Ar().Jj * this.Ar().Hp.Dw()){d=a / this.Ar().Hp.Dw();this.Ar().Jj-=d;this.zg-=d;this.Ck-=a;b+=d;a=0;}else (d=this.jl.shift(),this.zg-=d.Jj,this.Ck-=d.Hp.Dw() * d.Jj,b+=d.Jj,a-=d.Hp.Dw() * d.Jj);}return b;};f.V={Gta:k,C3a:c};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Eda=b.ux=b.jMa=void 0;c=a(118).kMa;b.jMa=function(a,b,c){var g,p,d;g=0;if(c){a.some(function(a){var c;c=a.b;a=a.m;if(b <= c)return (g=d && c !== p?d + (a - d) / (c - p) * (b - p):a,!0);p=c;g=d=a;return !1;});}else a.some(function(a){g=a.m;return b <= a.b;});return g;};b.ux=function(a,b,r){var g;b=(null === (g=b.La) || void 0 === g?void 0:g.Ga) || 0;return a.kib?(a=c(a.jib,r.Pk - r.md,1),b * (1 - a)):b * a.r5 / 100;};b.Eda=function(a,b){return a < 2 * b?a / 2:a - b;};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.OL=void 0;c=a(221);f=(function(){var a00;a00=2;for(;a00 !== 3;){switch(a00){case 2:a.prototype.hLa=function(a,b){var c00,g;c00=2;for(;c00 !== 3;){switch(c00){case 2:g=null === this.Sda?a * (100 - this.config.r5) / 100:c.Eda(a,this.Sda);b=null !== b && void 0 !== b?b:this.sJ;this.config.Ela && b?(a=c.Eda(a,b),a=Math.max(a,g)):a=g;return a;break;}}};a.prototype.QK=function(a){var d00;d00=2;for(;d00 !== 1;){switch(d00){case 2:this.Sda=a;d00=1;break;}}};a.prototype.Sra=function(a){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 4:this.config=a;e00=9;break;e00=1;break;case 2:this.config=a;e00=1;break;}}};return a;break;}}function a(a,b){var b00;b00=2;for(;b00 !== 3;){switch(b00){case 2:var A51="1SI";A51+="YbZr";A51+="N";A51+="JCp9";this.config=a;this.sJ=b;this.Sda=null;A51;b00=3;break;}}}})();b.OL=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.F3=void 0;c=a(17);b.F3=function(a){switch(a){case c.ta.Yd:a=c.Tc.Yd;break;case c.ta.ff:a=c.Tc.ff;break;case c.ta.Sg:case c.ta.ip:case c.ta.gG:a=c.Tc.ip;break;default:a=c.Tc.In;}return a;};},function(f,b,a){var l;function c(a,b){return a < b?-1:a > b?1:0;}Object.defineProperty(b,"__esModule",{value:!0});b.xV=void 0;l=a(0);f=(function(){function a(a,b){this.data=null !== a && void 0 !== a?a:[];this.compare=null !== b && void 0 !== b?b:c;if(!this.empty)for(a=(this.length >> 1) - 1;0 <= a;a--){this.eEa(a);}}Object.defineProperties(a.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});a.prototype.push=function(a){this.data.push(a);this.rGa(this.length - 1);};a.prototype.pop=function(){var a,b;if(!this.empty){a=this.data[0];b=this.data.pop();this.empty || (this.data[0]=b,this.eEa(0));return a;}};a.prototype.qu=function(){return this.data[0];};a.prototype.EJb=function(a){a=this.data.indexOf(a);-1 !== a && this.rGa(a);};a.prototype.map=function(a){return this.data.map(a);};a.prototype.find=function(a){return l.__read(this.data.filter(a),1)[0];};a.prototype.clear=function(){this.data=[];};a.prototype.remove=function(a){a=this.data.indexOf(a);-1 !== a && this.data.splice(a,1);};a.prototype.rGa=function(a){for(var b=this.data,c=this.compare,d=b[a],m,t;0 < a;){m=a - 1 >> 1;t=b[m];if(0 <= c(d,t))break;b[a]=t;a=m;}b[a]=d;};a.prototype.eEa=function(a){for(var b=this.data,c=this.compare,d=this.length >> 1,m=b[a],t,k,r;a < d;){t=(a << 1) + 1;r=b[t];k=t + 1;k < this.length && 0 > c(b[k],r) && (t=k,r=b[k]);if(0 <= c(r,m))break;b[a]=r;a=t;}b[a]=m;};return a;})();b.xV=f;},function(f,b,a){var c,l,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.H9a=b.kU=void 0;c=a(0);f=a(15);l=a(166);k=a(25);r=a(3);g=a(10);a=a(35);p=r.Promise;d=(function(){function a(a,b){this.console=a;this.dg=b;this.ddb=this.oN=0;this.Tf=[];this.console=g.Yw(r,this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{opb:{get:function(){return this.oN;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{FJa:{get:function(){var a,b,d;for(b=0;b < this.Tf.length;b++){d=this.Tf[b];if(!d.LQ || (null === (a=d.item) || void 0 === a?0:a.done))break;}return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{count:{get:function(){return this.dg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mw:{get:function(){return 0 === this.dg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ppa:{get:function(){var a;for(a=0;a < this.Tf.length && this.Tf[a].Wka;a++){;}return a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=c.__read(this.Tf,1)[0];return (a=a && a.item) && !a.done && a.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ana:{get:function(){var a;for(a=0;a < this.Tf.length && this.Tf[a].LQ;a++){;}return a;},enumerable:!1,configurable:!0}});a.prototype.o_=function(){var a;if(void 0 === this.dg){a=this.console;k.sa && a && a.trace("QueueIterator: enqueueEnd");this.Tra(this.ana - (this.dg || 0));}};a.prototype.vn=function(){return this.Tf.map(function(a){return a.item;});};a.prototype.ura=function(){return this.Tf.filter(function(a){return (null === a || void 0 === a?void 0:a.item) && !a.item.done;}).map(function(a){return a.item.value;});};a.prototype.Tra=function(a){var b;k.sa && this.console.trace("updateCount",{W4b:this.dg,$H:a});if(void 0 !== this.dg){b=this.Tf[this.dg];b && this.Fka(b);}this.dg=void 0 === this.dg?a:void 0 === a?a:this.dg + a;void 0 !== this.dg && (this.dg=Math.max(0,this.dg),(b=this.Tf[this.dg]) && b.dJ.resolve({done:!0}));};a.prototype.enqueue=function(a){k.sa && this.console.trace("Enqueue called");return this.ZJb(this.ana,{value:a,done:!1}).YKa.tu;};a.prototype.spa=function(){k.sa && this.console.trace("resetEnd");this.Tra(void 0);};a.prototype.clear=function(a){var b,d,g;k.sa && this.console.trace("clear");this.BWa();b=this.ppa;d=this.Tf.length - b;if(0 < d){g={index:b,qna:d};k.sa && this.console.trace("Removing items",g);this.Tf.splice(b,d);this.emit("onRemoved",g);}for(d=1;d < b;d++){this.Fka(this.Tf[d]);}this.dg=void 0;this.Tra(a?a + b:a);this.oN && (this.oN=0);};a.prototype.hOa=function(){var a,b;a=this;b=g.Yw(r,this.console,"QueueIteratorInstance::");return new m(this,function(b){return a.zOa(b);},b);};a.prototype.aI=function(){var a;if(0 < this.ppa){a=c.__read(this.Tf,1)[0];if(a.LQ)return (k.sa && this.console.trace("dequeue",a.id),this.BWa(1),this.emit("onDequeue",a.dJ.tu));}};a.prototype.remove=function(a){var b,d,g;for(b=0;b < this.Tf.length;b++){d=this.Tf[b];g=d.item;if(g && !g.done && g.value === a){this.Tf.splice(b,1);k.sa && this.console.trace("removed",{id:d.id});this.emit("onRemoved",{index:b,qna:1});break;}}};a.prototype.BWa=function(a){var b;a=a || Math.min(this.ppa,this.ana);if(0 < a){b=this.Tf.splice(0,a);this.dg && (this.dg-=a);k.sa && this.console.trace("pruned",a);setTimeout(function(){b.forEach(function(a){a.YKa.resolve();});},0);this.emit("onRemoved",{index:0,qna:a});this.oN+=a;}};a.prototype.zOa=function(a){var b;k.sa && this.console.trace("getNextItemCalled",{offset:a});if(void 0 === this.count || 0 < this.count){this.kQa(a);b=this.Tf[a];b.bMb.resolve();a=b.dJ.tu;k.sa && this.console.trace("getNextItem:return",{id:b.id});}else (k.sa && this.console.trace("getNextItem:returnDone"),a=p.resolve({done:!0}));return a;};a.prototype.ZJb=function(a,b){var d;d=!b.done && b.value;d=d && d.toJSON?d.toJSON():d;k.sa && this.console.trace("Providing result",{hhb:a,item:d});this.kQa(a);a=this.Tf[a];d=a.dJ.resolve;d(b);return a;};a.prototype.kQa=function(a){var b;if(void 0 === this.Tf[a]){b={};this.Fka(b);this.Tf[a]=b;a === this.dg && b.dJ.resolve({done:!0});k.sa && this.console.trace("Item initialized",{hhb:a});}};a.prototype.Hfa=function(a){var b;b={};b.tu=new p(function(d,g){b.resolve=function(b){d(b);a && a(b);};b.reject=g;});return b;};a.prototype.Fka=function(a){var b;b=this;a.dJ=this.Hfa(function(d){a.item=d;a.LQ=!0;k.sa && b.console.trace("Item resolved",{id:a.id});});a.id && a.Wka && !a.LQ && (a.dJ.resolve({done:!0}),k.sa && this.console.warn("Overwriting requested queue item",a.id));a.YKa=this.Hfa();a.bMb=this.Hfa(function(){a.Wka=!0;k.sa && b.console.trace("Item requested",{id:a.id});});a.id=this.ddb++;a.Wka=!1;a.LQ=!1;a.item=void 0;};a.prototype.cub=function(){var a,b;a=this;b=new l.eB(function(){var d,g;if(0 === a.count)return l.eB.qja();d=a.zOa(0);g=a.Tf[0];d.then(function(){b.XI || g === a.Tf[0] && a.aI();});return d;});return b;};return a;})();b.kU=d;a.Se(f.EventEmitter,d);m=(function(a){function b(b,d,g){var c;c=a.call(this,function(){k.sa && c.console.trace("Next item requested",{index:c.index});return c.BMb(c.index++);}) || this;c.parent=b;c.BMb=d;c.console=g;c.LG=!1;c.index=0;c.Rba=!1;c.DUa=function(a){var b;b=a.index;a=a.qna;c.index >= b && (c.index=Math.max(b,c.index - a));b=c.console;k.sa && b && b.trace("QueueIteratorInstance: onRemoved modified",c.index);};return c;}c.__extends(b,a);b.prototype.Gg=function(){this.console.trace("disposed");this.LG=!0;this.pc();a.prototype.Gg.call(this);};b.prototype.next=function(){this.XI || this.VI();return a.prototype.next.call(this);};b.prototype.cancel=function(){this.pc();return a.prototype.cancel.call(this);};b.prototype.pc=function(){this.parent.TJ("onRemoved",this.DUa);this.Rba=!1;};b.prototype.VI=function(){this.Rba || (this.Rba=!0,this.parent.on("onRemoved",this.DUa));};return b;})(l.eB);b.H9a=m;},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.ZA=void 0;c=a(0);l=a(100);k=a(5);f=a(35);r=a(10);g=a(408);p=a(64);d=a(76);a=(function(a){function b(b,d,g,c,m){g=a.call(this,b,d,g,c,m) || this;p.rh.call(g,b,d);g.oc=0;g.Ka || g.Lj();g.Fe=!1;return g;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return !1;},enumerable:!1,configurable:!0}});b.prototype.push=function(b){this.oc+=b.$;a.prototype.push.call(this,b);};b.prototype.Kw=function(){return !this.Fe && ! !this.va.length && this.va.some(function(a){return a.Kw();});};b.prototype.CC=function(a,b){var g,c;k.assert(!this.Fe);g=d.yi.q8a;c=r.Xk(this);this.Fe=this.va.every(function(m){if(m.Fe)return !0;if(!m.Kw())return !1;g=m.CC(a,b,void 0,void 0,void 0,void 0,c).status;return g === d.yi.Uu;});g !== d.yi.Uu || this.Fe || (g=d.yi.J8a);return {status:g};};b.prototype.qLb=function(){this.va.forEach(function(a){a.uS();});};b.prototype.jk=function(){return this.va?this.va[0].jk() + "-" + this.va[this.va.length - 1].jk():"empty";};b.prototype.toString=function(){return p.rh.prototype.toString.call(this) + "(aggregate)";};b.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);l(p.rh.prototype.toJSON.call(this),b);return b;};return b;})(g.p6);b.ZA=a;f.Se(p.rh,a);},function(f,b,a){var c,l,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.hU=void 0;c=a(0);a(5);f=a(35);l=a(226);k=a(64);r=a(76);g=a(22);p=a(100);d=a(3).Fk;m=a(862);a=a(861);t=(function(a){var f00;f00=2;for(;f00 !== 3;){switch(f00){case 2:c.__extends(b,a);b.create=function(a,c,p,t,k,f,x){var i00,A,D,E;i00=2;for(;i00 !== 19;){switch(i00){case 5:i00=t.TD && t.$ > t.TD?4:20;break;case 2:i00=!c.Kg && t.Ka && a.I === g.Sa.VIDEO && d.Zb && d.Zb.zK.MB?1:5;break;case 1:return new m.Rsa(a,p,t,k,f,c,x);break;case 6:i00=0 < D?14:10;break;case 4:A=Math.ceil(t.$ / t.TD);f=t.offset;D=t.$;k=new l.ZA(a,t,k,c,x);i00=7;break;case 7:A=Math.ceil(t.$ / A);i00=6;break;case 11:var t51="subre";t51+="qu";t51+="es";t51+="t";k.push(new r.aB(a,p,t51,E,k,c,x));i00=6;break;case 14:E={offset:f,$:Math.min(D,A),responseType:t.responseType};f+=E.$;D-=E.$;i00=11;break;case 20:return new b(a,p,t,k,f,c,x);break;case 10:return k;break;}}};b.prototype.toString=function(){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:return r.aB.prototype.toString.call(this) + ":" + k.rh.prototype.toString.call(this);break;}}};f00=4;break;case 4:return b;break;}}function b(b,g,c,m,p,t,r){var g00,l;g00=2;for(;g00 !== 6;){switch(g00){case 2:var E51="e";E51+="d";E51+="i";E51+="t";var p51="c";p51+="ac";p51+="he";var w51="1";w51+="SIY";w51+="bZ";w51+="r";w51+="NJCp9";l=this;w51;l=[p51,E51].filter(function(a,b){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 2:return [p,c.Ka][b];break;}}});l=l.length?"(" + l.join(",") + ")":"";void 0 === c.responseType && (c.responseType=c.Ka || d.Zb && !d.Zb.zK.MB?0:1);l=a.call(this,b,g,l,c,m,t,r) || this;g00=8;break;case 8:k.rh.call(l,b,c);return l;break;}}}})(r.aB);b.hU=t;p(a["default"],t.prototype);f.Se(k.rh,t,!1);},function(f,b,a){b=a(879);f.V=b;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.JL=void 0;c=a(0);f=a(100);l=a(76);k=a(170);a=(function(a){function b(b,d,g,c,r,l,f){d=a.call(this,b,d,g,c,r,l,f) || this;k.Sx.call(d,b,c);return d;}c.__extends(b,a);return b;})(l.aB);b.JL=a;f(k.Sx.prototype,a.prototype);},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.cB=void 0;f=a(35);a=a(117);c=(function(){function a(a,b){this.rp=a;this.xG=b.Xa;this.Xs=b.nb;}Object.defineProperties(a.prototype,{Xa:{get:function(){return void 0 !== this.xG?this.xG:this.rp.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nb:{get:function(){return void 0 !== this.Xs?this.Xs:this.rp.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.rp.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xk:{get:function(){return this.rp.xk;},enumerable:!1,configurable:!0}});a.prototype.RS=function(a){this.Xs=a;};a.prototype.Vea=function(){this.Xs=void 0;};return a;})();b.cB=c;f.Se(a.dB,c);f.Se(a.$A,c);},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=a(136);l=a(234);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.UWa=function(){15 !== this.M.ag(4) || this.M.ag(24);};b.prototype.parse=function(a){if(this.lAb(a) && 64 === a.$Fb)switch((this.EC=this.MWa(),this.UWa(),this.M.ag(4),this.Urb=5 === this.EC || 29 === this.EC?5:-1,0 < this.Urb && (this.UWa(),this.EC=this.MWa(),22 === this.EC && this.M.ag(4)),this.EC)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.gNa=this.M.ag(1),(this.mpb=this.M.ag(1)) && this.M.ag(14),this.M.ag(1),this.U_=3 === this.EC?256:23 === this.EC?this.gNa?480:512:this.gNa?960:1024);}this.skip();return !0;};b.prototype.MWa=function(){var a;a=this.M.ag(5);31 === a && (a=32 + this.M.ag(6));return a;};b.prototype.lAb=function(a){return a.tag === l.Mua.tag;};b.tag=5;return b;})(f.h7);b.n5a=a;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.$Fb=this.M.Ad();this.M.Ad();this.M.jh();this.M.Ad();this.Ko=this.M.Mb();this.dib=this.M.Mb();this.PFa();return !0;};b.tag=4;return b;})(a(136).h7);b.Mua=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.M.jh();a=this.M.Ad();this.iQb=! !(a & 128);this.R$a=! !(a & 64);this.C8a=! !(a & 32);this.iQb && this.M.jh();this.R$a && this.M.Z3(this.M.Ad());this.C8a && this.M.jh();this.PFa();return !0;};b.tag=3;return b;})(a(136).h7);b.tva=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});f=a(0);f.__exportStar(a(136),b);f.__exportStar(a(233),b);f.__exportStar(a(232),b);f.__exportStar(a(231),b);f=a(232);c=a(231);a=a(233);b.bI={3:a.tva,4:f.Mua,5:c.n5a};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.M.offset+=6;this.M.jh();return !0;};return b;})(a(29).eg);b["default"]=f;},function(f,b){function a(a,b){return "number" !== typeof a || "number" !== typeof b?!1:a && b?Math.abs(a * b / c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a % b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});f=(function(){function b(a,b){"object" === typeof a?(this.qt=a.tb,this.Gl=a.P):(this.qt=a,this.Gl=b);}b.$Gb=function(a){return new b(1,a);};b.Pc=function(a){return new b(a,1E3);};b.sra=function(a,b){return Math.floor(1E3 * a / b);};b.Uma=function(a,b){return Math.floor(a * b / 1E3);};b.max=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.Yha=function(k,r){var g;if(k.P === r.P)return new b(c(k.tb,r.tb),k.P);g=a(k.P,r.P);return b.Yha(k.we(g),r.we(g));};Object.defineProperties(b.prototype,{tb:{get:function(){return this.qt;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{P:{get:function(){return this.Gl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{ka:{get:function(){return 1E3 * this.qt / this.Gl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{ph:{get:function(){return this.qt / this.Gl;},enumerable:!0,configurable:!0}});b.prototype.we=function(a){a/=this.P;return new b(Math.floor(this.tb * a),Math.floor(this.P * a));};b.prototype.add=function(c){var k;if(this.P === c.P)return new b(this.tb + c.tb,this.P);k=a(this.P,c.P);return this.we(k).add(c.we(k));};b.prototype.Oa=function(a){return this.add(new b(-a.tb,a.P));};b.prototype.$D=function(a){return new b(this.tb * a,this.P);};b.prototype.Pp=function(b){var c;if(this.P === b.P)return this.tb / b.tb;c=a(this.P,b.P);return this.we(c).Pp(b.we(c));};b.prototype.dPa=function(b){return a(this.P,b);};b.prototype.eXa=function(){return new b(this.P,this.tb);};b.prototype.compare=function(b,c){var g;if(this.P === c.P)return b(this.tb,c.tb);g=a(this.P,c.P);return b(this.we(g).tb,c.we(g).tb);};b.prototype.equal=function(a){return this.compare(function(a,b){return a === b;},a);};b.prototype.dE=function(a){return this.compare(function(a,b){return a !== b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a < b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a > b;},a);};b.prototype.iJ=function(a){return this.compare(function(a,b){return a <= b;},a);};b.prototype.Wp=function(a){return this.compare(function(a,b){return a >= b;},a);};b.prototype.toJSON=function(){return {ticks:this.tb,timescale:this.P};};b.prototype.toString=function(){return this.tb + "/" + this.P;};b.rb=new b(0,1);b.cl=new b(1,1E3);return b;})();b.U=f;},function(f,b,a){var ha,Y,u,ia,oa,qa,Aa,I,Ba,va,Da,N,ka,La,eb,B,ib,Ga,gb,vb,ab,O,M,aa,lb,Q,S,U,X,da,ga;function c(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function l(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function k(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function r(a,b,d,g,c){ia.call(this,a,b,d,g,c);this.zqa=a.config.zqa;this.Qd=this.sizes=void 0;}function g(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function p(){for(var a=new DataView(this),b="",d,g=0;g < this.byteLength;g++){d=a.getUint8(g);b+=("00" + d.toString(16)).slice(-2);}return b;}function d(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function m(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function t(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function x(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function A(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function h(a){function b(b,d,g,c,m){ia.call(this,b,d,g,c,m);this.PTa=a;}b.xc=!1;b.prototype=new ia();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Dua:{get:function(){return this.PTa;}}});b.prototype.parse=function(){this.M.console.trace("renaming '" + this.type + "' to draft type '" + this.PTa + "'");this.M.offset=this.startOffset + 4;this.hb.X1a(this.Dua);this.type=this.Dua;return !0;};return b;}function E(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function L(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function D(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function C(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function T(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function P(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function n(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function R(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function q(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function W(a,b,d,g,c){ia.call(this,a,b,d,g,c);}function ea(a,b){a.forEach(function(a){b[a.We]=a;});}ha=a(138).assert;b=a(87);Y=a(236).U;u=a(420);a(137);a(77);a(77);a(77);ia=a(29).eg;oa=a(907)["default"];qa=a(906)["default"];Aa=a(905)["default"];I=a(904)["default"];Ba=a(903)["default"];va=a(902)["default"];Da=a(901)["default"];N=a(900)["default"];ka=a(899)["default"];a(235);a(171);La=a(419).h2a;eb=a(419).y5a;B=a(898)["default"];ib=a(897)["default"];Ga=a(86)["default"];gb=a(86).E2a;vb=a(86).F2a;ab=a(86).G2a;O=a(86).H2a;M=a(896)["default"];aa=a(895)["default"];lb=a(86).q6a;Q=a(86).l6a;S=a(894)["default"];U=a(893)["default"];X=a(892)["default"];da=a(418)["default"];ga=a(417)["default"];a(136);a(232);a(231);a(233);a=a(891)["default"];c.xc=!0;c.prototype=new ia();c.prototype.constructor=c;l.xc=!0;l.prototype=new ia();l.prototype.constructor=l;k.xc=!1;k.prototype=new ia();k.prototype.constructor=k;k.prototype.parse=function(){var a;this.bg();1 === this.version?(this.M.Ij(),this.M.Ij(),this.P=this.M.Mb(),this.duration=this.M.Ij()):(this.M.Mb(),this.M.Mb(),this.P=this.M.Mb(),this.duration=this.M.Mb());a=this.M.jh() & 32767;this.language=String.fromCharCode(96 + (a >>> 10),96 + (a >>> 5 & 31),96 + (a & 31));return !0;};r.xc=!1;r.prototype=new ia();r.prototype.constructor=r;r.prototype.$db=function(){this.bg();this.M.Mb();this.P=this.M.Mb();0 === this.version?(this.BLa=this.M.Mb(),this.MMa=this.M.Mb()):(this.BLa=this.M.Ij(),this.MMa=this.M.Ij());this.hMb=this.M.jh();this.hXa=this.M.jh();};r.prototype.bbb=function(a,b){var d,g,c;d=this.P;a=a && a.P || d;g=a / d;d=this.M.Y3(b,12,!1);c=1 === g?this.M.Y3(b,12,!1):u.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.M.Mb() * g);this.M.offset+=8;return a;},this);this.Afb(b,c,d,a);};r.prototype.Afb=function(a,b,d,g){if(this.zqa){g=this.zqa * g / 1E3;for(var c=0,m=1;m < a;m++){Math.abs(b[c] - g) > Math.abs(b[c] + b[m] - g)?(b[c]+=b[m],d[c]+=d[m]):(++c,c !== m && (b[c]=b[m],d[c]=d[m]));}++c;b=new Uint32Array(b.buffer.slice(0,4 * c));d=new Uint32Array(d.buffer.slice(0,4 * c));}this.sizes=d;this.Qd=b;};r.prototype.parse=function(a){var b,d,g,c;this.$db();this.xa=a.xa;b=this.P;d=this.xa && this.xa.P || b;g=this.hXa;c=this.startOffset + this.length + this.MMa;b=new Y(this.BLa,b).we(d).tb;this.ca={P:d,zk:b,offset:c};this.bbb(this.xa,g);this.ca.Qd=this.Qd;this.ca.sizes=this.sizes;a.js=this;return !0;};g.xc=!1;g.prototype=new ia();g.prototype.constructor=g;g.prototype.parse=function(){var a;this.WA=[];this.fIb=[];a=(this.length - 11) / 2;this.M.Ad();this.M.Ad();this.M.Ad();for(var b=0;b < a;b++){this.WA.push(this.M.Ad());this.fIb.push(this.M.Ad());}return !0;};d.xc=!1;d.prototype=new ia();d.prototype.constructor=d;d.prototype.parse=function(){this.bg();this.M.offset+=4;this.vRa=this.M.offset;this.Rw=this.M.uKb();this.Rw.toString=p;return !0;};m.xc=!1;m.prototype=new ia();m.prototype.constructor=m;m.prototype.parse=function(){this.bg();this.vo=this.M.jh();this.ODb=this.M.Y3(this.vo,void 0,!0);return !0;};t.xc=!1;t.prototype=new ia();t.prototype.constructor=t;t.prototype.parse=function(a){var b,d,g,c,m,p;c=a.js;ha(c);a=a.xa;b=c.P;c=c.hXa;ha(a);ha(b);ha(c);this.bg();ha(2 > this.version);this.vo=this.M.jh();this.iK=new Uint16Array(c + 1);d=a.dPa(b);m=d / b;p=a.we(d).tb;if(0 === this.version)for((this.AK=new Uint16Array(),this.ih=new Uint32Array(),a=b=0);a <= c;++a){if((this.iK[a]=b,a < this.vo && (g=this.M.Ad(),0 !== g)))for(d=0;d < g;(++d,++b)){this.AK[b]=Math.floor((this.M.Mb() + 1) * m) / p;this.ih[b]=this.M.Mb();}}else if(1 === this.version)for((d=this.M.sKb(this.vo),this.M.offset+=4,this.ih=this.M.Y3(this.vo,10,!1),this.M.offset-=8,this.AK=u.from(Uint16Array,{length:this.vo},function(){var a;a=Math.floor((this.M.Mb() + 1) * m) / p;this.M.offset+=6;return a;},this),b=a=0);a <= c;++a){for(;b < d.length && d[b] < a;){++b;}this.iK[a]=b;}this.Oi={iK:this.iK,AK:this.AK,ih:this.ih};return !0;};x.xc=!0;x.prototype=Object.create(c.prototype);x.prototype.constructor=x;A.xc=!0;A.prototype=Object.create(c.prototype);A.prototype.constructor=A;A.prototype.uI=function(){var a;a=this.ps("tfhd");a && (this.Vv=a.eIa?a.Vv:this.parent.startOffset);return !0;};E.xc=!1;E.prototype=new ia();E.prototype.constructor=E;E.prototype.parse=function(){var a,k,r,d,c;a=this.M.offset;this.bg();if(1 === this.version){this.M.console.trace("translating vpcC box to draft equivalent");this.M.offset+=2;for(var b=this.M.offset,d=this.M.Ad(),g=this.M.Ad(),c=this.M.Ad(),m=this.M.Ad(),p=this.M.jh(),t=[],k=0;k < p;++k){t=this.M.Ad();}k=(d & 240) >>> 4;r=(d & 14) >>> 1;d=d & 1;c=16 === c?1:0;g != m && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + g + " and matrixCoefficients " + m + " should be the same value!");m=2;switch(g){case 1:m=2;break;case 6:m=1;break;case 9:m=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + g + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.hb.e6(this.version,a);this.hb.e6(k << 4 | m,b++);this.hb.e6(r << 4 | c << 1 | d,b++);p+=2;t.push(0,0);this.hb.BUb(p);b+=2;t.forEach(function(a){this.hb.e6(a,b++);});}return !0;};L.xc=!1;L.prototype=new ia();L.prototype.constructor=L;L.We="tfhd";Object.defineProperties(L.prototype,{eIa:{get:function(){return this.Si & 1;}},MMb:{get:function(){return this.Si & 2;}},apb:{get:function(){return this.Si & 8;}},dpb:{get:function(){return this.Si & 16;}},bpb:{get:function(){return this.Si & 32;}}});L.prototype.parse=function(){this.bg();this.wra=this.M.Mb();this.Vv=this.eIa?this.M.Ij():void 0;this.MMb && this.M.Mb();this.LZ=this.apb?this.M.Mb():void 0;this.NZ=this.dpb?this.M.Mb():void 0;this.MZ=this.bpb?this.M.Mb():void 0;return !0;};D.xc=!1;D.prototype=new ia();D.prototype.constructor=D;D.prototype.parse=function(){this.bg();this.QY=1 === this.version?this.M.Ij():this.M.Mb();return !0;};D.prototype.Ka=function(a){var b;b=this.startOffset + 12;this.QY+=a;1 === this.version?this.hb.CUb(this.QY,b):this.hb.Dq(this.QY,b);};C.xc=!1;C.prototype=new ia();C.prototype.constructor=C;Object.defineProperties(C.prototype,{BKa:{get:function(){return this.Si & 1;}},Lha:{get:function(){return this.Si & 4;}},w4:{get:function(){return this.Si & 256;}},x4:{get:function(){return this.Si & 512;}},lYa:{get:function(){return this.Si & 1024;}},Hpa:{get:function(){return this.Si & 2048;}}});C.prototype.parse=function(){this.bg();this.oIa=this.M.offset;this.ve=this.M.Mb();this.jw=this.BKa?this.M.Roa():0;this.Lha && this.M.Mb();this.CS=(this.w4?4:0) + (this.x4?4:0) + (this.lYa?4:0) + (this.Hpa?4:0);this.J_=this.M.offset;ha(this.BKa,"Expected data offset to be present in Track Run");ha(this.length - (this.M.offset - this.startOffset) === this.ve * this.CS,"Expected remaining data in box to be sample information");return !0;};C.prototype.XN=function(a,b,d){var g,c,m;g=this.w4?this.M.Mb():a.LZ;c=this.x4?this.M.Mb():a.NZ;a=this.lYa?this.M.Mb():a.MZ;m=0 === this.version?this.Hpa?this.M.Mb():0:this.Hpa?this.M.Roa():0;return {LMb:m,H5b:a,r5b:d + m - (void 0 !== b?b:m),Cx:c,DS:g};};C.prototype.Ka=function(a,b,d,g,c,m,p){var t,k,r,l;t=0;k=0;this.hb.offset=this.J_;for(g=0;g < c;++g){l=this.XN(b,r,k);0 == g && (r=l.LMb);t+=l.Cx;k+=l.DS;}g=c;c=this.M.offset;l=this.XN(b,r,k);this.VK=g;this.zPb=k;if(p){if((this.tK=this.jw + t,this.as=0,g === this.ve))return !0;}else if((this.tK=this.jw,this.as=t,0 === g))return !0;if(0 === g || g === this.ve)return !1;this.e_=!0;if(p){this.as+=l.Cx;for(p=g + 1;p < this.ve;++p){l=this.XN(b,r,k);this.as+=l.Cx;}this.hb.offset=this.oIa;this.ve=g;this.hb.Dq(this.ve);this.hb.qsa(m);this.Lha && (this.M.offset+=4);this.kl(this.length - (c - this.startOffset),c);}else (b=c - this.J_,this.hb.offset=this.oIa,this.ve-=g,this.hb.Dq(this.ve),this.jw+=t,this.hb.qsa(m,this.jw),this.Lha && (this.M.offset+=4),this.kl(b,this.hb.offset));d.kl(this.as,a.Vv + this.tK);return !0;};C.prototype.OLb=function(a,b,d,g,c,m){var t;if(g){g=this.tK;for(var p=this.ve - 1;0 <= p && this.ve - p <= c;--p){this.hb.offset=this.J_ + p * this.CS;t=this.XN(b);if(t.DS != m.duration){this.M.console.warn("Could not replace sample of duration " + t.DS + " with silence of duration " + m.duration);break;}if(this.x4)(this.hb.offset-=this.CS - (this.w4?4:0),this.hb.Dq(m.Fx.byteLength));else if(m.Fx.byteLength !== t.Cx){this.M.console.warn("Cannot replace sample with default size with silence of different size");break;}g-=t.Cx;d.h4(t.Cx,m.Fx,a.Vv + g);}}else for((g=this.tK + this.as,p=0);p < this.ve && p < c;++p){this.hb.offset=this.J_ + (p + this.VK) * this.CS;t=this.XN(b);if(t.DS != m.duration){this.M.console.warn("Could not replace sample of duration " + t.DS + " with silence of duration " + m.duration);break;}if(this.x4)(this.hb.offset-=this.CS - (this.w4?4:0),this.hb.Dq(m.Fx.byteLength));else if(m.Fx.byteLength !== t.Cx){this.M.console.warn("Cannot replace sample with default size with silence of different size");break;}d.h4(t.Cx,m.Fx,a.Vv + g);g+=t.Cx;}};T.xc=!1;T.prototype=Object.create(ia.prototype);T.prototype.constructor=T;Object.defineProperties(T.prototype,{HC:{get:function(){return this.Si & 1;}}});T.prototype.parse=function(){this.bg();this.HC && this.M.zA();this.HC && this.M.Mb();this.cpb=this.M.Ad();this.ve=this.M.Mb();this.M.Z3(this.ve);return !0;};T.prototype.Ka=function(a,b){if(a && 0 === this.cpb){a=b?this.ve - a:a;this.hb.offset=this.startOffset + 13 + (this.HC?8:0);this.ve-=a;this.hb.Dq(this.ve);this.Fpa=0;if(b)this.hb.offset+=this.ve;else {for(b=0;b < a;++b){this.Fpa+=this.hb.Ad();}this.hb.offset-=a;}this.kl(a,this.M.offset);}return !0;};P.xc=!1;P.prototype=Object.create(ia.prototype);P.prototype.constructor=P;Object.defineProperties(P.prototype,{HC:{get:function(){return this.Si & 1;}}});P.prototype.parse=function(){this.bg();this.HC && this.M.zA();this.HC && this.M.Mb();this.vo=this.M.Mb();ha(1 === this.vo,"Expected a single entry in Sample Auxiliary Information Offsets box");this.jw=0 === this.version?this.M.Roa():this.M.AKb();return !0;};P.prototype.Ka=function(a,b){this.jw+=a;this.hb.offset=this.startOffset + 16 + (this.HC?8:0) + (0 === this.version?0:4);this.hb.qsa(b,this.jw);return !0;};n.xc=!1;n.prototype=Object.create(ia.prototype);n.prototype.constructor=n;Object.defineProperties(n.prototype,{UUa:{get:function(){return this.Si & 1;}},CTb:{get:function(){return this.Si & 2;}}});n.prototype.parse=function(){this.bg();this.UUa && (this.M.Mb(),this.M.Z3(16));this.ve=this.M.Mb();return !0;};n.prototype.Ka=function(a,b){var d,g;d=b?this.ve - a:a;this.hb.offset=this.startOffset + 28 + (this.UUa?20:0);this.ve-=d;this.hb.Dq(this.ve);a=this.hb.offset;if(this.CTb)for(d=b?this.ve:d;0 < d;--d){this.hb.offset+=8;g=this.hb.jh();this.hb.offset+=6 * g;}else this.hb.offset+=8 * (b?this.ve:d);b?this.kl(this.length - (this.M.offset - this.startOffset),this.M.offset):this.kl(this.M.offset - a,a);};R.xc=!1;R.prototype=Object.create(ia.prototype);R.prototype.constructor=R;R.prototype.parse=function(){this.bg();return !0;};R.prototype.Ka=function(a,b,d){d?this.kl(b - a,this.startOffset + 12 + a):this.kl(a,this.startOffset + 12);return !0;};q.xc=!1;q.prototype=Object.create(ia.prototype);q.prototype.constructor=q;q.prototype.parse=function(){this.bg();this.M.zA();1 === this.version && this.M.Mb();this.vo=this.M.Mb();this.ES=[];for(var a=0;a < this.vo;++a){for(var b=this.M.Mb(),d=this.M.Mb(),g=0;g < b;++g){this.ES.push(d);}}return !0;};q.prototype.Ka=function(a,b){this.ES=b?this.ES.slice(0,a):this.ES.slice(a);a=this.ES.reduce(function(a,b){0 !== a.length && a[a.length - 1].group === b || a.push({group:b,count:0});++a[a.length - 1].count;return a;},[]);this.hb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.hb.Dq(a.length);a.forEach((function(a){this.hb.Dq(a.count);this.hb.Dq(a.group);}).bind(this));this.vo > a.length && this.kl(8 * (this.vo - a.length));this.vo=a.length;return !0;};W.xc=!1;W.prototype=Object.create(ia.prototype);W.prototype.constructor=W;Ga={Yc:{moov:l,trak:c,mdia:c,mdhd:k,minf:c,encv:Ga,schi:c,sidx:r,sinf:c,stbl:c,tenc:d,mvex:c,moof:x,traf:A,tfhd:L,trun:C,sbgp:q,sdtp:R,saiz:T,saio:P,tfdt:D,mdat:W,vmaf:g},$Rb:{vpcC:E,SmDm:h("smdm"),CoLL:h("coll")},t0a:{schm:M},Gpa:{}};ea([aa,va,Da,N,lb,Q,oa,I,da,ga,Ba,ka,qa,Aa,a],Ga.Yc);ea([La,B,gb,vb,ab,O,eb,ib,U,S],Ga.Gpa);ea([aa,M],Ga.t0a);Ga.Yc[b.uza]=d;Ga.Yc[b.DV]=m;Ga.Yc[b.CV]=t;Ga.Yc[b.tza]=n;Ga.Gpa[b.u9]=X;Ga.eg=ia;f.V={KJ:Ga};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.ZLa=b.pD=b.Nm=b.aOa=b.z0=void 0;c=a(5);l=a(172);b.z0=function(a,b){return !(1 !== a || !b.jI) || 0 === a;};b.aOa=function(a,b,g,c){a=a.Om(b,void 0,!0);g && (a=Math.floor(a / c) * c);return a;};b.Nm=function(a,r,g,p,d,m){var t,k,f,h;l.km.Co(a);c.assert(g.ca,"findFirstFragment called without stream fragments");t=g.ca;k=b.z0(a,r);0 === a && !m && r.Yj && !r.Wy && g.Hd && (p=Math.max(g.ca.gj(0),p + g.Hd.ka));f=b.aOa(t,p,g.O.NQa(a),4);h=g.Ui(f);if(h.pa < p)return h;k && ((k=h.E_(p))?(0 < k.ln && h.Lj({start:k.ln}),0 !== a || r.y2 || (0 > k.Fc && h.Lj({start:k.ln}),k.Fc < (r.Yj && !r.Wy && g.Hd?Math.floor(g.Hd.ka):0) && h.BP())):p >= h.pa && f < t.length - 1 && (h=g.Ui(f + 1)));1 === a && d && h.pa === d && f < t.length - 1 && (h=g.Ui(f + 1));0 === a && !h.Ka && (r.GQ || r.zQa || r.Fqb) && m && h.Lj({});h.US(p);return h;};b.pD=function(a,c,g,p,d,m,t){var k;l.km.Co(a);k=g.ca;void 0 === p && (p=k.pa);if(d && (d=d.Fsb(g,p,a,c,m)))return d;d=k.xa;t=p?p + b.ZLa(a,d,c.cs,t):k.Zga(k.length - 1);k=k.Om(t,void 0,!0);d=g.Ui(k);0 === k || d.T !== p || 1 !== a && c.cs || (--k,d=g.Ui(k));b.z0(a,c)?(t=1 === a?t:p,t < d.pa && ((m=d.Osb(t)) && 0 !== m.ln?d.Lj({end:m.ln}):0 === a && (m || t < d.T) && 0 !== k?d=g.Ui(k - 1):1 === a && m && 0 !== k && (d=g.Ui(k - 1))),0 !== a || d.Ka || !c.GQ && !c.yQa || d.Lj()):0 === a && !c.cs && p - d.T < d.duration / 2 && 0 !== k && (d=g.Ui(k - 1));d.US(p);return d;};b.ZLa=function(a,b,g,c){var d;return 1 === a || c?0:g?null !== (d=null === b || void 0 === b?void 0:b.ka) && void 0 !== d?d:0:b?-b.ka:0;};},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,A,h;Object.defineProperty(b,"__esModule",{value:!0});b.jU=void 0;c=a(0);l=a(15);k=a(910);f=a(88);r=a(909);g=a(884);p=a(881);d=a(228);m=a(878);t=a(17);x=a(3);A=a(5);a(240);h=(function(){return function(a){var b;b=a.Vka;a=a.y1;this.mR=this.replace=b;this.Mf=a;};})();a=(function(a){function b(b,m){var t,k,f,A,D,E,J,L,C,n,q,u,qa,Aa,I,Ba,va,Da,N,ka,La;t=m.eb;k=m.qa;f=m.gl;A=m.lb;D=m.wma;E=m.ci;J=m.Zq;L=m.config;C=m.Qja;n=m.FE;q=m.XP;u=m.Ab;qa=m.Nf;Aa=m.PJ;m=m.hha;I=a.call(this) || this;I.la=b;I.W0=!1;I.PEa=[];I.fFa=[];I.yh=[];I.cI=[];I.Dl=!1;I.eb=t;I.HN=k;I.gl=f;I.lb=A;I.config=L;I.console=new x.Console("ASEJS","media|asejs","<" + String(I.la) + ">");C && (b=C.Ez,I.$e=new p.rwa(I,I.console,I.config,C.$l,C.oQ,b,C.u1,C.Ze,C.Rc,C.ng,C.Nz),I.Ez=b);I.Mz=new l.EventEmitter();I.XP=q;I.Ab=u;I.PJ=Aa;I.Wk=new d.rV(I.qa,u,qa,I.config,null === m || void 0 === m?void 0:m.$l);m && (C=m.Xp,q=m.Sm,u=m.aJ,I.Wn=m.xg,I.aJ=u,I.Sm=q,I.Xp=C,I.Fba=new g.Jva(I.Wk,I.config,I.Zxb.bind(I),I.Yxb.bind(I)));I.FE=n;I.Ke=new h(D);I.ci=E;Ba=[[],[]];va=[{},{}];Da=[0,0];N=!1;ka=I.lb(0);La=I.lb(1);["audio_tracks","video_tracks"].forEach(function(a,b){var d;d=0 === b;d && !ka || 1 === b && !La || I.qa[a].forEach(function(a,g){a=new r.gta({O:I,$w:a,I:b,Mf:D.y1,Zq:J,DT:g,xC:g + (d?I.qa.video_tracks.length:0)},I.config,I.console);Ba[b].push(a);va[b]=c.__assign(c.__assign({},va[b]),a.wD());a.Ko > Da[a.I] && (Da[a.I]=a.Ko);N=N || a.S0;});});I.mG=Ba;I.kQb=va;I.Lr=Da;I.S0=N;I.NEa=I.config && I.config.yQ && ! !I.config.yQ.length && -1 !== I.config.yQ.indexOf(String(I.u)) && I.config.hka && ! !I.config.hka.length && void 0 !== I.zr(1,I.config.hka[0]);I.ybb=I.NEa && I.config.i_;return I;}c.__extends(b,a);Object.defineProperties(b.prototype,{qa:{get:function(){return this.HN;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{t2:{get:function(){var a;return !(null === (a=this.mG[1][0]) || void 0 === a || !a.t2);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qg:{get:function(){return this.PEa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zDb:{get:function(){return this.fFa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{u:{get:function(){return this.qa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dr:{get:function(){return this.qa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{duration:{get:function(){return this.qa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vi:{get:function(){return this.Dl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wo:{get:function(){A.assert(this.Fba,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Fba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dha:{get:function(){return this.wo.events;},enumerable:!1,configurable:!0}});b.prototype.Qb=function(){this.close();this.pc();};b.prototype.close=function(){var a;this.cI=[];null === (a=this.Fba) || void 0 === a?void 0:a.Qb();this.Wk.Qb();this.Dl=!0;};b.prototype.pc=function(){this.$e && this.$e.pc();};b.prototype.eTb=function(a){var b,d,g,c,m;b=this;d=a.qa;g=a.ci;A.assert(a.config === this.config,"Updating Viewable IConfig not supported");A.assert(g === this.ci,"Updating Viewable clearplay not supported");A.assert(d.movieId === this.qa.movieId,"Changing Viewable manifest movieId unsupported");c=this.lb(0);m=this.lb(1);["audio_tracks","video_tracks"].forEach(function(a,d){var g;if((0 !== d || c) && (1 !== d || m)){a=b.qa[a];g=b.mG[d];A.assert(a.length === g.length,"Changing Viewable tracks unsupported");a.forEach(function(a,b){var d;b=g[b];A.assert(a.track_id === b.jb);a=a.streams;d=Object.keys(b.wD());A.assert(a.length === d.length);a.forEach(function(a){A.assert(-1 !== d.indexOf(a.downloadable_id),"Changing Viewable track streams unsupported");});});}});this.HN=d;this.Wk.sO(this.qa);};b.prototype.ME=function(a){var b,d,g;b=a.kE;d=a.ea;g=a.nw;a=a.Zl;b && d?(this.W4=new k.YBa(b,{ea:String(d),nw:! !g,MDb:this.config.KV.mx,Rib:this.config.KV.lv,Zea:this.config.Zea},a),this.wo.ME(this.W4)):a("SideChannel: pbcid/xid is missing.");};b.prototype.Lw=function(){return void 0 !== this.dr;};b.prototype.getTracks=function(a){return this.mG[a];};b.prototype.getTrackById=function(a){var b;this.mG.some(function(d){return d.some(function(d){if(d.jb === a)return (b=d,!0);});});b || this.console.warn("getTrackById not found:",a,"length:",this.mG.length);return b;};b.prototype.hPa=function(a,b){var d;d=this.mG[a];if(0 > b || b >= d.length)this.console.warn("getTrackByIndex out of range:",b,"length:",d.length,"mediaType:",a);else return d[b];};b.prototype.zr=function(a,b){return (a=this.wD(a)) && a[b];};b.prototype.wD=function(a){return this.kQb[a];};b.prototype.FSb=function(a,b){this.PEa[a]=b;b.stream.ca && this.X0a(a,b.stream.ca);};b.prototype.RLa=function(a){return void 0 === a || 1 === a?this.ybb:!1;};b.prototype.NQa=function(a){return void 0 === a || 1 === a?this.NEa:!1;};b.prototype.$Ab=function(a){var b,d;if(void 0 === a.O3 || void 0 === a.xoa){b=this.Wk.Iia().filter(function(b){return void 0 !== b.tc[a.za];})[0];d=b.children.filter(function(b){return b.ye.some(function(b){return b.stream.id === a.za;});})[0];a.O3=b.id;a.xoa=d.id;}return {cla:a.location === a.O3,aBb:a.Gc === a.xoa};};b.prototype.T4=function(a,b,d){void 0 !== b && void 0 !== d && (this.DXa(a.I,b),a.T4(b,d));};b.prototype.DXa=function(a,b){var d,g;g=this.config.Zma;("location" === g || "video_location" === g && 1 === a) && this.Ab.SS(b);null === (d=this.XP) || void 0 === d?void 0:d.call(this).EGb(a,b);};b.prototype.xg=function(a,b,d,g,c){A.assert(this.Wn,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Wn(a,b,d,g,c);};b.prototype.Bq=function(){var a,b,d;a=this;b=[];if(this.Vi)return (this.console.error("updateRequestUrls, closed Viewable:",this.la),!1);t.Ue.forEach(function(d){a.lb(d) && a.YSb(d) && (d=a.KSb(d),0 < d.length && b.push.apply(b,d));});d=this.GSb();0 < d.length && b.push.apply(b,d);return this.eMb(b);};b.prototype.Nm=function(a,b){var d;d=this.getTracks(1)[0];A.assert(d);if(d.EQ)return d.Nm(a,b);};b.prototype.YSb=function(a){var b,d,g,t,k;if(this.Vi)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1);if(!this.lb(a))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),!1);g=!0;try{for(var m=c.__values(this.yh),p=m.next();!p.done;p=m.next()){t=p.value.bb(a);A.assert(t);k=this.Wk.sL(this.la,t.track.cd);k || t.kb("location selector failed to update streamList");g=g && k;}}catch(ea){b={error:ea};}finally{try{p && !p.done && (d=m["return"]) && d.call(m);}finally{if(b)throw b.error;}}return g;};b.prototype.GSb=function(){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");return this.$e.Bq();};b.prototype.KSb=function(a){var b,d,g,t;g=[];if(this.Vi)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),g);if(!this.lb(a))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),g);try{for(var m=c.__values(this.yh),p=m.next();!p.done;p=m.next()){t=p.value.Bq(a);t.length && g.push.apply(g,t);}}catch(W){b={error:W};}finally{try{p && !p.done && (d=m["return"]) && d.call(m);}finally{if(b)throw b.error;}}return g;};b.prototype.eMb=function(a){var b,d,g;b=this;if(0 === a.length)return !0;d=0;g=[];a.forEach(function(a){var c;if(a.bc){c=a.O;c.eb > b.eb && (g.push({O:c,track:a.stream.track}),++d);}});g.forEach(function(a){var b;b=a.track;a.O.vK([0 === b.I?b:void 0,1 === b.I?b:void 0],void 0,b.I);});return d === a.length;};b.prototype.bl=function(){var a;a=this;this.Wk.bl();this.wo.bl();this.W4 && (A.assert(this.Ez),t.Ue.forEach(function(b){b=a.Ez(b);a.W4.Ypa("rebuffer",b.xla);}));};b.prototype.xna=function(){this.wo.xna();};b.prototype.Yra=function(a,b){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");this.$e.Yra(a,b);};b.prototype.R0=function(){A.assert(this.$e,"Headers not available on old architecture prefetch viewables..");return this.$e.R0();};b.prototype.Wea=function(){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");this.$e.Wea();};b.prototype.RK=function(a){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");this.$e.RK(a);};b.prototype.Ira=function(){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");return this.$e.Ira();};b.prototype.Fj=function(a,b){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");return this.$e.Fj(a,b);};b.prototype.cKa=function(a,b,d){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");this.$e.E5(a,b,d,!0);};b.prototype.yY=function(a,b,d){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");return this.$e.yY(a,b,! !d);};b.prototype.fOb=function(a,b){this.cI.push({stream:a,kxb:b});};b.prototype.pQ=function(){var a;a=this;A.assert(this.Sm,"Streamables not available on old architecture prefetch viewables.");return this.Sm()?[]:this.cI.map(function(b){var d,g;d=b.stream;g=b.kxb;g=g();return {Qh:g.Qh,Hm:g.Hm,Jt:g.Jt,yq:g.yq,Kf:g.Kf,pRa:function(){var g;g=d.hF();a.cI=g?a.cI.filter(function(a){return a.stream !== d;}):a.cI.filter(function(a){return a !== b;});return g;}};});};b.prototype.hF=function(a,b){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");return this.$e.hF(a,b);};b.prototype.tY=function(a,b){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");return this.$e.tY(a,b);};b.prototype.s4=function(a){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");return this.$e.s4(a);};b.prototype.vK=function(a,b,d){A.assert(this.$e,"Headers not available on old architecture prefetch viewables.");return this.$e.vK(a,b,d);};b.prototype.ayb=function(a){var b,d,g;b=a.za;d=a.I;this.X0a(d,a.stream.ca);b=this.zr(d,b);g=this.Lw()?this.config.LSa:0;d=x.Ql()[d];b.Q0a(d,g);this.Mz.emit("onHeaderFragments",a);};b.prototype.jXa=function(a){this.yh.push(a);};b.prototype.L0a=function(a){a=this.yh.indexOf(a);A.assert(-1 !== a,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.yh.splice(a,1);};b.prototype.m3=function(a){var b;null === (b=this.FE) || void 0 === b?void 0:b.Vq(a);};b.prototype.kx=function(a){this.Vi?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",a):void 0 !== a.location && this.DXa(a.I,a.location);};b.prototype.WJ=function(a){this.Vi?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.wo.H5({timestamp:a.kd,url:a.url});};b.prototype.Hj=function(a){var b;null === (b=this.FE) || void 0 === b?void 0:b.zx(a);A.assert(this.Sm && this.PJ,"Requests cannot be handled on old architecture prefetch viewables.");this.Vi?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):this.Sm() || (this.wo.H5({timestamp:a.kd,mediaRequest:a}),this.PJ(a));};b.prototype.TR=function(a,b,d){var g;d && (null === (g=this.FE) || void 0 === g?void 0:g.zx(a));};b.prototype.UR=function(a){var b;if(this.Vi)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",a);else {b=a.kg;this.config.Vxb && b === m.Fk.AF.i8 && 0 < a.Ne && (b=m.Fk.AF.L6);this.wo.oq({url:a.url},a.status,b,a.ki);this.Bq() || this.xg(a.sI || "unknown","NFErr_MC_StreamingFailure",a.kg,a.status,a.ki);}};b.prototype.X0a=function(a,b){this.fFa[a]=b.nma;};b.prototype.Zxb=function(a){var b,d,g;A.assert(this.aJ,"Error handling not available on old architecture prefetch viewables.");if(!this.Dl){b=a.HAb;d=a.hHb;g=a.iHb;a=a.jHb;this.console.warn("Streaming failure, isBuffering " + this.aJ() + " is permanent: " + b + ", last error code: " + d + ", last http code: " + g + ", last native code: " + a);b?(this.console.warn(" > Permanent failure, done"),this.xg("Permanent failure","NFErr_MC_StreamingFailure",d,g,a)):this.aJ()?(this.console.warn(" > We are buffering, calling it!"),this.xg("Temporary failure while buffering","NFErr_MC_StreamingFailure",a,g,a)):(this.console.warn(" > Resetting failures"),this.wo.o4());}};b.prototype.Yxb=function(){A.assert(this.Xp,"Error handling not available on old architecture prefetch viewables.");this.Dl || (this.Bq(),this.Xp());};return b;})(f.xs);b.jU=a;},function(f,b){function a(a){var b;b={profile:a.spoofedProfile || a.profile,Uha:a.max_framerate_value,Tha:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,mIb:a.pixelAspectX,nIb:a.pixelAspectY,Gp:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile && (b.b5b=a.profile);return b;}Object.defineProperty(b,"__esModule",{value:!0});b.wOa=b.vOa=void 0;b.vOa=function(b,l,k){var c;c=[{},{}];(0 === k?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(g,p){b[g].some(function(b,g){return g === l[p]?(c[p]=a(b),!0):!1;});});return c;};b.wOa=a;},function(f,b,a){var r;function c(a){this.kH=a;this.reset();}function l(a){this.Ni=new c(a);this.ce=0;this.Xb=null;}function k(a,b){this.kH=a;this.hFa=b;this.reset();}r=a(8);c.prototype.MFa=function(a,b){this.ab+=a;this.Ii+=a;this.oc+=b;this.wj.push({d:a,PY:b});};c.prototype.VN=function(){var a;for(;this.Ii > this.kH;){a=this.wj.shift();this.oc-=a.PY;this.Ii-=a.d;}};c.prototype.reset=function(){this.wj=[];this.ab=null;this.Ii=this.oc=0;};c.prototype.setInterval=function(a){this.kH=a;this.VN();};c.prototype.start=function(a){r.Ua(this.ab) && (this.ab=a);};c.prototype.add=function(a,b,d){r.Ua(this.ab) && (this.ab=b);b > this.ab && this.MFa(b - this.ab,0);this.MFa(d > this.ab?d - this.ab:0,a);this.VN();};c.prototype.get=function(){return {Ga:Math.floor(8 * this.oc / this.Ii),Uh:0};};l.prototype.reset=function(){this.Ni.reset();this.ce=0;this.Xb=null;};l.prototype.add=function(a,b,d){!r.Ua(this.Xb) && d > this.Xb && (b > this.Xb && (this.ce+=b - this.Xb),this.Xb=null);this.Ni.add(a,b - this.ce,d - this.ce);};l.prototype.start=function(a){!r.Ua(this.Xb) && a > this.Xb && (this.ce+=a - this.Xb,this.Xb=null);this.Ni.start(a - this.ce);};l.prototype.stop=function(a){this.Xb=r.Ua(this.Xb)?a:Math.min(a,this.Xb);};l.prototype.get=function(){return this.Ni.get();};l.prototype.setInterval=function(a){this.Ni.setInterval(a);};k.prototype.reset=function(){this.wj=[];this.oc=this.Ii=0;};k.prototype.add=function(a,b,d,c){void 0 !== c && !0 === c && (b=d - b,this.Ii+=b,this.oc+=a,this.wj.push({d:b,PY:a}),this.VN());};k.prototype.VN=function(){var a;for(;this.Ii > this.kH || this.wj.length > this.hFa;){a=this.wj.shift();this.oc-=a.PY;this.Ii-=a.d;}};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.get=function(){return {Ga:Math.floor(8 * this.oc / this.Ii),Uh:0};};k.prototype.setInterval=function(a,b){this.kH=a;this.hFa=b;this.VN();};f.V={NVb:c,q5a:l,Z$a:k};},function(f,b,a){var g,p,d,m,t,x;function c(a){var b;b=a.Iba;this.H=a;this.Hi=p.Ve.HAVE_NOTHING;this.CG=a.CG;a=new t(this.CG);this.hO=a.create("throughput-location-history",b);this.Dv=a.create("respconn-location-history",b);this.wv=a.create("respconn-location-history",b);this.iY=a.create("throughput-tdigest-history",b);this.tX=a.create("throughput-iqr-history",b);this.ab=null;}function l(a,b,g,m,p){this.vv=new c(p);this.vp=[];this.Ucb=d.time.da() - Date.now() % 864E5;this.uv=null;this.H=p;for(a=0;a < m;++a){this.vp.push(new c(p));}}function k(a,b,d){return g.has(a,b)?a[b]:a[b]=d;}function r(a,b){var d;this.H=a;this.lGa=b;this.hMa();this.tN=new c(this.H);this.EN();d=a.Zfa;d && (d={Cd:p.Ve.eM,La:{Ga:parseInt(d,10),Uh:0},Rh:{Ga:0,Uh:0},Er:{Ga:0,Uh:0}},this.get=function(){return d;});}g=a(8);p=a(22);b=a(10);d=a(3);m=b.cwa;t=a(429).Xva;new d.Console("ASEJS_LOCATION_HISTORY","media|asejs");x={Cd:p.Ve.HAVE_NOTHING};c.prototype.yC=function(a,b){this.Hi=b;this.hO.add(a);this.iY.add(a);this.ab=d.time.da();};c.prototype.lF=function(a,b){this.tX.set(a,b);};c.prototype.Mv=function(a){this.Dv.add(a);};c.prototype.Lv=function(a){this.wv.add(a);};c.prototype.$c=function(){var a,b,c,m,p,t;a=this.hO.$c();b=this.Dv.$c();c=this.wv.$c();m=this.tX.$c();p=this.iY.$c();if(g.Ua(a) && g.Ua(b) && g.Ua(c))return null;t={c:this.Hi,t:d.time.Sma(this.ab)};g.Ua(a) || (t.tp=a);g.Ua(b) || (t.rt=b);g.Ua(c) || (t.hrt=c);g.Ua(m) || (t.iqr=m);g.Ua(p) || (t.td=p);return t;};c.prototype.je=function(a){var b;b=d.time.now();if(!(a && g.has(a,"c") && g.has(a,"t") && g.has(a,"tp") && g.isFinite(a.c) && g.isFinite(a.t)) || 0 > a.c || a.c > p.Ve.eM || a.t > b || !this.hO.je(a.tp))return (this.Hi=p.Ve.HAVE_NOTHING,this.uv=this.ab=null,this.hO.je(null),this.Dv.je(null),this.wv.je(null),!1);this.Hi=a.c;this.ab=d.time.mna(a.t);this.Dv.je(g.has(a,"rt")?a.rt:null);this.wv.je(g.has(a,"hrt")?a.hrt:null);g.has(a,"iqr") && this.tX.je(a.iqr);g.has(a,"td") && this.iY.je(a.td);return !0;};c.prototype.get=function(){var a,b,c,t,k,r;a=this.H;if(g.Ua(this.ab))return x;b=(d.time.da() - this.ab) / 1E3;b > a.ocb?this.Hi=p.Ve.HAVE_NOTHING:b > a.Lbb && (this.Hi=Math.min(this.Hi,p.Ve.nB));a=this.hO.get();c=this.Dv.get();t=this.wv.get();k=this.tX.get();r=this.iY.get();b={Xj:b,Cd:this.Hi,La:a,Rh:c,Er:t,Fr:k,jj:r};a && (b.j6b=m.prototype.noa.bind(a));c && (b.E5b=m.prototype.noa.bind(c));t && (b.w3b=m.prototype.noa.bind(t));return b;};c.prototype.time=function(){return this.ab;};c.prototype.BG=function(){this.get();d.time.da();};l.prototype.tj=function(){return ((d.time.da() - this.Ucb) / 1E3 / 3600 / (24 / this.vp.length) | 0) % this.vp.length;};l.prototype.$c=function(){var a;a={g:this.vv.$c(),h:this.vp.map(function(a){return a.$c();})};g.Ua(this.uv) || (a.f=d.time.Sma(this.uv));return a;};l.prototype.je=function(a){var b,c;if(!this.vv.je(a.g))return !1;b=this.vp.length;c=!1;this.vp.forEach(function(d,g){c=!d.je(a.h[g * a.h.length / b | 0]) || c;});this.uv=g.has(a,"f")?d.time.mna(a.f):null;return c;};l.prototype.yC=function(a,b){this.vv.yC(a,b);this.vp[this.tj()].yC(a,b);this.uv=null;};l.prototype.lF=function(a,b){this.vv.lF(a,b);this.vp[this.tj()].lF(a,b);};l.prototype.Mv=function(a){this.vv.Mv(a);this.vp[this.tj()].Mv(a);};l.prototype.Lv=function(a){this.vv.Lv(a);this.vp[this.tj()].Lv(a);};l.prototype.fail=function(a){this.uv=a;};l.prototype.get=function(){var a,b;if(!g.Ua(this.uv)){if((d.time.da() - this.uv) / 1E3 < this.H.Kbb)return {Cd:p.Ve.HAVE_NOTHING,Tp:!0};this.uv=null;}a=this.vp[this.tj()].get();b=this.vv.get();a=a.Cd >= b.Cd?a:b;a.Tp=!1;return a;};l.prototype.time=function(){return this.vv.time();};l.prototype.BG=function(a){this.vv.BG(a + ": global");this.vp.forEach(function(b,d,c){g.Ua(b.time()) || (d=24 * d / c.length,b.BG(a + ":  " + ((10 > d?"0":"") + d + "00") + "h"));});};r.prototype.BEa=function(a,b){var d;d=this.H;a=k(this.By,a,{});return k(a,b,new l(0,0,0,d.AFa || 4,d));};r.prototype.EN=function(){var a,b;a=d.storage.get("lh");b=d.storage.get("gh");a && this.Hca(a);b && this.Yeb(b);};r.prototype.Nba=function(){var a;a={};g.ee(this.By,function(b,d){g.ee(b,function(b,g){k(a,d,{})[g]=b.$c();},this);},this);return a;};r.prototype.Yeb=function(a){this.tN.je(a);};r.prototype.Hca=function(a){var b,d;b=null;d=this.H;g.ee(a,function(a,c){g.ee(a,function(a,m){var p;p=new l(0,0,0,d.AFa || 4,d);p.je(a)?(k(this.By,c,{})[m]=p,b=!0):g.Ua(b) && (b=!1);},this);},this);return g.Ua(b)?!0:b;};r.prototype.save=function(){var a;a=this.Nba();d.storage.set("lh",a);d.storage.set("gh",this.tN.$c());this.lGa && this.lGa.kqa(this.tN.$c());};r.prototype.hMa=function(a){a?(g.has(this.By,a) && delete this.By[a],this.aX == a && (this.VB=this.aX="",this.El=null)):(this.By={},this.VB=this.aX="",this.El=null);};r.prototype.SS=function(a){this.aX=a;this.El=null;};r.prototype.Q4=function(a){this.VB=a;this.El=null;};r.prototype.pX=function(){g.Ua(this.El) && (this.El=this.BEa(this.aX,this.VB));return this.El;};r.prototype.yC=function(a,b){this.pX().yC(a,b);this.tN.yC(a,b);};r.prototype.lF=function(a,b){a && a.qk && a.$i && a.sk && (this.pX().lF(a,b),this.tN.lF(a,b));};r.prototype.Mv=function(a){this.pX().Mv(a);};r.prototype.Lv=function(a){this.pX().Lv(a);};r.prototype.fail=function(a,b){this.BEa(a,this.VB).fail(b);};r.prototype.get=function(a,b){var d,c,m,t;a=(a=this.By[a])?a[this.VB]:null;d=null;if(a && (d=a.get(),d.Cd > p.Ve.HAVE_NOTHING))return d;if(!1 === b)return x;c=d=null;m=!1;t=null;g.ee(this.By,function(a){g.ee(a,function(a,b){var g;if(!m || b == this.VB){g=a.get();g && (!c || c <= g.Cd) && (!t || c < g.Cd || t < a.time()) && (c=g.Cd,m=b == this.VB,t=a.time(),d=g);}},this);},this);return d?d:x;};r.prototype.BG=function(){g.ee(this.By,function(a,b){g.ee(a,function(a,d){a.BG(b + ":" + d);});});};f.V=r;},function(f,b,a){var g;function c(a,b,c){this.eI=!1 === a;this.$H=a || .01;this.B8=void 0 === b?25:b;this.Sta=void 0 === c?1.1:c;this.Ih=new g(l);this.reset();}function l(a,b){return a.sf > b.sf?1:a.sf < b.sf?-1:0;}function k(a,b){return a.iu - b.iu;}function r(a){this.config=a || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?a.$H:!1);this.Ipb=this.config.ratio || .9;this.Jpb=this.config.h6b || 1E3;this.O2=0;}g=a(939).J9a;c.prototype.reset=function(){this.Ih.clear();this.yla=this.n=0;};c.prototype.size=function(){return this.Ih.size;};c.prototype.vn=function(a){var b;b=[];a?(this.ZW(!0),this.Ih.ee(function(a){b.push(a);})):this.Ih.ee(function(a){b.push({sf:a.sf,n:a.n});});return b;};c.prototype.summary=function(){return [(this.eI?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.li(0),"Q1  = " + this.li(.25),"Q2  = " + this.li(.5),"Q3  = " + this.li(.75),"max = " + this.li(1)].join("\n");};c.prototype.push=function(a,b){b=b || 1;a=Array.isArray(a)?a:[a];for(var d=0;d < a.length;d++){this.cEa(a[d],b);}};c.prototype.Ioa=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b < a.length;b++){this.cEa(a[b].sf,a[b].n);}};c.prototype.ZW=function(a){var b;if(!(this.n === this.yla || !a && this.Sta && this.Sta > this.n / this.yla)){b=0;this.Ih.ee(function(a){a.iu=b + a.n / 2;b=a.QH=b + a.n;});this.n=this.yla=b;}};c.prototype.Ssb=function(a){var b,g;if(0 === this.size())return null;b=this.Ih.lowerBound({sf:a});g=null === b.data()?b.tE():b.data();return g.sf === a || this.eI?g:(b=b.tE()) && Math.abs(b.sf - a) < Math.abs(g.sf - a)?b:g;};c.prototype.VG=function(a,b,g){a={sf:a,n:b,QH:g};this.Ih.Eo(a);this.n+=b;return a;};c.prototype.GW=function(a,b,g){b !== a.sf && (a.sf+=g * (b - a.sf) / (a.n + g));a.QH+=g;a.iu+=g / 2;a.n+=g;this.n+=g;};c.prototype.cEa=function(a,b){var d,g,c;d=this.Ih.min();g=this.Ih.max();c=this.Ssb(a);c && c.sf === a?this.GW(c,a,b):c === d?this.VG(a,b,0):c === g?this.VG(a,b,this.n):this.eI?this.VG(a,b,c.QH):(d=c.iu / this.n,Math.floor(4 * this.n * this.$H * d * (1 - d)) - c.n >= b?this.GW(c,a,b):this.VG(a,b,c.QH));this.ZW(!1);!this.eI && this.B8 && this.size() > this.B8 / this.$H && this.gw();};c.prototype.Hib=function(a){var b,g;this.Ih.Bl=k;b=this.Ih.upperBound({iu:a});this.Ih.Bl=l;g=b.tE();a=g && g.iu === a?g:b.next();return [g,a];};c.prototype.li=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.ceb,this);return Array.isArray(a)?b:b[0];};c.prototype.ceb=function(a){var b,g;if(0 !== this.size()){this.ZW(!0);this.Ih.min();this.Ih.max();a*=this.n;b=this.Hib(a);g=b[0];b=b[1];return b === g || null === g || null === b?(g || b).sf:this.eI?a <= g.QH?g.sf:b.sf:g.sf + (a - g.iu) * (b.sf - g.sf) / (b.iu - g.iu);}};c.prototype.gw=function(){var a;if(!this.IJa){a=this.vn();this.reset();for(this.IJa=!0;0 < a.length;){this.Ioa(a.splice(Math.floor(Math.random() * a.length),1)[0]);}this.ZW(!0);this.IJa=!1;}};r.prototype=Object.create(c.prototype);r.prototype.constructor=r;r.prototype.push=function(a){c.prototype.push.call(this,a);this.nkb();};r.prototype.VG=function(a,b,g){this.O2+=1;c.prototype.VG.call(this,a,b,g);};r.prototype.GW=function(a,b,g){1 === a.n && --this.O2;c.prototype.GW.call(this,a,b,g);};r.prototype.nkb=function(){!("auto" !== this.mode || this.size() < this.Jpb) && this.O2 / this.size() > this.Ipb && (this.mode="cont",this.eI=!1,this.$H=this.config.$H || .01,this.gw());};f.V={TDigest:c,Digest:r};},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.sF=void 0;c=a(173);l=a(242);k=a(922);r=a(101);g=a(5);f=(function(){function a(a,b){var d;d=this;this.Nf=new l(a,b);this.$m=new k(a);this.Ab=new r(this.$m,this.Nf,a);c.Su.jlb(a);a.z3 && setInterval(function(){d.Nf.save();d.$m.save();},a.z3);}a.COa=function(b,d){void 0 === p?(a.config=b,a.Jx=d,p=new a(b,d)):(g.assert(a.config === b),g.assert(a.Jx === d));return p;};a.reset=function(){a.config=void 0;p=a.Jx=void 0;};return a;})();b.sF=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.cEb=b.Ue=void 0;b.Ue=[0,1];b.cEb=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,A,h,E;Object.defineProperty(b,"__esModule",{value:!0});b.QB=void 0;c=a(0);l=a(66);k=a(12);r=a(78);g=a(7);p=a(59);d=a(18);m=a(373);t=a(16);x=a(734);A=a(13);h=a(2);(function(a){a[a.JV=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.rM=3]="LOAD_FAILED";})(E || (E={}));f=(function(){function a(a,b,d,c,m,t,k,l,f,x,A,h,J,L,n,q){this.j=a;this.jb=b;this.HD=d;this.wd=c;this.ow=m;this.Bga=t;this.Kl=k;this.displayName=l;this.wn=f;this.rS=x;this.profile=A;this.Nr=h;this.cna=J;this.otb=L;this.D1=n;this.Br=q;this.type=r.Qg.u5;this.rs=void 0;this.Go=!(!A || A != p.yl.SF && A != p.yl.EV);this.eh={bcp47:k,trackId:b,downloadableId:c,isImageBased:this.Go};this.log=g.Ig(a,"TimedTextTrack");this.state=E.JV;this.request=this.request.bind(this);}a.prototype.getEntries=function(){var a;a=this;if(this.j.state.value === A.yb.CLOSED || this.j.state.value === A.yb.CLOSING)return Promise.reject({ia:!1});if(this.Go)return this.Izb();this.sLa || (this.sLa=this.rLa());return this.sLa.then(function(b){return a.vHb(b);});};a.prototype.$c=function(){return this.state;};a.prototype.F1=function(){return this.cna;};a.prototype.z1=function(){return this.otb;};a.prototype.Fz=function(a,b){var d;d=[];try{this.Go?d=this.nf && this.nf.Fz(a,b) || []:this.entries && (d=this.entries.filter(function(d){var g;g=S([d.startTime,d.endTime]);d=g.next().value;g=g.next().value;return d >= a && d <= b || d <= a && a <= g;}));}catch(P){this.log.error("error in getSubtitles",P,{start:a,end:b,isImageBased:this.Go});}return d;};a.prototype.gxb=function(){var b;if(!t.ec(this.T))try{this.T=this.Go?(b=this.Fz(0,a.F7a)[0]) && b.displayTime:(b=this.entries && this.entries[0]) && b.startTime;}catch(C){this.log.error("exception in getStartPts",C);}return this.T;};a.prototype.U4=function(a){return this.j.state.value === A.yb.CLOSING || this.j.state.value === A.yb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.Hc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};a.prototype.Izb=function(){var a,b,d,c,m,p,r,l,f;a=this;if(!this.tQa){this.state=E.LOADING;b={bib:!1,profile:this.profile,Kma:this.Nr.offset,jTa:this.Nr.length,Fc:this.j.gb.value || 0,bufferSize:k.config.gzb,D4:{Va:this.j.i0()}};d=g.Ig(this.j,"TimedTextTrack");d.warn=d.trace.bind(d);d.info=d.debug.bind(d);c=x.mKa(this.j,d,this.request,this);m=(this.Bga || []).filter(function(b){return (b.id in a.ow);}).sort(function(a,b){return a.$f - b.$f;}).map(function(a){return a.id;});p=0;r={};l=!0;f=function(d,x){var A;if(t.ec(d)){if(l || a.U4(a.yr(a.hr,"","image"))){l=!1;a.Nr.url=a.ow[a.hr];b.url=a.Nr.url;r[d]=(r[d] || 0) + 1;A=new g.rCa(c,b);A.on("ready",function(){a.nf=A;x({ia:!0,track:a});});A.on("error",function(b){var g;b=Object.assign({ia:!1},b);g=a.yr(a.hr,a.Nr.url,"image");g.details={midxoffset:a.Nr.offset,midxsize:a.Nr.length};g.errorstring=b.errorString;r[d] <= k.config.V_a?(a.G_(g,!0,"retry with current cdn"),a.Zda(r[d]).then(function(b){a.log.trace("retry timed text download after " + b,a.yr(a.hr,"","image"));f(a.hr,x);})):(a.hr=m[p++],a.hr?(a.G_(g,!0,"retry with next cdn"),a.Zda(r[d]).then(function(b){a.log.trace("retry timed text download after " + b,a.yr(a.hr,"","image"));f(a.hr,x);})):(a.G_(g,!1,"all cdns tried"),x({ia:!1,XEb:"all cdns failed for image subs",track:a})));});A.start();}else x({ia:!1,vt:!0});}else (x({ia:!1,XEb:"cdnId is not defined for image subs downloadUrl"}),a.G_(a.yr(0,"","image"),!1,"cdnId is undefined"));};this.hr=m[p++];this.tQa=new Promise(function(b,d){f(a.hr,function(g){g.ia?(a.log.info("Loaded image subtitle manager"),a.state=E.LOADED,b(g)):(a.log.error("Unable to load image subtitles manager",g),a.state=E.rM,d(g));});});}return this.tQa;};a.prototype.G_=function(a,b,d){a=Object.assign({},a,{O6b:b,status:d});this.j.fireEvent(A.W.fL,a);this.log.warn("subtitleerror event",a);};a.prototype.request=function(a,b){var d;d=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,rs:this.rs,responseType:l.xQ,headers:{},vc:this.lia(this.hr)};this.j.d1.download(a,function(a){d.log.trace("imgsub: request status " + a.ia);a.ia?b(null,new Uint8Array(a.content)):b({ja:a.ja,Ie:a.Ie});});};a.prototype.yr=function(a,b,d){return {currentCdnId:a,url:b,profile:this.profile,dlid:this.wd,subtitletype:d,bcp47:this.Kl,trackId:this.jb,cdnCount:Object.keys(this.ow).length,isImageBased:this.Go};};a.prototype.lia=function(a){return (this.Bga || []).find(function(b){return b.id === a;});};a.prototype.rLa=function(){var g,m;function a(a){return c.__awaiter(g,void 0,void 0,function(){var c,p,t,k,r;function g(){for(;;){switch(c){case 0:t=d();p=k.yr(a.vc.id,a.url,"text");p.errorstring=a.reason;if(!t || !k.U4(p)){c=1;break;}c=-1;return {value:k.Zda(m[t.id]).then(b),done:!0};case 1:return (c=-1,{value:Promise.reject({ia:!1,vt:!0}),done:!0});default:return {value:void 0,done:!0};}}}c=0;k=this;r={next:function(){return g();},"throw":function(){return g();},"return":function(){throw Error("Not yet implemented");}};n();r[Symbol.iterator]=function(){return this;};return r;});}function b(){return c.__awaiter(g,void 0,void 0,function(){var g,c,p,t,k;function b(){for(;;){switch(g){case 0:c=(p=d()) && t.ow[p.id];if(!p || !c){g=1;break;}m[p.id]=(m[p.id] || 0) + 1;g=-1;return {value:t.fqb(c,p)["catch"](a),done:!0};case 1:return (g=-1,{value:Promise.reject({}),done:!0});default:return {value:void 0,done:!0};}}}g=0;t=this;k={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};n();k[Symbol.iterator]=function(){return this;};return k;});}function d(){return (g.Bga || []).find(function(a){return ! !((m[a.id] || 0) < k.config.V_a && g.ow[a.id]);});}g=this;this.state=E.LOADING;m={};return b();};a.prototype.Zda=function(a){return new Promise(function(b){var d;d=1E3 * Math.min(Math.pow(2,a - 1),8);setTimeout(function(){return b(d);},d);});};a.prototype.vHb=function(a){var b,g;b=this;g=this.j.wL;d.Ya(g);return m.hVa(a,g.width / g.height,k.config.W_a,k.config.pra).then(function(a){var d;if(k.config.X_a){d=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:d,endTime:d+=k.config.X_a});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.eh);b.state=E.LOADED;return {ia:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",h.Iq(a),b.eh,{url:a.url});b.state=E.rM;a.reason="parseerror";a.track=b;throw a;});};a.prototype.fqb=function(a,b){var d;d=this;this.log.trace("Downloading",b && ({vc:b.id}),this.yr(b.id,a,"text"));return new Promise(function(g,c){var m;m={responseType:l.cka,url:a,track:d,vc:b,cD:"tt-" + d.Kl};d.j.d1.download(m,function(a){a.ia?g(a.content):(a.reason="downloadfailed",a.url=m.url,a.track=d,a.vc=b,c(a));});});};a.F7a=72E7;a.aaa=E;return a;})();b.QB=f;},function(f,b,a){var l,k,r,g;function c(a,b){return k.sM.call(this,a,b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BW=void 0;l=a(120);k=a(439);r=a(78);g=a(141);M(c,k.sM);c.prototype.Mna=function(a){var b,c;b=this;a=S(l.pu(function(a){return a.tc && 0 < a.tc.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.Or});});a=c.map(function(a){var d;d=a.wn;d={type:r.Qg.video,jb:a.Or,HD:a.xra,wn:g.xW[d.toLowerCase()] || g.Nn.ZF,rS:d,tc:[],eh:{},lK:a.lK};d.tc=b.p0a(a.tc,d);b.log.trace("Transformed video track",{StreamCount:d.tc.length});return d;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};c.prototype.DHb=function(a){var b;b=a.map(function(a){return a.lK;}).filter(Boolean);b=[].concat.apply([],[].concat(da(b))).map(function(a){return a.$;});a=a.map(function(a){return a.Iga;}).filter(Boolean).map(function(a){return a.$;});return 0 < b.length?b:a;};b.BW=c;},function(f,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rW=void 0;l=a(9);c.Yia=function(){var a;a=l.Ms && l.Ms.height;return a?1080 <= a?1080:720:720;};b.rW=c;},function(f){f.V=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,l){return a.apply(this,arguments);};case 3:return function(b,l,k){return a.apply(this,arguments);};case 4:return function(b,l,k,r){return a.apply(this,arguments);};case 5:return function(b,l,k,r,g){return a.apply(this,arguments);};case 6:return function(b,l,k,r,g,p){return a.apply(this,arguments);};case 7:return function(b,l,k,r,g,p,d){return a.apply(this,arguments);};case 8:return function(b,l,k,r,g,p,d,m){return a.apply(this,arguments);};case 9:return function(b,l,k,r,g,p,d,m,t){return a.apply(this,arguments);};case 10:return function(b,l,k,r,g,p,d,m,t,f){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(f,b,a){var k,r,g,p;function c(a,b,g){for(var d=g.next();!d.done;){if((b=a["@@transducer/step"](b,d.value)) && b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}d=g.next();}return a["@@transducer/result"](b);}function l(a,b,c,p){return a["@@transducer/result"](c[p](g(a["@@transducer/step"],a),b));}k=a(1014);r=a(1012);g=a(1011);h();h();n();p="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";f.V=function(a,b,g){"function" === typeof a && (a=r(a));if(k(g)){for(var d=0,m=g.length;d < m;){if((b=a["@@transducer/step"](b,g[d])) && b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}d+=1;}return a["@@transducer/result"](b);}if("function" === typeof g["fantasy-land/reduce"])return l(a,b,g,"fantasy-land/reduce");if(null != g[p])return c(a,b,g[p]());if("function" === typeof g.next)return c(a,b,g);if("function" === typeof g.reduce)return l(a,b,g,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(f){f.V=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.TM=void 0;b.TM="TransportConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.mU=void 0;b.mU="BookmarkSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.J7=b.Xx=void 0;f=b.Xx || (b.Xx={});f.S$a="unknown";f.Gsa="absent";f.WAa="present";f.Error="error";b.J7="ExternalDisplayLogHelperSymbol";},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.fy=void 0;c=a(32);f=a(104);l=a(149);k=new f.my();b.fy=(function(){function a(){this.type=c.Tx.AB;}a.Bfa=function(){return {isTypeSupported:function(b){var g;try{if(-1 == b.toLowerCase().indexOf("codec"))return O.MSMediaKeys.isTypeSupported(b,"video/mp4");g=b.split("|");return 1 === g.length?O.MSMediaKeys.isTypeSupported(l.Db.Ps,b):"probably" === a.$qa(g[0],g[1]);}catch(d){return !1;}}};};a.vZ=function(b,c,d){c=k.format(a.qL,c);if(0 === d.length)return c;d=k.format('features="{0}"',d.join());return k.format("{0}|{1}{2}",b,c,d);};a.$qa=function(a,b){var d;try{d=O.MSMediaKeys.isTypeSupportedWithFeatures?O.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(m){d="exception";}return d;};a.qL='video/mp4;codecs="{0},mp4a";';return a;})();},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.wU=b.O6=void 0;c=a(59);l=a(143);k=a(32);f=a(104);r=a(144);g=a(463);p=new f.my().format;a=(function(){function a(b,d,g,c){var m;m=l.lm.call(this,b,d,g) || this;m.cast=c;m.type=k.Ik.N6;b=a.I$a;m.WT[k.Bd.zW]=r.Kd.dM + "; " + b;m.WT[k.Bd.Zu]=r.Kd.Zu + "; " + b;b=r.Kd.d4a.find(function(b){return m.$v(p(a.qL,b));});m.WT[k.Bd.Vu]=b;return m;}M(a,l.lm);a.Bfa=function(b,d){return (d=a.YXa(d))?{isTypeSupported:d}:b;};a.YXa=function(a){if("undefined" !== typeof a)return a.framework && a.framework.platform && a.framework.platform.canDisplayType?a.framework.platform.canDisplayType:a.receiver && a.receiver.platform && a.receiver.platform.canDisplayType || a.__platform__ && a.__platform__.canDisplayType || void 0;};a.prototype.Hu=function(b){var d,g;d=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().j1a){g={};if(d)return (g[k.Bi.Gs]="1.4",g[k.Bi.sB]="2.2",d().then(function(a){return a === g[b];}));d=this.zSa(b);d=p(a.qL,r.Kd.dM) + " hdcp=" + d;d=this.$v.bind(this,d);return Promise.resolve(d());}return Promise.resolve(!1);};a.prototype.zI=function(a){return this.WT[a];};a.prototype.FI=function(){var a;a=this;return this.config().j1a?this.Hu(k.Bi.sB).then(function(b){return b?Promise.resolve(k.Bi.sB):a.Hu(k.Bi.Gs).then(function(a){return a?Promise.resolve(k.Bi.Gs):Promise.resolve(void 0);});}).then(function(b){return a.kP(b);}):Promise.resolve(void 0);};a.prototype.YC=function(){var b,d;b=l.lm.prototype.YC.call(this);d=a.LPa;b[c.Y.UU]=["avc1.4D4028","width=1920; height=1080; "];b[c.Y.R7]=["hev1.2.6.L90.B0",d];b[c.Y.S7]=["hev1.2.6.L93.B0",d];b[c.Y.T7]=["hev1.2.6.L120.B0",d];b[c.Y.U7]=["hev1.2.6.L123.B0",d];b[c.Y.V7]=["hev1.2.6.L150.B0","width=3840; height=2160; " + d];b[c.Y.W7]=["hev1.2.6.L153.B0","width=3840; height=2160; " + d];b[c.Y.fM]=["hev1.2.6.L90.B0",d];b[c.Y.gM]=["hev1.2.6.L93.B0",d];b[c.Y.EF]=["hev1.2.6.L120.B0",d];b[c.Y.hM]=["hev1.2.6.L123.B0",d];b[c.Y.WU]=["hev1.2.6.L150.B0","width=3840; height=2160; " + d];b[c.Y.XU]=["hev1.2.6.L153.B0","width=3840; height=2160; " + d];b[c.Y.c8]="hev1.1.6.L90.B0";b[c.Y.d8]="hev1.1.6.L93.B0";b[c.Y.e8]="hev1.1.6.L120.B0";b[c.Y.f8]="hev1.1.6.L123.B0";b[c.Y.g8]=["hev1.1.6.L150.B0","width=3840; height=2160; "];b[c.Y.h8]=["hev1.1.6.L153.B0","width=3840; height=2160; "];b[c.Y.Y7]="hev1.2.6.L90.B0";b[c.Y.Z7]="hev1.2.6.L93.B0";b[c.Y.a8]="hev1.2.6.L120.B0";b[c.Y.b8]="hev1.2.6.L123.B0";b[c.Y.FF]=["hev1.2.6.L150.B0","width=3840; height=2160; "];b[c.Y.GF]=["hev1.2.6.L153.B0","width=3840; height=2160; "];b[c.Y.bV]="hev1.2.6.L90.B0";b[c.Y.dV]="hev1.2.6.L93.B0";b[c.Y.fV]="hev1.2.6.L120.B0";b[c.Y.hV]="hev1.2.6.L123.B0";b[c.Y.iV]=["hev1.2.6.L150.B0","width=3840; height=2160; "];b[c.Y.jV]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return b;};a.prototype.JNa=function(){return [g.uh.cU,g.uh.cM,g.uh.DF];};a.prototype.Eka=function(){l.lm.prototype.Eka.call(this);!a.YXa(this.cast) && this.dm.push(g.uh.Zu);};a.LPa="eotf=smpte2084";a.r3b="video/mp4;codecs={0}; " + a.LPa;a.I$a="width=3840; height=2160; ";return a;})();b.O6=a;b.wU="CastSDKSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.m$=b.y8=void 0;b.y8="IsTypeSupportedProviderFactorySymbol";b.m$="PlatformIsTypeSupportedSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.uW=b.vaa=void 0;b.vaa="ThroughputTrackerSymbol";b.uW="ThroughputTrackerFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.VV=void 0;b.VV="PboPlaydataFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.mW=void 0;b.mW="SegmentManagerFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.yV=void 0;b.yV="MomentObserverFactory";},function(f,b,a){var l,k,r;function c(a,b,d,c){this.wa=a;this.Xv=b;this.im=d;this.Im=void 0 === c?"General":c;this.efa={};}Object.defineProperty(b,"__esModule",{value:!0});b.MF=void 0;l=a(6);k=a(476);r=a(1076);c.prototype.gda=function(a,b){this.efa[a]=b;};c.prototype.fatal=function(a,b){for(var d=[],g=1;g < arguments.length;++g){d[g - 1]=arguments[g];}this.Sy(l.Di.R5a,a,r.PC(this.Xv,this.AI(d)));};c.prototype.error=function(a,b){for(var d=[],g=1;g < arguments.length;++g){d[g - 1]=arguments[g];}this.Sy(l.Di.ERROR,a,r.PC(this.Xv,this.AI(d)));};c.prototype.warn=function(a,b){for(var d=[],g=1;g < arguments.length;++g){d[g - 1]=arguments[g];}this.Sy(l.Di.Maa,a,r.PC(this.Xv,this.AI(d)));};c.prototype.info=function(a,b){for(var d=[],g=1;g < arguments.length;++g){d[g - 1]=arguments[g];}this.Sy(l.Di.q8,a,r.PC(this.Xv,this.AI(d)));};c.prototype.trace=function(a,b){for(var d=[],g=1;g < arguments.length;++g){d[g - 1]=arguments[g];}this.Sy(l.Di.wCa,a,r.PC(this.Xv,this.AI(d)));};c.prototype.debug=function(a,b){for(var d=1;d < arguments.length;++d){;}};c.prototype.log=function(a,b){for(var d=1;d < arguments.length;++d){;}this.debug.apply(this,arguments);};c.prototype.write=function(a,b,d){for(var g=[],c=2;c < arguments.length;++c){g[c - 2]=arguments[c];}this.Sy(a,b,r.PC(this.Xv,this.AI(g)));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Im};};c.prototype.Gfa=function(a){return new c(this.wa,this.Xv,this.im,a);};c.prototype.Sy=function(a,b,d){a=new k.M8(a,this.Im,this.wa.zb(),b,d);b=S(this.im.im);for(d=b.next();!d.done;d=b.next()){d=d.value;d(a);}};c.prototype.AI=function(a){return 0 < Object.keys(this.efa).length?[].concat([this.efa],da(a)):a;};b.MF=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.F7=b.ry=void 0;b.ry="_ANY_";b.F7="EnricherSymbol";},function(f){var d,m,t,x,A,h;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(a){if(d === setTimeout)return setTimeout(a,0);if((d === b || !d) && setTimeout)return (d=setTimeout,setTimeout(a,0));try{return d(a,0);}catch(L){try{return d.call(null,a,0);}catch(D){return d.call(this,a,0);}}}function l(b){if(m === clearTimeout)clearTimeout(b);else if(m !== a && m || !clearTimeout)try{m(b);}catch(L){try{m.call(null,b);}catch(D){m.call(this,b);}}else (m=clearTimeout,clearTimeout(b));}function k(){x && A && (x=!1,A.length?t=A.concat(t):h=-1,t.length && r());}function r(){var a;if(!x){a=c(k);x=!0;for(var b=t.length;b;){A=t;for(t=[];++h < b;){A && A[h].EA();}h=-1;b=t.length;}A=null;x=!1;l(a);}}function g(a,b){this.Gtb=a;this.fo=b;}function p(){}f=f.V={};try{d="function" === typeof setTimeout?setTimeout:b;}catch(E){d=b;}try{m="function" === typeof clearTimeout?clearTimeout:a;}catch(E){m=a;}t=[];x=!1;h=-1;f.TTa=function(a){var b;b=Array(arguments.length - 1);if(1 < arguments.length)for(var d=1;d < arguments.length;d++){b[d - 1]=arguments[d];}t.push(new g(a,b));1 !== t.length || x || c(r);};g.prototype.EA=function(){this.Gtb.apply(null,this.fo);};f.title="browser";f.i1b=!0;f.Erb={};f.V0b=[];f.version="";f.G6b={};f.on=p;f.addListener=p;f.once=p;f.TJ=p;f.removeListener=p;f.removeAllListeners=p;f.emit=p;f.kWa=p;f.xJb=p;f.listeners=function(){return [];};f.e1b=function(){throw Error("process.binding is not supported");};f.R1b=function(){return "/";};f.z1b=function(){throw Error("process.chdir is not supported");};f.w6b=function(){return 0;};},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,A;Object.defineProperty(b,"__esModule",{value:!0});b.Ss=void 0;c=a(0);l=a(1);k=a(53);r=a(2);g=a(31);p=a(21);d=a(81);m=a(27);t=a(41);x=a(52);A=a(105);f=(function(){var b,f;function a(a,b,d,g,c,m){this.ER=a;this.is=b;this.dc=d;this.pd=g;this.Lf=c;this.Lg=m;k.Xm(this,"nav");}a.prototype.xw=function(){if(this.Wa)return this.Wa.sessionId;};a.prototype.WLb=function(a,b){return this.ER.requestMediaKeySystemAccess(a,b);};a.prototype.Onb=function(a){return a.createMediaKeys();};a.prototype.Jm=function(a,b){this.Wa=a.createSession(b);};a.prototype.wZ=function(){return Promise.reject(new d.Te(r.K.JU));};a.prototype.SAb=function(){return ! !this.Wa;};a.prototype.yOb=function(a,b){return this.is.sY(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};a.prototype.yI=function(a,b){return this.Wa?this.Wa.generateRequest(a,b[0]):Promise.reject(new d.Te(r.K.JU,r.L.yF,void 0,"Unable to generate a license request, key session is not valid"));};a.prototype.update=function(a){return this.Wa?this.Wa.update(a[0]):Promise.reject(new d.Te(r.K.KU,r.L.yF,void 0,"Unable to update the EME with a response, key session is not valid"));};a.prototype.load=function(a){return this.Wa?this.Wa.load(a):Promise.reject(new d.Te(r.K.E5a,r.L.yF,void 0,"Unable to load a key session, key session is not valid"));};a.prototype.close=function(){var a;this.cfa=void 0;if(!this.Wa)return Promise.reject(new d.Te(r.K.mva,r.L.yF,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.xw() && (a=this.Wa.close());this.Wa=void 0;return a;};a.prototype.remove=function(){return this.Wa?this.Wa.remove():Promise.reject(new d.Te(r.K.sva,r.L.yF,void 0,"Unable to remove a key session, key session is not valid"));};a.prototype.wS=function(){return Promise.reject(new d.Te(r.K.z7,void 0,"Unable to renew a key session, not supported"));};a.prototype.MGa=function(a){if(!this.Wa)throw ReferenceError("Unable to add message handler, key session is not valid");this.Wa.addEventListener(b.xva,a);};a.prototype.IGa=function(a){if(!this.Wa)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Wa.addEventListener(b.wva,a);};a.prototype.GGa=function(a){if(!this.Wa)throw ReferenceError("Unable to add error handler, key session is not valid");this.Wa.addEventListener(b.vva,a);};a.prototype.$fb=function(a){var b;b=this;if(!this.Wa)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.cfa=a;this.Wa.closed.then(function(){var a;return null === (a=b.cfa) || void 0 === a?void 0:a.call(b);});};a.prototype.tXa=function(a){if(!this.Wa)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Wa.removeEventListener(b.xva,a);};a.prototype.qXa=function(a){if(!this.Wa)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Wa.removeEventListener(b.wva,a);};a.prototype.oXa=function(a){if(!this.Wa)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Wa.removeEventListener(b.vva,a);};f=b=a;f.xva="message";f.wva="keystatuseschange";f.vva="error";return f=b=c.__decorate([l.N(),c.__param(0,l.l(g.BB)),c.__param(1,l.l(p.Ae)),c.__param(2,l.l(t.Ai)),c.__param(3,l.l(m.Cf)),c.__param(4,l.l(x.mm)),c.__param(5,l.l(A.py))],f);})();b.Ss=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.hva=b.ey=b.Hs=void 0;b.Hs='video/mp4; codecs="avc1.640028"';b.ey='audio/mp4; codecs="mp4a.40.5"';b.hva="DrmTraitsSymbol";},function(f,b,a){var c,l,k,r;c=this && this.__extends || (function(a,b){function d(){this.constructor=a;}for(var g in b){b.hasOwnProperty(g) && (a[g]=b[g]);}a.prototype=null === b?Object.create(b):(d.prototype=b.prototype,new d());});f=a(23);l=a(501);k=a(184);r=a(268);a=(function(a){function b(b,g){a.call(this);this.fo=b;(this.Aa=g) || 1 !== b.length || (this.xv=!0,this.value=b[0]);}c(b,a);b.create=function(a,g){return new b(a,g);};b.of=function(){var c;for(var a=[],g=0;g < arguments.length;g++){a[g - 0]=arguments[g];}g=a[a.length - 1];r.H1(g)?a.pop():g=null;c=a.length;return 1 < c?new b(a,g):1 === c?new l.IBa(a[0],g):new k.LU(g);};b.Ec=function(a){var b,d,g;b=a.fo;d=a.index;g=a.Nj;d >= a.count?g.complete():(g.next(b[d]),g.closed || (a.index=d + 1,this.Rc(a)));};b.prototype.Dm=function(a){var d,g,c;d=this.fo;g=d.length;c=this.Aa;if(c)return c.Rc(b.Ec,0,{fo:d,index:0,count:g,Nj:a});for(c=0;c < g && !a.closed;c++){a.next(d[c]);}a.complete();};return b;})(f.Bb);b.o6=a;},function(f,b){b.H1=function(a){return a && "function" === typeof a.Rc;};},function(f,b,a){function c(a){var b,g;b=a.Symbol;if("function" === typeof b)return (b.iterator || (b.iterator=b("iterator polyfill")),b.iterator);if((b=a.Set) && "function" === typeof new b()["@@iterator"])return "@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c < b.length;++c){g=b[c];if("entries" !== g && "size" !== g && a.prototype[g] === a.prototype.entries)return g;}return "@@iterator";}f=a(92);b.d6b=c;b.iterator=c(f.root);b.HUb=b.iterator;},function(f,b,a){function c(a){var b;b=a.Symbol;"function" === typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}f=a(92);b.l3b=c;b.observable=c(f.root);b.IUb=b.observable;},function(f,b,a){f=a(92).root.Symbol;b.IE="function" === typeof f && "function" === typeof f["for"]?f["for"]("rxSubscriber"):"@@rxSubscriber";b.JUb=b.IE;},function(f,b){b.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.HU=void 0;b.HU="DrmServiceLogblobBuilderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.vU=void 0;b.vU="CachedDrmDataSymbol";},function(f,b,a){var l,k;function c(a){a?(this.active=!1,this.Wha(a)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.cva=b.GU=void 0;l=a(0);k=a(1);c.prototype.Wha=function(a){this.gc=a.keySessionData?a.keySessionData.map(function(a){return {id:a.id,Vz:a.licenseContextId,lJ:a.licenseId};}):[];this.ea=a.xid;this.u=a.movieId;};c.prototype.Lu=function(){return JSON.parse(JSON.stringify({keySessionData:this.gc?this.gc.map(function(a){return {id:a.id,licenseContextId:a.Vz,licenseId:a.lJ};}):[],xid:this.ea,movieId:this.u}));};b.GU=c;f=(function(){var b;function a(){}a.prototype.create=function(){return new c();};a.prototype.load=function(a){return new c(a);};b=a;return b=l.__decorate([k.N()],b);})();b.cva=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,A,h,E;Object.defineProperty(b,"__esModule",{value:!0});b.kI=b.eme=void 0;f=a(1);c=a(127);l=a(519);k=a(275);r=a(274);g=a(1193);p=a(1192);d=a(107);m=a(126);t=a(1191);x=a(189);A=a(1190);h=a(273);E=a(1189);b.eme=new f.Kc(function(a){a(l.q7).to(k.cva).Z();a(r.vU).to(g.Tta).Z();a(c.$L).CT(p.zWa);a(h.HU).to(E.eva).Z();a(d.dv).Lx(function(a){b.kI.parent=a.ib;return b.kI.get(d.dv);});a(m.xB).Rf(function(){return function(){return new t.zya();};});a(x.RL).to(A.Vta).Z;});b.kI=new f.zU({PE:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.GM=void 0;b.GM="PlatformEmeSymbol";},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(279);a(524);f=(function(){function a(a){this.Sb=a;}a.prototype.when=function(a){this.Sb.VC=a;return new c.lU(this.Sb);};a.prototype.$T=function(){this.Sb.VC=function(a){return null !== a.target && !a.target.Oka() && !a.target.Yka();};return new c.lU(this.Sb);};return a;})();b.D6=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(278);f=(function(){function a(a){this.Sb=a;}a.prototype.nu=function(a){this.Sb.nu=a;return new c.D6(this.Sb);};return a;})();b.lU=f;},function(f,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.qB=void 0;c=/^\S+$/;a.prototype.bD=function(a){return void 0 !== a;};a.prototype.de=function(a){return null !== a && void 0 !== a;};a.prototype.AC=function(b){return a.kHa(b);};a.prototype.ada=function(b){return !(!b || !a.kHa(b));};a.prototype.Ov=function(a){return Array.isArray(a);};a.prototype.lHa=function(a){return !(!a || a.constructor != Uint8Array);};a.prototype.Dh=function(b,c,r){return a.yGa(b,c,r);};a.prototype.$ca=function(b){return a.$ca(b);};a.prototype.zda=function(b,c,r){return a.EY(b,c,r) && 0 === b % 1;};a.prototype.At=function(b,c,r){return a.EY(b,c || 0,r);};a.prototype.mO=function(b){return a.EY(b,1);};a.prototype.Lfb=function(b){return a.EY(b,0,255);};a.prototype.Mfb=function(a){return a === +a && (0 === a || a !== (a | 0)) && !0 && !0;};a.prototype.mHa=function(a){return !(!a || !c.test(a));};a.prototype.bo=function(b){return a.zGa(b);};a.prototype.Fm=function(b){return !(!a.zGa(b) || !b);};a.prototype.lO=function(a){return !0 === a || !1 === a;};a.prototype.sY=function(a){return "function" == typeof a;};a.zGa=function(a){return "string" == typeof a;};a.yGa=function(a,b,c){return "number" == typeof a && !isNaN(a) && isFinite(a) && (void 0 === b || a >= b) && (void 0 === c || a <= c);};a.$ca=function(a){return "number" == typeof a && isNaN(a);};a.EY=function(b,c,r){return a.yGa(b,c,r) && 0 === b % 1;};a.kHa=function(a){return "object" == typeof a;};b.qB=new a();},function(f,b,a){var r;function c(a,b,d,c,t,k,r){this.QT=c;this.g2a=a;this.XTa=b;this.Rma=d;this.eBb=k;this.FA=r;this.split=t;}function l(){this.J={};this.J["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new c("7","8","7","10","1.5",0,0);this.J["7"]=new c("15","16","15","9","4.5",0,0);this.J["15"]=new c("31","32","31","2","5.5",0,0);this.J["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new c("123","124","123","0","0",1,.207298);this.J["124"]=new c("123","124","123","0","0",1,.49076);this.J["64"]=new c("125","126","125","4","40.5",0,0);this.J["125"]=new c("125","126","125","0","0",1,-.00157835);this.J["126"]=new c("125","126","125","0","0",1,.934205);this.J["32"]=new c("65","66","65","135","5.5",0,0);this.J["65"]=new c("127","128","128","4","1272.5",0,0);this.J["127"]=new c("127","128","128","0","0",1,-.510333);this.J["128"]=new c("127","128","128","0","0",1,.18363);this.J["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new c("129","130","129","0","0",1,-.0464542);this.J["130"]=new c("129","130","129","0","0",1,.458833);this.J["16"]=new c("33","34","34","10","2.00001",0,0);this.J["33"]=new c("67","68","67","0","29.5",0,0);this.J["67"]=new c("131","132","131","2","39.5",0,0);this.J["131"]=new c("131","132","131","0","0",1,-.37577);this.J["132"]=new c("131","132","131","0","0",1,.512087);this.J["68"]=new c("133","134","134","140","1.5",0,0);this.J["133"]=new c("133","134","134","0","0",1,.321272);this.J["134"]=new c("133","134","134","0","0",1,-.675396);this.J["34"]=new c("69","70","70","2","24.5",0,0);this.J["69"]=new c("135","136","136","9","28.5",0,0);this.J["135"]=new c("135","136","136","0","0",1,-.0573845);this.J["136"]=new c("135","136","136","0","0",1,-.507455);this.J["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new c("137","138","137","0","0",1,-.503909);this.J["138"]=new c("137","138","137","0","0",1,.450886);this.J["8"]=new c("17","18","17","4","44189.5",0,0);this.J["17"]=new c("35","36","35","2","21.5",0,0);this.J["35"]=new c("71","72","72","0","19.5",0,0);this.J["71"]=new c("139","140","140","9","2.5",0,0);this.J["139"]=new c("139","140","140","0","0",1,.00403497);this.J["140"]=new c("139","140","140","0","0",1,-.312656);this.J["72"]=new c("141","142","141","135","96",0,0);this.J["141"]=new c("141","142","141","0","0",1,-.465786);this.J["142"]=new c("141","142","141","0","0",1,.159633);this.J["36"]=new c("73","74","73","130","89.5",0,0);this.J["73"]=new c("143","144","144","10","4.5",0,0);this.J["143"]=new c("143","144","144","0","0",1,-.76265);this.J["144"]=new c("143","144","144","0","0",1,-.580804);this.J["74"]=new c("145","146","146","10","16.5",0,0);this.J["145"]=new c("145","146","146","0","0",1,.296357);this.J["146"]=new c("145","146","146","0","0",1,-.691659);this.J["18"]=new c("37","38","38","9","1.5",0,0);this.J["37"]=new c("37","38","38","0","0",1,.993951);this.J["38"]=new c("75","76","75","0","19",0,0);this.J["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new c("147","148","147","0","0",1,-.346535);this.J["148"]=new c("147","148","147","0","0",1,-.995745);this.J["76"]=new c("147","148","147","0","0",1,-.99978);this.J["4"]=new c("9","10","9","5","4.5",0,0);this.J["9"]=new c("19","20","19","2","4.5",0,0);this.J["19"]=new c("39","40","39","140","7.5",0,0);this.J["39"]=new c("77","78","78","134","6.5",0,0);this.J["77"]=new c("149","150","150","7","11.5",0,0);this.J["149"]=new c("149","150","150","0","0",1,.729843);this.J["150"]=new c("149","150","150","0","0",1,.383857);this.J["78"]=new c("151","152","151","133","4.5",0,0);this.J["151"]=new c("151","152","151","0","0",1,.39017);this.J["152"]=new c("151","152","151","0","0",1,.0434342);this.J["40"]=new c("79","80","79","133","3.5",0,0);this.J["79"]=new c("153","154","154","8","4.5",0,0);this.J["153"]=new c("153","154","154","0","0",1,-.99536);this.J["154"]=new c("153","154","154","0","0",1,-.00943396);this.J["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new c("155","156","155","0","0",1,.266272);this.J["156"]=new c("155","156","155","0","0",1,.959904);this.J["20"]=new c("41","42","42","10","65.5",0,0);this.J["41"]=new c("81","82","82","7","10.5",0,0);this.J["81"]=new c("157","158","158","2","37.5",0,0);this.J["157"]=new c("157","158","158","0","0",1,-.701873);this.J["158"]=new c("157","158","158","0","0",1,.224649);this.J["82"]=new c("159","160","159","133","9.5",0,0);this.J["159"]=new c("159","160","159","0","0",1,.0955181);this.J["160"]=new c("159","160","159","0","0",1,-.58962);this.J["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new c("161","162","161","135","31",0,0);this.J["161"]=new c("161","162","161","0","0",1,-.229692);this.J["162"]=new c("161","162","161","0","0",1,.88595);this.J["84"]=new c("163","164","164","1","13.5",0,0);this.J["163"]=new c("163","164","164","0","0",1,-.992157);this.J["164"]=new c("163","164","164","0","0",1,.922159);this.J["10"]=new c("21","22","22","4","486",0,0);this.J["21"]=new c("43","44","44","133","4.5",0,0);this.J["43"]=new c("85","86","86","10","4.5",0,0);this.J["85"]=new c("165","166","166","4","158.5",0,0);this.J["165"]=new c("165","166","166","0","0",1,-.127778);this.J["166"]=new c("165","166","166","0","0",1,.955189);this.J["86"]=new c("165","166","166","0","0",1,-.994012);this.J["44"]=new c("87","88","88","1","3.5",0,0);this.J["87"]=new c("167","168","168","135","7",0,0);this.J["167"]=new c("167","168","168","0","0",1,-.997015);this.J["168"]=new c("167","168","168","0","0",1,.400821);this.J["88"]=new c("169","170","169","130","36",0,0);this.J["169"]=new c("169","170","169","0","0",1,-.898638);this.J["170"]=new c("169","170","169","0","0",1,.56129);this.J["22"]=new c("45","46","45","9","2.5",0,0);this.J["45"]=new c("89","90","90","9","1.5",0,0);this.J["89"]=new c("171","172","171","10","10.5",0,0);this.J["171"]=new c("171","172","171","0","0",1,.573986);this.J["172"]=new c("171","172","171","0","0",1,-.627266);this.J["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new c("173","174","173","0","0",1,.925273);this.J["174"]=new c("173","174","173","0","0",1,-.994805);this.J["46"]=new c("91","92","91","136","5.5",0,0);this.J["91"]=new c("175","176","175","10","10.5",0,0);this.J["175"]=new c("175","176","175","0","0",1,.548352);this.J["176"]=new c("175","176","175","0","0",1,-.879195);this.J["92"]=new c("177","178","178","8","14.5",0,0);this.J["177"]=new c("177","178","178","0","0",1,.457305);this.J["178"]=new c("177","178","178","0","0",1,-.998992);this.J["2"]=new c("5","6","5","10","2.5",0,0);this.J["5"]=new c("11","12","11","9","4.5",0,0);this.J["11"]=new c("23","24","24","10","4.00001",0,0);this.J["23"]=new c("47","48","48","133","5.5",0,0);this.J["47"]=new c("93","94","93","3","13.5",0,0);this.J["93"]=new c("179","180","179","138","15.5",0,0);this.J["179"]=new c("179","180","179","0","0",1,.658398);this.J["180"]=new c("179","180","179","0","0",1,-.927007);this.J["94"]=new c("181","182","182","3","15.5",0,0);this.J["181"]=new c("181","182","182","0","0",1,-.111351);this.J["182"]=new c("181","182","182","0","0",1,-.99827);this.J["48"]=new c("95","96","95","7","167",0,0);this.J["95"]=new c("183","184","183","132","36.5",0,0);this.J["183"]=new c("183","184","183","0","0",1,.895161);this.J["184"]=new c("183","184","183","0","0",1,-.765217);this.J["96"]=new c("185","186","186","137","6.00001",0,0);this.J["185"]=new c("185","186","186","0","0",1,-.851095);this.J["186"]=new c("185","186","186","0","0",1,.674286);this.J["24"]=new c("49","50","49","137","5.5",0,0);this.J["49"]=new c("97","98","97","5","23.5",0,0);this.J["97"]=new c("187","188","187","3","28.5",0,0);this.J["187"]=new c("187","188","187","0","0",1,.951654);this.J["188"]=new c("187","188","187","0","0",1,-.993808);this.J["98"]=new c("187","188","187","0","0",1,-.99705);this.J["50"]=new c("187","188","187","0","0",1,-.997525);this.J["12"]=new c("25","26","25","8","8.5",0,0);this.J["25"]=new c("51","52","52","10","4.00001",0,0);this.J["51"]=new c("99","100","100","133","5.5",0,0);this.J["99"]=new c("189","190","190","7","40.5",0,0);this.J["189"]=new c("189","190","190","0","0",1,.151839);this.J["190"]=new c("189","190","190","0","0",1,-.855517);this.J["100"]=new c("191","192","192","133","14.5",0,0);this.J["191"]=new c("191","192","192","0","0",1,.86223);this.J["192"]=new c("191","192","192","0","0",1,.544394);this.J["52"]=new c("101","102","101","135","47.5",0,0);this.J["101"]=new c("193","194","194","4","24.5",0,0);this.J["193"]=new c("193","194","194","0","0",1,.946185);this.J["194"]=new c("193","194","194","0","0",1,.811859);this.J["102"]=new c("193","194","194","0","0",1,-.991561);this.J["26"]=new c("53","54","54","132","6.5",0,0);this.J["53"]=new c("103","104","103","131","85",0,0);this.J["103"]=new c("195","196","196","134","16.5",0,0);this.J["195"]=new c("195","196","196","0","0",1,.0473538);this.J["196"]=new c("195","196","196","0","0",1,-.999401);this.J["104"]=new c("197","198","198","8","15.5",0,0);this.J["197"]=new c("197","198","198","0","0",1,.816129);this.J["198"]=new c("197","198","198","0","0",1,-.99322);this.J["54"]=new c("105","106","105","133","3.5",0,0);this.J["105"]=new c("105","106","105","0","0",1,-.998783);this.J["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new c("199","200","199","0","0",1,.528588);this.J["200"]=new c("199","200","199","0","0",1,-.998599);this.J["6"]=new c("13","14","14","10","7.5",0,0);this.J["13"]=new c("27","28","28","133","7.5",0,0);this.J["27"]=new c("55","56","56","10","4.5",0,0);this.J["55"]=new c("107","108","107","3","3.5",0,0);this.J["107"]=new c("201","202","201","4","17.5",0,0);this.J["201"]=new c("201","202","201","0","0",1,-.379512);this.J["202"]=new c("201","202","201","0","0",1,.15165);this.J["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new c("203","204","203","0","0",1,-.884606);this.J["204"]=new c("203","204","203","0","0",1,.265406);this.J["56"]=new c("109","110","109","136","6.5",0,0);this.J["109"]=new c("205","206","205","4","157.5",0,0);this.J["205"]=new c("205","206","205","0","0",1,-.0142737);this.J["206"]=new c("205","206","205","0","0",1,.691279);this.J["110"]=new c("205","206","205","0","0",1,-.998086);this.J["28"]=new c("57","58","58","138","11.5",0,0);this.J["57"]=new c("111","112","112","2","6.5",0,0);this.J["111"]=new c("207","208","208","7","67.5",0,0);this.J["207"]=new c("207","208","208","0","0",1,.763925);this.J["208"]=new c("207","208","208","0","0",1,-.309645);this.J["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new c("209","210","209","0","0",1,-.306635);this.J["210"]=new c("209","210","209","0","0",1,.556696);this.J["58"]=new c("113","114","113","138","50.5",0,0);this.J["113"]=new c("211","212","212","8","25.5",0,0);this.J["211"]=new c("211","212","212","0","0",1,.508234);this.J["212"]=new c("211","212","212","0","0",1,.793551);this.J["114"]=new c("211","212","212","0","0",1,-.998438);this.J["14"]=new c("29","30","29","134","27.5",0,0);this.J["29"]=new c("59","60","60","7","17.5",0,0);this.J["59"]=new c("115","116","115","135","5.5",0,0);this.J["115"]=new c("213","214","214","137","5.5",0,0);this.J["213"]=new c("213","214","214","0","0",1,.401747);this.J["214"]=new c("213","214","214","0","0",1,.0367503);this.J["116"]=new c("215","216","216","8","5.5",0,0);this.J["215"]=new c("215","216","216","0","0",1,-.0241984);this.J["216"]=new c("215","216","216","0","0",1,-.999046);this.J["60"]=new c("117","118","117","0","12.5",0,0);this.J["117"]=new c("217","218","218","132","5.5",0,0);this.J["217"]=new c("217","218","218","0","0",1,-.997294);this.J["218"]=new c("217","218","218","0","0",1,.210398);this.J["118"]=new c("219","220","219","137","1.5",0,0);this.J["219"]=new c("219","220","219","0","0",1,-.55763);this.J["220"]=new c("219","220","219","0","0",1,.074493);this.J["30"]=new c("61","62","62","133","42.5",0,0);this.J["61"]=new c("119","120","119","135","5.5",0,0);this.J["119"]=new c("221","222","222","4","473.5",0,0);this.J["221"]=new c("221","222","222","0","0",1,-.920213);this.J["222"]=new c("221","222","222","0","0",1,-.17615);this.J["120"]=new c("223","224","224","5","144",0,0);this.J["223"]=new c("223","224","224","0","0",1,-.954295);this.J["224"]=new c("223","224","224","0","0",1,-.382538);this.J["62"]=new c("121","122","121","133","50",0,0);this.J["121"]=new c("225","226","226","10","18.5",0,0);this.J["225"]=new c("225","226","226","0","0",1,-.0731343);this.J["226"]=new c("225","226","226","0","0",1,.755454);this.J["122"]=new c("227","228","228","0","30",0,0);this.J["227"]=new c("227","228","228","0","0",1,.25);this.J["228"]=new c("227","228","228","0","0",1,-.997101);}function k(a,b,d,c,t,k){this.v4=t;this.kZ=k;}b=a(283);r=a(192);a={};a.Khb=new (function(){this.Pbb=r();this.o=0;this.update=function(){this.o=r() - this.Pbb;};this.getValue=function(){return this.o;};this.type="num";})();a.SBb=new (function(){this.getValue=function(a,b,d){return this.o="becauseYouAdded" === d.Ia[a].context || null;};this.type="cat";})();a.TBb=new (function(){this.getValue=function(a,b,d){return this.o="becauseYouLiked" === d.Ia[a].context || null;};this.type="cat";})();a.VBb=new (function(){this.getValue=function(a,b,d){return this.o="billboard" === d.Ia[a].context || null;};this.type="cat";})();a.WBb=new (function(){this.getValue=function(a,b,d){return this.o="continueWatching" === d.Ia[a].context || null;};this.type="cat";})();a.UBb=new (function(){this.getValue=function(a,b,d){return this.o="bigRow" === d.Ia[a].context || null;};this.type="cat";})();a.XBb=new (function(){this.getValue=function(a,b,d){return this.o="genre" === d.Ia[a].context || null;};this.type="cat";})();a.YBb=new (function(){this.getValue=function(a,b,d){return this.o="netflixOriginals" === d.Ia[a].context || null;};this.type="cat";})();a.ZBb=new (function(){this.getValue=function(a,b,d){return this.o="newRelease" === d.Ia[a].context || null;};this.type="cat";})();a.$Bb=new (function(){this.getValue=function(a,b,d){return this.o="popularTitles" === d.Ia[a].context || null;};this.type="cat";})();a.aCb=new (function(){this.getValue=function(a,b,d){return this.o="queue" === d.Ia[a].context || null;};this.type="cat";})();a.bCb=new (function(){this.getValue=function(a,b,d){return this.o="recentlyAdded" === d.Ia[a].context || null;};this.type="cat";})();a.cCb=new (function(){this.getValue=function(a,b,d){return this.o="similars" === d.Ia[a].context || null;};this.type="cat";})();a.eCb=new (function(){this.getValue=function(a,b,d){return this.o="trendingNow" === d.Ia[a].context || null;};this.type="cat";})();a.fCb=new (function(){this.getValue=function(a,b,d){return this.o="ultraHD" === d.Ia[a].context || null;};this.type="cat";})();a.gCb=new (function(){this.getValue=function(a,b,d){return this.o="watchAgain" === d.Ia[a].context || null;};this.type="cat";})();a.dCb=new (function(){this.getValue=function(a,b,d){return this.o="topTen" === d.Ia[a].context || null;};this.type="cat";})();a.sib=new (function(){this.update=function(a){for(var b in a.Ia){if("becauseYouAdded" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.tib=new (function(){this.update=function(a){for(var b in a.Ia){if("becauseYouLiked" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.xib=new (function(){this.update=function(a){for(var b in a.Ia){if("billboard" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.ulb=new (function(){this.update=function(a){for(var b in a.Ia){if("continueWatching" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.wib=new (function(){this.update=function(a){for(var b in a.Ia){if("bigRow" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Ntb=new (function(){this.update=function(a){for(var b in a.Ia){if("genre" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.jFb=new (function(){this.update=function(a){for(var b in a.Ia){if("netflixOriginals" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.lFb=new (function(){this.update=function(a){for(var b in a.Ia){if("newRelease" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.SIb=new (function(){this.update=function(a){for(var b in a.Ia){if("popularTitles" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.jl=new (function(){this.update=function(a){for(var b in a.Ia){if("queue" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.KKb=new (function(){this.update=function(a){for(var b in a.Ia){if("recentlyAdded" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.sPb=new (function(){this.update=function(a){for(var b in a.Ia){if("similars" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.bSb=new (function(){this.update=function(a){for(var b in a.Ia){if("trendingNow" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.sSb=new (function(){this.update=function(a){for(var b in a.Ia){if("ultraHD" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.oUb=new (function(){this.update=function(a){for(var b in a.Ia){if("watchAgain" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.NRb=new (function(){this.update=function(a){for(var b in a.Ia){if("topTen" === a.Ia[b].context){this.o=Math.max(a.Ia[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Flb=new (function(){this.getValue=function(a,b,d){return this.o="AR" === d.Na || null;};this.type="cat";})();a.Glb=new (function(){this.getValue=function(a,b,d){return this.o="AT" === d.Na || null;};this.type="cat";})();a.Hlb=new (function(){this.getValue=function(a,b,d){return this.o="AU" === d.Na || null;};this.type="cat";})();a.Ilb=new (function(){this.getValue=function(a,b,d){return this.o="AZ" === d.Na || null;};this.type="cat";})();a.Jlb=new (function(){this.getValue=function(a,b,d){return this.o="BB" === d.Na || null;};this.type="cat";})();a.Klb=new (function(){this.getValue=function(a,b,d){return this.o="BE" === d.Na || null;};this.type="cat";})();a.Llb=new (function(){this.getValue=function(a,b,d){return this.o="BO" === d.Na || null;};this.type="cat";})();a.Mlb=new (function(){this.getValue=function(a,b,d){return this.o="BR" === d.Na || null;};this.type="cat";})();a.Nlb=new (function(){this.getValue=function(a,b,d){return this.o="BS" === d.Na || null;};this.type="cat";})();a.Olb=new (function(){this.getValue=function(a,b,d){return this.o="CA" === d.Na || null;};this.type="cat";})();a.Plb=new (function(){this.getValue=function(a,b,d){return this.o="CH" === d.Na || null;};this.type="cat";})();a.Qlb=new (function(){this.getValue=function(a,b,d){return this.o="CL" === d.Na || null;};this.type="cat";})();a.Rlb=new (function(){this.getValue=function(a,b,d){return this.o="CO" === d.Na || null;};this.type="cat";})();a.Slb=new (function(){this.getValue=function(a,b,d){return this.o="CR" === d.Na || null;};this.type="cat";})();a.Tlb=new (function(){this.getValue=function(a,b,d){return this.o="CW" === d.Na || null;};this.type="cat";})();a.Ulb=new (function(){this.getValue=function(a,b,d){return this.o="DE" === d.Na || null;};this.type="cat";})();a.Vlb=new (function(){this.getValue=function(a,b,d){return this.o="DK" === d.Na || null;};this.type="cat";})();a.Wlb=new (function(){this.getValue=function(a,b,d){return this.o="DM" === d.Na || null;};this.type="cat";})();a.Xlb=new (function(){this.getValue=function(a,b,d){return this.o="DO" === d.Na || null;};this.type="cat";})();a.Ylb=new (function(){this.getValue=function(a,b,d){return this.o="EC" === d.Na || null;};this.type="cat";})();a.Zlb=new (function(){this.getValue=function(a,b,d){return this.o="EE" === d.Na || null;};this.type="cat";})();a.$lb=new (function(){this.getValue=function(a,b,d){return this.o="EG" === d.Na || null;};this.type="cat";})();a.amb=new (function(){this.getValue=function(a,b,d){return this.o="ES" === d.Na || null;};this.type="cat";})();a.bmb=new (function(){this.getValue=function(a,b,d){return this.o="FI" === d.Na || null;};this.type="cat";})();a.cmb=new (function(){this.getValue=function(a,b,d){return this.o="FR" === d.Na || null;};this.type="cat";})();a.dmb=new (function(){this.getValue=function(a,b,d){return this.o="GB" === d.Na || null;};this.type="cat";})();a.emb=new (function(){this.getValue=function(a,b,d){return this.o="GF" === d.Na || null;};this.type="cat";})();a.fmb=new (function(){this.getValue=function(a,b,d){return this.o="GP" === d.Na || null;};this.type="cat";})();a.gmb=new (function(){this.getValue=function(a,b,d){return this.o="GT" === d.Na || null;};this.type="cat";})();a.hmb=new (function(){this.getValue=function(a,b,d){return this.o="HK" === d.Na || null;};this.type="cat";})();a.imb=new (function(){this.getValue=function(a,b,d){return this.o="HN" === d.Na || null;};this.type="cat";})();a.jmb=new (function(){this.getValue=function(a,b,d){return this.o="HR" === d.Na || null;};this.type="cat";})();a.kmb=new (function(){this.getValue=function(a,b,d){return this.o="HU" === d.Na || null;};this.type="cat";})();a.lmb=new (function(){this.getValue=function(a,b,d){return this.o="ID" === d.Na || null;};this.type="cat";})();a.mmb=new (function(){this.getValue=function(a,b,d){return this.o="IE" === d.Na || null;};this.type="cat";})();a.nmb=new (function(){this.getValue=function(a,b,d){return this.o="IL" === d.Na || null;};this.type="cat";})();a.omb=new (function(){this.getValue=function(a,b,d){return this.o="IN" === d.Na || null;};this.type="cat";})();a.pmb=new (function(){this.getValue=function(a,b,d){return this.o="IT" === d.Na || null;};this.type="cat";})();a.qmb=new (function(){this.getValue=function(a,b,d){return this.o="JE" === d.Na || null;};this.type="cat";})();a.rmb=new (function(){this.getValue=function(a,b,d){return this.o="JM" === d.Na || null;};this.type="cat";})();a.smb=new (function(){this.getValue=function(a,b,d){return this.o="JP" === d.Na || null;};this.type="cat";})();a.tmb=new (function(){this.getValue=function(a,b,d){return this.o="KE" === d.Na || null;};this.type="cat";})();a.umb=new (function(){this.getValue=function(a,b,d){return this.o="KN" === d.Na || null;};this.type="cat";})();a.vmb=new (function(){this.getValue=function(a,b,d){return this.o="KR" === d.Na || null;};this.type="cat";})();a.wmb=new (function(){this.getValue=function(a,b,d){return this.o="LU" === d.Na || null;};this.type="cat";})();a.xmb=new (function(){this.getValue=function(a,b,d){return this.o="MK" === d.Na || null;};this.type="cat";})();a.ymb=new (function(){this.getValue=function(a,b,d){return this.o="MU" === d.Na || null;};this.type="cat";})();a.zmb=new (function(){this.getValue=function(a,b,d){return this.o="MX" === d.Na || null;};this.type="cat";})();a.Amb=new (function(){this.getValue=function(a,b,d){return this.o="MY" === d.Na || null;};this.type="cat";})();a.Bmb=new (function(){this.getValue=function(a,b,d){return this.o="NI" === d.Na || null;};this.type="cat";})();a.Cmb=new (function(){this.getValue=function(a,b,d){return this.o="NL" === d.Na || null;};this.type="cat";})();a.Dmb=new (function(){this.getValue=function(a,b,d){return this.o="NO" === d.Na || null;};this.type="cat";})();a.Emb=new (function(){this.getValue=function(a,b,d){return this.o="NZ" === d.Na || null;};this.type="cat";})();a.Fmb=new (function(){this.getValue=function(a,b,d){return this.o="OM" === d.Na || null;};this.type="cat";})();a.Gmb=new (function(){this.getValue=function(a,b,d){return this.o="PA" === d.Na || null;};this.type="cat";})();a.Hmb=new (function(){this.getValue=function(a,b,d){return this.o="PE" === d.Na || null;};this.type="cat";})();a.Imb=new (function(){this.getValue=function(a,b,d){return this.o="PF" === d.Na || null;};this.type="cat";})();a.Jmb=new (function(){this.getValue=function(a,b,d){return this.o="PH" === d.Na || null;};this.type="cat";})();a.Kmb=new (function(){this.getValue=function(a,b,d){return this.o="PK" === d.Na || null;};this.type="cat";})();a.Lmb=new (function(){this.getValue=function(a,b,d){return this.o="PL" === d.Na || null;};this.type="cat";})();a.Mmb=new (function(){this.getValue=function(a,b,d){return this.o="PT" === d.Na || null;};this.type="cat";})();a.Nmb=new (function(){this.getValue=function(a,b,d){return this.o="PY" === d.Na || null;};this.type="cat";})();a.Omb=new (function(){this.getValue=function(a,b,d){return this.o="QA" === d.Na || null;};this.type="cat";})();a.Pmb=new (function(){this.getValue=function(a,b,d){return this.o="RO" === d.Na || null;};this.type="cat";})();a.Qmb=new (function(){this.getValue=function(a,b,d){return this.o="RS" === d.Na || null;};this.type="cat";})();a.Rmb=new (function(){this.getValue=function(a,b,d){return this.o="RU" === d.Na || null;};this.type="cat";})();a.Smb=new (function(){this.getValue=function(a,b,d){return this.o="SA" === d.Na || null;};this.type="cat";})();a.Tmb=new (function(){this.getValue=function(a,b,d){return this.o="SE" === d.Na || null;};this.type="cat";})();a.Umb=new (function(){this.getValue=function(a,b,d){return this.o="SG" === d.Na || null;};this.type="cat";})();a.Vmb=new (function(){this.getValue=function(a,b,d){return this.o="SV" === d.Na || null;};this.type="cat";})();a.Wmb=new (function(){this.getValue=function(a,b,d){return this.o="SX" === d.Na || null;};this.type="cat";})();a.Xmb=new (function(){this.getValue=function(a,b,d){return this.o="TH" === d.Na || null;};this.type="cat";})();a.Ymb=new (function(){this.getValue=function(a,b,d){return this.o="TR" === d.Na || null;};this.type="cat";})();a.Zmb=new (function(){this.getValue=function(a,b,d){return this.o="TT" === d.Na || null;};this.type="cat";})();a.$mb=new (function(){this.getValue=function(a,b,d){return this.o="TW" === d.Na || null;};this.type="cat";})();a.anb=new (function(){this.getValue=function(a,b,d){return this.o="US" === d.Na || null;};this.type="cat";})();a.bnb=new (function(){this.getValue=function(a,b,d){return this.o="UY" === d.Na || null;};this.type="cat";})();a.cnb=new (function(){this.getValue=function(a,b,d){return this.o="VE" === d.Na || null;};this.type="cat";})();a.dnb=new (function(){this.getValue=function(a,b,d){return this.o="ZA" === d.Na || null;};this.type="cat";})();a.PKb=new (function(){this.getValue=function(a,b,d){return this.o=1 === d.kh || null;};this.type="cat";})();a.QKb=new (function(){this.getValue=function(a,b,d){return this.o=10 === d.kh || null;};this.type="cat";})();a.RKb=new (function(){this.getValue=function(a,b,d){return this.o=11 === d.kh || null;};this.type="cat";})();a.SKb=new (function(){this.getValue=function(a,b,d){return this.o=12 === d.kh || null;};this.type="cat";})();a.TKb=new (function(){this.getValue=function(a,b,d){return this.o=13 === d.kh || null;};this.type="cat";})();a.UKb=new (function(){this.getValue=function(a,b,d){return this.o=14 === d.kh || null;};this.type="cat";})();a.VKb=new (function(){this.getValue=function(a,b,d){return this.o=15 === d.kh || null;};this.type="cat";})();a.WKb=new (function(){this.getValue=function(a,b,d){return this.o=16 === d.kh || null;};this.type="cat";})();a.XKb=new (function(){this.getValue=function(a,b,d){return this.o=17 === d.kh || null;};this.type="cat";})();a.YKb=new (function(){this.getValue=function(a,b,d){return this.o=18 === d.kh || null;};this.type="cat";})();a.ZKb=new (function(){this.getValue=function(a,b,d){return this.o=19 === d.kh || null;};this.type="cat";})();a.$Kb=new (function(){this.getValue=function(a,b,d){return this.o=2 === d.kh || null;};this.type="cat";})();a.aLb=new (function(){this.getValue=function(a,b,d){return this.o=20 === d.kh || null;};this.type="cat";})();a.bLb=new (function(){this.getValue=function(a,b,d){return this.o=21 === d.kh || null;};this.type="cat";})();a.cLb=new (function(){this.getValue=function(a,b,d){return this.o=22 === d.kh || null;};this.type="cat";})();a.dLb=new (function(){this.getValue=function(a,b,d){return this.o=23 === d.kh || null;};this.type="cat";})();a.eLb=new (function(){this.getValue=function(a,b,d){return this.o=3 === d.kh || null;};this.type="cat";})();a.fLb=new (function(){this.getValue=function(a,b,d){return this.o=4 === d.kh || null;};this.type="cat";})();a.gLb=new (function(){this.getValue=function(a,b,d){return this.o=5 === d.kh || null;};this.type="cat";})();a.hLb=new (function(){this.getValue=function(a,b,d){return this.o=6 === d.kh || null;};this.type="cat";})();a.iLb=new (function(){this.getValue=function(a,b,d){return this.o=7 === d.kh || null;};this.type="cat";})();a.jLb=new (function(){this.getValue=function(a,b,d){return this.o=8 === d.kh || null;};this.type="cat";})();a.kLb=new (function(){this.getValue=function(a,b,d){return this.o=9 === d.kh || null;};this.type="cat";})();a.JQb=new (function(){this.update=function(a){"down" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.LQb=new (function(){this.update=function(a){"right" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.KQb=new (function(){this.update=function(a){"left" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.MQb=new (function(){this.update=function(a){"up" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.KDb=new (function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";})();a.LDb=new (function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.dfa);};this.getValue=function(){return this.o;};this.type="num";})();a.SDb=new (function(){this.nN=this.o=0;this.update=function(a){this.nN++;this.o=1 * (this.o + a.rowIndex) / this.nN;};this.getValue=function(){return this.o;};this.type="num";})();a.TDb=new (function(){this.nN=this.o=0;this.update=function(a){this.nN++;return this.o=1 * (this.o + a.dfa) / this.nN;};this.getValue=function(){return this.o;};this.type="num";})();a.AJb=new (function(){this.getValue=function(a,b,d){return this.o=d.dfa + b;};this.type="num";})();a.BJb=new (function(){this.getValue=function(a,b,d){return this.o=d.rowIndex + a;};this.type="num";})();l.prototype.FA=function(a){return this.$Fa(this.J["0"].sYa(a),a);};l.prototype.$Fa=function(a,b){return "string" == typeof a?this.$Fa(this.J[a].sYa(b),b):a;};c.prototype.sYa=function(a){switch(this.eBb){case 0:switch(a.Ed[this.QT].type){case "cat":return null === a.Ed[this.QT].value?this.XTa:"missing" == a.Ed[this.QT].value?this.Rma:this.g2a;case "num":return null === a.Ed[this.QT].value?this.Rma:a.Ed[this.QT].value < this.split?this.g2a:this.XTa;default:return this.Rma;}case 1:return this.FA;default:return this.FA;}};b.declare({BR:["modelSelector","modelone"],Pkb:["colEpisodeList",5],Myb:["holdDuration",15E3],fYa:["rowFirst",2],uJa:["colFirst",5],hYa:["rowScroll",2],vJa:["colScroll",6],EMb:["rowScrollHorizontal",6],aNb:["searchTop",3],AKa:["cwFirst",2],vQ:["horizontalItemsFocusedMode",3],fBb:["itemsPerRank",1],CDb:["maxNumberPayloadsStored",10],RSa:["maxNumberTitlesScheduled",5],A2b:["enableDetailedLogging",!0],F5b:["rowStep",20],I1b:["colStep",15],e5b:["pageRows",100],d5b:["pageColumns",75],jma:["maskParamsList",new (function(){var a,b;this.jma=[];this.wk={};this.v4=20;this.kZ=15;for(a=0;100 > a;a++){for(b=0;75 > b;b++){(Math.floor(a / this.v4) + "_" + Math.floor(b / this.kZ) in this.wk) || (this.wk[Math.floor(a / this.v4) + "_" + Math.floor(b / this.kZ)]=1,this.jma.push(new k(0,0,0,0,Math.floor(a / this.v4),Math.floor(b / this.kZ))));}}})().jma],J:["nodes",new l().J],mapping:["mapping",{LDb:"0",TDb:"1",KDb:"2",SDb:"3",Khb:"4",MQb:"5",KQb:"6",LQb:"7",JQb:"8",BJb:"9",AJb:"10",SBb:"11",TBb:"12",VBb:"13",WBb:"14",UBb:"15",XBb:"16",YBb:"17",ZBb:"18",$Bb:"19",aCb:"20",bCb:"21",cCb:"22",dCb:"23",eCb:"24",fCb:"25",gCb:"26",PKb:"27",QKb:"28",RKb:"29",SKb:"30",TKb:"31",UKb:"32",VKb:"33",WKb:"34",XKb:"35",YKb:"36",ZKb:"37",$Kb:"38",aLb:"39",bLb:"40",cLb:"41",dLb:"42",eLb:"43",fLb:"44",gLb:"45",hLb:"46",iLb:"47",jLb:"48",kLb:"49",Flb:"50",Glb:"51",Hlb:"52",Ilb:"53",Jlb:"54",Klb:"55",Llb:"56",Mlb:"57",Nlb:"58",Olb:"59",Plb:"60",Qlb:"61",Rlb:"62",Slb:"63",Tlb:"64",Ulb:"65",Vlb:"66",Wlb:"67",Xlb:"68",Ylb:"69",Zlb:"70",$lb:"71",amb:"72",bmb:"73",cmb:"74",dmb:"75",emb:"76",fmb:"77",gmb:"78",hmb:"79",imb:"80",jmb:"81",kmb:"82",lmb:"83",mmb:"84",nmb:"85",omb:"86",pmb:"87",qmb:"88",rmb:"89",smb:"90",tmb:"91",umb:"92",vmb:"93",wmb:"94",xmb:"95",ymb:"96",zmb:"97",Amb:"98",Bmb:"99",Cmb:"100",Dmb:"101",Emb:"102",Fmb:"103",Gmb:"104",Hmb:"105",Imb:"106",Jmb:"107",Kmb:"108",Lmb:"109",Mmb:"110",Nmb:"111",Omb:"112",Pmb:"113",Qmb:"114",Rmb:"115",Smb:"116",Tmb:"117",Umb:"118",Vmb:"119",Wmb:"120",Xmb:"121",Ymb:"122",Zmb:"123",$mb:"124",anb:"125",bnb:"126",cnb:"127",dnb:"128",oUb:"129",KKb:"130",sPb:"131",jl:"132",ulb:"133",Ntb:"134",bSb:"135",NRb:"136",xib:"137",lFb:"138",sSb:"139",SIb:"140",sib:"141",wib:"142",tib:"143",jFb:"144"}],Ed:["features",a],H0b:["_modelName","tree"],y0b:["_format","xgboost"],G0b:["_itemsToKeep",5],F0b:["_itemsThreshold",null],m1b:["cacheLimit",20]});f.V={config:b,c4b:k,S1b:c};},function(f,b,a){var l;function c(a){for(var b="",c=0;c < a.length;c++){b+=a[c].la + "|";}return b;}l=a(191);f.V={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed" + (b?" : " + b:""));},C3b:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},Hub:function(a){for(var b=[],c=0;c < a.length;c++){if(a[c].context === l.qM.b4a){b=a[c].list;break;}}return b;},mub:function(a){for(var b=[],c=0;c < a.length;c++){if(a[c].context === l.qM.T2a){b=a[c].list;break;}}return b;},Apb:function(a,b){for(var g=0,p,d,m,t=0,k=a.length - 1;t < k;t++){p=c(a[t].list || []);m=!1;for(var r=0,l=b.length;r < l;r++){if((d=c(b[r].list || []),d == p)){m=!0;break;}}if(!1 === m){g=t;break;}}return g;},hGb:function(a,b,c){for(var g=[],d,m=0;m < Math.min(b,a.length);m++){d=a[m].list || [];g=g.concat(d.slice(0,c));}return g;},gGb:function(a,b){for(var c=[],p,d=0;d < a.length && (p=a[d].list || [],p=p.slice(0,Math.min(p.length,b)),b-=p.length,c=c.concat(p),0 !== b);d++){;}return c;},fGb:function(a,b,c){var g;b < a.length && 0 <= b && (a=a[b].list || [],c < a.length && (g=a[c]));return g;},FMa:function(a){for(var b={},c=a.length,p,d=0;d < c;d++){p=a[d].list || [];for(var m=0;m < p.length;m++){if(p[m].property === l.JF.zM || p[m].property === l.JF.zua){b.ej=d;b.Ok=m;break;}}}void 0 === b.ej && void 0 === b.Ok && (b.ej=0,b.Ok=0);return b;}};},function(f,b,a){var d,m,t,x,A,h,E,L;function c(a){return a.split(",").reduce(function(a,b){var d;d=b.split("=");b=d[0];d=d.slice(1).join("=");b && b.length && (a[b]=d || !0);return a;},{});}function l(a){return a && "object" === typeof a?JSON.stringify(a):"string" === typeof a?'"' + a + '"':"" + a;}function k(a,b,g){var m;if("string" === typeof a)return k.call(this,c(a),b,g);m=0;Object.keys(a).forEach(function(c){var t,p,k;t=A[c];p=a[c];if(t){if(k=h[c] || L[typeof d[t]])try{p=k(p);}catch(ea){g && g.error("Failed to convert value '" + p + "' for config '" + c + "' : " + ea.toString());return;}k=x[t];this[t]=p;x[t] !== k && (g && g.debug("Config changed for '" + c + "' from " + l(k) + " (" + typeof k + ") to " + l(p) + " (" + typeof p + ")"),++m);}else b?(t=(t=E[c])?t.filter(function(a){return a[0] !== this;},this):[],t.push([this,p]),E[c]=t):g && g.error("Attempt to change undeclared config option '" + c + "'");},this);m && x.emit("changed");return m;}function r(){return Object.keys(A).reduce(function(a,b){var d,c;d=A[b];c=a[d];c?(c.push(b),a[d]=c.sort(function(a,b){return b.length - a.length;})):a[d]=[b];return a;},{});}function g(a,b){return a.hasOwnProperty(b)?l(a[b]):void 0;}function p(a,b){return "undefined" === typeof a?b:a;}b=a(60);a=a(111).EventEmitter;d={};m=Object.create(d);t=Object.create(m);x=Object.create(t);A={};h={};E={};x.declare=function(a){Object.keys(a).forEach(function(b){var c,g,m,t;c=a[b];g=c[0];m=c[1];t=c[2];if(d.hasOwnProperty(b))throw Error("The local configuraion key '" + b + "' is already in use");"string" === typeof g && (g=[g]);g.forEach(function(a){var c;if(A.hasOwnProperty(a))throw Error("The configuration value '" + a + "' has been declared more than once");d.hasOwnProperty(b) || ("function" === typeof m && (m=m()),d[b]=m);A[a]=b;"function" === typeof t && (h[a]=t);if(c=E[a])(c.forEach(function(b){var d,c;d=b[0];c={};c[a]=b[1];k.call(d,c,!1);}),delete E[a]);});});return x;};L={object:function(a){return "object" == typeof a?a:JSON.parse("" + a);},"boolean":function(a){return "boolean" == typeof a?a:!("0" === "" + a || "false" === ("" + a).toLowerCase());},number:function(a){if("number" == typeof a)return a;a=parseFloat("" + a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};x.set=k.bind(m);x.ZJ=k.bind(t);x.dump=function(a,b){var k,f,h,J;function c(){J && a && a.log("===========================================");}k=Object.keys(E).sort();f={};h=r();b=p(b,!0);Object.keys(A).sort().forEach(function(k){var r,E,D;k=A[k];!f[k] && (f[k]=!0,E=g(m,k),D=g(t,k),b || "undefined" !== typeof E || "undefined" !== typeof D) && (r=h[k].join(","),r+=" = " + l(x[k]) + " (" + typeof x[k] + ") [",r+=p(D,"<unset>") + ",",r+=p(E,"<unset>") + ",",r+=g(d,k) + "]",J || (J=!0,a && a.log("Current config values"),c()),a && a.log(r));});(b || k.length) && a && a.log("<undeclared> :",k);c();};x.Kp=function(a){var b,d;b={};d={};Object.keys(A).forEach(function(a){a=A[a];d[a] || (d[a]=!0,b[a]=x[a]);});a && k.call(b,a);return b;};x.vVa=function(){var a;a=r();return Object.getOwnPropertyNames(m).reduce(function(b,d){b[a[d][0]]=m[d];return b;},{});};x.reset=function(){Object.keys(m).forEach(function(a){delete m[a];});};x.Vn={};b(a,x);f.V=Object.freeze(x);},function(f,b,a){var l,k,r,g,p;function c(a){var b;l.gi("MediaSourceASE").trace("Inside MediaSourceASE");b=a.gQ();this.readyState=p.Ac.CLOSED;this.sourceBuffers=b.sourceBuffers;this.addSourceBuffer=function(a){return b.addSourceBuffer(a);};this.AY=function(a){return b.AY(a);};this.removeSourceBuffer=function(a){return b.removeSourceBuffer(a);};this.jr=function(a){return b.jr(a);};this.sourceId=g++;this.duration=void 0;b.VNb(this.sourceId);this.readyState=p.Ac.OPEN;this.Zb=k.ga.get(r.Cf).AR(p.Zb,{});}Object.defineProperty(b,"__esModule",{value:!0});b.Eya=void 0;l=a(7);k=a(7);r=a(27);g=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.Ii;},set:function(a){var b;this.Ii=a || Infinity;b=Math.floor(1E3 * a) || Infinity;this.sourceBuffers.forEach(function(a){a.Ii=b;});}});p={Ac:{CLOSED:0,OPEN:1,Ds:2,name:["CLOSED","OPEN","ENDED"]},Zb:{sJa:!0,HTa:!0}};b.Eya=Object.assign(c,p);},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,A,h,E,L,D;Object.defineProperty(b,"__esModule",{value:!0});b.l0a=void 0;c=a(66);l=a(11);k=a(12);r=a(46);g=a(48);p=a(7);d=a(2);m=a(24);t=a(68);x=a(9);A=a(125);h=a(28);E=a(31);L=a(33);D=a(19);b.l0a=(function(){var f,J,n,q;function a(a){var d,c,g;d="info";c="";g=p.ga.get(t.oy).rOa();a.ia || (d="error",c+="&errorcode=" + (a.errorCode || ""),c+="&errorsubcode=" + (a.ja || ""));c="type=startup&sev=" + d + c + "&" + r.SJ(m.Eb({},g,{prefix:"m_"}));b("startup",c,f);}function b(a,b,d){d && J && k.config.n0a[a] && (a=n + "&jsoffms=" + g.di() + "&do=" + x.Zh.onLine + "&" + b + "&" + r.SJ(m.Eb({},q.zd,{prefix:"im_"})),c.af.download({url:d,moa:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},cD:"track"},l.Af));}J=!1;n="";p.gi("TrackingLog");q=p.ga.get(h.Sf);q.register(d.K.Owa,function(b){var d,c,g;if(J=k.config.m0a && ! !k.config.zra){f=p.ga.get(A.YA).host + k.config.zra;d=p.ga.get(L.rj);c=p.ga.get(L.Os);g=p.ga.get(D.qd).id;n="cat=cadplayback&dev=" + encodeURIComponent(d.pga) + "&ep=" + encodeURIComponent(c.uva) + "&ver=" + encodeURIComponent("0.0026.212.010") + "&jssid=" + g + "&browserua=" + x.rm;k.config.Jz && (n+="&groupname=" + encodeURIComponent(k.config.Jz));k.config.iF && (n+="&uigroupname=" + encodeURIComponent(k.config.iF));d=n;c=p.ga.get(E.aG);c=m.Eb({},c,{prefix:"pi_"});c="&" + r.SJ(c);n=d + c;q.$Q(a);}b(l.Md);});return b;})();},function(f,b,a){var r;function c(a,b,d){b=b || 0;d=d || a.length;for(var c,g=b,p,k,r,f={};g < b + d;){c=a[g];p=c & 7;k=c >> 3;r=l(a,g);if(!r.count)throw Error("Parsing error. bytes length is 0 for the tag " + c);g+=r.count + 1;2 == p && (g+=r.value);f[k]={L2b:k,P6b:p,value:r.value,count:r.count,start:r.start};}return f;}function l(a,b){var d,c,g,p,k,l,f,h;d=b + 1;c=a.length;g=d;p=0;k={};l=[];h=0;if(d >= c)throw Error("Invalid Range for Protobuf - start: " + d + " , len: " + c);for(;g < c;){p++;d=a[g];f=d & 127;l.push(f);if(!(d & 128))break;g++;}r.Ya(l.length);for(a=l.length - 1;0 <= a;a--){h<<=7;h|=l[a];}k.count=p;k.value=h;k.start=b + p + 1;return k;}function k(a,b){if(a && (a=a[b]))return a.value;}Object.defineProperty(b,"__esModule",{value:!0});b.Gwb=b.Fwb=b.$rb=b.OAb=b.aRa=void 0;r=a(18);b.aRa=function(a){a=c(a);if(1 == k(a,1) && a[5] && a[5].value)return !0;};b.OAb=function(a){var b;b=c(a);if(2 == k(b,1) && (a=c(a,b[2].start,b[2].value),k(a,5)))return !0;};b.$rb=c;b.Fwb=l;b.Gwb=k;},function(f){function b(a){return Object.keys(a).every(function(b){return "function" === typeof a[b];});}f.V=function(a){var r,g,p;function c(a,b,c){throw new TypeError(("undefined" !== typeof c.key?"Types: expected " + c.key:"Types: expected argument " + c.index) + (" to be '" + a + "' but found '" + b + "'"));}function l(a,b,t){var d;d=g[a];"undefined" !== typeof d?d(b) || c(a,b,t):a !== typeof b && c(a,b,t);}function k(a,b){var d;d=a.filter(function(a){return "object" !== typeof a && -1 === p.indexOf(a);});d=d.concat(a.filter(function(a){return "object" === typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return -1 === p.indexOf(a);}));},[]));if(0 < d.length)throw Error(d.join(",") + " are invalid types");return function(){var d;d=Array.prototype.slice.call(arguments);if(d.length !== a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var c;c=d[b];if("string" === typeof a)l(a,c,{index:b});else if("object" === typeof a)Object.keys(a).forEach(function(b){l(a[b],c[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,d);};}r=("number boolean string object function symbol").split(" ");g={array:function(a){return Array.isArray(a);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined" !== typeof g[b] || -1 < r.indexOf(b))throw new TypeError("Types: attempting to override a built in type with " + b);g[b]=a[b];});}p=Object.keys(g).concat(r);return k(["array","function"],k);};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.awa=void 0;b.awa=function(a){var k,r,g,p;function b(){if(g)for(var a;a=k.pop();){a(p);}}function l(a){g=!0;p=a;b();}k=[];return function(d){k.push(d);r || (r=!0,a(l));b();};};},function(f,b,a){var l;function c(a,b,c,p){var d;d=this;this.yc=a;this.ul=b;this.fs=c;this.Ib=p;this.M3=new Map();this.POb();this.Ib.addListener(l.Ob.loaded,function(){return d.wA();});}Object.defineProperty(b,"__esModule",{value:!0});b.uM=void 0;l=a(13);c.prototype.nPa=function(a,b){var c;c=this;return this.fs.transition(b).then(function(){c.yc.Fg=a;});};c.prototype.close=function(a){return this.fs.close(a);};c.prototype.isReady=function(){return this.fs.Kwb();};c.prototype.Bo=function(){return this.fs.Bo();};c.prototype.hi=function(){return this.fs.hi();};c.prototype.hS=function(a){var b;b=a.id;this.M3.has(b) || this.M3.set(b,this.fs.Wq(a));return this.M3.get(b);};c.prototype.POb=function(){var a;a=this;this.fs.addListener(l.HB.LS,function(){return a.Ib.ac(l.HB.LS);});Object.values(l.Ob).forEach(function(b){a.fs.addListener(b,function(c){return a.Ib.ac(b,c);});});};c.prototype.PR=function(){this.wA();};c.prototype.Ena=function(a){this.fs.TSb({id:a,u:this.yc.og(a).la,Gj:this.yc.QOa(a)});};c.prototype.wA=function(){var a,b,c,p,d;if(this.isReady()){c=this.yc.Fg;p=this.yc.uD(c);if(p && !this.M3.has(p)){this.Ena(c);p=this.yc.og(p);d=null === (a=this.ul.LI(p.la)) || void 0 === a?void 0:a.$a;this.hS({id:this.yc.uD(c),u:p.la,T:p.Xd,Gj:null !== (b=null === d || void 0 === d?void 0:d.Gj) && void 0 !== b?b:p.Ge,$a:d});}}};b.uM=c;},function(f,b,a){var l;function c(a,b,c){var g;g=this;this.uk=a;this.tf=b;this.dS=c;this.addEventListener=function(a,b,c){return g.tf.addListener(a,g.JKa(a,b),c);};this.removeEventListener=function(a,b){return g.tf.removeListener(a,g.JKa(a,b));};this.getReady=function(){return g.tf.isReady();};this.getXid=function(){return g.wb().H0();};this.getMovieId=function(){return g.wb().cwb();};this.getPlaygraphId=function(){return g.tf.zwb();};this.getElement=function(){return g.tf.Bo();};this.isPlaying=function(){return g.wb().Tz();};this.isPaused=function(){return g.wb().GAb();};this.isMuted=function(){return g.wb().CAb();};this.isReady=function(){return g.wb().isReady();};this.isBackground=function(){return g.wb().dAb();};this.setBackground=function(a){return g.wb().UYa(a);};this.startInactivityMonitor=function(){return g.wb().eT();};this.setTransitionTime=function(a){return g.wb().mZa(a);};this.getDiagnostics=function(){return g.wb().Uub();};this.getTextTrackList=function(a){return g.wb().bPa(a);};this.getTextTrack=function(){return g.wb().aPa();};this.setTextTrack=function(a){return g.wb().lZa(a);};this.getVolume=function(){return g.wb().Nxb();};this.isEnded=function(){return g.wb().oAb();};this.getBusy=function(){return g.wb().Lh();};this.getError=function(){return g.wb().getError();};this.getCurrentTime=function(){return g.wb().j.gb.value;};this.getBufferedTime=function(){return g.wb().tub();};this.getSegmentTime=function(){return g.wb().j0();};this.getDuration=function(){return g.wb().FNa();};this.getVideoSize=function(){return g.wb().Kxb();};this.getAudioTrackList=function(){return g.wb().Ztb();};this.getAudioTrack=function(){return g.wb().Ytb();};this.getTimedTextTrackList=function(a){return g.wb().bPa(a);};this.getTimedTextTrack=function(){return g.wb().aPa();};this.getAdditionalLogInfo=function(){return g.wb().Stb();};this.getTrickPlayFrame=function(a){return g.wb().xxb(a);};this.getSessionSummary=function(){return g.wb().POa();};this.getTimedTextSettings=function(){return g.wb().D0();};this.setMuted=function(a){return g.wb().pOb(a);};this.setVolume=function(a){return g.wb().KOb(a);};this.getPlaybackRate=function(){return g.wb().Pm();};this.setPlaybackRate=function(a){return g.wb().uOb(a);};this.setAudioTrack=function(a){return g.wb().YNb(a);};this.setTimedTextTrack=function(a){return g.wb().lZa(a);};this.setTimedTextSettings=function(a){return g.wb().VS(a);};this.prepare=function(){return g.wb().vx();};this.load=function(){return g.wb().load();};this.close=function(a){return g.uHa(g.tf.close(),a);};this.play=function(){return g.wb().play();};this.pause=function(){return g.wb().pause();};this.seek=function(a){return g.wb().seek(a);};this.engage=function(a,b){return g.uHa(g.wb().KP(a),b);};this.induceError=function(a){return g.wb().uzb(a);};this.loadCustomTimedTextTrack=function(a,b,c,p){return g.wb().lCb(a,b,c,p);};this.tryRecoverFromStall=function(){return g.wb().HT();};this.addEpisode=function(a){var b,d;g.log.info("Next episode added",a);b=g.ASa(a.playbackParams);d=("startPts" in a)?a.startPts:("nextStartPts" in a)?a.nextStartPts:b.T;if(void 0 === d || 0 > d)d=0;return g.tf.Wq({id:b.lk?void 0:g.dS.Z_(a.movieId,d),u:a.movieId,T:d,Gj:("endPts" in a)?a.endPts:("currentEndPts" in a)?a.currentEndPts:b.Gj,$a:b,qa:a.manifest,uk:g.uk});};this.playNextEpisode=function(a){a=void 0 === a?{}:a;a=g.ASa(a);g.log.info("Playing the next episode",a);return g.tf.zja(g.tf.INa(),g.tf.k0().Ri,a);};this.playSegment=function(a){return g.wb().wIb(a);};this.queueSegment=function(a){return g.wb().mKb(a);};this.updateNextSegmentWeights=function(a,b){return g.wb().kj(a,b);};this.getCropAspectRatio=function(){return g.wb().pia();};this.getCropAspectRatioXandY=function(){return g.wb().Jub();};this.generateScreenshots=function(a){return g.wb().Mtb(a);};this.getCurrentSegmentId=function(){return g.tf.INa();};this.getPlaygraphMap=function(){return g.tf.Awb();};this.setNextSegment=function(a){for(var b=[],d=0;d < arguments.length;++d){b[d - 0]=arguments[d];}b=b.map(function(a){return {Ba:a.segmentId,IR:a.nextSegmentId};});g.tf.Xo.apply(g.tf,[].concat(da(b)));};this.clearNextSegment=function(a){for(var b=[],d=0;d < arguments.length;++d){b[d - 0]=arguments[d];}return g.tf.Dkb.apply(g.tf,[].concat(da(b)));};this.updatePlaygraphMap=function(a){return g.tf.PSb(a);};this.goToNextSegment=function(a,b){return g.tf.zja(a,b);};this.getPlaying=function(){return g.isPlaying();};this.getPaused=function(){return g.isPaused();};this.getMuted=function(){return g.isMuted();};this.getEnded=function(){return g.isEnded();};this.getTimedTextVisibility=function(){return g.isTimedTextVisible();};this.isTimedTextVisible=function(){return ! !g.wb().D0().visibility;};this.setTimedTextVisibility=function(a){return g.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return g.wb().VS({size:a});};this.setTimedTextBounds=function(a){return g.wb().VS({bounds:a});};this.setTimedTextMargins=function(a){return g.wb().VS({margins:a});};this.setTimedTextVisible=function(a){return g.wb().VS({visibility:a});};this.getCongestionInfo=function(a){a && a({success:!1,name:null,isCongested:null});};this.lha=new Map();this.log=l.gi("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;l=a(7);a(89);c.prototype.wb=function(){return this.tf.hi();};c.prototype.JKa=function(a,b){var c;this.lha.has(a) || this.lha.set(a,new Map());c=this.lha.get(a);c.has(b) || c.set(b,this.Uob(a,b));return c.get(b);};c.prototype.Uob=function(a,b){var c;c=this;return function(g){return b(Object.assign({},g,{type:a,target:c}));};};c.prototype.uHa=function(a,b){return b?a.then(b,b):a;};c.prototype.ASa=function(a){a=void 0 === a?{}:a;return {vi:a.trackingId,GO:a.authParams,gm:a.sessionParams,ke:a.uiLabel,R5:a.uxLabels,wga:a.disableTrackStickiness,G5:a.uiPlayStartTime,N_:a.forceAudioTrackId,O_:a.forceTimedTextTrackId,lk:a.isBranching,O1a:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted,playbackRate:a.playbackState.playbackRate}:void 0,nI:a.enableTrickPlay,Sja:a.heartbeatCooldown,G1:a.isPlaygraph,a2:a.loadImmediately || !1,xVa:a.pin,fS:a.preciseSeeking,T:a.startPts,pa:a.endPts,Gj:a.logicalEnd,g4:a.renderTimedText,pMa:a.extraManifestParams,Oo:a.packageId,Nda:a.assetId,Nhb:a.audioLanguages,fRb:a.textLanguages};};b.iDa=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.E$=void 0;b.E$="PlaygraphVideoPlayerFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.D$=void 0;b.D$="PlaygraphPlaybackStrategyFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.jp=void 0;f=b.jp || (b.jp={});f[f.xM=0]="No";f[f.Saa=1]="Yes";f[f.pxa=2]="Later";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.C$=void 0;b.C$="PlaygraphManagerFactorySymbol";},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.NL=void 0;c=a(0);l=a(2);k=a(1);r=a(16);g=a(26);p=a(7);d=a(13);f=(function(){var b;function a(a,b){this.Fb=a;this.j=b;this.XQ=[];}a.prototype.H_=function(a){this.XQ.forEach(function(b){return b(a);});};a.prototype.vd=function(a,b,d){this.j.vd(a,b,d);};a.prototype.O0=function(a){this.j.fireEvent(d.W.Vma,{Ujb:a});};a.prototype.kgb=function(a){-1 === this.XQ.indexOf(a) && this.XQ.push(a);};a.prototype.zLb=function(a){a=this.XQ.indexOf(a);0 <= a && this.XQ.splice(a,1);};a.prototype.jPa=function(a){var b,d;b={};r.ec(a.code)?b.ja=l.H7(a.code):b.ja=l.L.vh;try{d=a.message.match(/\((\d*)\)/)[1];b.Ie=p.dea(d,4);}catch(E){}b.ub=g.Ye(a);return b;};b=a;return b=c.__decorate([k.N()],b);})();b.NL=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.b$=void 0;b.b$="PboManifestRequestTransformerSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.YV=void 0;b.YV="PlaybackMilestoneStoreSymbol";},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.oSa=void 0;c=a(12);l=a(11);k=a(48);f=a(2);r=a(9);g=a(16);p=a(7);a=a(28);p.ga.get(a.Sf).register(f.K.Iwa,function(a){var t,p,f,h,E;function d(){var a;a=r.cv(k.di() / f);if(a != E){for(var b=r.En(a - E,30);b--;){h.push(0);}(b=r.qm(h.length - 31,0)) && h.splice(0,b);E=a;}h[h.length - 1]++;}t=c.config.SCb;p=-6 / (t - 2 - 2);f=l.Pj;h=[];E=r.cv(k.di() / f);g.Tka(t) && (setInterval(d,1E3 / t),b.oSa={Avb:function(){var d;for(var a=[],b=h.length - 1;b--;){d=h[b];a.unshift(0 >= d?9:1 >= d?8:d >= t - 1?0:r.Yh((d - 2) * p + 7));}return a;}});a(l.Md);});},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.Pva=void 0;c=a(12);l=a(55);k=a(24);r=a(2);g=a(13);b.Pva=function(a,b,m){function d(b){var d,g;d=b.error || b;g=k.Ye(d);m.error("uncaught exception",d,g);(d=(d=d && d.stack) && c.config.J0a && c.config.uSb?0 <= d.indexOf(c.config.J0a):void 0) && (b && b.stopImmediatePropagation && b.stopImmediatePropagation(),a.vd(r.K.O$a));}function p(){l.Qe.removeListener(l.K0,d);a.removeEventListener(g.W.Jf,p);a.removeEventListener(g.W.Qo,p);}try{l.Qe.addListener(l.K0,d);a.addEventListener(g.W.Jf,p);c.config.fzb && a.addEventListener(g.W.Qo,p);}catch(A){m.error("exception in exception handler ",A);}};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.daa=void 0;b.daa="SeekManagerFactorySymbol";},function(f,b,a){var l,k,r,g,p,d,m,t,x,A,h,E,L,D,C,T,n,q,R,V,W,ea,ha,Y,u;function c(a){var b;b=this;this.j=a;this.Fb=this.j.Fb;this.log=t.Ig(this.j,"MediaPresenterASE");this.R2=this.FZ=0;this.na=this.Fb.na;this.cK=new u.hDa(this.na,this.j);this.FVa=this.uVa=this.aoa=!1;this.YQb=t.ga.get(V.PB)(R.Lb(n.jW));this.rH=void 0;this.pn=t.ga.get(ea.daa)(this.j);this.Qu={};this.bTa={};this.mPa={};this.Of=new Y.rya(this.j);this.WQb=function(){var a,d,c;b.j.tT=m.di();if(!b.Vi() && b.Ul){a=b.Fb.LOa();a || (b.$Hb(),b.Of.Hra(b.gb));b.j.paused.value || !b.Of.ega(b.gb) || !b.sea() || a || b.pn.Ska?b.Dpa():b.aoa || b.Epa();b.ZHb();if(!b.Fb.LOa()){a=b.Fb.bQ(!0);d=b.j.Ub.value;c=b.$kb();c === C.sb.Ds?(b.gb=b.j.Qr.aa(R.fa),b.Dpa()):c !== C.sb.fg && b.MSb(a);b.Y0a();b.Of.Lea(b.gb);b.j.Ub.set(c);c !== C.sb.fg || d !== C.sb.Vc && d !== C.sb.qj || b.KGb();}}};this.ol=ha.yWa(this.WQb);this.gb=a.T;this.j.Mk=!1;this.Fb.addEventListener(q.Ei.IZa,function(){b.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.Jb();}catch(qa){b.log.error("Exception while initializing",qa);b.vd(x.K.c9a);}});}Object.defineProperty(b,"__esModule",{value:!0});b.Bya=void 0;l=a(57);k=a(11);r=a(12);g=a(56);p=a(55);d=a(46);m=a(48);t=a(7);a(89);x=a(2);A=a(485);h=a(18);E=a(96);L=a(26);D=a(58);C=a(13);T=a(16);n=a(174);q=a(196);R=a(4);V=a(103);W=a(182);ea=a(300);ha=a(635);Y=a(634);u=a(633);c.prototype.UNa=function(){return this.Fb.bQ(!1);};c.prototype.tD=function(){return this.Fb.tD();};c.prototype.sD=function(){return this.Fb.sD();};c.prototype.aQ=function(){return this.Fb.aQ();};c.prototype.p0=function(){return this.Fb.p0();};c.prototype.Jb=function(){var a;a=this;this.log.trace("Video element initializing");this.Fb.sourceBuffers.forEach(function(b){return a.Of.zOb(b);});this.Azb(this.j.Qw);};c.prototype.Azb=function(a){var g;function b(){function a(a){var b,d;a=void 0 === a?!0:a;d=g.j.Gb && g.j.Gb.Lja();g.j.Ub.value == C.sb.fg && g.j.state.value == C.yb.rd && g.j.io.value == C.ze.rd && g.j.pl.value == C.ze.rd && !g.j.Mk && d?(a && g.HZ.hj(),g.HZ.hD(),b="ensureTimer"):(g.HZ.hj(),b="stopTimer");g.log.trace("Timer update: " + b,{presentingState:C.sb[g.j.Ub.value],playbackState:C.yb[g.j.state.value],avBufferingState:C.ze[g.j.io.value],textBufferingState:C.ze[g.j.pl.value],autoplayWasBlocked:g.j.Mk,hasLicense:d,restartTimer:a});}r.config.IKa && (h.Ya(!g.HZ),g.HZ=t.ga.get(W.QM)(r.config.IKa,function(){var a;a=t.ga.get(A.g7).Gpb(g.j);g.vd(a.code,a);}),g.j.Ub.addListener(function(){return a();}),g.j.io.addListener(function(){return a();}),g.j.pl.addListener(function(){return a();}),g.j.state.addListener(function(){return a();}),g.j.addEventListener(C.W.JRa,function(){return a();}),g.j.addEventListener(C.W.Mk,function(){return a();}),g.j.addEventListener(C.W.Xda,function(){return a();}),g.j.addEventListener(C.W.BE,function(){return a(!0);}),a());}function c(){g.closed || (c=h.pta,g.Fb.addEventListener(q.Ei.IS,g.Qu[q.Ei.IS]=function(){return g.PGb();}),g.Fb.addEventListener(q.Ei.Np,g.Qu[q.Ei.Np]=function(){return g.d3();}),g.na.addEventListener("ended",g.Qu.ended=function(){return g.AGb();}),g.na.addEventListener("play",g.Qu.play=function(){return g.h3();}),g.na.addEventListener("pause",g.Qu.pause=function(){return g.g3();}),g.na.addEventListener("playing",g.Qu.playing=function(){return g.IGb();}),g.Ul=!0,g.j.cRa && (g.Of.Hra(g.gb),g.log.trace("Video element initialization complete"),g.j.od("vi"),r.config.VKa?setTimeout(function(){g.una=!0;g.ol();},r.config.VKa):g.una=!0,b(),D.Ec(function(){return g.ol();})));}g=this;a?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.u}),this.j.Gb.zP("" + this.j.u));this.log.trace("Waiting for loadedmetadata");this.Fb.addEventListener(q.Ei.NRa,function(a){a=a.la;g.j.od("ld",a);g.j.Gb.zP("" + a);g.j.fireEvent(C.W.JRa);});d.SGa(this.na,"loadedmetadata",function(){g.log.trace("Video element event: loadedmetadata");g.j.od("md");});p.Qe.addListener(p.Sl,this.mPa[p.Sl]=function(){return g.close();},k.EB);this.j.addEventListener(C.W.Jf,function(){return g.close();},k.EB);this.j.addEventListener(C.W.kYa,function(){return g.Epa();});this.j.addEventListener(C.W.hq,function(){return g.DGb();});this.j.paused.addListener(function(){return g.ol();});this.j.muted.addListener(function(){return g.Zra();});this.j.volume.addListener(function(){return g.Zra();});this.j.playbackRate.addListener(function(){return g.J5();});this.j.io.addListener(function(){return g.ol();});this.j.pl.addListener(function(){return g.ol();});this.Zra();this.J5();this.Of.P4(function(){return g.v2();});this.v2();D.Ec(function(){c();});};c.prototype.GY=function(a){var b;b=this;this.Of.Zgb(a);this.Vjb(a).then(function(){b.v2();b.j.fireEvent(C.W.u2);})["catch"](function(a){b.vd(x.K.h9a,{ub:L.Ye(a)});});};c.prototype.Dda=function(a,b,d){d=void 0 === d?{}:d;this.Of.Xgb(a,b,d);this.v2();this.uVa || a.type !== l.wc.Wh.VIDEO || (this.pn.Ska || this.seek(this.j.T,C.$d.$u),this.uVa=!0);};c.prototype.v2=function(){this.Ul?this.ol():r.config.Ygb && this.Of.Hra(this.gb);};c.prototype.f0=function(){return this.Of.f0();};c.prototype.QFb=function(){var a,b;a=this.j.vD() || 0;if(this.j.Ta.lk){if(r.config.Mib)(a=a - (this.Fb.Rpa + 1) - r.config.Qpa,b=this.j.Gb.Bw().kc,a=Math.max(a,b));}else (a-=r.config.jNb,a=Math.max(a,this.pn.sla));this.seek(a,C.$d.hG);};c.prototype.a3=function(a){var b;b=this;this.Of.BOb(a);D.Ec(function(){return b.ol();});};c.prototype.Gvb=function(){return {FZ:this.FZ,R2:this.R2};};c.prototype.Vjb=function(a){var b;b=this.Fb && this.Fb.xOa();this.j.Qr && b && Infinity !== a.AYa && (a=a.AYa + a.hn,a > this.j.Qr.aWa(R.fa) && (this.j.Qr=R.Lb(a)));return Promise.resolve();};c.prototype.ZHb=function(){var a;a=this;this.pn.v3 && this.sea() && this.Of.ega(this.gb) && (this.Fb.seek(this.gb),this.pn.v3=!1,D.Ec(function(){return a.ol();}));};c.prototype.MSb=function(a){var b;if(a < this.gb){b=this.gb - a;r.config.aIb && a && b > n.jW && (a={ElementTime:E.wh(a),MediaTime:E.wh(this.gb)},b > n.hBa?this.vd(x.K.s9a,{ub:Object.assign({Trace:this.Fb.Cw()},a)}):this.log.warn("VIDEO.currentTime became smaller",a));}else this.gb=E.Fn(a,0,this.j.Qr.aa(R.fa));};c.prototype.sea=function(){return this.j.io.value === C.ze.rd && this.j.pl.value === C.ze.rd;};c.prototype.$kb=function(){var a,b,d;a=this;b=this.j.Ub.value;d=b;this.pn.Ska?d=C.sb.fg:this.na && this.na.ended?b === C.sb.Vc && (d=C.sb.Ds):this.sea() && this.Of.ega(this.gb)?this.Fb.Hpb()?d=this.cK.paused?C.sb.qj:C.sb.Vc:this.YQb.Rc(function(){return a.XQb();}):d=this.j.Qr?this.j.xPa(this.gb,this.Of.EZ())?C.sb.fg:C.sb.Ds:C.sb.fg;return d;};c.prototype.KGb=function(){var a;if(this.j.Ub.value === C.sb.fg){a=this.Of.DRb() > this.Of.EZ();this.j.pl.value !== C.ze.rd?this.j.Wj.value?(this.j.fireEvent(C.W.Wv,{cause:g.lAa}),this.log.warn("rebuffer due to timed text",this.j.Wj.value.eh)):this.j.fireEvent(C.W.lL):a?(this.FZ++,this.j.fireEvent(C.W.Wv,{cause:g.o$})):(this.R2++,this.j.fireEvent(C.W.Wv,{cause:g.p$}));}};c.prototype.XQb=function(){this.Vi() || (r.config.TFb && this.Of.SFb(),this.ol());};c.prototype.PGb=function(){this.ol();};c.prototype.d3=function(){this.ol();this.j.fireEvent(C.W.Np);};c.prototype.AGb=function(){this.log.trace("Video element event: ended");this.ol();};c.prototype.h3=function(){this.log.trace("Video element event: play");this.ol();};c.prototype.g3=function(){this.log.trace("Video element event: pause");this.ol();};c.prototype.IGb=function(){this.log.trace("Video element event: playing");this.ol();};c.prototype.Zra=function(){this.Vi() || (this.na && this.na.volume !== this.j.volume.value && (this.na.volume=this.j.volume.value),this.na && this.na.muted !== this.j.muted.value && (this.na.muted=this.j.muted.value));};c.prototype.J5=function(){!this.Vi() && this.na && (this.na.playbackRate=this.j.playbackRate.value);};c.prototype.Epa=function(){var a;a=this;!this.Vi() && T.ec(this.na) && !this.na.ended && this.una && this.cK.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.cK.play()).then(function(){a.closed || (a.aoa=!1,a.na.style.display=null,a.j.Mk=!1,a.j.fireEvent(C.W.Xda,{j:a.j}));})["catch"](function(b){"NotAllowedError" === b.name?(a.log.warn("Playback is blocked by the browser settings",b),a.j.Mk=!0,a.closed || (a.aoa=!0,a.na.style.display="none",a.j.fireEvent(C.W.Mk,{player:{play:function(){return a.Epa();}}}))):a.closed || a.FVa || (a.FVa=!0,a.log.error("Play promise rejected",b));}));};c.prototype.DGb=function(){this.pn.sla=this.j.vD() || 0;};c.prototype.Dpa=function(){this.Vi() || !T.ec(this.na) || this.na.ended || !this.una || this.cK.paused || (this.log.trace("Calling pause on element"),this.cK.pause());};c.prototype.Y0a=function(a){this.j.gb.set(this.gb);a && this.j.gtb();};c.prototype.seek=function(a,b,d,c){b=void 0 === b?C.$d.kv:b;d=void 0 === d?this.j.Ba:d;c=void 0 === c?!1:c;!this.Vi() && this.j.Gb && (this.j.fireEvent(C.W.BE,{cause:b}),this.pn.YR={time:a,cause:b,Ba:d,ntb:c},this.j.Ub.set(C.sb.fg),this.ol());};c.prototype.$Hb=function(){var a,b,d,c,g,m,t,p;if(this.pn.YR){a=this.pn.YR;b=a.time;d=a.cause;c=a.Ba;g=a.ntb;if(!this.Of.Lh() || d === C.$d.$u){a=this.j.Aw(c).u;m=this.Of.Lh()?void 0:this.Of.rub();m=this.pn.gwb(b,d,c,g,m);c=m.U2;g=m.ei;t=m.IIb;m=m.bi;this.Of.Lea(this.gb);p=this.gb;b=E.wh(b);this.j.yp("SEEKING: Requested: (" + a + ":" + d + ":" + b + ") - Actual: (contentPts: " + g + "," + ("playerPts: " + t + ", newMediaTime: " + c + ")"));this.log.info("Seeking",{Requested:b,Actual:E.wh(c),Cause:d,Skip:m});d === C.$d.$u || m || (this.Of.SXa(),this.Of.wOb());this.gb=c;this.pn.sla=g;b=this.j.vg.value;t=this.j.uf.value;this.j.vg.set(null);this.j.uf.set(null);this.Y0a(!0);this.pn.YR=void 0;this.pn.v3=!0;this.j.fireEvent(C.W.ll,{vna:p,U2:c,ei:g,cause:d,skip:m,vg:b,uf:t,u:a});m && this.Of.skip(c);}}};c.prototype.vd=function(a,b,d){this.closed || this.j.vd(a,b,d);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Of.close();this.Fb.removeEventListener(q.Ei.IS,this.bTa[q.Ei.IS]);this.Fb.removeEventListener(q.Ei.Np,this.bTa[q.Ei.Np]);this.na.removeEventListener("ended",this.Qu.ended);this.na.removeEventListener("play",this.Qu.play);this.na.removeEventListener("pause",this.Qu.pause);this.na.removeEventListener("playing",this.Qu.playing);this.cK.close();p.Qe.removeListener(p.Sl,this.mPa[p.Sl]);this.closed=!0;try{r.config.cFb && (this.na.volume=0,this.na.muted=!0);this.Dpa();this.Fb.close();}catch(ia){}this.na=void 0;this.Of.SXa();}};c.prototype.Vi=function(){return this.closed?!0:T.ec(this.na)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.Bya=c;},function(f,b,a){var c,l,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.nAa=void 0;c=a(11);l=a(12);k=a(48);r=a(96);g=a(9);p=a(58);d=a(16);m=a(13);b.nAa=function(a){var h,L,D,C,T,n;function b(){return a.state.value === m.yb.LOADING || a.state.value === m.yb.rd && a.Ub.value === m.sb.fg;}function t(){b()?n || (n=setInterval(f,100)):n && (clearInterval(n),n=void 0,p.Ec(f));}function f(){var c,t,p,f,x,A,E,J;c=k.di();t=h.value;p=t?t.ni:0;x=a.state.value == m.yb.LOADING || b() && c - L > l.config.Zib;x && a.state.value == m.yb.rd?(a.Hm.value === m.ze.ABa?(E=p,A=!0):(f=c + (a.Wl && a.Wl.Oyb() || 0),D=D || c,C=C || D + l.config.AEb + 1,d.oa(f) && (f=g.qm(f,C),E=a.Wl?a.Wl.c3b():.99,E=g.Yh(1E3 * r.Fn((c - D) / (f - D),0,E)) / 1E3)),E < p && (p - E < l.config.WJb / 100?(E=p,T=void 0):T?c - T > l.config.VJb?(J=!0,T=void 0):E=p:(T=c,E=p))):T=C=D=void 0;c=x?{c5:A,ni:E,XJb:J}:null;(!c || !h || !t || d.oa(c.ni) && !d.oa(t.ni) || d.oa(c.ni) && d.oa(t.ni) && .01 < g.vB(c.ni - t.ni) || c.c5 !== t.c5) && h.set(c);}h=a.vea;L=0;a.state.addListener(function(){t();f();},c.MV);a.Ub.addListener(function(a){if(a.oldValue !== m.sb.fg || a.newValue !== m.sb.fg)L=k.di();t();});a.Hm.addListener(function(){t();});a.io.addListener(function(){t();});a.pl.addListener(function(){t();});n || (n=setInterval(f,100));};},function(f,b,a){var p,d,m,t;function c(a,b,d,c,g){var m;m={};"right" == a.horizontalAlignment?m.right=100 * (d - b.left - b.width - g) / d + "%":m.left=100 * (b.left - g) / d + "%";"bottom" == a.verticalAlignment?m.bottom=100 * (c - b.top - b.height - g) / c + "%":m.top=100 * (b.top - g) / c + "%";return m;}function l(a,b){var d;if(a && b){40 === b.x && 19 === b.y?d=4 / 3 / (40 / 19):52 === b.x && 19 === b.y && (d=16 / 9 / (52 / 19));if(d)return a.width / a.fontSize / d;}}function k(a,b,d,c,g){var t,p;t=a.style;p=m.wQ(a.text);for(a=a.lineBreaks;a--;){p="<br />" + p;}return r(p,t,b,d,c,g);}function r(a,b,c,m,k,r){var f;f=b.characterStyle;k=k[f];m=b.characterSize * m.height / ((0 <= f.indexOf("MONOSPACE")?l(k,b.cellResolution) || k.lineHeight:k.lineHeight) || 1);m=0 < r?t.cv(m * r):t.Yh(m);r={"font-size":m + "px","line-height":"normal","font-weight":"normal"};b.characterItalic && (r["font-style"]="italic");b.characterUnderline && (r["text-decoration"]="underline");b.characterColor && (r.color=b.characterColor);b.backgroundColor && 0 !== b.backgroundOpacity && (r["background-color"]=g(b.backgroundColor,b.backgroundOpacity));m=b.characterEdgeColor || "#000000";switch(b.characterEdgeAttributes){case d.r3:r["text-shadow"]=m + " 0px 0px 7px";break;case d.Jna:r["text-shadow"]="-1px 0px " + m + ",0px 1px " + m + ",1px 0px " + m + ",0px -1px " + m;break;case d.dVa:r["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case d.bVa:r["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}r=p.WC(r);(c=c[b.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (r+=";" + c);b=b.characterOpacity;0 < b && 1 > b && (a='<span style="opacity:' + b + '">' + a + "</span>");return '<span style="' + r + '">' + a + "</span>";}function g(a,b){a=a.substring(1);a=parseInt(a,16);return "rgba(" + (a >> 16 & 255) + "," + (a >> 8 & 255) + "," + (a & 255) + "," + (void 0 !== b?b:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.eMa=b.Brb=b.zrb=b.Crb=b.Arb=b.fMa=b.gMa=b.cha=void 0;p=a(46);d=a(215);m=a(24);t=a(9);b.cha=function(a,b,d,c,g){var m;m="";a.textNodes.forEach(function(a){m+=k(a,d,b,c,g);});return m;};b.gMa=function(a,b,d,g,p){var k,r,l,x,A;k="";r=p.width;p=p.height;for(var f=b.length;f--;){l=b[f];x=a[f];x=x && x.region;A="position:absolute;background:" + g + ";width:" + t.Yh(l.width + 2 * d) + "px;height:" + t.Yh(l.height + 2 * d) + "px;";m.Dd(c(x,l,r,p,d),function(a,b){A+=a + ":" + b + ";";});k+='<div style="' + A + '"></div>';}return k;};b.fMa=c;b.Arb=l;b.Crb=k;b.zrb=r;b.Brb=g;b.eMa=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case "left":b["text-align"]="left";break;case "right":b["text-align"]="right";break;default:b["text-align"]="center";}return p.WC(b);};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.I0a=void 0;c=a(9);b.I0a=function(a,b){function k(a,b,t){var f,l,h,n;if(a && 1 < a.length){for(var d=[],m=[],p=0;p < a.length;p++){d[p]=0;m[p]=0;}for(var k=!1,p=0;p < a.length;p++){for(var r=p + 1;r < a.length;r++){l=a[p];h=a[r];if(0 > l.width || 0 > h.width || h.left > l.left + l.width || h.left + h.width < l.left || h.top > l.top + l.height?0:h.top + h.height >= l.top){f=c.qm(l.left,h.left);n=c.qm(l.top,h.top);f={width:c.qm(c.En(l.left + l.width,h.left + h.width) - f,0),height:c.qm(c.En(l.top + l.height,h.top + h.height) - n,0),x:f,y:n};}else f=void 0;if(f && 1 < f.width && 1 < f.height)if((n=f.width <= f.height,l=g(a[p]),h=g(a[r]),n && b || !n && !b))(f=c.qm(f.width / 2,.25),l.x <= h.x?(m[p]-=f,m[r]+=f):(m[r]-=f,m[p]+=f));else if(n && !b || !n && b)(l=c.qm(f.height / 2,.25),d[p]-=l,d[r]+=l);}}for(p=0;p < a.length;p++){if(-.25 > m[p] && 0 <= a[p].left + m[p] || .25 < m[p] && a[p].left + a[p].width + m[p] <= t.width)(a[p].left+=m[p],k=!0);if(-.25 > d[p] && 0 <= a[p].top + d[p] || .25 < d[p] && a[p].top + a[p].height + d[p] <= t.height)(a[p].top+=d[p],k=!0);}return k;}}function g(a){return {x:a.left + a.width / 2,y:a.top + a.height / 2};}a=a.map(function(a){return {top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,b){a.forEach(function(a){0 > a.left && a.left + a.width < b.width?a.left+=c.En(-a.left,b.width - (a.left + a.width)):a.left + a.width > b.width && 0 < a.left && (a.left-=c.En(a.left + a.width - b.width,a.left));0 > a.top && a.top + a.height < b.height?a.top+=c.En(-a.top,b.height - (a.top + a.height)):a.top + a.height > b.height && 0 < a.top && (a.top-=c.En(a.top + a.height - b.height,a.top));});})(a,b);for(var p=0;50 > p && k(a,!0,b);p++){;}for(p=0;50 > p && k(a,!1,b);p++){;}return a;};},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;c=a(26);l=a(304);k=a(303);r=a(9);g=a(24);f=(function(){function a(a,b){this.Mha=a;this.gD={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=c.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.ZYa(b);this.RMa=this.rvb(this.Mha);}a.prototype.Bo=function(){return this.element;};a.prototype.XNb=function(a){this.Mda=a;};a.prototype.hOb=function(a){this.He=a;this.uK();};a.prototype.nOb=function(a){this.ZYa(a);this.uK();};a.prototype.uK=function(){var b,g,t,p,r,f,h,L,D,C,T,q,R,V;b=this;g=this.Bo();t=g.parentElement;p=t && t.clientWidth || 0;r=t && t.clientHeight || 0;f=t=0;h={width:p,height:r};if(0 < p && 0 < r && this.He){this.Mda && (h=c.wI(p,r,this.Mda),t=Math.round((p - h.width) / 2),f=Math.round((r - h.height) / 2));L=this.xjb(h);C=c.wI(L.width,L.height,this.Mda);L=(D=this.He.blocks) && D.map(function(d){var g;g=k.cha(d,C,b.Mha,b.RMa);d=k.eMa(d) + ";position:absolute";return c.createElement("div",d,g,a.X6);});}Object.assign(this.gD,{left:t + "px",right:t + "px",top:f + "px",bottom:f + "px"});g.style.display="none";g.style.direction=this.gD.direction;g.innerHTML="";if(L && L.length){p=h.width;t=h.height;T=h;this.OO && (T=this.Pfb(h,this.OO,r,f));this.gD.margin=this.jq?this.ZY(h,"top") + "px " + this.ZY(h,"right") + "px " + this.ZY(h,"bottom") + "px " + this.ZY(h,"left") + "px ":void 0;L.forEach(function(a){return g.appendChild(a);});r=c.WC(this.gD);g.style.cssText=r + ";visibility:hidden;z-index:-1";for(var f=[],n=L.length - 1;0 <= n;n--){q=L[n];R=D[n];V=this.ZTa(q,R,p,t);V.width > p && (q.innerHTML=k.cha(R,h,this.Mha,this.RMa,p / V.width),V=this.ZTa(q,R,p,t));f[n]=V;}f=l.I0a(f,T);if(n=D && D[0] && D[0].textNodes && D[0].textNodes[0] && D[0].textNodes[0].style)(T=n.windowColor,n=n.windowOpacity,T && 0 < n && (h=k.gMa(D,f,Math.round(t / 50),T,h),h=c.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + n,h,a.X6),g.insertBefore(h,g.firstChild)));g.style.display="none";for(h=f.length - 1;0 <= h;h--){T=L[h].style;n=k.fMa(D[h].region,f[h],p,t,0);Object.assign(T,n);}g.style.cssText=r;}};a.prototype.sqa=function(a){this.OO=a;this.uK();};a.prototype.rja=function(){return this.OO;};a.prototype.tqa=function(a){this.jq=a;this.uK();};a.prototype.sja=function(){return this.jq;};a.prototype.tja=function(){return "block" === this.gD.display;};a.prototype.uqa=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.gD.display=b;a && this.uK();};a.prototype.rvb=function(a){var b,d;b=this;d={};g.Dd(a,function(a,c){d[a]=b.UDb(c);});return d;};a.prototype.ZYa=function(a){this.gD.direction="boolean" === typeof a?a?"ltr":"rtl":"inherit";};a.prototype.ZY=function(a,b){if(this.jq){if("left" === b || "right" === b)return a.width * (this.jq[b] || 0);if("top" === b || "bottom" === b)return a.height * (this.jq[b] || 0);}return 0;};a.prototype.xjb=function(a){return this.jq?{height:a.height * (1 - (this.jq.top || 0) - (this.jq.bottom || 0)),width:a.width * (1 - (this.jq.left || 0) - (this.jq.right || 0))}:a;};a.prototype.UDb=function(b){var d;b=c.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + b + ";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a.X6);r.Ce.body.appendChild(b);d={fontSize:1E3,height:b.clientHeight,width:b.clientWidth / 52,lineHeight:b.clientHeight / 1E3};r.Ce.body.removeChild(b);return d;};a.prototype.ZTa=function(a,b,c,g){var d,m,t,p,k;d=b.region;m=(d.marginTop || 0) * g;t=(d.marginBottom || 0) * g;p=(d.marginLeft || 0) * c;k=(d.marginRight || 0) * c;b=a.clientWidth || 1;a=a.clientHeight || 1;switch(d.verticalAlignment){case "top":g=m;break;case "center":g=(m + g - t - a) / 2;break;default:g=g - t - a;}switch(d.horizontalAlignment){case "left":c=p;break;case "right":c=c - k - b;break;default:c=(p + c - k - b) / 2;}return {top:g,left:c,width:b,height:a};};a.prototype.Pfb=function(a,b,c,g){return {height:c - Math.max(g,b.bottom || 0) - Math.max(g,b.top || 0),width:a.width};};a.X6={"class":"player-timedtext-text-container"};return a;})();b.HCa=f;},function(f,b,a){var l,k,r,g,p,d,m;function c(a){var b,d,c,t;b=this;this.j=a;this.jP=void 0;this.Dba=r.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.tba=r.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.jba=r.createElement("DIV","width:100%;text-align:center");this.xab=this.vba("Audio Bitrate");this.Yca=this.vba("Video Bitrate");this.nba=this.vba("CDN");this.ON={};this.J0=g.ga.get(p.vl);this.Dba.appendChild(this.tba);this.tba.appendChild(this.jba);d=r.createElement("BUTTON",void 0,"Override");d.addEventListener("click",this.oab.bind(this),!1);this.jba.appendChild(d);d=r.createElement("BUTTON",void 0,"Reset");d.addEventListener("click",this.Meb.bind(this),!1);this.jba.appendChild(d);c=this.Wdb.bind(this);k.Qe.addListener(k.Iz,c);a.addEventListener(m.W.hq,function(){b.ON={};});a.addEventListener(m.W.Jf,function(){k.Qe.removeListener(k.Iz,c);});t=this.web.bind(this);a.vc.forEach(function(a){a.addListener(t);});a.ud.addListener(t);a.Mg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.uAa=void 0;l=a(57);k=a(55);r=a(26);g=a(7);p=a(34);d=a(110);m=a(13);c.prototype.show=function(){this.kO || (this.UFa(),this.j.Pf.appendChild(this.Dba),this.kO=!0);};c.prototype.Zp=function(){this.kO && (this.j.Pf.removeChild(this.Dba),this.kO=!1);};c.prototype.toggle=function(){this.kO?this.Zp():this.show();};c.prototype.O0a=function(){var d,c,g;function a(a,b,d){var c,g,m;m=[];b.filter(function(b){return b.jg === a;}).forEach(function(a){0 <= d.indexOf(a)?(void 0 === c?c=a.R:g=a.R,void 0 === g && (g=a.R)):void 0 !== c && void 0 !== g && (m.push({min:c,max:g}),c=g=void 0);});void 0 !== c && void 0 !== g && (m.push({min:c,max:g}),c=g=void 0);return m;}function b(a,b,d){var c;c=[];b.filter(function(b){return b.jg === a;}).forEach(function(a){-1 === d.indexOf(a) && c.push({stream:{bitrate:a.R},disallowedBy:["manual"]});});return c;}d=this.j.fr();c=this.j.KI().sort(function(a,b){return a.R - b.R;});g=c.reduce(function(a,b){0 > a.indexOf(b.jg) && a.push(b.jg);return a;},[]).map(function(g){return {profile:g,ranges:a(g,c,d),disallowed:b(g,c,d)};});this.j.Gb.Ex(g,this.j.u);};c.prototype.oab=function(){var d,c,a,b;this.ON={};for(var a=this.Yca.options,b=a.length;b--;){d=a[b];d.selected && (this.ON[d.value]=1);}this.jP=this.$ab.bind(this);this.O0a();if(a=this.j.bk){c=this.nba.value;a=a.filter(function(a){return a.id == c;})[0];b=this.j.vc[l.wc.Sa.VIDEO].value;a && a != b && (a.UIa={testreason:"streammanager",selreason:"userselection"},this.j.vc[l.wc.Sa.VIDEO].set(a));}this.Zp();};c.prototype.Meb=function(){this.jP=void 0;this.j.nZa(this.j.u);this.Zp();};c.prototype.$ab=function(){var a;a=this;return this.j.KI().filter(function(b){return a.ON[b.R];});};c.prototype.UFa=function(){var a,b,d,c;a=this;b=this.j.ud.value;d=this.j.Mg.value;c=this.j.bk;b && (c=c.slice(),c.sort(function(a,b){return a.$f - b.$f;}),this.Gca(this.xab,b.tc.map(function(b){return {value:b.R,caption:b.R,selected:b == a.j.Jl.value};})));d && (this.Gca(this.Yca,d.tc.map(function(b){var d,c;d=a.j.yJ.hs(b);b=b.R;c="" + b;d && (c+=" (" + d.join("|") + ")");return {value:b,caption:c,selected:a.jP?a.ON[b]:!d};})),this.Yca.removeAttribute("disabled"));c && (this.Gca(this.nba,c.map(function(b){return {value:b.id,caption:"[" + b.id + "] " + b.name,selected:b == a.j.vc[l.wc.Sa.VIDEO].value};})),this.nba.removeAttribute("disabled"));};c.prototype.web=function(){this.kO && this.UFa();};c.prototype.vba=function(a){var b,d;b=r.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=r.createElement("DIV",void 0,a);d=r.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(d);this.tba.appendChild(b);return d;};c.prototype.Gca=function(a,b){a.innerHTML="";b.forEach(function(b){var d;d={title:b.caption};b.selected && (d.selected="selected");d=r.createElement("option",void 0,b.caption,d);d.value=b.value;a.appendChild(d);});};c.prototype.Wdb=function(a){a.ctrlKey && a.altKey && a.shiftKey && a.keyCode == d.Fs.S9a && this.J0.Zka && this.toggle();};b.uAa=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.lBa=void 0;b.lBa=function(a,b){var c;this.DOb=function(){c || (c=setInterval(b,a));};this.nJa=function(){c && (clearInterval(c),c=void 0);};};},function(f,b,a){var c,l,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.Zwa=void 0;c=a(12);l=a(48);k=a(2);r=a(307);g=a(9);p=a(16);d=a(13);m=a(7);t=a(182);b.Zwa=function(a){var f,x,h,D;function b(){a.state.value !== d.yb.rd || a.Ub.value !== d.sb.qj && a.Ub.value !== d.sb.Ds?x.hj():x.hD();}f=c.config.NHb;if(!a.KD() && f){x=m.ga.get(t.QM)(f,function(){a.fireEvent(d.W.QI,k.K.OV);});a.Ub.addListener(b);a.state.addListener(b);if(c.config.nka){D=l.di();h=new r.lBa(c.config.nka,function(){var b,m;b=l.di();m=b - D;m > f && (a.fireEvent(d.W.QI,k.K.nV),h.nJa());m > 2 * c.config.nka && (a.oka=g.qm(m,a.oka || 0));D=b;});h.DOb();}a.addEventListener(d.W.Jf,function(){x.hj();p.ec(h) && h.nJa();});}};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.wwa=void 0;c=a(13);l=a(66);b.wwa=function(a){function b(b){a.fireEvent(c.W.pz,{response:b,u:a.ha.u});}return {download:function(c,p){c.j=a;c=l.af.download(c,p);c.fda(b);return c;}};};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.KCa=void 0;c=a(26);f=(function(){function a(a,b){var c;c=this;this.yOa=a;this.wUa=b;this.qra=!1;this.ix=function(){c.ri=void 0;c.update();};}a.prototype.update=function(a){var b,g,p;b=this.yOa();if(this.c1a !== b){c.ec(b) && c.ec(this.duration) && b < this.duration && this.entries && (p=this.QTa || this.entries[Math.floor(b * this.tRb)] || this.entries[0]);if(p){for(;p && p.endTime < b;){p=p.next;}for(;p && p.previous && p.previous.endTime >= b;){p=p.previous;}}p && (p.startTime <= b && b <= p.endTime?(g=p,this.W0a(p.endTime - b)):this.W0a(p.startTime - b));this.QTa=p;this.c1a=b;this.eda !== g && (this.eda=g,!a && this.wUa && this.wUa());}};a.prototype.start=function(){this.qra=!0;this.update();};a.prototype.$Ya=function(a){this.QTa=this.eda=this.c1a=void 0;this.duration=(this.entries=a) && Math.max.apply(Math,[].concat(da(a.map(function(a){return a.endTime;})))) || 0;this.tRb=a && a.length / this.duration || 0;this.update();};a.prototype.stop=function(){this.qra=!1;this.hj();};a.prototype.Qtb=function(){this.update(!0);return this.eda;};a.prototype.W0a=function(b){this.hj();this.qra && 0 < b && (this.ri=setTimeout(this.ix,b + a.n8a));};a.prototype.hj=function(){this.ri && (clearTimeout(this.ri),this.ri=void 0);};a.n8a=10;return a;})();b.KCa=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.H8=void 0;b.H8="LicenseBrokerFactorySymbol";},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.Dt=void 0;c=a(11);l=a(12);f=a(2);k=a(7);r=a(26);g=a(9);a=a(28);k.ga.get(a.Sf).register(f.K.Ewa,function(a){var m,t,p;function d(){p && clearTimeout(p);a(c.Md);d=r.Af;}m=k.gi("BatteryManager");b.Dt={L3a:"chargingchange",mOa:function(){return t?t.level:null;},nia:function(){return t?t.charging:null;},addEventListener:function(a,b){t && t.addEventListener(a,b);},removeEventListener:function(a,b){t && t.removeEventListener(a,b);}};if(l.config.YO){p=setTimeout(d,l.config.kub);try{g.Zh.getBattery().then(function(a){t=a;d();})["catch"](function(a){m.error("getBattery promise rejected",a);d();});}catch(A){m.error("exception on getBattery api call",A);d();}}else d();});},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.b_a=void 0;c=a(314);l=a(7);k=a(455);r=a(27);b.b_a=function(a){a({ia:!0,storage:new c.G8(l.ga.get(k.I8),l.ga.get(r.Cf))});};},function(f,b){function a(a,b){this.Bt=a;this.dd=b;}Object.defineProperty(b,"__esModule",{value:!0});b.G8=void 0;a.prototype.load=function(b,f){var c;c=this;this.Bt.load(b).then(function(b){f && f(a.n_a(b));})["catch"](function(a){f && f(c.iha(b,a));});};a.prototype.save=function(b,f,k,r){var c;c=this;this.Bt.save(b,f,k).then(function(){r && r(a.n_a({key:b,value:f}));})["catch"](function(a){r && r(c.iha(b,a));});};a.prototype.remove=function(a,b){var c;c=this;this.Bt.remove(a).then(function(){b && b({ia:!0,g5:a});})["catch"](function(k){b && b(c.iha(a,k));});};a.n_a=function(a){return {ia:!0,data:a.value,g5:a.key};};a.prototype.iha=function(a,b){return {ia:!1,g5:a,ja:b.ja,ub:b.cause?this.dd.Ye(b.cause):void 0};};b.G8=a;},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.a_a=void 0;c=a(7);l=a(71);k=a(27);r=a(314);g=a(453);b.a_a=function(a){c.ga.get(l.ws).create().then(function(b){a({ia:!0,storage:new r.G8(b,c.ga.get(k.Cf)),Op:c.ga.get(g.m7)});})["catch"](function(b){a(b);});};},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.c_a=void 0;c=a(11);l=a(7);k=a(2);a(24);b.c_a=function(a){var b;l.gi("Storage");b={};a({ia:!0,storage:{load:function(a,d){b.hasOwnProperty(a)?d({ia:!0,data:b[a],g5:a}):d({ja:k.L.ly});},save:function(a,d,c,g){c && b.hasOwnProperty(a)?g({ia:!1}):(b[a]=d,g && g({ia:!0,g5:a}));},remove:function(a,d){delete b[a];d && d(c.Md);}}});};},function(f,b,a){var l,k,r,g,p,d,m,t,x,h,J,E,L,D,C,T,n,q,R,V,W,ea,ha,Y,u,ia,oa,qa,Aa,I,Ba,va,Da,N,ka,La,eb,B,ib,Ga;function c(a,b,d,c,g,m,p,k,f,A,L,T,q,P,ba,N,Ia,ia,I,va,Ba,Aa,eb,B,$a,ib,Ga,M,Q){var aa,ab,Wa,lb;function gb(a){a.newValue !== ka.sb.fg && a.newValue !== ka.sb.qj && (aa.Ub.removeListener(gb),aa.UI=aa.Fa.M4,aa.Ib.ac(ka.W.Qo));}function vb(a){a.newValue !== ka.sb.fg && (aa.Ub.removeListener(vb),aa.MVa=aa.Fa.Pe.aa(W.fa));}aa=this;this.sx=g;this.CD=m;this.wa=k;this.uH=f;this.Fa=A;this.ema=L;this.fma=P;this.g2=ba;this.mc=N;this.bj=Ia;this.mi=ia;this.Et=I;this.boa=va;this.hR=Ba;this.Era=Aa;this.dh=eb;this.dd=B;this.$na=$a;this.el=ib;this.HXa=Ga;this.rH=M;this.dZ=Q;this.TVa=[];this.cS={};this.ud=new h.Uc(null);this.Mg=new h.Uc(null);this.Hc=new h.Uc(null);this.Wj=new h.Uc(null);this.Ju=new h.Uc(void 0);this.zf=new h.Uc(null);this.Jl=new h.Uc(null);this.gb=new h.Uc(void 0);this.playbackRate=new h.Uc(1);this.Pra=function(a){return aa.ud.set(a.newValue);};this.dTb=function(a){return aa.Mg.set(a.newValue);};this.aTb=function(a){return aa.Hc.set(a.newValue);};this.ASb=function(a){return aa.Wj.set(a.newValue);};this.$Sb=function(a){return aa.Ju.set(a.newValue);};this.cTb=function(a){return aa.zf.set(a.newValue);};this.BSb=function(a){return aa.Jl.set(a.newValue);};this.RSb=function(a){return aa.uf.set(a.newValue);};this.QSb=function(a){return aa.vg.set(a.newValue);};this.LSb=function(a){return aa.gb.set(a.newValue);};this.J5=function(a){return aa.playbackRate.set(a.newValue);};this.Jo={};this.wpa=this.vra=0;this.Ib=new E.oj();this.TT={};this.VZa=!1;this.state=new h.Uc(ka.yb.VF);this.Sr=new h.Uc(!1);this.paused=new h.Uc(!1);this.muted=new h.Uc(!1);this.volume=new h.Uc(J.config.$ob / 100);this.Ub=new h.Uc(ka.sb.fg);this.Hm=new h.Uc(ka.ze.Yd);this.io=new h.Uc(ka.ze.Yd);this.pl=new h.Uc(ka.ze.Yd);this.vg=new h.Uc(null);this.uf=new h.Uc(null);this.vea=new h.Uc(null);this.d1=t.wwa(this);this.r2=[];this.vc=[];this.fea={};this.DP=this.OLa=!1;this.La=this.Rh=-1;this.gja=function(a,b){a=void 0 === a?null:a;return qa.oa(a)?b && !aa.Aw(b).qa?a:aa.Gb?aa.Gb.Mt(void 0,a,b):a:null;};this.yUa=function(){aa.Mqa();};this.ZC=a;this.addEventListener=this.Ib.addListener;this.removeEventListener=this.Ib.removeListener;this.fireEvent=this.Ib.ac;this.mda({la:a,Ba:c,Ta:d || ({})},J.config.Vr?this.mc.H0(a):void 0,b);this.log=V.Ig(this);this.rga=p(this);this.lib=T(this);this.Pf=Da.createElement("DIV",x.T$,void 0,{id:this.u});this.zzb();ab=q(W.ph(1));this.ue=this.log.Gfa("Playback");this.tIb=r.hAa(this);C.bG.SEb=this;C.bG.Iha || (C.bG.Iha=this);this.ue.info("Playback created",this.eh);this.f2?this.ue.info("Playback selected for trace playback info logging"):this.ue.trace("Playback not selected for trace playback info logging");J.config.Vr && (this.mc.gyb(this.u),this.addEventListener(ka.W.Qo,function(){aa.mc.hyb(aa.u);aa.Hc.addListener(function(){aa.mc.tPa();});aa.ud.addListener(function(){aa.mc.tPa();});}),this.addEventListener(ka.W.Jf,function(){aa.mc.fyb(aa.u);}));this.state.addListener(function(a){aa.ue.info("Playback state changed",{From:a.oldValue,To:a.newValue});Y.Ya(a.newValue > a.oldValue);});D.Qe.addListener(D.Sl,this.yUa,x.MV);this.gb.addListener(function(){ab.Rc(function(){return aa.JMa();});});lb=!1;this.paused.addListener(function(a){var b;b=aa.Gb;!a.gna && b && (!0 === a.newValue?b.paused && b.paused():b.KT && b.KT());a.newValue || (lb=!1);aa.ue.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:u.wh(aa.gb.value)});});this.Ub.addListener(function(a){aa.ue.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:u.wh(aa.gb.value)},aa.wJ());});this.Ub.addListener(function(){aa.Sr.set(aa.Ub.value === ka.sb.Vc);});this.Hm.addListener(function(a){aa.ue.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:u.wh(aa.gb.value)},aa.wJ());});this.io.addListener(function(a){aa.ue.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:u.wh(aa.gb.value)},aa.wJ());});this.pl.addListener(function(a){aa.ue.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:u.wh(aa.gb.value)},aa.wJ());});this.ud.addListener(function(a){Y.Ya(a.newValue);aa.ue.info("AudioTrack changed",a.newValue && ({ToBcp47:a.newValue.Kl,To:a.newValue.jb}),a.oldValue && ({FromBcp47:a.oldValue.Kl,From:a.oldValue.jb}),{MediaTime:u.wh(aa.gb.value)});});this.Hc.addListener(function(a){aa.ue.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Kl,To:a.newValue.jb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Kl,From:a.oldValue.jb}:{From:"none"},{MediaTime:u.wh(aa.gb.value)});});this.vc[l.wc.Sa.AUDIO]=new h.Uc(null);this.vc[l.wc.Sa.VIDEO]=new h.Uc(null);this.Ub.addListener(vb,x.EB);this.Ub.addListener(gb);this.addEventListener(ka.W.Qo,function(){var a,b,d,c;aa.VZa=!0;aa.PPb=aa.Aea();aa.od("start");a=aa.uf.value;b=O._cad_global.prefetchEvents;if(b){d=W.Lb(aa.Do?aa.Do.audio:0);c=W.Lb(aa.Do?aa.Do.video:0);b.fl(aa.u,aa.ea,"notcached" !== aa.Zv,"notcached" !== aa.dz,! !aa.Do,d,c);}aa.o1=a.stream.R;});R.nAa(this);C.Hn.push(this);J.config.vS && (this.B3=this.$na(this),this.C3=new n.uAa(this));C.t$.forEach(function(a){a(aa);});this.wgb=function(a){aa.addEventListener(ka.W.BE,function(b){b=b.cause;b !== ka.$d.$u && b !== ka.$d.KB && a.stop();});aa.addEventListener(ka.W.ll,function(b){var d,c,g,m,t,p;aa.HXa.ll(b);d=b.cause;c=b.skip;g=b.U2;m=b.vna;t=b.u;b=b.ei;aa.ha.dn.KFb(m,g);if(d !== ka.$d.KB && (J.config.ftb && d === ka.$d.hG && aa.$o.UO(),d !== ka.$d.$u))if(c){if(a.bi(g)){aa.ue.trace("Repositioned. Skipping from " + m + " to " + g);d=function(a){aa.log.error("streamingSession.skipped threw an exception",a);a=La.zc.W_(ea.K.q2a,a);aa.Ro(a.code,a);};try{a.ml(g).then(function(b){b.XI || (aa.v1a() || aa.io.set(ka.ze.rd),a.play());})["catch"](d);}catch(Lc){d(Lc);}}else aa.log.error("can skip returned false");}else {aa.ue.trace("Repositioned. Seeking from " + m + " to " + g);try{p=aa.Rl(t).Ba;a.Dx(b,aa.lOa(p),p);}catch(Lc){aa.log.error("streamingSession.seekByContentPts threw an exception",Lc);g=La.zc.W_(ea.K.o2a,Lc);aa.Ro(g.code,g);}}});a.addEventListener("maxPosition",function(a){var b,d;b=W.Lb(a.maxPts);d=W.Lb(a.maxSeekPts);if(a=aa.rx[a.index])(a.Lt=b,a.GDb=d);aa.Qr || (aa.Qr=b);});a.addEventListener("segmentStarting",function(a){aa.fireEvent(ka.W.pNb,a);});a.addEventListener("lastSegmentPts",function(a){aa.fireEvent(ka.W.mNb,a);});a.addEventListener("segmentPresenting",function(a){aa.fireEvent(ka.W.FK,a);});a.addEventListener("segmentAborted",function(a){aa.fireEvent(ka.W.kNb,a);});a.addEventListener("manifestPresenting",function(a){aa.ySa({u:parseInt(a.movieId),N3:a.previousMovieId?parseInt(a.previousMovieId):void 0,JD:!1});});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure" === a.error && (aa.ue.trace("receiving an unrecoverable streaming error: " + JSON.stringify(a)),aa.ue.trace("StreamingFailure, buffer status:" + JSON.stringify(aa.wJ())),oa.Ec(function(){aa.vd(ea.K.p2a,{ja:a.nativeCode,ub:a.errormsg,Bj:a.httpCode,P2:a.networkErrorCode});}));});a.addEventListener("maxvideobitratechanged",function(a){aa.r2.push(a);});a.addEventListener("bufferingStarted",function(){aa.io.set(ka.ze.Yd);});a.addEventListener("locationSelected",function(a){aa.fireEvent(ka.W.eu,a);});a.addEventListener("serverSwitch",function(a){var b;aa.fireEvent(ka.W.NK,a);"video" === a.mediatype?b=l.wc.Sa.VIDEO:"audio" === a.mediatype && (b=l.wc.Sa.AUDIO);qa.ec(b) && aa.bOb(a.server,b);});a.addEventListener("bufferingComplete",function(b){aa.ue.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},aa.wJ());aa.Ep=b;aa.io.set(ka.ze.rd);Wa || (Wa=!0,aa.od("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.wna();J.config.LHb && !aa.paused.value && (lb=!0,aa.paused.set(!0,{gna:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){aa.paused.value && lb && (lb=!1,aa.paused.set(!1,{gna:!0}));aa.ji.QFb();});a.addEventListener("asereportenabled",function(){aa.DP=!0;});a.addEventListener("asereport",function(a){aa.fireEvent(ka.W.tH,a);});a.addEventListener("aseexception",function(a){aa.fireEvent(ka.W.sH,a);});a.addEventListener("hindsightreport",function(a){var b,d;b=qa.oa(aa.qf)?0:aa.qf;d=a.report;d && d.length && d.forEach(function(a){a.bst-=b;a.pst-=b;void 0 === a.nd && a.tput && (a.tput.ts-=b);});aa.Yja={TLb:d,Pyb:a.hptwbr,XPa:a.htwbr,u3:a.pbtwbr};a.rr && (aa.Yja.iYa=a.rr);a.ra && (aa.Yja.qKb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;aa.La=a.location.bandwidth;aa.Rh=a.location.httpResponseTime;b && (void 0 === aa.NC && (aa.NC={interval:J.config.MC,startTime:b.startTime,Rv:[],Rx:[]}),aa.NC.Rv=aa.NC.Rv.concat(b.Rv),aa.NC.Rx=aa.NC.Rx.concat(b.Rx));});a.addEventListener("headerCacheDataHit",function(a){a.movieId === "" + aa.u && (aa.Do=a);});a.addEventListener("startEvent",function(a){O._cad_global.prefetchEvents && "adoptHcdEnd" === a.event && O._cad_global.prefetchEvents.TO(ha.Le.Dk.MEDIA,aa.u);});a.addEventListener("requestComplete",function(a){var b;b=(a=a && a.mediaRequest) && a.KH && a.KH.cadmiumResponse;b && aa.fireEvent(ka.W.pz,{response:b,u:aa.Aw(a.Ba).u});});a.addEventListener("streamSelected",function(a){var b,d;a.mediaType === l.wc.Sa.VIDEO?(d=aa.GPa(a.streamId),b=aa.zf):a.mediaType === l.wc.Sa.AUDIO && (d=aa.vPa(a.streamId),b=aa.Jl);d && b?b.set(d,{fJa:a.movieTime,gib:a.bandwidth}):aa.ue.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,d;if("string" === typeof a.target && "object" === typeof a.fields){b=aa.Jo[a.target];d=qa.oa(aa.qf)?aa.qf:0;b || (b=aa.Jo[a.target]={});Object.entries(a.fields).forEach(function(a){var c,g,m,t;c=S(a);a=c.next().value;c=c.next().value;if("object" !== typeof c || null === c)b[a]=c;else {g=c.type;if("count" === g)(void 0 === b[a] && (b[a]=0),++b[a]);else if(void 0 !== c.value){if("array" === g){g=b[a];m=c.adjust;t=c.value;g || (g=b[a]=[]);m && 0 < m.length && m.forEach(function(a){t[a]-=d || 0;});g.push(t);}else "sum" === g?(void 0 === b[a] && (b[a]=0),b[a]+=c.value):b[a]=c.value;}else b[a]=c;}});}});};this.playbackRate.addListener(function(){var a;null === (a=aa.Gb) || void 0 === a?void 0:a.LVa();});this.ud.addListener(function(a){var b,d,c,g;if(aa.Gb)if(a.kz && a.kz.jHa)aa.ue.trace("Not processing already applied track",null === (b=a.newValue) || void 0 === b?void 0:b.jb);else {g=a.newValue;aa.Gb.era({FC:g.HD,toJSON:function(){return g.eh;}})?aa.ue.trace("ASE accepted the audio track switch",null === (c=a.newValue) || void 0 === c?void 0:c.jb):(aa.ue.trace("ASE rejected the audio track switch",null === (d=a.newValue) || void 0 === d?void 0:d.jb),a.oldValue.HD !== g.HD && aa.ud.set(a.oldValue,{jHa:!0}));}});this.addEventListener(ka.W.Wv,function(a){a.cause == C.p$ && (aa.Hm.set(ka.ze.Yd),aa.Gb.Mra(aa.ji.UNa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.pAa=void 0;l=a(57);k=a(203);r=a(202);g=a(72);p=a(312);d=a(640);m=a(639);t=a(309);x=a(11);h=a(198);J=a(12);E=a(65);L=a(308);D=a(55);C=a(56);T=a(83);n=a(306);q=a(636);R=a(302);V=a(7);W=a(4);ea=a(2);ha=a(123);Y=a(18);u=a(96);ia=a(24);oa=a(58);qa=a(16);Aa=a(131);I=a(301);Ba=a(120);va=a(196);Da=a(26);N=a(109);ka=a(13);La=a(44);eb=a(201);B=a(299);ib=a(141);Ga=a(331);c.prototype.od=function(a,b){b=void 0 === b?this.ZC:b;this.cS[b].od(a);};c.prototype.Hw=function(a){this.ha.Hw(a);};c.prototype.zzb=function(){var a;a=this;this.ud.addListener(function(b){return a.ha.ud.set(b.newValue);});this.Mg.addListener(function(b){return a.ha.Mg.set(b.newValue);});this.Hc.addListener(function(b){return a.ha.Hc.set(b.newValue);});this.Wj.addListener(function(b){return a.ha.Wj.set(b.newValue);});this.Ju.addListener(function(b){return a.ha.Ju.set(b.newValue);});this.zf.addListener(function(b){return a.ha.zf.set(b.newValue);});this.Jl.addListener(function(b){return a.ha.Jl.set(b.newValue);});this.uf.addListener(function(b){return a.ha.uf.set(b.newValue);});this.vg.addListener(function(b){return a.ha.vg.set(b.newValue);});this.gb.addListener(function(b){return a.ha.gb.set(b.newValue);});this.playbackRate.addListener(function(b){return a.ha.playbackRate.set(b.newValue);});this.eYa();};c.prototype.eYa=function(){this.ha !== this.Wpa && (this.ha.gb.set(this.gb.value),this.ha.playbackRate.set(this.playbackRate.value),this.vs(function(a){return a.ud;},this.Pra),this.vs(function(a){return a.Mg;},this.dTb),this.vs(function(a){return a.Ju;},this.$Sb),this.vs(function(a){return a.Hc;},this.aTb),this.vs(function(a){return a.Wj;},this.ASb),this.vs(function(a){return a.zf;},this.cTb),this.vs(function(a){return a.Jl;},this.BSb),this.vs(function(a){return a.vg;},this.QSb),this.vs(function(a){return a.uf;},this.RSb),this.vs(function(a){return a.gb;},this.LSb),this.vs(function(a){return a.playbackRate;},this.J5),this.Hc.set(this.ha.Hc.value),this.ud.set(this.ha.ud.value,{jHa:!0}),this.Mg.set(this.ha.Mg.value),this.Wj.set(this.ha.Wj.value),this.Ju.set(this.ha.Ju.value),this.zf.set(this.ha.zf.value),this.Jl.set(this.ha.Jl.value),this.Wpa=this.ha);};c.prototype.vs=function(a,b){this.Wpa && a(this.Wpa).removeListener(b);a(this.ha).addListener(b);};c.prototype.load=function(a){var b,d;b=this;this.load=function(){};this.WVa=a;if(this.state.value == ka.yb.VF){this.ue.info("Playback loading",this);this.FFb();this.od("asl_load_start");a=this.uH;d=a.endTime;qa.ec(a.startTime)?qa.ec(d)?this.od("asl_ended"):this.od("asl_in_progress"):this.od("asl_not_started");this.uH.$Q(function(a){b.od("asl_load_complete");a.ia?b.pnb():b.Ro(a.errorCode || ea.K.Cwa,a);});}};c.prototype.UIb=function(){var a;try{if(this.state.value === ka.yb.LOADING){a={width:1,height:1,rda:1};this.KI().forEach(function(b){a.width * a.height < b.width * b.height && (a.width=b.width,a.height=b.height,a.rda=b.rda);});this.wL=a;this.JC=this.Et.bHa({kF:W.Lb(this.T),u:this.u,aS:this.Lt,Ta:this.Ta}).aa(W.fa);this.Ida();this.mob();}}catch(vb){this.Ro(ea.K.Z6a,{ja:ea.L.vh,ub:ia.Ye(vb)});}};c.prototype.mda=function(a,b,d){var c,g,m;b=void 0 === b?this.CD.jz():b;d=void 0 === d?this.wa.zb():d;c=! !J.config.y1a && !(b % J.config.y1a);g=a.la;m=a.Ba;a=a.Ta;b=this.boa(C.bG.index++,g,m,a,b,d,c,this.ha,this.gja);this.cS[g]=b;1 < this.rx.length && (b.gq=this.g2.create(this,b,!1));b.yJ=new T.Hya(this,b);return g;};c.prototype.lOa=function(a){return a?void 0:0;};c.prototype.Rl=function(a){return this.cS[a];};c.prototype.Aw=function(a){return this.rx.find(function(b){return b.Ba === a;}) || this.ha;};c.prototype.xwb=function(a){return this.rx.find(function(b){var d,c;return (null === (c=null === (d=b.Rd) || void 0 === d?void 0:d.pBb) || void 0 === c?void 0:c.sessionId) === a;}) || this.ha;};c.prototype.kKb=function(a,b){var d,c;b=void 0 === b?!0:b;d=this;c=this.Rl(a);return this.HYa(c).then(function(a){var g;if(!d.Gb)throw new La.zc(ea.K.J9,ea.L.i2a);d.sWa(a,c);a=[c.qc.NKa,c.qc.RKa];g=!1;try{g=! !d.Gb.sO(c.qa.Oc,{RRb:a,replace:!1,T:c.Ta.T,pa:c.Ta.pa,rE:!0,ci:!c.Qw,YHa:b,Zq:d.Kfa(c.u),czb:!0},c.Ba);}catch(lb){throw La.zc.W_(ea.K.J9,lb);}if(!g)throw new La.zc(ea.K.J9,ea.L.j2a);return c.Qw?d.Fb.mk.IXa(c):Promise.resolve();})["catch"](function(a){d.log.error("queueManifest failed",a);throw d.bj(a.code,a);});};c.prototype.bub=function(){if(qa.oa(this.zd.ats) && qa.oa(this.zd.at))return this.zd.at - this.zd.ats;};c.prototype.vNa=function(){var a,b;a=this.RT();b=this.BO();return Math.min(a,b);};c.prototype.eT=function(){this.background || (this.ue.info("Starting inactivity monitor for movie " + this.u),new L.Zwa(this));};c.prototype.close=function(a){a && (this.state.value == ka.yb.CLOSED?a():this.addEventListener(ka.W.closed,function(){a();}));this.Mqa();};c.prototype.vd=function(a,b,d,c){a=this.bj(a,b,d);this.SC(a,c);};c.prototype.SC=function(a,b){var d,c,g,m;d=this;if(this.state.value == ka.yb.VF)this.Cj || (this.Cj=a,this.load());else {b && (this.state.value == ka.yb.CLOSED?b():this.addEventListener(ka.W.closed,function(){b();}));c=function(){d.Mqa(a);};g=J.config.UKa && a && J.config.UKa[a.errorCode];m=-1;qa.Pw(g) && (m=ia.Ud(g));this.ue.error("Fatal playback error",{Error:"" + a,HandleDelay:"" + g});0 <= m?setTimeout(c,m):c();}};c.prototype.HT=function(){this.Ib.ac(ka.W.HT);};c.prototype.yp=function(a,b){b=void 0 === b?this.Ba:b;this.TVa.push(this.wa.zb().aa(W.fa) + "-" + b + "-" + a);};c.prototype.gtb=function(){this.JMa();};c.prototype.Via=function(){var a;a=this.Gb;return a && (a=a.Bw().id,void 0 !== a)?a:null;};c.prototype.vD=function(){return void 0 !== this.ha.oZ && void 0 === this.Gb?this.ha.oZ:this.gja(this.gb.value,this.Ba);};c.prototype.Uia=function(){var a;a=this.gja(this.ji.UNa());return null === a?null:Math.min(this.Lt.aa(W.fa),Math.max(0,a));};c.prototype.i0=function(){var a,b;return null === (b=null === (a=this.qa) || void 0 === a?void 0:a.Oc.dr) || void 0 === b?void 0:b.Va;};c.prototype.OSb=function(a){this.Ta=Ba.Ima(this.Ta,a);this.Ida();};c.prototype.KI=function(a){a=void 0 === a?this.u:a;return (a=this.Rl(a).Mg) && a.value?a.value.tc:[];};c.prototype.nyb=function(a){for(var b=S(this.rx),d=b.next();!d.done;d=b.next()){if(d=(d=d.value.bk) && d.find(function(b){return b.id === a;}))return d;}};c.prototype.jJb=function(a){a=void 0 === a?this.ha:a;a.Hc.value?this.ap.fJb(a.Hc.value):Promise.resolve();};c.prototype.vPa=function(a){for(var b=S(this.rx),d=b.next();!d.done;d=b.next()){for(var d=S(d.value.ho),c=d.next();!c.done;c=d.next()){if(c=c.value.tc.find(function(b){return b.wd === a;}))return c;}}};c.prototype.GPa=function(a){for(var b=S(this.rx),d=b.next();!d.done;d=b.next()){for(var d=S(d.value.zn),c=d.next();!c.done;c=d.next()){if(c=(c=c.value) && c.tc.find(function(b){return b.wd === a;}))return c;}}};c.prototype.fr=function(){var a,b,d;return null !== (d=null === (b=null === (a=this.C3) || void 0 === a?void 0:a.jP) || void 0 === b?void 0:b.call(a)) && void 0 !== d?d:this.Anb().wz;};c.prototype.nZa=function(a){var b;this.Gb && this.Rl(a) && ((null === (b=this.C3) || void 0 === b?0:b.jP)?this.C3.O0a():(b=this.Kfa(a),this.Gb.Ex(b,a)));};c.prototype.YAb=function(){return "trailer" === this.ke;};c.prototype.eAb=function(){return ! !this.ke && 0 <= this.ke.indexOf("billboard");};c.prototype.bBb=function(){return ! !this.ke && 0 <= this.ke.indexOf("video-merch");};c.prototype.zAb=function(){return ! !this.ke && 0 <= this.ke.indexOf("mini-modal");};c.prototype.KD=function(){return this.YAb() || this.eAb() || this.bBb() || this.zAb();};c.prototype.pia=function(){var g,m,t;if(this.zn){for(var a,b=0;b < this.zn.length;b++){for(var d=this.zn[b],c=0;c < d.tc.length;c++){g=d.tc[c];if(qa.oa(g.Lfa) && qa.oa(g.zZ) && qa.oa(g.yZ) && qa.oa(g.xZ) && (0 < g.Lfa || 0 < g.zZ)){m=1;t=1;qa.oa(g.CVa) && qa.oa(g.DVa) && (m=g.CVa,t=g.DVa);g=g.xZ * t / (g.yZ * m);a=qa.oa(a)?Math.min(a,g):g;}}}return a;}};c.prototype.Qwb=function(){return {tr:this.vra,rt:this.wpa};};c.prototype.zw=function(a){return this.Jo[a];};c.prototype.mjb=function(){return this.rl?this.wa.zb().aa(W.fa) - this.rl:this.Fa.Pe.aa(W.fa) - this.b0();};c.prototype.Aea=function(){var a;if(this.rl)return this.wa.zb().aa(W.fa) - this.rl;a=this.wa.OD;return this.MVa - (this.uk.aa(W.fa) + a.aa(W.fa));};c.prototype.tjb=function(){return this.rl?this.wa.zb().aa(W.fa) - this.rl:this.MVa - this.b0();};c.prototype.xFb=function(a){var b,d;b=this.qf;d={};ia.Dd(a,function(a,c){d[a]=c.map(function(a){return a - b;});});return d;};c.prototype.lub=function(){var a,b;a=this.qf;b={};ia.Dd(this.fea,function(d,c){b[d]=c.map(function(b){return b - a;});});return p.Dt?{level:p.Dt.mOa(),charging:p.Dt.nia(),statuses:b}:null;};c.prototype.G0=function(){this.IMa();return this.TT;};c.prototype.b0=function(){var a;a=this.Ta.G5;a=qa.oa(a)?a:this.uk.aa(W.fa) + this.wa.OD.aa(W.fa);Y.Ya(qa.Ow(a));return a;};c.prototype.aja=function(){return this.wa.zb().aa(W.fa) - this.uk.aa(W.fa);};c.prototype.HOb=function(){this.TT.HasRA=!0;};c.prototype.lUb=function(){this.lPb=!0;};c.prototype.Z2=function(){this.mXa();};c.prototype.RT=function(){var a;a=this.JY();return a && a.vbuflmsec || 0;};c.prototype.BO=function(){var a;a=this.JY();return a && a.abuflmsec || 0;};c.prototype.hsa=function(){var a;a=this.JY();return a && a.vbuflbytes || 0;};c.prototype.Oda=function(){var a;a=this.JY();return a && a.abuflbytes || 0;};c.prototype.HYa=function(a){var b,d,c,g;a=void 0 === a?this.ha:a;b=this;d=J.config.V3.enabled?N.pj.R$:this.KD()?N.pj.lW:N.pj.xl;d={ea:a.ea,Ta:a.Ta,la:a.u,ur:d};c=a.u !== this.ha.u;g=this.wa.zb().aa(W.fa);return this.hR.Je(this.log,d).then(function(d){var m;m=b.wa.zb().aa(W.fa);d.Ot && b.fireEvent(ka.W.nJ,{u:a.u});c && (d.BA=g,d.DE=m);return d;})["catch"](function(a){b.log.error("PBO manifest failed",a);return Promise.reject(a);});};c.prototype.sWa=function(a,b){b=void 0 === b?this:b;b.qa=a;a=this.ema.create(this).AHb(a);b.qc=a;b.Mg.set(a.jga);b.ud.set(a.IZ);b.Hc.set(a.iga);};c.prototype.UMa=function(a,b){this.ySa({u:a,N3:this.ZC,JD:void 0 === b?!1:b});};c.prototype.Qxb=function(a,b){this.Rl(a.la) || this.mda(a);this.UMa(a.la,!0);this.SC(b);};c.prototype.xPa=function(a,b){if(!this.mi.O5)return !0;a=this.Qr.aa(W.fa) - a;return 0 > a || a > b;};c.prototype.v1a=function(){return ! !this.Gb && "1.0" !== this.Gb.wO;};c.prototype.ySa=function(a){var b,d;if(a.N3){if(a.u === this.ZC)return;b=this.Rl(a.u);d=b.qa;d && qa.ec(d.BA) && qa.ec(d.DE) && b.Hw({pr_ats:d.BA,pr_at:d.DE});this.fireEvent(ka.W.rJ,{u:this.ZC});this.ZC=a.u;this.Ida();a.JD || this.eYa();this.UI=this.Fa.M4;this.ha.rl || (this.ha.rl=this.wa.zb().aa(W.fa));}("boolean" === typeof this.Ta.nI?this.Ta.nI:J.config.nI) && !a.JD && this.Era.nI(this);this.fireEvent(ka.W.hq,a);};c.prototype.pnb=function(){try{this.fP=new eb.qua(this);this.gq=this.g2.create(this,this.ha,!0);J.config.Jjb && new B.Pva(this,this.dh,this.log);J.config.YO && this.YO(this);this.OTb();}catch(gb){this.Ro(ea.K.Y6a,{ja:ea.L.vh,ub:ia.Ye(gb)});}};c.prototype.OTb=function(){this.Cj?this.SC(this.Cj):qa.Tka(this.u)?this.hkb():this.Ro(ea.K.L6a,{ub:"" + this.u});};c.prototype.hkb=function(){var a;a=k.UE.TYa;a?a.ia?this.bfa():this.Ro(ea.K.Vwa,a):(Y.Ya(!J.config.n_),this.cda());};c.prototype.bfa=function(){var a;a=this;!this.background && J.config.bfa?C.s$(function(){a.cda();},this):this.cda();};c.prototype.cda=function(){var a;a=this;this.state.value == ka.yb.LOADING && (J.config.aha && !this.KD()?k.UE.Kv(C.mAa,function(b){b.ia?(a.d2=b.d2,J.config.I4?a.IO():a.aqa()):a.Ro(ea.K.Uwa);},!0):J.config.I4?this.IO():this.aqa());};c.prototype.aqa=function(){var a;a=this;this.state.value == ka.yb.LOADING && (this.od("ic"),this.tIb.ANb(function(b){b.error && a.log.error("Error sending persisted playdata",ea.Iq(b));try{a.IO();}catch(ab){a.log.error("playback.authorize threw an exception",ab);a.Ro(ea.K.A2a,{ja:ea.L.vh,ub:ia.Ye(ab)});}}));};c.prototype.IO=function(){var a,b;a=this;if(this.state.value == ka.yb.LOADING){this.log.info("Authorizing",this);b=this.wa.zb().aa(W.fa);this.od("ats");this.fP.IO(function(d){var c;if(a.state.value == ka.yb.LOADING){a.od("at");c=a.qa;a.Hw({pr_ats:c && qa.ec(c.BA)?c.BA:b,pr_at:c && qa.ec(c.DE)?c.DE:a.wa.zb().aa(W.fa)});d.ia?0 < a.qc.bk.length && a.qc.IZ && a.qc.jga && a.qc.iga?a.QJb():a.Ro(ea.K.E7a,a.fma(a.qc)):a.Ro(ea.K.MANIFEST,d);}});}};c.prototype.QJb=function(){var a;a=this;this.WVa?(this.log.info("Processing post-authorize",this),this.WVa(this,function(b){b.ia?a.R0a():a.Ro(ea.K.c7a,b);})):this.R0a();};c.prototype.R0a=function(){var b,d,c;if(this.state.value == ka.yb.LOADING){b={};this.$o=g.Od.Il;J.config.etb && this.$o.UO();g.Od.Xc.set(a(162)(J.config),!0,V.gi("ASE"));g.Od.Xc.set({maxNumberTitlesScheduled:J.config.$Va?J.config.$Va.maxNumberTitlesScheduled:1},!0,this.ue);J.config.Dlb && 3E5 > this.qa.Oc.duration?g.Od.Xc.ZJ({expandDownloadTime:!1},!0,this.ue):g.Od.Xc.ZJ({expandDownloadTime:g.Od.Xc.vVa().expandDownloadTime},!0,this.ue);this.background || J.config.VIb && "postplay" === this.ke?g.Od.Xc.ZJ({initBitrateSelectorAlgorithm:"historical"},!0,this.ue):g.Od.Xc.ZJ({initBitrateSelectorAlgorithm:g.Od.Xc.vVa().initBitrateSelectorAlgorithm},!0,this.ue);c=this.Mg && this.Mg.value && this.Mg.value.tc;c && c.length && (d=c[0].jg);g.Od.Xc.ZJ(J.mfa(this.Ta.lk,this.Ta.G1,d),!0,this.ue);b=this.dd.AR(b,J.nfa(this.ke));this.oQb=g.Od.Xc.Kp(b);l.platform.events.emit("networkchange",this.qc.UNb);this.UIb();}};c.prototype.mob=function(){var a,b,c,g,t,p;a=this;try{this.Fb=new d.wya(this);this.Fb.open();b=new Promise(function(b){a.Fb.addEventListener(va.Ei.JZa,b);});this.ji=new I.Bya(this);c={Sd:function(){return a.gb.value;},Pm:function(){return a.playbackRate.value;},gQ:function(){return a.Fb;}};g={Mf:!1,tL:J.config.tL,N5:J.config.FP,cR:!1,ci:!this.Qw,rE:! !this.Ta.G1,pa:this.Ta.pa,aUb:this.qc.IZ.wn === ib.Nn.NONE};t={oE:this.log,Wl:this.Wl,sessionId:this.u + "-" + this.ea,ea:this.ea,kE:this.Qk,Kh:Aa.Jh?Aa.Jh.Kh:void 0,nw:0 === J.config.vP || 0 !== this.ea % J.config.vP?!1:!0};this.OLa=t.nw;p=this.Rl(this.u).Ba;try{this.Gb=this.$o.Jm(this.qa.Oc,[this.qc.NKa,this.qc.RKa],this.T,g,t,void 0,c,this.oQb,this.Kfa(this.u),p);this.wgb(this.Gb);}catch(lb){throw (this.log.error("Failed to create streamingSession",{error:lb,startPts:this.T,flags:g}),lb);}b.then(function(){a.state.value !== ka.yb.CLOSING && a.state.value !== ka.yb.CLOSED && a.Gb.open();});this.gb.set(this.T);this.ap=new m.ICa(this);if("boolean" === typeof this.Ta.g4?this.Ta.g4:J.config.g4)this.BT=new q.JCa(this);this.eT();C.u$.forEach(function(b){b(a);});this.EFb();}catch(lb){this.Ro(ea.K.$6a,{ja:ea.L.vh,ub:ia.Ye(lb)});}};c.prototype.FFb=function(){Y.Ya(this.state.value == ka.yb.VF);this.qf=this.wa.zb().aa(W.fa);this.state.set(ka.yb.LOADING);O._cad_global.prefetchEvents && O._cad_global.prefetchEvents.BIb(this.u);};c.prototype.Ro=function(a,b){this.done || (this.done=!0,b instanceof La.zc?this.vd(b.code,b):this.vd(a,b));};c.prototype.YO=function(a){var d,c;function b(){var b,c;b=p.Dt.nia() + "";c=a.fea[b];c || (c=a.fea[b]=[]);c.push(d.wa.zb().aa(W.fa));d.log.trace("charging change event",{level:p.Dt.mOa(),charging:p.Dt.nia()});}d=this;c=p.Dt.L3a;p.Dt.addEventListener(c,b);a.addEventListener(ka.W.Jf,function(){p.Dt.removeEventListener(c,b);});};c.prototype.Mqa=function(a){var b;b=this;if(this.state.value == ka.yb.VF || this.state.value == ka.yb.LOADING || this.state.value == ka.yb.rd){this.ue.info("Playback closing",this,a?{ErrorCode:a.UZ}:void 0);this.yp("Closing");D.Qe.removeListener(D.Sl,this.yUa);this.Cj=a;this.IMa();this.Gb && this.Gb.flush();try{this.Ib.ac(ka.W.Jf,{movieId:this.ZC});}catch(ab){this.ue.error("Unable to fire playback closing event",ab);}this.state.set(ka.yb.CLOSING);this.ha.oZ=this.vD();this.n2a();this.lPb || oa.Ec(function(){return b.mXa();});}};c.prototype.JMa=function(){var a;a=this.gb.value;this.IBb != a && (this.IBb=a,this.Ib.ac(ka.W.kra));};c.prototype.mXa=function(){var a,b;a=this;Y.Ya(this.state.value == ka.yb.CLOSING);b=this.d2;this.d2=void 0;b?k.UE.release(b,function(b){Y.Ya(b.ia);a.hfa();}):this.hfa();};c.prototype.n2a=function(){this.Gb && (this.Gb.close(),this.Gb.pc());this.$o && this.Cj && this.$o.UO();delete this.Gb;delete this.$o;};c.prototype.hfa=function(){var a;this.hfa=x.Af;Y.Ya(this.state.value == ka.yb.CLOSING);a=C.Hn.indexOf(this);Y.Ya(0 <= a);C.Hn.splice(a,1);this.state.set(ka.yb.CLOSED);this.Ib.ac(ka.W.closed,void 0,!0);this.Ib.Gg();delete this.Rd;this.ha.Z2();};c.prototype.Ida=function(){this.Ta.playbackState && ("number" === typeof this.Ta.playbackState.volume && this.volume.set(u.Fn(this.Ta.playbackState.volume,0,1)),"boolean" === typeof this.Ta.playbackState.muted && this.muted.set(this.Ta.playbackState.muted),"number" === typeof this.Ta.playbackState.playbackRate && this.playbackRate.set(u.Fn(this.Ta.playbackState.playbackRate,0,2)));};c.prototype.IMa=function(){this.Ib.ac(ka.W.wZa,{TT:this.TT});};c.prototype.bOb=function(a,b){var d;d=this.bk.filter(function(b){return b.id === a;})[0];d && this.vc[b].set(d);};c.prototype.wJ=function(){return {AudioBufferLength:this.BO(),VideoBufferLength:this.RT()};};c.prototype.JY=function(){if(this.Gb)return this.Gb.r1(!1);};c.prototype.EFb=function(){this.state.value == ka.yb.LOADING && this.state.set(ka.yb.rd);};c.prototype.Anb=function(){var a,b,d;a=void 0 === a?this.u:a;b=this.KI(a);d=this.Rl(a);return Ga.fr(b,function(a){return d.yJ.hs(a);});};c.prototype.Kfa=function(a){var b,d;a=void 0 === a?this.u:a;b=this.KI(a);d=this.Rl(a);return Ga.wja(b,function(a){return d.yJ.hs(a);});};ma.Object.defineProperties(c.prototype,{rx:{configurable:!0,enumerable:!0,get:function(){return Object.values(this.cS);}},ha:{configurable:!0,enumerable:!0,get:function(){return this.cS[this.ZC];}},cRa:{configurable:!0,enumerable:!0,get:function(){return 1 === this.rx.length;}},T:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.JC?this.JC:this.rx[0].Ta.T || 0;}},qc:{configurable:!0,enumerable:!0,get:function(){return this.ha.qc;},set:function(a){this.ha.qc=a;}},N_:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ta.N_;}},O_:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ta.O_;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ha.index;}},Ba:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ba;}},Rd:{configurable:!0,enumerable:!0,get:function(){return this.ha.Rd;},set:function(a){this.ha.Rd=a;}},rl:{configurable:!0,enumerable:!0,get:function(){return this.ha.rl;},set:function(a){this.ha.rl=a;}},Zv:{configurable:!0,enumerable:!0,get:function(){return this.ha.Zv;},set:function(a){this.ha.Zv=a;}},dz:{configurable:!0,enumerable:!0,get:function(){return this.ha.dz;},set:function(a){this.ha.dz=a;}},o1:{configurable:!0,enumerable:!0,get:function(){return this.ha.o1;},set:function(a){this.ha.o1=a;}},qa:{configurable:!0,enumerable:!0,get:function(){return this.ha.qa;},set:function(a){this.ha.qa=a;}},JC:{configurable:!0,enumerable:!0,get:function(){return this.ha.JC;},set:function(a){this.ha.JC=a;}},tT:{configurable:!0,enumerable:!0,get:function(){return this.ha.tT;},set:function(a){this.ha.tT=a;}},Ta:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ta;},set:function(a){this.ha.Ta=a;}},gq:{configurable:!0,enumerable:!0,get:function(){return this.ha.gq;},set:function(a){this.ha.gq=a;}},dn:{configurable:!0,enumerable:!0,get:function(){return this.ha.dn;}},u:{configurable:!0,enumerable:!0,get:function(){return this.ha.u;}},ke:{configurable:!0,enumerable:!0,get:function(){return this.ha.ke;}},ho:{configurable:!0,enumerable:!0,get:function(){return this.ha.ho;}},zn:{configurable:!0,enumerable:!0,get:function(){return this.ha.zn;}},Ox:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ox;}},ql:{configurable:!0,enumerable:!0,get:function(){return this.ha.ql;}},ug:{configurable:!0,enumerable:!0,get:function(){return this.ha.ug;}},Qw:{configurable:!0,enumerable:!0,get:function(){return this.ha.Qw;}},Yr:{configurable:!0,enumerable:!0,get:function(){return this.ha.Yr;}},Sk:{configurable:!0,enumerable:!0,get:function(){return this.ha.Sk;}},bk:{configurable:!0,enumerable:!0,get:function(){return this.ha.bk;}},J3:{configurable:!0,enumerable:!0,get:function(){return this.ha.J3;}},Lt:{configurable:!0,enumerable:!0,get:function(){return this.ha.Lt;},set:function(a){this.ha.Lt=a;}},ea:{configurable:!0,enumerable:!0,get:function(){return this.ha.ea;}},vi:{configurable:!0,enumerable:!0,get:function(){return this.ha.vi;}},uk:{configurable:!0,enumerable:!0,get:function(){return this.ha.uk;}},UI:{configurable:!0,enumerable:!0,get:function(){return this.ha.UI;},set:function(a){this.ha.UI=a;}},Qk:{configurable:!0,enumerable:!0,get:function(){return this.ha.Qk;}},KE:{configurable:!0,enumerable:!0,get:function(){return this.ha.KE;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ha.background;},set:function(a){this.ha.background=a;}},Rfa:{configurable:!0,enumerable:!0,get:function(){return this.ha.Rfa;}},zd:{configurable:!0,enumerable:!0,get:function(){return this.ha.zd;}},ko:{configurable:!0,enumerable:!0,get:function(){return this.ha.ko;}},Lga:{configurable:!0,enumerable:!0,get:function(){return this.ha.Lga;}},yJ:{configurable:!0,enumerable:!0,get:function(){return this.ha.yJ;}},eh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.u,TrackingId:this.vi,Xid:this.ea};}}});b.pAa=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.X$=b.Y$=void 0;b.Y$="RepositionTraceSymbol";b.X$="RepositionTraceFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.x$=void 0;b.x$="PlaybackInfoPanelFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.y$=void 0;b.y$="PlaybackSegmentDataFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.y6=void 0;b.y6="BandwidthMeterFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.On=void 0;f=b.On || (b.On={});f[f.JV=0]="NOT_LOADED";f[f.LOADING=1]="LOADING";f[f.LOADED=2]="LOADED";f[f.rM=3]="LOAD_FAILED";f[f.nza=4]="PARSE_FAILED";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Caa=void 0;b.Caa="TrickPlayManagerSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.h$=void 0;b.h$="PboRequestFactorySymbol";},function(f,b,a){var d,m;function c(a){return !(!a || !a.lE && !a.pboc || !a.code && !a.code);}function l(a){return !(!a || !a.ld);}function k(a){return ! !(a instanceof Error);}function r(a){switch(a){case "ACCOUNT_ON_HOLD":return m.L.L8a;case "STREAM_QUOTA_EXCEEDED":return m.L.P8a;case "INSUFFICICENT_MATURITY":return m.L.R8a;case "TITLE_OUT_OF_WINDOW":return m.L.X8a;case "CHOICE_MAP_ERROR":return m.L.O8a;case "BadRequest":return m.L.T8a;case "Invalid_SemVer_Format":return m.L.S8a;case "RESTRICTED_TO_TESTERS":return m.L.W8a;case "AGE_VERIFICATION_REQUIRED":return m.L.M8a;case "BLACKLISTED_IP":return m.L.N8a;case "DEVICE_EOL_WARNING":return m.L.G9;case "DEVICE_EOL_FINAL":return m.L.oza;case "INCORRECT_PIN":return m.L.sza;case "MOBILE_ONLY":return m.L.V8a;case "MDX_CONTROLLER_CTICKET_INVALID":return m.L.U8a;case "VIEWABLE_RESTRICTED_BY_PROFILE":return m.L.Y8a;case "RESET_DEVICE":return m.L.rza;case "RELOAD_DEVICE":return m.L.qza;case "EXIT_DEVICE":return m.L.pza;default:return m.L.bwa;}}function g(a,b){return new d.zc(a,r(b.code),"BadRequest" === b.code?m.mV.j3a:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function p(a,b){return new d.zc(a,b.ld,b.Hg,void 0,b.lu,b.message,b.Nt,b.data);}Object.defineProperty(b,"__esModule",{value:!0});b.zIa=b.AIa=b.wtb=b.Atb=b.Pl=b.ztb=b.KQ=b.hAb=b.WQa=void 0;d=a(44);m=a(2);b.WQa=c;b.hAb=l;b.KQ=k;b.ztb=r;b.Pl=function(a,b){return l(b)?p(a,b):c(b)?g(a,b):k(b)?d.zc.W_(a,b):new d.zc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,b);};b.Atb=g;b.wtb=p;b.AIa=function(a,b,d,c,g){var m,t,p,k;m=b.PYa[d];if(void 0 === m)throw {lE:!0,code:"FAIL",display:"Unable to build the URL for " + d + " because there was no configuration information",detail:b};t=m.version;if(void 0 === t)throw {lE:!0,code:"FAIL",display:"Unable to build the URL for " + d + " because there was no version information",detail:b};p=b.E1 && m.serviceNonMember?m.serviceNonMember:m.service;if(void 0 === p)throw {lE:!0,code:"FAIL",display:"Unable to build the URL for " + d + " because there was no service information",detail:b};k=m.orgOverride;if(void 0 === k && (k=b.LUa,void 0 === k))throw {lE:!0,code:"FAIL",display:"Unable to build the URL for " + d + " because there was no organization information",detail:b};return m.isPlayApiDirect?a.twb(c) + "/" + k + "/" + p + "/" + t:a.lwb(c) + "/" + k + "/" + p + "/" + t + "/" + (void 0 === g?"router":g);};b.zIa=function(a,b){var d;d={"Content-Type":"text/plain"};b=b();a.VGa && b && (d["X-Esn"]=b.Kh);return d;};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.jaa=b.t9=b.Aaa=void 0;b.Aaa="TransportFactorySymbol";b.t9="MslTransportSymbol";b.jaa="SslTransportSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.T9=void 0;b.T9="PboDispatcherSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.j9=void 0;b.j9="MediaRequestConstructorFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.k9=b.D9=void 0;b.D9="OpenConnectSideChannelSymbol";b.k9="MediaRequestDownloaderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.i9=void 0;b.i9="MediaHttpSymbol";},function(f,b){function a(a,b,c){var g,p,d,m;g=[];a.forEach(function(a){-1 == g.indexOf(a.jg) && g.push(a.jg);});p=null;d=null;b.forEach(function(a){null === p?d=p=a.R:d < a.R?d=a.R:p > a.R && (p=a.R);});m=[];g.forEach(function(a){var b;b={ranges:[],profile:a};p && d && (b.ranges.push({min:p,max:d}),c && (b.disallowed=c.filter(function(b){return b.stream.jg === a;}).map(function(a){return {stream:{bitrate:a.stream.R},disallowedBy:a.TZ};})),m.push(b));});return m;}function c(a,b){var c;c=void 0;a=a.filter(function(a){var d;d=b(a);d && (c=c || [],c.push({stream:a,TZ:d}));return !d;});for(var g=0;g < a.length;g++){a[g].lower=a[g - 1];a[g].Gyb=a[g + 1];}return {wz:a,Qpb:c};}Object.defineProperty(b,"__esModule",{value:!0});b.gLa=b.fr=b.job=b.wja=void 0;b.wja=function(b,k){k=c(b,k);return a(b,k.wz,k.Qpb);};b.job=a;b.fr=c;b.gLa=function(a){if(a.lower && 1080 < a.height)return ["Prefetch UHD"];};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.L$=b.H$=b.I$=b.J$=b.K$=void 0;b.K$="PreparerManifestFetcherSymbol";b.J$="PreparerLicenseFetcherSymbol";b.I$="PreparerLegacyLicenseFetcherSymbol";b.H$="PreparerHeadersFetcherSymbol";b.L$="PreparerMediaFetcherSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.F$=void 0;b.F$="PrefetchEventsConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Paa=void 0;b.Paa="WindowUtilsSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.A9=void 0;b.A9="NfCryptoSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.L8=void 0;b.L8="LogDisplayConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.v7=b.w7=void 0;b.w7="DxManagerSymbol";b.v7="DxManagerProviderSymbol";},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.PM=b.rF=b.Rta=b.Qta=b.Pta=void 0;c=a(0);l=a(1);k=a(27);r=a(21);g=a(690);p=a(9);b.Pta="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.Qta="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.Rta="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.rF="";f=(function(){var m;function a(a,b,d){this.pd=a;this.is=b;this.prefix=d;this.kS=this.Io=!1;this.CIa=new g.QCa(b);}a.prototype.show=function(){this.Io || (this.nlb(),this.LH && p.Ce.body.appendChild(this.LH),this.Pf && p.Ce.body.appendChild(this.Pf),this.NO && p.Ce.body.appendChild(this.NO),this.VE && p.Ce.getElementsByTagName("head")[0].appendChild(this.VE),this.Io=!0,this.refresh());};a.prototype.Zp=function(){this.Io && (this.Pf && p.Ce.body.removeChild(this.Pf),this.NO && p.Ce.body.removeChild(this.NO),this.LH && p.Ce.body.removeChild(this.LH),this.VE && p.Ce.getElementsByTagName("head")[0].removeChild(this.VE),this.VE=this.vT=this.LH=this.NO=this.Pf=void 0,this.Io=!1);};a.prototype.toggle=function(){this.Io?this.Zp():this.show();};a.prototype.LRb=function(){(this.kS=!this.kS) || this.refresh();};a.prototype.wub=function(a){return "table." + a + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}' + ("table." + a + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}") + ("table." + a + "-display-table tr:nth-child(2n+3) {background-color: #fff;}") + ("table." + a + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}") + ("table." + a + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}") + ("table." + a + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}") + ("span." + a + "-display-indexheader {margin-left:5px;}") + ("span." + a + "-display-indexvalue {margin-left:5px;}") + ("span." + a + "-display-keyheader {margin-left:5px;}") + ("span." + a + "-display-keyvalue {margin-left:5px;}") + ("span." + a + "-display-valueheader {margin-left:5px;}") + ("ul." + a + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}") + ("ul." + a + "-display-tree li {list-style-type: none; position: relative;}") + ("ul." + a + "-display-tree li ul {display: none;}") + ("ul." + a + "-display-tree li.open > ul {display: block;}") + ("ul." + a + "-display-tree li a {color: black;text-decoration: none;}") + ("ul." + a + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}") + ("ul." + a + "-display-tree li > a:not(:last-child):before {content: '+';}") + ("ul." + a + "-display-tree li.open > a:not(:last-child):before {content: '-';}") + ("div." + a + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("button." + a + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("select." + a + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("ul." + a + "-display-item-inline {margin:0;padding:0}") + ("." + a + "-display-btn:hover, ." + a + "-display-btn:focus, ." + a + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }") + ("button." + a + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}") + ("." + a + "-display-btn-inline:hover, ." + a + "-display-btn-inline:focus, ." + a + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};a.prototype.nlb=function(){var a;a=this;this.VE=p.Ce.createElement("style");this.VE.type="text/css";this.VE.innerHTML=this.wub(this.prefix);this.NO=this.pd.createElement("div",b.Pta,void 0,{"class":this.prefix + "-display-blur"});this.Pf=this.pd.createElement("div",b.Qta,void 0,{"class":this.prefix + "-display"});this.LH=this.pd.createElement("div",b.Rta,void 0,{"class":this.prefix + "-display"});this.GNa().forEach(function(b){return a.LH.appendChild(b);});};a.prototype.qlb=function(a){a=this.pd.createElement("div","",a,{"class":this.prefix + "-display-tree1"});for(var b=a.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),d=0;d < b.length;d++){b[d].addEventListener("click",function(a){var b,d;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{d=a.querySelectorAll(":scope .open");for(a=0;a < d.length;a++){d[a].classList.remove("open");}}catch(D){}}else b.add("open");}});}return a;};a.prototype.refresh=function(){var a;a=this;return !this.Io || this.kS?Promise.resolve():this.iXa().then(function(b){if(b && (b=a.qlb(b),a.Pf)){a.vT && (a.Pf.removeChild(a.vT),a.vT=void 0);a.vT=b;a.Pf.appendChild(a.vT);b=a.Pf.querySelectorAll("button." + a.prefix + "-display-btn-inline");for(var d=0;d < b.length;++d){b[d].addEventListener("click",a.gYa);}(b=a.Pf.querySelector("#" + a.prefix + "-display-close-btn")) && b.addEventListener("click",function(){a.toggle();});}});};m=a;return m=c.__decorate([l.N(),c.__param(0,l.l(k.Cf)),c.__param(1,l.l(r.Ae)),c.__param(2,l.xi())],m);})();b.PM=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.u7=void 0;b.u7="DxDisplaySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.V9=b.RV=void 0;b.RV={PQ:"keepAlive",splice:"splice"};b.V9="PboEventSenderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.z$=void 0;b.z$="PlaydataConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.S9=void 0;b.S9="PboCachedPlaydataSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.X9=void 0;b.X9="PboLicenseRequestTransformerSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.g$=void 0;b.g$="PboReleaseLicenseCommandSymbol";},function(f,b,a){var g,p,d,m,t,x;function c(a){var b;a=new d.DU(a);if(1481462272 != a.Vo())throw Error("Invalid header");b={XMR:{Version:a.Vo(),RightsID:a.zu(16)}};l(a,b.XMR,a.buffer.length);return b;}function l(a,b,d){var c,g,m,t,p;for(;a.position < d;){c=a.wg();g=a.Vo();g=g - 8;switch(c){case 1:m="OuterContainer";break;case 2:m="GlobalPolicy";break;case 3:m="MinimumEnvironment";break;case 4:m="PlaybackPolicy";break;case 5:m="OutputProtection";break;case 6:m="UplinkKID";break;case 7:m="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:m="AnalogVideoOutputConfiguration";break;case 9:m="KeyMaterial";break;case 10:m="ContentKey";break;case 11:m="Signature";break;case 12:m="DeviceIdentification";break;case 13:m="Settings";break;case 18:m="ExpirationRestriction";break;case 42:m="ECCKey";break;case 48:m="ExpirationAfterFirstPlayRestriction";break;case 50:m="PlayReadyRevocationInformationVersion";break;case 51:m="EmbeddedLicenseSettings";break;case 52:m="SecurityLevel";break;case 54:m="PlayEnabler";break;case 57:m="PlayEnablerType";break;case 85:m="RealTimeExpirationRestriction";break;default:m="Other";}t={Type:k(c)};p=b[m];p?x.isArray(p)?p.push(t):(b[m]=[],b[m].push(p),b[m].push(t)):b[m]=t;switch(c){case 1:case 2:case 4:case 7:case 9:case 54:l(a,t,a.position + g);break;case 5:t.Reserved1=a.wg();t.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.wg();t.MinimumAnalogVideoOutputProtectionLevel=a.wg();t.Reserved2=a.wg();t.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.wg();break;case 10:t.Reserved=a.zu(16);t.SymmetricCipherType=a.wg();t.AsymmetricCipherType=a.wg();g=a.wg();t.EncryptedKeyLength=g;c=a.zu(g);t.EncryptedKeyData=10 >= g?c:c.substring(0,4) + "..." + c.substring(c.length - 4,c.length);break;case 11:t.SignatureType=a.zu(2);g=a.wg();c=a.zu(g);t.SignatureData=10 >= g?c:c.substring(0,4) + "..." + c.substring(c.length - 4,c.length);break;case 13:t.Reserved=a.wg();break;case 18:t.BeginDate=a.Vo();t.EndDate=a.Vo();break;case 42:t.CurveType=a.zu(2);g=a.wg();c=a.zu(g);t.Key=10 >= g?c:c.substring(0,4) + "..." + c.substring(c.length - 4,c.length);break;case 48:t.ExpireAfterFirstPlay=a.Vo();break;case 50:t.Sequence=a.Vo();break;case 51:t.LicenseProcessingIndicator=a.wg();break;case 52:t.MinimumSecurityLevel=a.wg();break;case 57:t.PlayEnablerType=r(a.zu(16));break;case 85:break;default:t.OtherData=a.zu(g);}}}function k(a){return "0x" + a.toString(16);}function r(a){return a.substring(6,8) + a.substring(4,6) + a.substring(2,4) + a.substring(0,2) + "-" + a.substring(10,12) + a.substring(8,10) + "-" + a.substring(14,16) + a.substring(12,14) + "-" + a.substring(16,20) + "-" + a.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Mob=b.Nob=b.Lob=b.Kob=b.Job=void 0;g=a(11);p=a(7);d=a(211);m=a(134);t=a(214);x=a(16);b.Job=function(a,b,d){switch(b){case g.IU:a && (a=p.dIa(a),t.ssa(a,function(a){a.ia && (a=a.object) && (a=m.LNa(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (a=m.jVa(a)) && (a=p.Ap(a)) && (a=c(a)) && d(a);}));}};b.Kob=c;b.Lob=l;b.Nob=k;b.Mob=r;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q9=void 0;b.Q9="PboAcquireLicenseCommandSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.n8=void 0;b.n8="HttpRequesterSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.O7=void 0;b.O7="FtlDataParserSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.z9=void 0;b.z9="NetworkMonitorSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Raa=void 0;b.Raa="XhrFactorySymbol";},function(f,b,a){var c,l,k,r,g,p,d,m,t,x;Object.defineProperty(b,"__esModule",{value:!0});b.Yua=void 0;c=a(0);l=a(160);k=a(78);r=a(24);g=a(2);p=a(18);d=a(9);m=a(16);t=a(1);x=a(14);f=(function(){var b;function a(a){this.config=a;}a.prototype.construct=function(a,b){var d,c,g;d=this;c={};a.forEach(function(a){var b;b=a.url;c[b] || (c[b]=[]);c[b].push(a);});g=[];r.Dd(c,function(a,c){g.push(d.Fxb(c,b));});return {urls:g};};a.prototype.Fxb=function(a,b){var d,c,g,t;d=this;c=a[0];g={url:c.url,bitrate:c.R,cdnid:m.bf(c.vc)?c.vc.id:c.vc,dltype:c.Ypb,id:c.wd};t={};a.forEach(function(a){var b;b=d.pAb(a)?"fail":"success";t[b] || (t[b]=[]);t[b].push(a);});r.Dd(t,function(a,c){"fail" === a?g.failures=d.nvb(c,b):"success" === a && (g.downloads=d.cvb(c,b));});return g;};a.prototype.cvb=function(a,b){var d,c,g;d=this;c={};a.forEach(function(a){var b;b=a.Hkb;c[b] || (c[b]=[]);c[b].push(a);});g=[];r.Dd(c,function(a,c){var m;m=[];c.forEach(function(c){m.push(c);d.aAb(c) && (g.push(d.ONa(m,b,a)),m=[]);});0 < m.length && g.push(d.ONa(m,b,a));});return g;};a.prototype.ONa=function(a,b,d){var k;for(var c=a.sort(function(a,b){return a.Yk.oh < b.Yk.oh?-1:a.Yk.oh > b.Yk.oh?1:0;}),g=c[0].Yk,m=g.requestTime,t=g.oh,g=g.kn,p=1;p < a.length;p++){k=a[p].Yk;k.requestTime < m && (m=k.requestTime);k.oh < t && (t=k.oh);k.kn > g && (g=k.kn);}p=this.Iwb(c);k=c[c.length - 1];return {time:m - b,tcpid:d?parseInt(d):-1,tresp:t - m,first:p,ranges:this.Jwb(c,p),dur:g - t,trace:this.Cw(a),status:this.A0(k)};};a.prototype.Iwb=function(a){var b;b=0;a.forEach(function(a){a.Zr && (b=d.En(b,a.Zr[0]));});return b;};a.prototype.Jwb=function(a,b){var d;d=[];a.forEach(function(a){a.Zr?d.push([a.Zr[0] - b,a.Zr[1] - b]):d.push([0,-1]);});return d;};a.prototype.Cw=function(a){var b,c;b=[];a.forEach(function(a){var g;a=a.Yk;if(c){g=a.requestTime - c.kn;0 < g && b.push([g,-2]);g=d.qm(c.kn,a.requestTime);g=a.oh - g;0 < g && b.push([g,-3]);}b.push([a.kn - a.oh,a.vfa || 0]);c=a;});return b;};a.prototype.aAb=function(a){if(a.ja === g.L.Yx || a.ja === g.L.oB)return !0;};a.prototype.A0=function(a){if(a.ia)return "complete";if(a.ja === g.L.Yx)return "abort";if(a.ja === g.L.oB)return "stall";p.Ya(!1,"download status should never be: other");return "other";};a.prototype.nvb=function(a,b){var d,c;d=this;c=[];a.forEach(function(a){var g;g=a.Yk;a={time:g.oh - b,tresp:g.oh - g.requestTime,dur:g.kn - g.oh,range:a.Zr,reason:d.Lwb(a),httpcode:a.Bj,nwerr:l.Sia(a.ja)};c.push(a);});return c;};a.prototype.Lwb=function(a){return a.Bj || a.ja === g.L.kM?"http":a.ja === g.L.mM?"timeout":"network";};a.prototype.pAb=function(a){return a.ia || void 0 === a.ia || a.ja === g.L.Yx || a.ja === g.L.oB?!1:!0;};a.prototype.zlb=function(a){var b,d,c,g,m,t;b=a.request;d=b.stream;c=b.track;g=b.url;m=this.$ub(c,g);switch(m){case k.Qg.audio:case k.Qg.video:t=b.stream.wd;break;case k.Qg.u5:case k.Qg.Fra:t=c.wd;}a={R:d && d.R,Ypb:m,wd:t,Yk:a.Yk,vc:b.vc,url:g,Ie:a.Ie,Bj:a.Bj,ja:a.ja,ia:a.ia,Hkb:this.Xrb(a)};void 0 !== b.offset && void 0 != b.length && (a.Zr=[b.offset,b.offset + b.length - 1]);return a;};a.prototype.$ub=function(a,b){if(a)return a.type;if(0 <= b.indexOf("netflix.com")){if(0 <= b.indexOf("nccp"))return "nccp";if(0 <= b.indexOf("api"))return "api";}return "other";};a.prototype.Xrb=function(a){if(a.headers && (a=a.headers["X-TCP-Info"] || a.headers["x-tcp-info"]))return (a=a.split(";").filter(function(a){return 0 == a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?r.Ud(a):a;};b=a;return b=c.__decorate([t.N(),c.__param(0,t.l(x.Jc))],b);})();b.Yua=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.q9=void 0;b.q9="MilestonesEventBuilderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.o7=void 0;b.o7="DownloadReportBuilderSymbol";},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.FU=void 0;c=a(50);b.FU=function(a,b){this.jqb=a;this.size=b.SQa()?c.rb:b;};},function(f,b,a){var l,k,r,g,p,d,m,t,x,h,J,E,L,D,C,T,n,q,R,V,W,ea,ha,Y;function c(a,b,c,g,m,f,l,A,P,R,ba,V,ha,u,B,Ga,M,Q,S,U,X){var N;N=this;this.j=a;this.qn=b;this.P_a=g;this.eZ=m;this.dh=f;this.Bma=l;this.qha=A;this.dd=P;this.$Z=R;this.af=ba;this.config=V;this.mc=ha;this.Fa=u;this.wa=B;this.platform=Ga;this.cn=M;this.QD=Q;this.mi=S;this.Vp=U;this.A2=X;this.AT=[];this.vEb=this.s1=this.GXa=0;this.gI=[];this.nda=!1;this.Uw=function(a,b){return function(d){var c;c=b(d);if("number" !== typeof c)throw Error("Event " + JSON.stringify(d) + " does not have movie Id");c === N.u && a(d);};};this.hq=this.Uw(function(a){N.OZa(a.JD);},function(a){return a.u;});this.rJ=this.Uw(function(){N.Mkb();},function(a){return a.u;});this.KZa=function(a){N.Qc(W.Be.GPb,!1,Y.Xh | Y.Ng,{speedold:Math.floor(1E3 * a.oldValue),speed:Math.floor(1E3 * a.newValue)});};this.lL=function(){N.Qc(W.Be.wRb,!1,Y.Xh | Y.Ng,{track:N.j.Hc.value.eh});};this.Y_a=function(a){a.newValue && N.fl && (a={track:a.newValue.eh},N.ED(a,N.j.uf.value && N.j.uf.value.stream,N.j.vg.value && N.j.vg.value.stream),N.Qc(W.Be.xRb,!1,Y.Xh | Y.Ng,a));};this.ko=function(a){N.Qc(W.Be.zib,!1,Y.Xh | Y.Ng,a.newValue);};this.iLa=function(){var a,b,d;if(N.j.bk)try{a=!1;N.ea % N.config().vP && !N.j.DP && (a=!0,N.gI=N.gI.filter(function(a){return !a.ia;}));if(0 < N.gI.length){b=N.$Z.construct(N.gI,N.j.uk.aa(x.fa));N.gI=[];b.erroronly=a;d={};t.Dd(b,function(a,b){d[a]=JSON.stringify(b);});N.Qc(W.Be.Vpb,!1,Y.Ng,d);}}catch(ff){N.log.error("Exception in dlreport.",ff);}};this.mQ=function(){var a;a=N.j.Ub.value;return a === q.sb.Vc?"playing":a === q.sb.qj?"paused":a === q.sb.Ds?"ended":"waiting";};this.z2=function(){var a,b;if(N.j.state.value == q.yb.rd){b=N.KVa();N.config().hpa && (b.avtp=N.QA.Qm().aF,N.j.$o && N.i1(b));b.mediabuffered=null === (a=N.j.ji) || void 0 === a?void 0:a.f0();b.midplayseq=N.vEb++;b.prstate=N.mQ();b.paustate=N.j.paused.value;N.config().FNb && N.m_a("midplay");N.config().Vr && N.vka(b);N.rka(b);N.tka(b);N.uka(b);N.Qc(W.Be.z2,!1,Y.Xh | Y.Ng | Y.Wx | Y.MM,b);}};this.lDa=/-?l(\d\d)/i;this.qLa=this.Uw(function(a){N.gI.push(N.$Z.zlb(a.response));},function(a){return a.u;});this.YZ=this.Uw(function(a){var b,d,c,g,m,k;a=a.response;b=a.request;d=a.request.lq;c=b.track;if(c){g=!a.ia && a.ja != h.L.Yx;m=c.type;k=a.Yk;if(g || N.qn.f2){d={dltype:m,url1:b.url,url2:a.url || "",cdnid:b.vc && b.vc.id,tresp:t.hk(k.oh - k.requestTime),brecv:t.WMa(k.vfa),trecv:t.hk(k.kn - k.oh),sbr:d && d.R};a.Zr && (d.range=a.Zr);switch(m){case p.Qg.audio:d.adlid=b.stream.wd;break;case p.Qg.video:d.vdlid=b.stream.wd;break;case p.Qg.u5:d.ttdlid=c.wd;}(b=ea.Sia(a.ja)) && (d.nwerr=b);a.Bj && (d.httperr=a.Bj);N.Qc(W.Be.YZ,g,Y.Ng,d);}}},function(a){return a.u;});this.Mk=function(){N.Qc(W.Be.Aib,!1,Y.Xh | Y.Wx,{browserua:T.rm});};this.wJa=this.Uw(function(a){var b,d,c;a=a.response;b=a.Yk;d=x.Lb(b.oh);c=x.Lb(b.kn);b=E.$(b.vfa || 0);b.lRa() || b.SQa() || (d=new L.U$(d,c),N.QA.wY(new D.FU(d,b)),a && a.request && a.request.lq && a.request.lq.Rb && N.eZ.wY(new C.$ta(d,b,a.request.lq.Rb)));},function(a){return a.u;});this.mVa=function(a){var b;b=a.newValue;a.kz && a.kz.gna && b || b == N.nla || (N.VPb(N.nla,b),N.nla=b);};this.Wv=function(a){function b(a){var b;if(N.j.Fb && N.j.Fb.sourceBuffers){b=N.j.Fb.sourceBuffers.filter(function(b){return b.type === a;}).pop();if(b)return {busy:b.Lh(),updating:b.updating(),ranges:b.g0()};}}N.HE="rebuffer";a={cause:a.cause};a.cause && a.cause === r.o$ && (a.mediaTime=N.j.gb.value,a.buf_audio=b(k.tV),a.buf_video=b(k.OF));N.Hka(N.AT[q.sb.Vc] || 0,N.AT[q.sb.qj] || 0,a);N.CL=N.getTime();n.Ec(N.fZ);};this.k0a=function(a){var b;a=a.oldValue;b=N.getTime();a === q.sb.fg?N.AT=[]:N.AT[a]=(N.AT[a] || 0) + (b - N.FBb);N.FBb=b;};this.ll=function(a){a.skip && (N.ml=!0);switch(a.cause){case q.$d.kv:case q.$d.hG:(N.HE && N.CL?N.yIb(N.getTime() - N.CL,N.HE):N.fl || N.HVa(),N.HE="repos",N.ipa(a.vna,a.vg,a.uf),N.CL=N.getTime(),n.Ec(N.fZ));}};this.fZ=function(){var a;if(N.CL && N.j.Ub.value !== q.sb.fg){a=N.getTime() - N.CL;N.ypa(a,N.ml);N.ila && N.ila != N.j.ud.value && N.Qhb();N.CL=void 0;N.HE=void 0;N.ml=void 0;}};this.Mea=this.Uw(function(){N.j.Ub.value === q.sb.Vc && (N.j.Ub.removeListener(N.Mea),N.Qo());},function(){return N.j.u;});this.FO=function(a){N.yBb=N.getTime();N.ila=a.oldValue;};this.Qo=function(){N.fl || (N.fl=!0,N.e5(!1),N.yzb(),N.config().qQa && (N.m1=O.setTimeout(function(){N.dh.flush(!1)["catch"](function(){return N.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});N.m1=void 0;},N.config().qQa)));};this.Jf=function(){N.m1 && (O.clearTimeout(N.m1),N.m1=void 0);if(N.config().vP || N.config().zO)(N.Cga && (O.clearInterval(N.Cga),N.Cga=void 0),N.iLa());N.M0a && N.M0a();N.fl?N.$ga(! !N.j.Cj):N.j.Cj?N.e5(!0):N.qn.background || N.HVa();N.eNb || (N.Qc=k.Af);};this.rJa=this.Uw(function(){N.Jf();},function(a){return a.movieId;});this.E1a=function(a){a.oldValue && a.kz && a.kz.fJa && N.Oea(a.oldValue,a.newValue,a.kz.fJa,a.kz.gib);};this.lWa=function(a){var b;if(a.newValue){b=a.newValue.stream;N.pla != b && (N.pla && N.JLb(N.pla,b,a.newValue.Hp.startTime),N.pla=b);}};this.eu=this.Uw(function(a){function b(a,b){var d;if(!a || a.Lla !== b.location){d={Lla:b.location,YRa:b.locationlv,QNb:b.serverid,JE:b.servername};N.Qjb(a,b);return d;}}if("audio" === a.mediatype){if(a=b(N.xBb,a))N.xBb=a;}else if(a=b(N.RQ,a))N.RQ=a;},function(a){return N.j.Aw(a.segmentId).u;});this.NK=this.Uw(function(a){var b,d;b=a.mediatype;d=a.reason;"video" === b?"serverswitchaway" === d?(N.pi.summary.L1a++,N.pi.V1=N.Fa.Pe.aa(x.fa)):"serverswitchback" === d && (N.pi.summary.M1a++,N.pi.V1 && (N.pi.summary.N1a.push(N.Fa.Pe.aa(x.fa) - N.pi.V1),N.pi.V1=void 0)):"audio" === b && ("serverswitchaway" === d?(N.pi.summary.EHa++,N.pi.P1=N.Fa.Pe.aa(x.fa)):"serverswitchback" === d && (N.pi.summary.FHa++,N.pi.P1 && (N.pi.summary.GHa.push(N.Fa.Pe.aa(x.fa) - N.pi.P1),N.pi.P1=void 0)));N.Qc(W.Be.SNb,!1,Y.Xh | Y.Ng,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return N.j.Aw(a.segmentId).u;});this.tH=function(a){N.Qc(W.Be.ohb,!1,Y.Ng,{strmsel:a.strmsel});};this.sH=function(a){N.Qc(W.Be.nhb,!1,Y.Ng,{msg:a.msg});};this.fL=function(a){a=J.SK(a);a.details && (a.details=JSON.stringify(a.details));N.Qc(W.Be.GQb,!0,Y.Xh | Y.YF | Y.oU,a);};this.nda=S.O5 || S.P5;this.QA=g();this.log=d.Ig(a,"LogblobBuilder");this.nla=a.paused.value;this.u=b.u;this.ea=this.qn.ea;this.pi={summary:{L1a:0,M1a:0,N1a:[],EHa:0,FHa:0,GHa:[]},V1:void 0,P1:void 0};this.Jb();c && this.OZa();}Object.defineProperty(b,"__esModule",{value:!0});b.Nxa=void 0;l=a(57);k=a(11);r=a(56);g=a(46);p=a(78);d=a(7);m=a(18);t=a(24);x=a(4);h=a(2);J=a(26);E=a(50);L=a(367);D=a(354);C=a(717);T=a(9);n=a(58);q=a(13);R=a(16);V=a(716);W=a(360);ea=a(160);ha=a(84);c.prototype.Jb=function(){this.j.addEventListener(q.W.hq,this.hq);this.j.addEventListener(q.W.rJ,this.rJ);this.j.addEventListener(q.W.eu,this.eu);this.j.addEventListener(q.W.NK,this.NK);this.j.addEventListener(q.W.Jf,this.rJa);this.j.addEventListener(q.W.pz,this.YZ,k.MV);if(this.config().vP || this.config().zO)(this.j.addEventListener(q.W.pz,this.qLa),this.Cga=O.setInterval(this.iLa,this.config().iqb));this.config().hpa && this.j.addEventListener(q.W.pz,this.wJa);};c.prototype.OZa=function(a){this.yTa || (this.j.Ub.value !== q.sb.Vc || (void 0 === a?0:a)?this.j.Ub.addListener(this.Mea):this.Qo(),this.j.Wj.addListener(this.Y_a),this.j.ud.addListener(this.FO),this.j.paused.addListener(this.mVa),this.j.uf.addListener(this.lWa),this.j.Ub.addListener(this.fZ),this.j.Ub.addListener(this.k0a),this.j.zf.addListener(this.E1a),this.j.playbackRate.addListener(this.KZa),this.j.addEventListener(q.W.Mk,this.Mk),this.j.addEventListener(q.W.sH,this.sH),this.j.addEventListener(q.W.tH,this.tH),this.j.addEventListener(q.W.fL,this.fL),this.j.addEventListener(q.W.Wv,this.Wv),this.j.addEventListener(q.W.ll,this.ll),this.j.addEventListener(q.W.lL,this.lL),this.qn.ko && this.qn.ko.addListener(this.ko),this.config().Kj && (this.eNb=!0),this.yTa=!0);};c.prototype.Mkb=function(){this.Jf();this.yTa && (this.j.removeEventListener(q.W.hq,this.hq),this.j.removeEventListener(q.W.rJ,this.rJ),this.j.removeEventListener(q.W.eu,this.eu),this.j.removeEventListener(q.W.NK,this.NK),this.j.Wj.removeListener(this.Y_a),this.j.ud.removeListener(this.FO),this.j.paused.removeListener(this.mVa),this.j.uf.removeListener(this.lWa),this.j.Ub.removeListener(this.fZ),this.j.Ub.removeListener(this.Mea),this.j.Ub.removeListener(this.k0a),this.j.zf.removeListener(this.E1a),this.j.playbackRate.removeListener(this.KZa),this.j.removeEventListener(q.W.pz,this.YZ),this.j.removeEventListener(q.W.Jf,this.rJa),this.j.removeEventListener(q.W.Mk,this.Mk),this.j.removeEventListener(q.W.sH,this.sH),this.j.removeEventListener(q.W.tH,this.tH),this.j.removeEventListener(q.W.fL,this.fL),this.j.removeEventListener(q.W.Wv,this.Wv),this.j.removeEventListener(q.W.ll,this.ll),this.j.removeEventListener(q.W.lL,this.lL),this.qn.ko && this.qn.ko.removeListener(this.ko),this.j.removeEventListener(q.W.pz,this.qLa),this.j.removeEventListener(q.W.pz,this.wJa));};c.prototype.e5=function(a){var b,d,c,m,p,k,r,f,l,h,A,E,J,D,L,C,n,P,ba,ea,u,Ia,B,M,Q,U,X;b={};try{b={browserua:T.rm,browserhref:location.href,playdelaysdk:t.hk(this.j.Aea()),applicationPlaydelay:t.hk(this.j.mjb()),playdelay:t.hk(this.j.tjb()),trackid:this.j.vi,bookmark:t.hk(this.j.JC || 0),pbnum:this.j.index,endianness:g.WNa()};this.config().krb && (b.transitiontime=this.j.rl,b.uiplaystarttime=this.j.Ta.G5,b.playbackrequestedat=this.j.uk.aa(x.fa),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Fa.Pe.aa(x.fa),b.clockgetpreciseappepoch=this.wa.OD.aa(x.fa),b.absolutestarttime=this.j.b0(),b.relativetime=this.j.aja());this.a0(b,"startplay");}catch(rb){this.log.error("error in startplay log fields",rb);}this.j.Mk && (b.blocked=this.j.Mk);b.configversion=this.config().version;this.config().endpoint || (b.configendpoint="error");this.j.ug && (b.playbackcontextid=this.j.ug);this.eQa(b);if(this.config().a6 && this.j.Ta.O1a){c={};Object.entries(this.j.Ta.O1a).reverse().forEach(function(a){var b;b=S(a);a=b.next().value;b=b.next().value;c[a.toLowerCase()]=b;});b.vui=c;}R.oa(this.j.nIa) && (b.bookmarkact=t.hk(this.j.nIa));m=this.j.zd.at && this.j.zd.ats?this.j.zd.at - this.j.zd.ats:void 0;m && (b.nccpat=m);(m=this.j.zd.lr && this.j.zd.lc?this.j.zd.lr - this.j.zd.lc:void 0) && (b.nccplt=m);(m=this.oqb()) && (b.downloadables=m);O._cad_global.device && R.ec(O._cad_global.device.jha) && (b.esnSource=O._cad_global.device.jha);t.Eb(b,this.cn,{prefix:"pi_"});(m=T.Zh && T.Zh.connection && T.Zh.connection.type) && (b.nettype=m);this.j.Ep && this.j.Ep.initBitrate && (b.initvbitrate=this.j.Ep.initBitrate);this.j.Ep && this.j.Ep.selector && (b.selector=this.j.Ep.selector);b.fullDlreports=this.j.OLa;if(this.j.state.value >= q.yb.rd)try{p=this.j.fr();p && (this.Ko=g.n6(p.map(function(a){return a.R;})),this.USa=g.n6(p.map(function(a){return a.height;})),d=0 < p.length?V.HSa(p,function(a){return a.R;}):void 0,b.maxbitrate=this.Ko,b.maxresheight=this.USa);}catch(rb){this.log.error("Exception computing max bitrate",rb);}try{k=g.lQ();k && (b.pdltime=k);}catch(rb){}try{t.Eb(b,this.j.zd,{prefix:"sm_"});t.Eb(b,this.j.G0(),{prefix:"vd_"});}catch(rb){}"undefined" !== typeof nrdp && nrdp.device && (b.firmware_version=nrdp.device.firmwareVersion);a && this.j.Yr && (b.pssh=this.j.Yr);if(this.config().Vr)try{p={};r=this.mc.getStats(void 0,void 0,this.j.u);f=this.j.b0();l=r.$E.Ykb || [];p.attempts=r.L3 || 0;p.num_completed_tasks=l.length;h=this.dd.xsb;k={};A=ha.Bf.hL;E=ha.Bf.Tp;J=ha.Bf.Eea;D=ha.Bf.cZ;L=ha.Bf.Dea;r.Dj && (k.scheduled=r.Dj - f);C=this.j.qa;C && R.oa(C.BA) && (k.preauthsent=C.BA - this.j.qf,k.preauthreceived=C.DE - this.j.qf);n=l.filter(function(a){return "manifest" === a.type;});p.mf_succ=n.filter(h("status",A)).length;p.mf_fail=n.filter(h("status",E)).length;P=this.j.zd;R.ec(P.lg) && 0 > P.lg && this.j.qf && (k.ldlsent=P.lc,k.ldlreceived=P.lr);ba=l.filter(function(a){return "ldl" === a.type;});p.ldl_succ=ba.filter(h("status",A)).length;p.ldl_fail=ba.filter(h("status",E)).length;r=!0;f=[];ea="ui" === this.j.Zv;k.preauthreceived && 0 > k.preauthreceived || ea || (r=!1,f.push("Missing cached manifest"));this.config().mI || (r=!1,f.push("LDL prefetch disabled"));u=ba.filter(h("status",J)).length;Ia=ba.filter(h("status",D)).length;B=ba.filter(h("status",L)).length;this.config().mI && 0 === u + Ia + B && (!k.ldlreceived || 0 <= k.ldlreceived) && (r=!1,f.push("LDL received after start"));if(this.config().FP){M=this.j.Do && this.j.Do.stats;if(M){if((M.K_ && (k.headersent=M.K_ - this.j.qf),M.X1 && (k.headerreceived=M.X1 - this.j.qf),M.jK && (k.prebuffstarted=M.jK - this.j.qf),M.I3 && (k.prebuffcomplete=M.I3 - this.j.qf),!k.prebuffcomplete || 0 <= k.prebuffcomplete))(r=!1,f.push("Missing cached media"));}else (r=!1,f.push("aseStats not initialized"));}Q=l.filter(function(a){return "getHeaders" === a.type;});p.header_succ=Q.filter(h("status",A)).length;p.header_fail=Q.filter(h("status",E)).length;U=l.filter(function(a){return "getMedia" === a.type;});p.media_succ=U.filter(h("status",A)).length;p.media_fail=U.filter(h("status",E)).length;p.hm_succ=p.header_succ + p.media_succ;p.hm_fail=p.header_fail + p.media_fail;t.Eb(b,p,{prefix:"pr_"});this.Vp.HP && (b.eventlist=this.A2.FOa(this.j));(b.prefetchCompleted=r) || (b.prefetchFailed=f,t.Eb(b,k,{prefix:"pe_"}));this.vka(b);}catch(rb){this.log.warn("error in collecting video prepare data",rb);}b.avtp=this.QA.Qm().aF;this.j.$o && this.i1(b);if(this.j.Hc.value)try{b.ttTrackFields=this.j.Hc.value.eh;}catch(rb){}if(l=this.j.ud && this.j.ud.value && this.j.ud.value.tc){X={};l.forEach(function(a){X[a.jg]=void 0;});b.audioProfiles=Object.keys(X);}this.wka(b);this.j.qa && "boolean" === typeof this.j.qa.Oc.KD && (b.isSupplemental=this.j.qa.Oc.KD);b.headerCacheHit=! !this.j.Do;this.j.Do && (b.headerCacheDataAudio=this.j.Do.audio,b.headerCacheDataAudioFromMediaCache=this.j.Do.audioFromMediaCache,b.headerCacheDataVideo=this.j.Do.video,b.headerCacheDataVideoFromMediaCache=this.j.Do.videoFromMediaCache);this.j.qa && (b.packageId=this.j.qa.Oc.Oo);this.j.qa && this.j.qa.Oc.dr && (b.hasChoiceMap=!0);this.config().TMa && (b.forceL3WidevineCdm=!0);this.uBb(d);this.tBb();this.cQa(this.j,b);this.dQa(this.j,b);this.FD(this.j,b);this.Oz(this.j,b,this.nda);this.rka(b);this.tka(b);this.uka(b);this.hQa(b);this.bQa(b);this.iQa(b);this.ska(b);this.Qc(W.Be.e5,a,Y.Xh | Y.YF | Y.Ng | Y.MM | Y.Wx | Y.oU | Y.M7,b);};c.prototype.ypa=function(a,b){b={playdelay:t.hk(a),reason:this.HE,intrplayseq:this.s1 - 1,skipped:b};"repos" === this.HE && (b.prstate=!0 === this.j.paused.value?"paused":"playing");this.FD(this.j,b);this.Qc(W.Be.ypa,!1,Y.Xh | Y.YF | Y.Ng,b);"rebuffer" == this.HE && this.j.dn.hgb(Number(t.hk(a)));};c.prototype.Oea=function(a,b,d,c){a={moff:t.vw(d),moffms:t.hk(d),vbitrate:b.R,vbitrateold:a.R,vdlid:b.wd,vdlidold:a.wd,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:c};this.FD(this.j,a);this.Oz(this.j,a);this.Qc(W.Be.Oea,!1,Y.Ng,a);};c.prototype.JLb=function(a,b,d){a={moff:t.vw(d),moffms:t.hk(d),vdlidold:a.wd,vbitrateold:a.R};this.FD(this.j,a);this.Oz(this.j,a);this.ED(a,b,this.j.vg.value && this.j.vg.value.stream);this.Qc(W.Be.KLb,!1,Y.Ng,a);};c.prototype.HVa=function(){var a,b;a={waittime:t.hk(this.j.aja()),abortedevent:"startplay",browserua:T.rm,browserhref:location.href,trackid:this.j.vi,prstate:this.mQ(),paustate:this.j.paused.value};this.a0(a,"endplay");this.Vp.HP && (a.eventlist=this.A2.FOa(this.j));this.j.ug && (a.playbackcontextid=this.j.ug);this.j.Ep && this.j.Ep.initBitrate && (a.initvbitrate=this.j.Ep.initBitrate);try{b=g.lQ();b && (a.pdltime=b);t.Eb(a,this.j.zd,{prefix:"sm_"});}catch(oa){}this.pka(a,!0);this.iQa(a);this.wka(a);this.fQa(a);this.ED(a,this.j.zf.value,this.j.Jl.value);this.Qc(W.Be.NVa,!1,Y.Xh | Y.Ng | Y.Wx | Y.MM,a);};c.prototype.yIb=function(a,b){a={waittime:t.hk(a),abortedevent:"resumeplay",browserua:T.rm,resumeplayreason:b};this.j.ug && (a.playbackcontextid=this.j.ug);this.j.Ep && this.j.Ep.initBitrate && (a.initvbitrate=this.j.Ep.initBitrate);this.ED(a,this.j.zf.value,this.j.Jl.value);this.Qc(W.Be.NVa,!1,Y.Xh | Y.Ng,a);};c.prototype.VPb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.FD(this.j,a);this.Oz(this.j,a);this.ED(a,this.j.uf.value && this.j.uf.value.stream,this.j.vg.value && this.j.vg.value.stream);this.Qc(W.Be.XPb,!1,Y.Xh | Y.Ng,a);};c.prototype.Hka=function(a,b,d){var c;a=t.Eb({vdlid:this.j.zf.value.wd,playingms:a,pausedms:b,intrplayseq:this.s1++,prstate:this.mQ(),paustate:this.j.paused.value},d);this.a0(a,"intrplay");b=this.j.vc[l.wc.Sa.VIDEO].value;d=this.j.vc[l.wc.Sa.AUDIO].value;a.cdnid=a.vcdnid=b && b.id;a.acdnid=d && d.id;a.locid=this.RQ && this.RQ.Lla;a.loclv=this.RQ && this.RQ.YRa;a.avtp=this.QA.Qm().aF;a.mediabuffered=null === (c=this.j.ji) || void 0 === c?void 0:c.f0();this.j.$o && (this.pka(a,!0),this.i1(a),this.gQa(a));try{t.Eb(a,this.j.G0(),{prefix:"vd_"});}catch(Aa){}this.FD(this.j,a);this.Oz(this.j,a);this.ED(a,this.j.uf.value && this.j.uf.value.stream,this.j.vg.value && this.j.vg.value.stream);this.Qc(W.Be.Hka,!1,Y.Xh | Y.Ng,a);};c.prototype.ipa=function(a,b,d){a={moffold:t.vw(a),reposseq:this.GXa++,prstate:this.mQ(),paustate:this.j.paused.value};this.Oz(this.j,a);this.ED(a,d && d.stream,b && b.stream);this.Qc(W.Be.ipa,!1,Y.Xh | Y.Ng,a);};c.prototype.Qhb=function(){this.Qc(W.Be.Uhb,!1,Y.Xh | Y.Ng,{switchdelay:t.hk(this.getTime() - this.yBb),newtrackinfo:this.j.ud.value.jb,oldtrackinfo:this.ila.jb});};c.prototype.Qjb=function(a,b){var d,c;d=b.serverid;c={locid:b.location,loclv:b.locationlv,selocaid:d,selcdnid:d,selocaname:b.servername};c.mediatype=b.mediatype;c.selreason=b.selreason || "unknown";c.seldetail=b.seldetail;c.cdnbwdata=JSON.stringify([{id:d}]);a && (c.oldlocid=a.Lla,c.oldloclv=a.YRa,c.oldocaid=a.QNb,c.oldocaname=a.JE);this.Qc(W.Be.UIa,!1,Y.oU,c);};c.prototype.m_a=function(a){var b,d;b={};b.trigger=a;try{d=this.j.Uia();b.subtitleqoescore=this.j.ap.nxb(d);b.metrics=JSON.stringify(this.j.ap.oja(d));}catch(qa){this.log.error("error getting subtitle qoe data",qa);}this.Qc(W.Be.HQb,!1,Y.Xh | Y.Wx | Y.YF,b,"info");};c.prototype.transition=function(a){this.Oz(this.j,a);this.Qc(W.Be.transition,!1,0,a);};c.prototype.Xwb=function(a,b){if(a=a.i0())if(b=a[b])return b.Xd;};c.prototype.cQa=function(a,b){a.Ta.lk && (b.isBranching=!0);};c.prototype.dQa=function(a,b){b.cachedManifest=a.Zv;b.cachedLicense=a.dz;b.usedldl=this.config().mI?("videopreparer" === a.dz).toString():"not_capable";};c.prototype.FD=function(a,b){var d,c;if(this.config().nzb){d=a.Via();c=a.ha.qa;d && c && (b.segment=d,c=a.vD(),b.segmenttime=c,a=this.Xwb(a,d),null !== c && void 0 !== a && (b.segmentoffset=c - a));}};c.prototype.Oz=function(a,b,d){b.pxid=a.sx;(void 0 === d?0:d) && (b.playgraph_trace=a.TVa);};c.prototype.gQa=function(a){var b,d;b=this.j.Yja;d=b && b.TLb;b && b.XPa && (a.htwbr=b.XPa,a.pbtwbr=b.u3,a.hptwbr=b.Pyb);b && b.iYa && (a.rr=b.iYa,a.ra=b.qKb);b && d && 0 < (d.length || 0) && (a.qe=JSON.stringify(d));};c.prototype.wka=function(a){var b,d,c,g,m;b=this;d=this.j.Mg && this.j.Mg.value && this.j.Mg.value.tc;if(d){c=new Set();g=new Set();m=new Set();d.forEach(function(a){a=a.jg;c.add(a);g.add(a.replace(b.lDa,""));(a=a.match(b.lDa)) && 0 < a.length && m.add(a[1]);});a.videoProfiles=[].concat(da(c));a.videoProfile=0 === g.size?"none":[].concat(da(g))[0];a.videoProfileLevels=[].concat(da(m));}};c.prototype.fQa=function(a){var b,d,c;try{b=this.dd.createElement("canvas");d=b.getContext("webgl") || b.getContext("experimental-webgl");if(d){c=d.getExtension("WEBGL_debug_renderer_info");c && (a.WebGLRenderer=d.getParameter(c.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=d.getParameter(c.UNMASKED_VENDOR_WEBGL));}}catch(Aa){}};c.prototype.ozb=function(a){a.switchAwaySummary={vsa:this.pi.summary.L1a,vsb:this.pi.summary.M1a,vsbt:this.pi.summary.N1a,asa:this.pi.summary.EHa,asb:this.pi.summary.FHa,asbt:this.pi.summary.GHa};};c.prototype.$ga=function(a){var b,d,c,g,A;b=this;d=this.KVa();this.a0(d,"endplay");d.browserua=T.rm;d.prstate=this.mQ();d.paustate=this.j.paused.value;this.j.Nx && "downloaded" === this.j.Nx.A0() && (d.trickplay_ms=this.j.GT.offset,d.trickplay_res=this.j.GT.QXa);this.config().p1a && (d.rtinfo=this.j.Qwb());if(this.config().hpa){c=this.QA.Qm().aF;void 0 !== d.avtp?d.avtp_retired=c:d.avtp=c;c=this.eZ.Cub().map(function(a){return {cdnid:a.fz,avtp:a.aF,tm:a.Dga};});void 0 != d.cdnavtp?d.cdnavtp_retired=c:d.cdnavtp=c;this.j.$o && this.i1(d);}this.eQa(d);d.endreason=a?"error":this.j.Ub.value === q.sb.Ds?"ended":"stopped";c=this.cn;this.izb(c);c && t.Eb(d,c,{prefix:"pi_"});c=this.j.Cj;a && c && h.Iva(c.errorCode) && (g="info");try{t.Eb(d,this.j.zd,{prefix:"sm_"});}catch($a){}this.j.oka && (d.inactivityTime=this.j.oka);this.pka(d,"info" !== g && a);this.gQa(d);if(this.j.NC){for(var c=this.j.NC,m=this.config().MC,p=this.j.qf,k={iv:m,seg:[]},r=function(a,b,d){return 0 === b || void 0 === d[b - 1]?a:a - d[b - 1];},f=c.Rv.map(r),r=c.Rx.map(r),l,x=0;x < f.length;x++){if(f[x] || r[x])l?(l.ams.push(f[x]),l.vms.push(r[x])):l={ams:[c.Rv[x]],vms:[c.Rx[x]],soffms:c.startTime + x * m - p};x !== f.length - 1 && f[x] && r[x] || !l || (k.seg.push(l),l=void 0);}d.bt=JSON.stringify(k);}if(this.j.r2 && 0 < this.j.r2.length){A=[];this.j.r2.forEach(function(a){A.push({soffms:a.time - b.j.qf,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});d.maxvbevents=A;}a && this.fQa(d);this.m_a("endplay");this.config().Vr && this.vka(d);this.wka(d);this.cQa(this.j,d);this.dQa(this.j,d);this.FD(this.j,d);this.Oz(this.j,d,this.nda);this.rka(d);this.tka(d);this.uka(d);this.hQa(d);this.jzb(d);this.bQa(d);this.lzb(d);this.kzb(d);this.ozb(d);this.ska(d);this.Qc(W.Be.$ga,a,Y.Xh | Y.YF | Y.Ng | Y.Wx | Y.MM | Y.M7,d,g);};c.prototype.Jbb=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return +a;}):b;};c.prototype.oqb=function(){var a,b;a=this;if(this.j.zn && this.j.ho){b=[];this.j.zn.concat(this.j.ho).forEach(function(d){d.tc.forEach(function(d){b.push({dlid:d.wd,type:d.type,bitrate:d.R,vmaf:d.qb,cdn_ids:a.Jbb(d.ow)});});});return JSON.stringify(b);}};c.prototype.Pjb=function(){var b,d,c;function a(a,b){var g,p,k;g=a.cdnId;p=c[g];k=a.vmaf;p || (p={cdnid:g,dls:[]},c[g]=p,d.push(p));m.XH(a.bitrate);m.XH(a.duration);g={bitrate:a.bitrate,tm:T.Yh(a.duration)};k && (m.XH(a.vmaf),g.vf=k);g[b]=t.Ud(a.downloadableId);p.dls.push(g);}b=this.j.dn.$tb();d=[];c={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(d);};c.prototype.KVa=function(){var a,b,d,c,g,p,k,r,f,h,A;a=this.j.dn;b={totaltime:t.vw(a.qQ()),totalcontenttime:t.vw(a.fPa()),cdndldist:this.Pjb(),reposcount:this.GXa,intrplaycount:this.s1};try{d={numskip:0,numlowqual:0};c=this.j.ji;g=c.tD();R.oa(g) && (b.totfr=g,d.numren=g);g=c.sD();R.oa(g) && (b.totdfr=g,d.numrendrop=g);g=c.aQ();R.oa(g) && (b.totcfr=g,d.numrenerr=g);g=c.p0();R.oa(g) && (b.totfdl=g);b.playqualvideo=JSON.stringify(d);p=this.j.zf.value;p && (b.videofr=p.V_.toFixed(3));k=a.rNa();k && (b.abrdel=k);r=a.zyb() && a.fub();r && (b.tw_vmaf=r);f=a.eub();f && t.Eb(b,f);b.rbfrs=this.s1;b.maxbitrate=this.Ko;b.maxresheight=this.USa;for(var l=this.j.KI(),x,a=0;a < l.length;a++){h=l[a];A=this.qn.yJ.hs(h);if(A){m.Ya(x);b.maxbitrate=x?x.R:0;b.maxresheight=x?x.height:0;b.bitratefilters=A.join("|");break;}x=h;}this.j.Nx && (b.trickplay=this.j.Nx.A0());null !== this.j.ap.bIa && (b.avg_subt_delay=this.j.ap.bIa);}catch($a){this.log.error("Exception reading some of the endplay fields",$a);}t.Eb(b,this.j.G0(),{prefix:"vd_"});return b;};c.prototype.getTime=function(){return this.wa.zb().aa(x.fa);};c.prototype.B4=function(a){a.browserua=T.rm;this.ska(a);this.Qc(W.Be.iNb,!a.success,Y.Xh | Y.Wx,a);this.Qc=k.Af;};c.prototype.yzb=function(){var a,b,d;a=this;d=[];this.config().tEb && (this.config().uEb.forEach(function(b){d.push(O.setTimeout(a.z2,b));}),this.config().iTa && (b=O.setInterval(this.z2,this.config().iTa)),this.M0a=function(){d.forEach(function(a){O.clearTimeout(a);});b && O.clearInterval(b);});};c.prototype.vka=function(a){var b;try{b=this.mc.getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.Htb);}catch(oa){}};c.prototype.rka=function(a){this.log.debug("httpstats",this.af.Nb);t.Eb(a,this.af.Nb,{prefix:"http_"});};c.prototype.pka=function(a,b){this.config().EKa && !(this.ea % this.config().EKa) && this.j.Gb && this.j.Gb.r1 && (a.ASEstats=JSON.stringify(this.j.Gb.r1(b)));};c.prototype.i1=function(a){Object.assign(a,this.j.$o.Ab.txb());};c.prototype.tka=function(a){var b;try{b=T.Ls.memory;R.kRa(b) && (a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(oa){}};c.prototype.uka=function(a){var b,d;if(this.config().drb){d=null === (b=null === T.Zh || void 0 === T.Zh?void 0:T.Zh.connection) || void 0 === b?void 0:b.effectiveType;b=null === T.Zh || void 0 === T.Zh?void 0:T.Zh.deviceMemory;d && (a.effectiveType=d);b && (a.deviceMemory=b);}};c.prototype.hQa=function(a){var b;b=this.j.Rd;this.config().Ijb && b && !this.config().xn && (b=this.j.xFb(b.b3b()),a.keystatuses=b,this.log.trace("keystatuses",b));};c.prototype.bQa=function(a){var b;try{if(this.config().YO){b=this.j.lub();a.battery=b;this.log.trace("batterystatuses",b);}}catch(oa){}};c.prototype.jzb=function(a){this.j.GZ && (a.dqec=this.j.GZ);};c.prototype.izb=function(a){this.j.dZ && t.Eb(a,{cast_interaction_counts:this.j.dZ.n3b()});};c.prototype.iQa=function(a){var b;b=this.j.Ta.gm;b && b.isUIAutoPlay && (a.isUIAutoPlay=!0);};c.prototype.ska=function(a){var b,d,c;if(null === (d=null === (b=this.j.Rd) || void 0 === b?void 0:b.Yl) || void 0 === d?0:d.keySystem)a.keysys=this.j.Rd.Yl.keySystem;else if(null === (c=this.j.Rd) || void 0 === c?0:c.yw)a.keysys=this.j.Rd.yw();};c.prototype.kzb=function(a){this.pha && (a.externaldisplay=this.pha.NP);};c.prototype.lzb=function(a){this.UA && this.UA.Zb && (a.media_capabilities_smooth=this.UA.Zb.CPb,a.media_capabilities_efficient=this.UA.Zb.WIb,a.media_capabilities_bitrate=this.UA.Zb.R,a.media_capabilities_height=this.UA.Zb.height,a.media_capabilities_width=this.UA.Zb.width);};c.prototype.ED=function(a,b,d){d && (a.adlid=d.wd,a.abitrate=d.R);b && (a.vdlid=b.wd,a.vbitrate=b.R);};c.prototype.eQa=function(a){var b,d;if(this.j.gP){b=this.j.gP;b.pZ && (a.controllerESN=b.pZ);b.wlb && (a.controllerUiVer=b.wlb);if(b.vlb)try{d=JSON.parse(b.vlb);a.controllerGroupNames=d;}catch(qa){this.log.error("Exception parsing controller group names",qa);}}};c.prototype.tBb=function(){void 0 === this.pha && (this.pha=this.qha.msb());};c.prototype.uBb=function(a){void 0 === this.UA && void 0 !== a && (this.UA=this.Bma.vha(a));};c.prototype.a0=function(a,b){(b=this.j.zw(b)) && Object.entries(b).forEach(function(b){var d;d=S(b);b=d.next().value;d=d.next().value;a[b]=d;});};c.prototype.Qc=function(a,b,d,c,g){this.agb(c,this.j,b,d);a=this.QD.Lp(a,g || (b?"error":"info"),c,this.qn);this.dh.Qc(a);};c.prototype.agb=function(a,b,d,c){var g,p,k,r,f,x,A,E,J;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (a.devmod=nrdp.device.deviceModel);b.Qk && (a.pbcid=b.Qk);c & Y.Xh && (m.Ya(!a || void 0 === a.moff),0 <= b.gb.value && (a.moff=t.vw(b.gb.value),a.moffms=t.hk(b.gb.value)));if(c & Y.YF){f=b.vc[l.wc.Sa.VIDEO].value;x=b.vc[l.wc.Sa.AUDIO].value;A=b.vg.value;E=b.uf.value;f && (a.cdnid=f.id,a.cdnname=f.name);x && (a.acdnid=x.id,a.acdnname=x.name);A && (a.adlid=A.stream.wd,a.abitrate=A.stream.R);E && (a.vdlid=E.stream.wd,a.vbitrate=E.stream.R,a.vheight=E.stream.height,a.vwidth=E.stream.width);}c & Y.Ng && b.Gb && (a.abuflbytes=null !== (g=a.abuflbytes) && void 0 !== g?g:b.Oda(),a.abuflmsec=null !== (p=a.abuflmsec) && void 0 !== p?p:b.BO(),a.vbuflbytes=null !== (k=a.vbuflbytes) && void 0 !== k?k:b.hsa(),a.vbuflmsec=null !== (r=a.vbuflmsec) && void 0 !== r?r:b.RT());if(c & Y.MM){Object.assign(a,ea.eja());try{J=b.Pf.getBoundingClientRect();a.rendersize=J.width + "x" + J.height;a.renderpos=J.left + "x" + J.top;}catch($a){}}c & Y.Wx && (g=T.Zh.hardwareConcurrency,0 <= g && (a.numcores=g),g=this.qn.Lga) && (p=g.gub(),a.droppedFrames=JSON.stringify(p),g=g.iQ(this.config().zqb),t.Dd(g,function(b,d){a["droppedFramesP" + b]=JSON.stringify(d);}));if(c & Y.oU)try{b.bk && (a.cdninfo=JSON.stringify(b.bk.map(function(a){return {id:a.id,nm:a.name,rk:a.$f,wt:a.location.weight,lv:a.location.level};})));}catch($a){}d && c & Y.M7 && (m.Ya(b.Cj),(d=b.Cj)?a=Object.assign(a,ea.Tia(this.platform.kD,d)):a.errorcode=h.K.zl,a.errorcode === this.platform.kD + h.K.vza && (a.lastSyncWithVideoElement=this.getTime() - b.tT));};b.Nxa=c;(function(a){a[a.Xh=1]="MOFF";a[a.YF=2]="PRESENTEDSTREAMS";a[a.Ng=4]="BUFFER";a[a.MM=8]="SCREEN";a[a.Wx=16]="CPU";a[a.oU=32]="CDN";a[a.M7=64]="FATALERROR";})(Y || (Y={}));},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q8=void 0;b.Q8="LogblobBuilderFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.l6=void 0;b.l6="AppLogSinkSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iaa=void 0;b.Iaa="UuidProviderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.a$=void 0;b.a$="PboLogblobCommandSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Be=void 0;f=b.Be || (b.Be={});f.zib="bitraterestriction";f.UIa="cdnsel";f.Oea="chgstrm";f.debug="debug";f.Vpb="dlreport";f.$ga="endplay";f.Hka="intrplay";f.z2="midplay";f.NVa="playbackaborted";f.KLb="renderstrmswitch";f.ipa="repos";f.ypa="resumeplay";f.SNb="serversel";f.e5="startplay";f.XPb="statechanged";f.transition="transition";f.ohb="asereport";f.nhb="aseexception";f.Uhb="audioswitch";f.Aib="blockedautoplay";f.config="config";f.g2b="destiny_prepare";f.h2b="destiny_start";f.e2b="destiny_events";f.d2b="destiny_cachestate";f.f2b="destiny_playback";f.YZ="dlreq";f.vx="prepare";f.U2b="ftlProbeError";f.iNb="securestop";f.GQb="subtitleerror";f.HQb="subtitleqoe";f.wRb="timedtextrebuffer";f.xRb="timedtextswitch";f.GPb="speedchanged";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.n9=void 0;b.n9="MessageQueueSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.R8=void 0;b.R8="LogblobSenderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.R9=void 0;b.R9="PboBindDeviceCommandSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.U6=void 0;b.U6="CryptoKeysSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.T6=void 0;b.T6="CryptoDeviceIdSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.j7=void 0;b.j7="DeviceProviderSymbol";},function(f,b){function a(b,f,k){if(null != k){if(0 < k(b,f))throw a.iKa(b,f);}else if(b.zj && 0 < b.zj(f))throw a.iKa(b,f);this.start=b;this.end=f;}Object.defineProperty(b,"__esModule",{value:!0});b.U$=void 0;a.iKa=function(a,b){return new RangeError("end [" + b + "] must be >= start [" + a + "]");};b.U$=a;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.i7=void 0;b.i7="DeviceIdGeneratorSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.zV=void 0;b.zV="MslReadyNotifierSymbol";},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.c4a=b.Uta=void 0;c=a(11);l=a(24);k=a(16);r=a(78);b.Uta=function(a,b,d,c,t,r,f,h,E,L){var g,m;g=this;m={Type:b,Bitrate:c,DownloadableId:d};l.Eb(g,{track:a,type:b,wd:d,R:c,qb:t,jg:h,size:r,ow:f,Yp:null,LOb:function(a,b,d,c){if(k.ec(a) || k.ec(b))(g.width=a,g.height=b,k.oa(d) && k.oa(c) && (g.rda=d / c * a),m.Resolution=(g.width || "") + ":" + (g.height || ""));},cOb:function(a,b,d,c,m,p){k.ec(a) && k.ec(b) && k.ec(d) && k.ec(c) && (g.Lfa=a,g.zZ=b,g.yZ=d,g.xZ=c);k.ec(m) && k.ec(p) && (g.CVa=m,g.DVa=p);},V_:E,cu:L,eh:m,toJSON:function(){return m;}});};b.c4a=function(a,b,d,m,t){if(a == c.tV || a === r.Qg.audio)return b;if(a == c.OF || a === r.Qg.video)return d;if(a == r.Qg.u5)return m;if(a == r.Qg.Fra)return t;};},function(f,b,a){var l;function c(a){var k,g,p,d,m,t,f;p={};p[l.GL]=a.localName;d={};p[l.lj]=d;m=[];p[l.FL]=m;t=a.attributes;k=t.length;for(g=0;g < k;g++){f=t[g];d[f.localName]=f.value;}a=a.childNodes;k=a.length;d={};for(g=0;g < k;g++){switch((t=a[g],t.nodeType)){case b.e2a:t=c(t);f=t[l.GL];t[l.g6]=p;m.push(t);p[f]?d[f][l.XA]=t:p[f]=t;d[f]=t;break;case b.f2a:case b.c2a:(t=t.text || t.nodeValue,m.push(t),p[l.Fq] || (p[l.Fq]=t));}}return p;}Object.defineProperty(b,"__esModule",{value:!0});b.d2a=b.c2a=b.f2a=b.FUb=b.e2a=b.GUb=b.b2a=void 0;l=a(134);b.b2a=function(a){return c(a.nodeType == b.d2a?a.documentElement:a);};b.GUb=c;b.e2a=1;b.FUb=2;b.f2a=3;b.c2a=4;b.d2a=9;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.a2a=void 0;c=a(7);l=a(16);b.a2a=function(a){var b,g;if(l.Pw(a)){b=new DOMParser().parseFromString(a,"text/xml");g=b.getElementsByTagName("parsererror");if(g && g[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(g[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(p){}throw Error("xml parser error");}return b;}throw Error("bad xml text");};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.hVa=void 0;c=a(215);l=a(214);b.hVa=function(a,b,g,p){return new Promise(function(d,m){l.ssa(a,function(a){a.ia?c.ZUa(a.object,b,g,p,function(a){a.ia?d(a.entries):m(a);}):m(a);});});};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.vW=void 0;c=a(25);l=a(98);f=(function(){function a(a){this.z5=a;}Object.defineProperties(a.prototype,{DR:{get:function(){return "trace-" + this.z5.source;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ip:{get:function(){return this.DR;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return c.sa;},enumerable:!1,configurable:!0}});a.prototype.zz=function(a){if(a.Vm === l.jv.m_)return (a=this.z5.kBb,this.z5.clear(),a);};a.prototype.Qb=function(){this.z5.Qb();};return a;})();b.vW=f;},function(f,b){function a(a,b){var c;c={};Object.keys(b).forEach(function(k){var g;g=b[k];c[k]={la:a.viewableId,Xd:g.startTimeMs,Ge:g.endTimeMs || Infinity,Ri:g.defaultNext || null,xe:g.transitionHint,C5:g.transitionDelayZones,next:g.next};});return c;}Object.defineProperty(b,"__esModule",{value:!0});b.csb=b.Fqa=b.Rea=void 0;b.Rea=function(b){return {rg:b.initialSegment,xe:b.transitionType,Va:a(b,b.segments)};};b.Fqa=function(a,b){var c;return {rg:b,xe:"lazy",Va:(c={},c[b]={la:a,Xd:0,Ge:Infinity,Ri:null,next:{}},c)};};b.csb=function(a,b){var c,m,t;a=Math.max(a.duration - 3E4,3E4);for(var r={},g,p=0,d=0;d < a;d+=3E4){m="s" + p++;t={la:b,Xd:d,Ge:d + 3E4 < a?d + 3E4:null};void 0 !== g && (g.next=(c={},c[m]={weight:1},c),g.Ri=m);g=r[m]=t;}return {rg:"s0",Va:r,xe:"lazy"};};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.faa=void 0;f=a(15);c=a(35);l=a(20);a=(function(){function a(a){void 0 === a && (a={Rm:!1,currentTime:l.U.rb,speed:1});this.jc={Rm:function(){return "function" === typeof a.Rm?a.Rm():a.Rm;},currentTime:function(){return "function" === typeof a.currentTime?a.currentTime():a.currentTime;},speed:function(){return "function" === typeof a.speed?a.speed():a.speed;}};}Object.defineProperties(a.prototype,{Rm:{get:function(){return this.jc.Rm();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{currentTime:{get:function(){return this.jc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{speed:{get:function(){return this.jc.speed();},enumerable:!1,configurable:!0}});return a;})();b.faa=a;c.Se(f.EventEmitter,a);},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.An=void 0;f=b.An || (b.An={});f[f.CLOSED=0]="CLOSED";f[f.OPEN=1]="OPEN";f[f.In=2]="STREAMING";},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.Rr=b.oPa=b.jRa=void 0;c=a(10);l=a(5);k=a(25);b.jRa=function(a,b){a=a.Va[b.Ba];if(void 0 === a)return !1;if(void 0 === a.Ge || null === a.Ge)throw Error("Cannot validate graph position without endTimeMs");a=a.Ge - a.Xd;return 0 <= b.offset.ka && b.offset.ka < a;};r=c.U.Pc(100);b.oPa=function(a,b){if(a === b)return !0;if(a && b && a.Ba === b.Ba){if(a.offset === b.offset)return !0;a=c.U.abs(a.offset.Oa(b.offset));if(r.greaterThan(a))return !0;}return !1;};b.Rr=function(a,b,d){var g,t,p,r;p=b.mb;b=b.Fzb;void 0 === d && (d={});r=p.Pb;p=p.navigator;r=p.og(null !== (g=null === b || void 0 === b?void 0:b.id) && void 0 !== g?g:r.rg);g=null !== (t=null === b || void 0 === b?void 0:b.oNb) && void 0 !== t?t:r.Mj;if(g.greaterThan(a))return d.DPb?{offset:a.Oa(g),Ba:r.id}:void 0;b=p.hBb(r);for(p=b.next();!p.done;){t=p.value;p=t.nr.Oa(t.Mj);r=g;g=r.add(p);if(g.greaterThan(a))return (a=a.Oa(r),k.sa && l.assert(a.Wp(c.U.rb) && a.lessThan(p)),{Ba:t.id,offset:a});p=b.next();if(p.done && d.EPb)return {Ba:t.id,offset:a.Oa(r)};}};},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.A$=void 0;c=a(0);l=a(15);k=a(10);r=a(5);g=a(17);p=a(378);f=(function(){function a(){this.bK=[];this.Ey=new k.hv(!1);this.events=new l.EventEmitter();}Object.defineProperties(a.prototype,{Mx:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{playbackRate:{get:function(){return this.Pm();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vJ:{get:function(){return this.Ey;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{NA:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kf:{get:function(){return this.BI();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{position:{get:function(){var a,b;a=this.Kf;b=this.Rr(a);r.assert(b,"Could not find current branch for " + a.ka);return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{QQ:{get:function(){return this.Fja?this.Hb[this.Hb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cj:{get:function(){var a,b;a=this.Kf;b=this.d0(a);r.assert(b,"Could not find presenting branch for " + a.ka);return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fja:{get:function(){return 0 < this.Hb.length;},enumerable:!1,configurable:!0}});a.prototype.MY=function(){return void 0 !== this.mb?!1:!0;};a.prototype.Qb=function(){};a.prototype.M0=function(a){var b,d,c;if(void 0 !== this.mb){if(0 === this.Hb.length)return a.offset;b=this.Hb.filter(function(b){return b.ba.id === a.Ba;});if(0 !== b.length){d=this.BI();c=new k.U(Infinity,1);b.forEach(function(b){b=b.goa.add(a.offset);d.uga(b).lessThan(d.uga(c)) && (c=b);});return c;}}};a.prototype.Rr=function(a,b){var d;d=this.d0(a);if(!d){if(void 0 === this.mb)return;d=this.Hb[this.Hb.length - 1];return p.Rr(a,{mb:this.mb,Fzb:d && ({id:d.ba.id,oNb:d.goa})},b);}b=d.ba;d=b.Mj.add(d.$q);return {Ba:b.id,offset:a.Oa(d)};};a.prototype.reset=function(){};a.prototype.AS=function(){};a.prototype.pause=function(a){void 0 === a && (a=g.Ue);this.bK=null === a || void 0 === a?void 0:a.reduce(function(a,b){-1 === a.indexOf(b) && a.push(b);return a;},this.bK);};a.prototype.resume=function(a){var b;b=this;void 0 === a && (a=g.Ue);a.forEach(function(a){a=b.bK.indexOf(a);-1 !== a && b.bK.splice(a,1);});};a.prototype.Ara=function(a){var b;r.assert(this.mb);r.assert(a !== this);this.bL();b=a.MY(this.mb,this);b && (a.pause(this.bK),a.bha.apply(a,c.__spread(this.Hb)),this.oga(this.mb));return b;};a.prototype.BI=function(){return this.gOa();};a.prototype.gOa=function(){var a,b,d,g;g=this.Hb;if(g.length)return (d=c.__read(g,1)[0],r.assert(d),null !== (a=d.gn) && void 0 !== a?a:d.Cka);if(this.mb){if(this.mb.Mj)return this.mb.Mj;a=null === (b=this.mb) || void 0 === b?void 0:b.Pb.rg;a=null === (d=this.mb) || void 0 === d?void 0:d.Pb.Va[a];return k.U.Pc(a.Xd);}return k.U.rb;};a.prototype.Pm=function(){return 1;};a.prototype.d0=function(a){var b;if(0 !== this.Hb.length){b=this.gOa();return a.lessThan(b)?this.Hb[0]:k.HMa(this.Hb,a);}};return a;})();b.A$=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.hQ=void 0;c=a(784);l=a(3);b.hQ=function(){var a;if(!k){a=new l.Console("ASEJS","media|asejs");k=new c.Hsa(a);}return k;};},function(f){f.V="4.1.1328";},function(f,b,a){var r,g;function c(a,b,c,g,r,f){return new k(a,b,c,g,r,f);}function l(a){return a && 0 <= a.indexOf(".__metadata__");}function k(a,b,c,g,k,r){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=g;this.creationTime=k;this.lastRefresh=r;return this.h0a();}r=a(8);g=a(113);a(112);new g.Console("MEDIACACHE","media|asejs");k.prototype.refresh=function(){this.lastRefresh=g.time.now();return this.h0a();};k.prototype.iZa=function(a){this.size=a;};k.prototype.JJa=function(){var a;a=g.time.now();return (this.lastRefresh + 1E3 * this.lifespan - a) / 1E3;};k.prototype.h0a=function(){this.lastMetadataUpdate=g.time.now();return this;};k.prototype.constructor=k;f.V={create:c,Vha:function(a){var b;b=a;"string" === typeof a && (b=JSON.parse(a));if(b && b.partition && !r.X(b.lifespan) && b.resourceIndex && b.creationTime && b.lastRefresh)return (a=c(b.partition,b.resourceIndex,b.lifespan,-1,b.creationTime,b.lastRefresh),b.lastMetadataUpdate && (a.lastMetadataUpdate=b.lastMetadataUpdate),!r.X(b.size) && 0 <= b.size && a.iZa(b.size),a.JJa(),a.convertToBinaryData=b.convertToBinaryData,a);},Cfa:function(a){return a + ".__metadata__";},w_:function(a){return l(a)?a.slice(0,a.length - 13):a;},ZI:l};},function(f,b,a){var J,E,L,D,C,T,n,q,R,V,W,ea,ha;function c(){}function l(a,b){var g,m,p,k;g=J.Yb(b)?b:c;this.H=a || ({});(function(a,b,d){this.Ki[a].Nd[b]=d;}).bind(this);(function(a,b){return this.Ki[a].Nd?this.Ki[a].Nd[b]:void 0;}).bind(this);this.on=this.addEventListener=ea.addEventListener;this.removeEventListener=ea.removeEventListener;this.emit=this.Pa=a.B2b?ea.Pa:c;m=D.unb(a);p=this.H.dailyDiskCacheWriteLimit;if(m){this.Zs=m;k=t(a.yma || ha,D.Yub());this.Iv=function(a){return J.X(k) || null === k || void 0 === this.Ki[a]?!1:!J.X(k[a]);};k?(this.Ki={},b=E.Promise.all(Object.keys(k).map(function(b){return new E.Promise(function(d,c){var g;g=k[b];g.m1a=a.m1a;new C(b,m,g,function(a,b){a?c(a):d(b);},p);});})).then((function(a){a.map((function(a){var b;b=a.Fy;this.Ki[b]=a;k[b].vtb=k[b].Fp - a.Hv;this.Ki[b].on(C.Zd.REPLACE,(function(a){a=a || ({});a.partition=b;a.type="save";this.Pa("mediacache",a);}).bind(this));this.Ki[b].on(C.Zd.oDa,(function(a){a=a || ({});a.partition=b;a.type="save";this.Pa("mediacache",a);}).bind(this));this.Ki[b].on(C.Zd.ERROR,(function(a){a=a || ({});a.partition=b;a.type=C.Zd.ERROR;this.Pa("mediacache-error",a);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(a){d(m,E.storage.WF,Object.keys(k));return a;}).bind(this)).then((function(a){Object.keys(a.Ki).map(function(b){a.Ki[b].wia().map(function(d){a["delete"](b,d);});});a.Ul=!0;g(null,a);}).bind(this))["catch"]((function(a){L.error("Failed to initialize media cache ",a);this.GD=V.Bua;g(this.GD,this);}).bind(this)),W.uu(b)):(this.GD=V.j7a,g(this.GD,this));}else (this.GD=V.Bua,g(this.GD,this));}function k(a,b,d,c,g,m){var p;p=m?"mediacache-error":"mediacache";b={partition:d,type:b,resource:c,time:E.time.now()};m && (b.error=m);g && (J.oa(g.duration) && (b.duration=g.duration),J.oa(g.Yv) && (b.bytesRead=g.Yv));try{a.Pa(p,b);}catch(Ba){L.warn("caught exception while emitting basic event",Ba);}}function r(a,b,d,c,g){var m;m=g?"mediacache-error":"mediacache";b={partition:d,type:b,resources:c,time:E.time.now()};g && (b.error=g);try{a.Pa(m,b);}catch(I){L.warn("caught exception while emitting basic event",I);}}function g(a){return !J.X(a) && !J.Ua(a) && J.oa(a.lifespan);}function p(a){return !T.ZI(a) && !q.vAb(a);}function d(a,b,d){a.query(b,"",function(g,m){g || Object.keys(m).filter(function(a){return 0 > d.indexOf(a.slice(0,a.indexOf(".")));}).map(function(d){a.remove(b,d,c);});});}function m(a,b,d){var g,m;function c(b){a["delete"](g,function(c){c?d(c):(delete a.Nd[m],c=Object.keys(b.resourceIndex),c=E.Promise.all(c.map(function(b){return new E.Promise(function(d,c){a["delete"](b,function(a){a?c(a):d(b);});});})).then(function(){d();},function(a){d(a);}),W.uu(c));});}T.ZI(b)?(g=b,m=T.w_(b)):(g=T.Cfa(b),m=b);(b=a.Nd[m])?c(b):a.read(g,function(a,b){a?d(a):c(b);});}function t(a,b){var d,c,g;d={};c=a.partitions.reduce(function(a,b){return a + b.capacity;},0);g=b / c;a.partitions.map(function(a){var b;b=a.key;d[b]={};d[b].Fp=Math.floor(g * a.capacity);d[b].wob=a.dailyWriteFactor || 1;d[b].c5b=a.owner;d[b].Jrb=a.evictionPolicy;});return d;}function x(a,b,d){if(d)return q.Spb(a,b).reduce(function(a,b){Object.keys(b).map(function(d){a[d]=b[d];});return a;},{});d={};d[a]=b;return d;}function h(a,b,d,c,g,m,p,t,k,r,f){return function(l,x){l?J.isArray(l)?(x=l.map(function(a){return a.error;}),x.some(function(a){return a.code === V.qF.code;}) && !x.some(function(a){return a.code === V.EW.code;})?f(r,l,function(){k.save(b,d,c,g,m,p);}):(r["delete"](t),delete r.Nd[d],m({error:l[0].error,pu:l[0].pu,type:l[0].type,dHa:l}))):m({error:l,pu:b,type:"save"}):(l=x.items.filter(function(b){return 0 <= Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a + b.L1;},0),r.Nd[d].iZa(l),l={vtb:x.ik,T1b:x.UH,xj:0,items:x},0 < x.xj && (l.xj=x.xj),0 < x.duration && (l.duration=x.duration),m(null,l));};}J=a(8);E=a(113);L=new E.Console("MEDIACACHE","media|asejs");D=a(797);C=a(796);T=a(382);n=a(112);q=a(789);R=a(788);V=a(219);W=a(218);ea=a(111).EventEmitter;ha={f5b:[]};l.prototype.xE=function(a,b,d){var g;g=J.Yb(d)?d:c;this.Iv(a)?this.Ki[a].query(b,function(a,b){a?(L.error("Failed to query resources",a),g([])):g(b.filter(p));}):g([]);};l.prototype.read=function(a,b,d){var g,m,p,t;g=J.Yb(d)?d:c;if(this.Iv(a)){m=this.Ki[a];p=m.Nd[b];if(!T.ZI(b) && this.H.XDb){t=(function(d){m.a4(Object.keys(d),(function(d,c,m){d?g(V.fG.ep("Failed to read " + b,d)):(k(this,"read",a,b,m),g(null,q.Qzb(c)));}).bind(this),d);}).bind(this);p?t(p.resourceIndex):this.xKb(a,b,function(a,d){a?g(V.fG.ep("Failed to read " + b,a)):t(d.resourceIndex);});}else m.read(b,(function(d,c,m){d?g(V.fG.ep("Failed to read " + b,d)):(p && p.convertToBinaryData && (c=R.xlb(c)),k(this,"read",a,b,m),g(null,c));}).bind(this));}else g(V.$x);};l.prototype.a4=function(a,b,d){var g,m;g=J.Yb(d)?d:c;if(this.Iv(a)){m={};b=E.Promise.all(b.map((function(b){return new E.Promise((function(d,c){this.read(a,b,function(a,g){a?(g={},g[b]=a,c(g)):(m[b]=g,d());});}).bind(this));}).bind(this))).then(function(){g(null,m);},function(a){g(a);});W.uu(b);}else g(V.$x);};l.prototype.oYa=function(a,b,d){var g;g=J.Yb(d)?d:c;this.Iv(a)?"[object Object]" !== Object.prototype.toString.call(b)?g(V.DW.ep("items must be a map of keys to objects")):(d=new E.Promise((function(d){var c,g;c=this.Ki[a].wia();g=Object.keys(b);(c=c.filter(function(a){return -1 === g.indexOf(a);})) && 0 < c.length?this.WKa(a,c,function(){d();}):d();}).bind(this)).then((function(){return E.Promise.all(Object.keys(b).map((function(d){return new E.Promise((function(c,g){this.save(a,d,b[d].Wo,b[d].Gd,function(a,b){a?(L.error("Received an error saving",d,a),g(a)):c(b);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(d){var c,m,p;try{c=Number.MAX_VALUE;m=Number.MAX_VALUE;p=d.reduce(function(a,b){b.ik && b.ik < c && (c=b.ik);b.UH && b.UH < m && (m=b.UH);c < Number.MAX_VALUE && (a.freeSize=c);m < Number.MAX_VALUE && (a.dailyBytesRemaining=m);J.oa(b.xj) && (a.bytesWritten+=b.xj);J.oa(b.duration) && (a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(b),time:E.time.now(),bytesWritten:0,duration:0});this.Pa("mediacache",p);g(null,p);}catch(va){g(err);}}).bind(this),(function(b){J.isArray(b.dHa)?b.dHa.forEach((function(b){this.Pa("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.BS});}).bind(this)):this.Pa("mediacache-error",{partition:a,type:"saveMultiple",error:b});g(b);}).bind(this)),W.uu(d)):(J.Yb(d)?d:c)(V.$x);};l.prototype.save=function(a,b,d,m,p,t){var f,l,A,D,C,q,P,ba,W;f=J.Yb(p)?p:c;if(this.Iv(a)){l=this.Ki[a];A=T.Cfa(b);p=l.wia();p=p.filter(function(a){return a !== b;});if(g(m)){D=x(b,d,this.H.XDb);C=l.Nd[b] || ({});q=C.resourceIndex;q && Object.keys(q).map(function(a){J.X(D[a]) && l["delete"](a);});m.convertToBinaryData && (d=R.ylb(D),D=x(b,d,!1));q=E.time.now();P={};P.partition=a;P.resourceIndex=Object.keys(D).reduce(function(a,b){a[b]=n.uja(D[b]);return a;},{});P.creationTime=C.creationTime || q;P.lastRefresh=q;P.lifespan=m.lifespan;P.lastMetadataUpdate=q;P.size=C.size;P.convertToBinaryData=m.convertToBinaryData;ba=(function(a,d,c){a.jpb((function(g,m){g && L.error("Evicting","Failed to delete some orphaned records",g);m.Xoa?c():(g=a.kvb())?this["delete"](a.getName(),g,(function(g){g?(t || (J.isArray(d)?d.forEach((function(b){r(this,"save",a.getName,b.BS,b.error);}).bind(this)):k(this,"save",a.getName(),b,void 0,d)),f(d)):c();}).bind(this)):f(V.qF);}).bind(this));}).bind(this);W=(function(){var a,b,d;a=this.Ki;b=0;d=E.time.now();if(!J.X(a))for(var c in a){b+=a[c].vub(d);}return b;}).bind(this);this.WKa(a,p,(function(){l.replace(A,P,(function(c,g){g?(l.Nd[b]=T.Vha(P),l.NLb(D,h(D,a,b,d,m,f,t,A,this,l,ba),t,W)):c.code === V.qF.code?ba(l,c,(function(){this.save(a,b,d,m,f,t);}).bind(this)):f(c);}).bind(this),t,W);}).bind(this));}else f(V.K7a);}else f(V.$x);};l.prototype["delete"]=function(a,b,d){var g;g=J.Yb(d)?d:c;this.Iv(a)?m(this.Ki[a],b,(function(d){k(this,"delete",a,b,void 0,d);g(d);}).bind(this)):g(V.$x);};l.prototype.WKa=function(a,b,d){var g,p;g=J.Yb(d)?d:c;if(this.Iv(a)){p=this.Ki[a];d=E.Promise.all(b.map((function(a){return new E.Promise((function(b){m(p,a,(function(d){b({ia:J.X(d),error:d,Wo:a});}).bind(this));}).bind(this));}).bind(this))).then((function(b){var t,k;for(var d=[],c=[],m=[],p=0;p < b.length;p++){t=b[p];t.ia?d.push(t.Wo):t.error && c.push(t);}0 < d.length && r(this,"delete",a,d);0 < c.length && (m=c.map(function(a){return a.Wo;}),b=W.pPa(c),k=b[0],b.forEach((function(b){L.error("Failed to delete resources ",b.error,b.BS);r(this,"delete",a,b.BS,b.error);}).bind(this)));b={};b.C5b=d;0 < m.length && (b.D5b=m);k?g(k,b):g(void 0,b);}).bind(this),(function(d){r(this,"delete",a,b,d);g(d);}).bind(this));W.uu(d);}else g(V.$x);};l.prototype.clear=function(a,b){var d;d=J.Yb(b)?b:c;this.Iv(a)?this.Ki[a].clear(function(a){d(a.filter(p));}):d(V.$x);};l.prototype.xKb=function(a,b,d){var g,m;g=J.Yb(d)?d:c;if(this.Iv(a)){d=T.Cfa(b);m=this.Ki[a];m.read(d,function(a,d){var c;if(a)g(V.L7a);else {c=T.Vha(d) || ({});m.DOa(Object.keys(c.vpa),function(a){c.size=a;(a=m.Nd[b]) && (c.lastMetadataUpdate && a.lastMetadataUpdate && a.lastMetadataUpdate <= c.lastMetadataUpdate?m.Nd[b]=c:a.lastMetadataUpdate && (a.lastMetadataUpdate > c.lastMetadataUpdate || J.X(c.lastMetadataUpdate)) && (c=a));g(null,c);});}});}else g(V.$x);};l.prototype.constructor=l;f.V=l;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.yaa=void 0;f=(function(){function a(a){this.YFa=a;}Object.defineProperties(a.prototype,{XI:{get:function(){return this.ucb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.YFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aYa:{get:function(){var a;a=this;return this.YFa.then(function(){return a;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.ucb=!0;};a.prototype.yna=function(a,b){var c;c=this;this.result.then(function(k){c.XI?b && b(k):a(k);});return this;};return a;})();b.yaa=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.CB=void 0;b.CB={Ol:function(a){return a;}};},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,h,J,E,L,D;Object.defineProperty(b,"__esModule",{value:!0});b.u$a=b.o9=b.w$a=b.jCa=void 0;c=a(8);l=a(3);k=a(36).cJ;r=a(10).Yw;g=a(389);p=a(407);d=a(245);m=a(17);t=a(38);x=a(5);h=a(114);J=a(223);f=(function(){function a(a,b,d,c,g,m,p,t,k,r,f){var l;l=this;this.G=a;this.Df=b;this.H=d;this.lb=c;this.S=g;this.OK=m;this.Ab=p;this.Za=t;this.mf=k;this.SY=r;this.jC=f;this.dY=[];this.Lca=[];this.jFa=[];this.GDa=void 0;[0,1].forEach(function(a){l.lb(a) && (l.dY[a]=new D(l.G,a),l.Lca[a]=new E(a),l.jFa[a]=new L(a));});this.z1a=new h.Kaa(this.G);this.yL=h.NH(this.H,this.z1a);this.Tda=h.MH();this.XB=void 0;}Object.defineProperties(a.prototype,{Re:{get:function(){return this.dY;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hx:{get:function(){return this.Lca;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ju:{get:function(){return this.jFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sv:{get:function(){return this.GDa;},set:function(a){this.GDa=a;},enumerable:!1,configurable:!0}});a.prototype.Ex=function(a,b){this.z1a.Ex(a,b);};a.prototype.bma=function(a){var b,d,g,m,p,t;b=this.H;d=a.I;g=l.Ql()[d];m=b.qTb?0 === d?b.CO:b.ST:1 === d?b.CO:b.ST;p=this.S.$c();t=this.S.Sd();b=a.Ra.Dc;d=this.SY.tSa(b,d);g={Fp:g,T:d.ad,md:t,Vb:d.hK || t,Pk:d.bP || t,ti:d.ti,tk:d.tk,Sha:d.ca.length,ca:[]};m={state:p,Tz:this.S.Tz(),mg:a.$k,buffer:g,Fga:m,gSa:! !this.OK.cR,DP:! !this.OK.pq,xp:this.Ab && this.Ab.xp,tS:a.bxb,playbackRate:this.S.Pm()};void 0 === m.mg && (m.mg=a.yha(g.Vb));m.QO=b.QO;g.ca=d.ca;c.oa(g.T)?a.seeking && g.md != g.T && (g.md=g.T):(g.T=0,g.Vb=0);this.Df.gkb(m);this.Df.ugb(m);return m;};a.prototype.fkb=function(a,b,d){var t,r;a=this.dY[a];for(var c=a.Ko,g="manifest",m=0,p=b.length - 1;0 <= p;p--){t=b[p];r=t.R;if(k(t)){m=Math.max(m,r);break;}else this.H.k5 && !t.Tt?g="bc":t.bu?t.Lz && (g="hf"):g="av";}if(void 0 === c || m !== c)(a.Ko=m,this.Za.IFb(c,m,g,d));};a.prototype.Zwb=function(a){return this.mja(a).Qf;};a.prototype.mja=function(a){var b,d,g,k,r,f,l,h,A,E,D,L,C,T,n,q,u;b=this.H;d=a.I;g=1 == d;k=0;f=this.dY[d];l=this.Lca[d];if(!f.mh)return {Qf:void 0};h=this.bma(a);A=a.cg;E=A.Tw;D=a.Z1.O;L=a.track.cd;if(!D.Wk.sL(D.la,L))return (a.gf("location selector did not find any urls"),{Qf:void 0});C=J.F3(h.state);T=g?this.yL:this.Tda;try{n=T.Ol(L,C);}catch(N){this.G.error("StreamFilters: filterStreams: " + N);n=[L[0]];}0 === n.length && (this.G.error("StreamFilters: empty list"),n=[L[0]]);if(this.jC.Rp && (a.wz.length !== n.length || 0 < t.Yy(a.wz,n).length || 0 < t.Yy(n,a.wz).length)){try{this.XB && this.Asb();}catch(N){this.Za.Zl("Hindsight: Error when handling maxbitrate chagned: " + N);}a.wz=n;}C=E?E.Qf:f.Kha;try{if(E && (k=E.R,E && !E.track.equals(A.track))){q=p.zha(n,k) || 0;r=n[q];if(E.R !== r.R || 1 === d)h.state=m.ta.Sg;E=r;C=L.indexOf(r);}}catch(N){this.G.error("StreamFilters: track change: " + N);}if(!g && (k=b.iL,!(k && 0 < k.length) && C && L[C] && E && E.location === L[C].location))return {Qf:C};try{if((u=a.Ix.H4(h,n,void 0,this.Df.Bwb(d),f.mh.config.ru,D.wo),!u))return (a.gf("stream selector did not find a stream"),{Qf:void 0});}catch(N){this.G.error("StreamFilters: stream selector: " + N);u={bd:0};}u.bd=L.indexOf(n[u.bd]);this.OK.pq && this.OK.pq.xgb(a.I,u,L);g && this.fkb(d,n,a.Vb);h=u.bd;E=L[h];n=E.R;h != C && (g && b.lI && this.mf.wDa(a,n),g || this.Df.QK(n));c.oa(f.Kha) || (f.Kha=h);a.Zg || (u.Zg?(x.assert(void 0 !== u.TY),a.O4(u.TY),l.ar=u.TY):(a.Yz=u.Yz,a.GE=u.GE,a.ni=u.ni));this.rv();if(g)if(u.kw)D.RK(u.kw);else if(!D.R0() && !b.EZa)for(a=0;a < L.length;++a){if((b=L[a],b.Gr && !D.Fj(d,b.za))){D.RK([b.za]);break;}}u.UHa && this.Za.PFb(u.UHa);return {za:E.za,Qf:h};};a.prototype.rv=function(){var a,b,d,c,g,m;d=this.Re[0];c=this.Re[1];g=this.Hx[1];m=this.Hx[0];d=this.SY.$b.$jb(null !== (a=null === c || void 0 === c?void 0:c.Ur) && void 0 !== a?a:0,null !== (b=null === d || void 0 === d?void 0:d.Ur) && void 0 !== b?b:0,this.Sv,this.OK.rE);d.ar && (this.OK.sl && g?g.ar=d.ar:m && (m.ar=d.ar));return d.Zg;};a.prototype.wha=function(a,b){var c,g,p,t;c=this;if(this.XB){g=this.XB;p=this.S.Sd();t=[];b && (p=b.pa);d.Ue.forEach(function(b){var d,g;d=c.SY.$b.Zc(b);if(d){g=c.bma(d);g.I=b;g.md=p;a === m.ta.ff && (g.YWa=d.Ra.Ada(p));t[b]=g;}});g.AMa || g.uI(t,a) || this.rpa();return g;}};a.prototype.Asb=function(){var a,b;a=this.XB;b=this.H;a && (this.wha(void 0),a && !a.pH && this.Df.Joa.kha(a));this.fKa(b);};a.prototype.rpa=function(){this.XB=void 0;};a.prototype.NSb=function(a){var b,d,c;b=a.oldValue;a=a.newValue;d=this.XB;c=this.H;a === m.ta.Vc && b !== m.ta.Vc?(d && this.G.warn("override an existing play segment!"),this.fKa(c,b,!0)):a !== m.ta.Vc && b === m.ta.Vc && d && (this.wha(a),d && !d.pH && this.Df.Joa.kha(d),this.rpa());};a.prototype.fKa=function(a,b,c){var m,p,t;m=this;p=[];d.Ue.forEach(function(a){var b,d,g;b=m.SY.$b.Zc(a);if(b){d=m.bma(b);if(c){g=m.Re[a];g.Jqa?(d.Zj=g.Jqa,g.Jqa=void 0):d.Zj=g.Zj;}else d.Zj=l.time.da();d.cd=b.wz;d.I=a;p[a]=d;}});t=l.Ql();t={Q0b:t[0],V5:t[1],QSa:a.uJ,cx:a.cx};this.XB=new g(p,l.time.da(),b,this.jC.GP,a.Cu,t,a.Y0);};return a;})();b.jCa=f;E=(function(){function a(a){this.I=a;this.SO=this.Up=this.Jw=this.ar=this.aq=void 0;}a.prototype.USb=function(a,b,d,c){this.aq=a?a:this.aq;this.ar=this.ar;this.Jw=b?b:this.Jw;this.Up=d?d:this.Up;this.Bzb=c?c:this.Bzb;};return a;})();b.w$a=E;L=(function(){return function(a){this.I=a;this.U1=this.xla=this.U1=this.ula=this.ND=void 0;};})();b.o9=L;D=(function(){return function(a,b){this.I=b;this.G=r(l,a,"[" + b + "]");this.gf=this.G.error.bind(this.G);this.kb=this.G.warn.bind(this.G);this.Vj=this.G.trace.bind(this.G);this.Cg=this.G.log.bind(this.G);this.BG=this.G.debug.bind(this.G);this.Kha=this.Zj=this.Gm=this.mh=void 0;this.eS=this.Ur=0;this.BL=!1;this.Ko=void 0;};})();b.u$a=D;},function(f,b,a){var r;function c(){}function l(a,b,d){void 0 === d && (d=!1);r(a.length === b.length,"bitrates_kbps and durations_sec must be of the same length.");r(1E-8 < k(a),"bitrate zero, won't be able to send anything.");this.$y=a;this.zLa=b;this.repeat=d;this.Rk=this.Lm=0;}function k(a){return a.reduce(function(a,b){return a + b;},0);}r=a(5).assert;c.prototype=Error();l.prototype.constructor=l;l.prototype.Kp=function(){var a;a=new l(this.$y,this.zLa,this.repeat);a.Lm=this.Lm;a.Rk=this.Rk;return a;};l.prototype.yja=function(){return this.$y[this.Lm % this.$y.length];};l.prototype.Hz=function(){return this.zLa[this.Lm % this.$y.length];};l.prototype.lqb=function(a){r(0 < a,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.Lm && this.Lm < this.$y.length))throw new c();r(this.Rk < this.Hz(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b;;){b=this.Hz() - this.Rk;b=a < b?a:b;a-=b;this.Rk+=b;if(this.Rk < this.Hz())break;this.Rk-=this.Hz();this.Lm+=1;if(!this.repeat && this.Lm >= this.$y.length){if(0 < a)throw new c();break;}}};l.prototype.lVa=function(a){this.lqb(a);};l.prototype.mqb=function(a){r(0 < a,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.Lm && this.Lm < this.$y.length))throw new c();r(this.Rk < this.Hz(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b,d=0;;){b=this.Hz() - this.Rk;b=a < b * this.yja()?a / this.yja():b;a-=this.yja() * b;d+=b;this.Rk+=b;if(this.Rk < this.Hz())return d;this.Rk-=this.Hz();this.Lm+=1;if(!this.repeat && this.Lm >= this.$y.length){if(0 < a)throw new c();return d;}}};f.V={F$a:l,G$a:c};},function(f,b,a){var k;function c(a,b,c){this.$=a;this.nn=b;this.wE=c;}function l(a,b){this.cma=b;void 0 === b && (this.cma=!0);this.yj=a;this.uab();}k=a(5).assert;c.prototype.constructor=c;c.prototype.Dw=function(){return 8 * this.$ / 1E3 / this.nn;};l.prototype.constructor=l;l.prototype.Kp=function(a,b,c,d,m){void 0 === b && (b=0);void 0 === c && (c=a.MI());void 0 === d && (d=0);void 0 === m && (m=a.yj.length);for(var g=[],p,k=d;k < m;k++){d=[];for(var r=b;r < c;r++){p=a.yj[k][r];d.push(p);}g.push(d);}return new l(g,a.cma);};l.prototype.uab=function(){var a,b;a=this.yj[0].length;for(b in this.yj.slice(1)){k(this.yj[b].length === a,"expect this.chunkss[chunksIndex].length === n but got " + this.yj[b].length + " and " + a);}this.cma && this.vab();this.wab();};l.prototype.MI=function(){return this.yj[0].length;};l.prototype.vab=function(){for(var a=0;a < this.yj.length - 1;a++){for(var b=0;b < this.MI();b++){k(this.yj[a][b].$ <= this.yj[a + 1][b].$,"Chunk size for epoch " + b + " is not monotonic");}}};l.prototype.wab=function(){for(var a=0;a < this.yj.length - 1;a++){for(var b=0;b < this.MI();b++){k(1E-8 > Math.abs(this.yj[a][b].nn - this.yj[a + 1][b].nn),"Chunk duration for epoch " + b + " is not consistent");}}};l.prototype.Oxb=function(){var a;a=[];this.yj[0].forEach(function(b){a.push(b.nn);});return a;};f.V={h4a:c,i4a:l};},function(f,b,a){var r,g,p;function c(a,b,c){this.Tr=b;this.Zj=c;this.Fu=this.TI=this.u3=this.oVa=this.nVa=this.QJ=this.cd=this.FIb=this.Zj=this.qh=this.Vb=this.T=this.Pu=this.cp=this.ca=this.wQa=this.GC=void 0;}function l(a,b,c){this.pa=b;this.ZQa=c;this.zHa=this.K1a=this.xt=this.cp=this.ax=this.ro=void 0;}function k(a,b,g,p,k,f,l){var d;d=new c(0,b,a.Zj);a.forEach(function(a){var c,g;c=a.buffer;g=c.ca;a.I === r.Sa.AUDIO?d.GC=g.length?g[0].R:void 0:a.I === r.Sa.VIDEO && (d.wQa=g.length?g[0].R:void 0,d.ca=g,d.cp=c.Pk - c.md,d.Pu=c.ti,d.T=c.md,d.Vb=c.Vb,d.qh=a.mg,d.Zj=a.Zj,d.FIb=b - a.Zj,d.cd=a.cd,d.QJ=g.filter(function(a){return d.T <= a.wu;}).length);});this.yg=d;this.so=void 0;this.GKa=p;this.Cu=k;this.kea=f;this.Toa=this.c4=this.HUa=this.zq=this.pH=this.AMa=this.yn=this.cd=this.so=void 0;this.Ngb=l;this.joa={};}r=a(22);g=a(36).assert;p=a(17).ta;c.prototype.constructor=c;l.prototype.constructor=l;k.prototype.constructor=k;k.prototype.uI=function(a,b){var d,c,g,m,k,f,h,C,n,q,ba,R,V,W,u,Y,Ia,ia,oa,qa,Aa;d=this.yg;c=[];m=a[r.Sa.VIDEO];k=a[r.Sa.AUDIO];if(void 0 === m || void 0 === k)return !1;f=m.buffer;h=k.buffer;C=d.cd.filter(function(a){return a.s0();});if(void 0 === f || void 0 === h || void 0 === C || 0 === C.length)return !1;g=new l(0,m.md,b === p.ff);n=0;q=0;ba=0;R=0;W=d.T;a=a[r.Sa.VIDEO].md;u=d.ca;V=d.QJ;for(var ha=0;ha < V;ha++){Y=u[ha];Ia=Y.offset;ia=Y.offset + Y.$ - 1;qa=Y.pw;oa=Y.xx;Aa=oa + qa;Y && oa <= a && Aa > W && (qa=Y.pw,oa=Math.min(qa,Math.min(a,Aa) - Math.max(oa,W) + 1),R+=oa,n+=oa / qa * (ia - Ia + 1),q+=Y.R * oa,ba+=Y.qb * oa);}d.nVa=n;d.oVa=R;d.u3=0 < R?q / R:0;d.UHb=0 < R?ba / R:0;d.TI || (d.TI=0,C.some(function(a,b){if(a.R === d.wQa)return (d.TI=b,!0);}));C.forEach(function(a){var b,m;a=a.s0();b=[];d.Fu || (d.Fu=a.Om(d.T,void 0,!0));g.ro || (g.ro=a.Om(g.pa,void 0,!0),g.ax=a.length - 1);d.qh !== d.Fu + d.QJ && (d.qh=d.Fu + d.QJ);V=Math.min(g.ax,g.ro + 1);for(var p=d.Fu;p <= V;p++){m=a.get(p);b[p]=m;}c.push(b);});b === p.ff && (g.cp=f.Pk - f.md,g.xt=h.Pk - h.md,g.K1a=m.YWa,g.zHa=k.YWa);this.so=g;this.cd=C;this.yn=c;return this.AMa=!0;};k.prototype.zw=function(){var a,b,c,p,k,r,f,l,h,C,n,q,R,V,W,u;if(this.Jo)return this.Jo;b=this.zq;p=this.yg;a=this.so;k=this.cd;r=this.HUa;q=this.Ngb;g(void 0 !== b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace && 0 === b.trace.length || void 0 === b.timestamp)(a.ZQa?(h=!1,f=!0):a.ro - p.Fu + 1 <= p.QJ?f=h=!0:(h=!0,f=!1),l=!0);if(r){C=r.Pz;n=r.t_;for(var ba=0;ba < q.length;ba++){c=q[ba];(b=r[c]) && b.MR && (f=!0);}}a={bst:p.Zj,pst:p.Tr,s:p.Fu,e:a.ro,prebuf:p.QJ,brsi:p.qh,pbdlbytes:p.nVa,pbdur:p.oVa,pbtwbr:p.u3,pbvmaf:p.UHb};this.Cu && (a.fragmentsPrebuffered=p.ca);l && (a.nt=l);f && (a.nd=f);C && (a.invalid=C);n && (a.exception=n);this.Toa && (a.rr=this.Toa);this.c4 && (a.ra=this.c4);if(!f && !C && !n && (this.GKa || this.Cu)){a.bitrate=k.map(function(a){return a.R;});b=this.zq;c=b.trace;R=[];V=0;c.forEach(function(a){a=Number(a).toFixed(0);R.push(a - V);V=a;});a.tput={ts:b.timestamp,trace:R,bkms:b.Bp};}if(f || l || C || n)a.feasible=h;else for((a.sols={},a.elapsed=r.f_,ba=0);ba < q.length;ba++){c=q[ba];b=r[c];f={};if(b && b.nl){f.algelapsed=b.Mgb;f.maxHeapTotal=b.Mr;f.f=b && b.Fo || !1;f.dltwbr=b.Xpb;f.dlvmaf=b.jLa;f.dlvdur=b.Aga;f.dlvbytes=b.zga;f.dlabytes=b.xga;if(this.GKa || this.Cu){W=b.nl.filter(function(a){return a;}).map(function(a){return a.bd;});V=0;u=[];W.forEach(function(a){u.push(a - V);V=a;});f.strmsel=u;}if(this.Cu){l=[];h=this.yg.qh;for(var ha in W){C=W[ha];n=this.yn[C][h];n.Qf=C;l.push(n);h++;}f.fragsel=l;f.streamList=this.cd;f.pause_dlnd_sec=b.nl.filter(function(a){return a;}).map(function(a){return a.Qna;});f.buffer_sec=b.nl.filter(function(a){return a;}).map(function(a){return a.pea;});f.buffer_kb=b.nl.filter(function(a){return a;}).map(function(a){return a.oea;});f.buffer_frags=b.nl.filter(function(a){return a;}).map(function(a){return a.vIa;});f.elapsed_secs=b.nl.filter(function(a){return a;}).map(function(a){return a.ELa;});f.throughput=b.nl.filter(function(a){return a;}).map(function(a){return a.La;});}}a.sols[c]=f;}return this.Jo=a;};k.prototype.Msb=function(a){var c;if(void 0 !== this.joa[a])return this.joa[a];for(var b=this.yn[this.yg.TI],d=0;d < b.length;d++){c=b[d];if(c && c.T <= a && c.T + c.duration > a)return this.joa[a]=c;}throw Error("findPlayingFragment: missing");};f.V=k;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fda=void 0;b.Fda=function(a,b,f){var c,r;c=!0;f.forEach(function(g){var p;if(c && a === g.profile){p=g.ranges;c=void 0 === p?b >= g.min && b <= g.max:p.some(function(a){return b >= a.min && b <= a.max;});!c && g.disallowed && g.disallowed.some(function(a){if(a.stream.bitrate === b)return (r=a.disallowedBy,!0);});}});return {inRange:c,TZ:r};};},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,h;Object.defineProperty(b,"__esModule",{value:!0});b.I6=void 0;c=a(8);l=a(60);k=a(3);r=a(823);g=a(17);p=a(225);d=a(10);m=a(5);t=a(20);x=a(390);h=a(402);f=(function(){function a(a,b,c,g,t,r,f,l,x,h){this.Wa=a;this.Wg=b;this.G=c;this.cH=g;this.H=f;this.gX=l;this.IX=x;this.ZP=h;this.kb=this.G.warn.bind(this.G);this.Vj=this.G.trace.bind(this.G);this.Cg=this.G.log.bind(this.G);this.yh=[];this.hg={};t.dr?(m.assert(!t.gl),this.gba=!0,this.Zdb(t,t.dr,r)):(this.ym=this.sv(t.gl || "",t,0,void 0,void 0,{},!0),this.ym.OJ=!0,this.ym.pa=Infinity,this.jY=[this.ym]);this.Lc=this.WW(this.ym,void 0,r);this.Lc.active=!0;a=d.Yw(k,this.G,"BranchQueue::");this.Gi=new p.kU(a);this.Gi.enqueue(this.Lc);this.vca=this.CN=void 0;}a.Zha=function(a){return "m" + a;};Object.defineProperties(a.prototype,{Lw:{get:function(){return ! !this.gba;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vi:{get:function(){return this.Lc.ak;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rg:{get:function(){return this.ym;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fg:{get:function(){return this.Lc.ba.id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sob:{get:function(){return this.Lc.O.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$b:{get:function(){return this.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hb:{get:function(){return this.yh;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pe:{get:function(){return this.Lc.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ff:{get:function(){return this.Wa.Ff;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cj:{get:function(){return this.CN?this.CN:this.Hb[0];},enumerable:!1,configurable:!0}});a.prototype.Qb=function(){this.yh.forEach(function(a){a.ig();});this.yh=[];this.Gi.clear();};a.prototype.og=function(a){return this.hg[a];};a.prototype.NOa=function(){return this.Gi.hOa();};a.prototype.MOa=function(a,b){var d;d=this.hg[a];if(d)return (a=d.fk[b]) && a.weight;this.kb("getSegmentWeight, unknown segment:",a);};a.prototype.Wwb=function(a){var b;b=this.hg[a];if(b)return b.T;this.kb("getSegmentStartPts, unknown segment:",a);};a.prototype.Vwb=function(a){var b;b=this.hg[a];if(!b)this.kb("getSegmentDuration, unknown segment:",a);else if(c.oa(b.pa) && isFinite(b.pa) && c.oa(b.T) && isFinite(b.T))return b.pa - b.T;};a.prototype.f4=function(a){var b;b=-1;this.yh.some(function(d,c){return d === a?(b=c,!0):!1;});-1 !== b?this.yh.splice(b,1):this.kb("Unable to find branch:",a,"in branches array");};a.prototype.ljb=function(a,b){var d;d=0;this.yEa(a).forEach(function(a){(a=a.Zc(b)) && (d+=a.Uy);});return d;};a.prototype.QC=function(a,b){var d;d=0;this.yEa(a).forEach(function(a){(a=a.Zc(b)) && (d+=a.UC);});return d;};a.prototype.Gt=function(a,b,d){if(!a.lb(b))return 0;for(var c=a.bb(b),c=d?c.Vb:c.er;void 0 === c;){if(!a.wf)return 0;a=a.wf;c=a.bb(b);c=d?c.Vb:c.er;}a=this.IX.Sd();return Math.max(c - a,0);};a.prototype.q0=function(a,b){var d;if(void 0 !== this.H.TD){d=k.Ql()[b];a=this.ljb(a,b);return d - a;}};a.prototype.xha=function(a){return this.yh.filter(function(b){if(b.O.eb === a)return !0;});};a.prototype.Csb=function(a,b){return this.pEa(a,!1,b);};a.prototype.Bsb=function(a,b){return this.pEa(a,!0,b);};a.prototype.MLb=function(a,b,d){c.ee(this.yh,function(c){c.O === a && c.oZa(b,d);});c.ee(this.hg,function(d){d.O === a && (d.O=b);});};a.prototype.TXa=function(){var a;a=this;c.ee(this.yh,function(b){var d;d=a.Wa.ng(b.O.eb);b.Qra(t.U.Pc(d.fu));});};a.prototype.Ex=function(a){var b;b=this;c.ee(this.yh,function(d){d.bb(1).track.cd.forEach(function(d){var c;c=x.Fda(d.jg,d.R,a,b.G);l(c,d);});});};a.prototype.qr=function(a,b,d,c){var g;for(;b;){g=b.qr(a,d);if(g)return g;if(c)break;b=b.wf;}};a.prototype.CKa=function(a){var b,d;b=this;void 0 === a && (a=!1);d=this.yh;a && (d=d.filter(function(a){return a !== b.Lc;}));d.forEach(function(a){a.active=!1;b.Gi.remove(a);});a || this.Gi.clear();return d;};a.prototype.aKb=function(){var a;for(;0 < this.yh.length;){a=this.yh[0];if(!a.active)break;if(a === this.Lc)break;if(!a.wyb())break;a.ig();this.yh.shift();}};a.prototype.mS=function(a,b,d,c,g){if(d > c){for(d-=c;a;){a.mS(b,d,g);a=a.wf;}return d;}};a.prototype.tSa=function(a,b){for(var d={bP:null,hK:null,ad:null,tk:0,ti:0,ca:[]};a;){a.w0(d,b);a=a.wf;}return d;};a.prototype.Lkb=function(a){var b,d,c;b=this.Lc;if(b.hSa)d=b.hSa;else {c=this.Lc.pe;d=this.WW(b.ba,b);g.Ue.forEach(function(a){var c;c=d.Zc(a);c && (c.NE(0),c.S4(b.Zc(a).sg));});d.Qra(t.U.Pc(c + a));b.hSa=d;}this.jG(d,b);};a.prototype.vgb=function(b,d,c){var g,p;m.assert(!b.Lw());if(!this.gba){this.gba=!0;this.CN=this.cj;g=this.ym.id || a.Zha(0);this.ym.id=g;this.hg[g]=this.ym;this.ym.pa=this.Wa.Evb().kOa();this.ym.tA=!0;}p=void 0 !== b.gl?b.gl:a.Zha(b.eb);b=this.sv(p,b,d,c,void 0,{},!0);b.tA=!0;this.jY.forEach(function(a){a.fk={};a.fk[p]={weight:100};a.tP=p;a.ls=!1;});this.jY=[b];};a.prototype.Ht=function(a,b){var d,c,g,m;d=this.cj;c=d.TE(b,this.Wa.S);g=d.ba;m=d.children[a];if(b){if(!g.fk[a])return (this.Lc.kb("chooseNextSegment, invalid destination:",a,"for current segment:",g.id),!1);if(d.Aj)return d.Aj === a;d.Aj=a;m && d.P_ && this.jG(m,d);return !0;}if(void 0 !== d.Aj)return !1;if(!m)return (c.MTa=!0,!1);c.MTa=!m.Nea();this.Wa.Bca(void 0,h.LM.cna);d.P_=void 0;d.Aj=a;this.jG(m,d);d.Xga();this.Wa.bO();return !0;};a.prototype.Lyb=function(a,b){var d,g,m,p;d=this;p=a.ba;b && !a.Aj && (a.Aj=p.tP,a.TE(!0,this.Wa.S,!0));a.children=Object.create(null);c.ee(p.fk,function(b,c){a.Aj && c !== a.Aj || (g=d.hg[c],m=d.gbb(g,a),a.children[c]=m);});a.Aj && (b=a.children[a.Aj]) && this.jG(b,a);a.P_=!0;};a.prototype.ORb=function(){var a;a=0;c.ee(this.yh,function(b){g.Ue.forEach(function(d){b.lb(d) && (a+=b.Zc(d).Ra.xp);});});return a;};a.prototype.VQb=function(a,b){var d,c,g;d=this;c=this.Obb(a,b);if(c){c !== this.Lc.ba?(this.CKa(),g=this.WW(c,this.Lc,a),g.wf=void 0,g.pqa(void 0,void 0,!0),this.dab(this.Lc),this.jG(g,this.Lc)):(this.CKa(!0).forEach(function(a){a.ig();d.f4(a);d.Gi.remove(a);}),this.Lc.Ura(a,this.H.p5));c === this.cj.ba && (this.cj.Mu.shift(),g && (g.Mu=this.cj.Mu,g.Aj=this.cj.Aj));this.Wg.FX(c,this.Lc.pe);this.Lc.P_=void 0;}else this.kb("findSegment no segment for manifestIndex:",b);};a.prototype.rSa=function(a,b){var c;c=a.ba;b || (b=c.tP);d.Upa(c.id);a.Aj || (a.Aj=b,a.TE(!0,this.Wa.S,!0));(b=a.children[a.Aj]) && this.jG(b,a);};a.prototype.XYa=function(a,b){if(this.Lc !== a){if(b)for(b=this.Lc;b && b !== a;){b.active=!1;this.Gi.remove(b);b=b.wf;}this.Lc=a;}};a.prototype.qs=function(a,b){var c,m,p,t,k;c=this;if(this.Lw){m=this.H;p=this.cj;t=p.ba;k=d.Upa(t.id);!p.Aj && !t.ls && p.Tb - b <= m.hA && (this.kb(k + "updatePts making fork decision at playerPts:",a,"contentPts:",b),this.rSa(p));}g.Ue.forEach(function(a){c.Lc.lb(a) && c.Ff[a].qs();});};a.prototype.NFb=function(a,b){var d,c;if(this.Lw){d=this.CN;if(!(this.H.ezb && a && this.vca && a.T === this.vca || (a=a.Ra.Dc,d && a.ba.id === d.ba.id))){c=null === d || void 0 === d?void 0:d.Zc(1);c=null === c || void 0 === c?void 0:c.sg;this.vca=null === c || void 0 === c?void 0:c.T;this.CN=a;this.Cab(d);d=d && d.Xkb(a);this.Wg.Cdb(a.ba,b,d);}}};a.prototype.ena=function(a,b,d){b.OJ || (b.T=this.AOa(a,b.T,!0),d || (b.pa=this.AOa(a,b.pa,!1)),b.OJ=!0,!1);};a.prototype.LT=function(a,b){var g;d.Upa(a);g=this.hg[a];g?c.ee(g.fk,function(a,d){a.weight=b[d] || 0;}):this.kb("updateChoiceMapEntry, unknown segment:",a);};a.prototype.AOa=function(a,b,d){a=d?a.DMa(b):a.PP(b);if(!a.length)return b;b=a[1];return d?b.T:b.pa;};a.prototype.TEa=function(a,b,d){var c;c=b?d.Tb:d.Vd;return (b?d.E4:d.foa) <= a && a < c;};a.prototype.pEa=function(a,b,d){var t;for(var g=this.Wa,m=this.Lc;m;){if((!c.oa(d) || g.Kka(d,m.O.eb)) && this.TEa(a,b,m))return m;m=m.wf;}if(b)for(var m=Object.keys(this.Lc.children),p=0;p < m.length;p++){t=this.Lc.children[m[p]];if((!c.oa(d) || g.Kka(d,t.O.eb)) && this.TEa(a,b,t))return t;}};a.prototype.gbb=function(a,b){var d,c;d=this.WW(a,b);c=d.pqa(b,void 0,this.H.Voa);g.Ue.forEach(function(a){var g,m,p;if(d.lb(a)){g=d.Zc(a);m=b.Zc(a);p=c[a];1 === a && d.Qra(t.U.Pc(m.Vb + b.pe - p));g.NE(p);}});this.Wg.FX(a,d.pe);return d;};a.prototype.dab=function(a){for(var b=[a.ba.id];a.wf;){a=a.wf;b.unshift(a.ba.id);}this.Waa(a);};a.prototype.Waa=function(a){var b,d;b=this;d=a.ba;c.ee(a.children,function(a){a && b.Waa(a);});this.Gi.remove(a);a.ig();this.f4(a);this.Wg.zdb(d);};a.prototype.jG=function(a,b){var d,g,m,p;d=this;g=b.ba;b.O !== a.O && this.Wa.dFa(a.O.eb);a.active=!0;this.Gi.enqueue(a);a.vH();m=k.time.da();p={};c.ee(b.children,function(b){var c,g;if(b){if(b.yd){c=b.Zc(0);g=b.Zc(1);b.yd.PO=[c?c.mo.ka:0,g?g.mo.ka:0];b.yd.qqb=m - b.yd.l1;b.yd.l1=void 0;p[b.ba.id]=b.yd;}b.ba.id !== a.ba.id && d.Waa(b);}});b.children=Object.create(null);b.children[a.ba.id]=a;b.tG=void 0;this.XYa(a);this.Wg.Adb(a.ba,p);1 < Object.keys(g.fk).length && a.Nea();};a.prototype.Cab=function(a){var b,d;if(a){b=k.time.da();d=a.Mu[0];d && void 0 === d.ZH?d.ZH=b - d.requestTime:d || (this.kb("missing metrics for branch:",a.ba.id),d={b5:a.ba.id,GA:!0,ZH:0,yd:{}},a.Mu.unshift(d));void 0 === d.startTime && (d.startTime=b);}};a.prototype.Obb=function(a,b){var d,g,t,k;m.assert(0 <= a);for(var p in this.hg){t=this.hg[p];if(this.Wa.Kka(t.O.eb,b)){if(t.T <= a && (Infinity === t.pa || void 0 === t.pa || a < t.pa))return t;k=Math.min(Math.abs(a - t.T),Math.abs(a - t.pa));if(c.X(d) || k < d)(d=k,g=t);}}return g;};a.prototype.sv=function(a,b,d,c,g,m,p,t,k){b=new r.OBa(a,b,d,c,g,m,p,t,void 0,k);return this.hg[a]=b;};a.prototype.Zdb=function(a,b,d){var g,m,p;g=this;this.ym=void 0;this.jY=[];m=null;p=null;c.ee(b.segments,function(b,t){var k,r,f,l,x;k=b.startTimeMs;r=b.endTimeMs;f={};c.ee(b.next,function(a,d){f[d]={weight:a.weight || 0,ZRb:a.transitionHint || b.transitionHint,w2b:"number" === typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:b.earliestSkipRequestOffset};});l=b.defaultNext;c.X(l) && (l=Object.keys(f)[0]);x=c.X(l);l=g.sv(t,a,k,r,l,f,x,b.transitionDelayZones,b.transitionHint);k <= d && (d < r || c.X(r))?g.ym=l:k > d && (!m || k < p) && (m=t,p=k);x && g.jY.push(l);});this.ym || (this.ym=m?this.hg[m]:this.hg[b.initialSegment]);};a.prototype.WW=function(a,b,d){var c,g,m,p;c=a.O;g=this.Wa.ng(c.eb);m=g.fu;p=[];[0,1].forEach(function(a){c.lb(a) && p.push(g.Ao(a));});a=new h.sxa(this.Wa,this.H,this.Wg,this.G,this,this.gX,this.IX,this.cH,a,p,m,b,d?t.U.Pc(d):void 0,this.ZP,this.Wa.Ff,this.Wa.kt);this.eab(a);this.yh.push(a);return a;};a.prototype.eab=function(a){var d;function b(a){d.Wa.emit(a.type,a);}d=this;a.addListener("locationSelected",b);a.addListener("logdata",b);a.addListener("serverSwitch",b);a.addListener("streamSelected",b);a.addListener("lastSegmentPts",b);a.addListener("managerdebugevent",b);a.addListener("requestCreated",function(a){a=a.request;d.Wa.Fca(a.I,a.T);});};a.prototype.yEa=function(a){for(var b=[a];a.wf;){a=a.wf;b.push(a);}return b;};return a;})();b.I6=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.O$=void 0;c=a(0);l=a(15);k=a(10);r=a(25);g=a(115);p=k.U.Pc(1E3);f=(function(){function a(a,b,d,c,g,r,f){var m,t,x;m=this;this.I=a;this.console=b;this.gd=d;this.events=g;this.Ym=[];this.JHb=p.add(k.U.Pc(null !== (x=null === (t=r.bT) || void 0 === t?void 0:t.ka) && void 0 !== x?x:0));this.listeners=new l.Pg();this.listeners.on(f.Fa,"clockReset",function(){return m.Fna();});this.listeners.on(c,"requestAppended",function(a){return m.vJ(a.request);});this.eO=!0;this.CP=f.uZ(function(){return m.Kqb();});this.T3=f.uZ(function(){return m.bKb();});}a.prototype.Fna=function(){this.eO=!0;this.CP.rq();};a.prototype.Kqb=function(){var a,b;return c.__generator(this,function(d){switch(d.label){case 0:(this.iS=this.qFb(this.eO),a=this.RTa(),b=this.eO?this.gd.Kf:null === a || void 0 === a?void 0:a.timestamp,d.label=1);case 1:return a?[4,g.Mq.ZT(a.timestamp)]:[3,3];case 2:return (d.yk(),this.eO=!1,this.KLa(a,b),this.iS++,a=this.RTa(),b=null === a || void 0 === a?void 0:a.timestamp,[3,1]);case 3:return [2];}});};a.prototype.RTa=function(){if(void 0 !== this.iS)return this.Ym[this.iS];};a.prototype.qFb=function(a){void 0 === a && (a=!1);for(var b=0;b < this.Ym.length;b++){if(this.Ym[b].timestamp.Wp(this.gd.Kf))return a && 0 < b?b - 1:b;}return Math.max(this.Ym.length - 1,0);};a.prototype.bKb=function(){var a,b;return c.__generator(this,function(d){switch(d.label){case 0:if(!(1 < this.Ym.length))return [3,2];a=c.__read(this.Ym,2);b=a[1];return [4,g.Mq.ZT(this.JHb.add(b.timestamp))];case 1:return (d.yk(),this.Ym.shift(),this.iS && this.iS--,[3,0]);case 2:return [2];}});};a.prototype.reset=function(){this.Ym=[];r.sa && this.trace("reset");this.eO=!0;this.Q1=void 0;this.T3.rq();this.CP.rq();};a.prototype.close=function(){this.CP.Qb();this.T3.Qb();this.listeners.clear();};a.prototype.bi=function(a){var b;r.sa && this.trace("canSkip() " + a);if(0 === this.Ym.length)return (r.sa && this.trace("canSkip false, no media sequence"),!1);b=this.Ym[0];return b.timestamp.greaterThan(a)?(r.sa && this.trace("canSkip false, before earliest item at " + b.timestamp),!1):void 0 === this.Q1 || this.Q1.lessThan(a)?(r.sa && this.trace("canSkip false, later than last appended at " + this.Q1),!1):!0;};a.prototype.trace=function(a){r.sa && this.console.trace("PresentationTracker [" + this.I + "]: " + a);};a.prototype.LGa=function(a,b,d){d && (this.Q1=d);d=this.Ym.length?this.Ym[this.Ym.length - 1]:void 0;if(void 0 === d || d.yra !== a)(this.Ym.push({yra:a,timestamp:b}),this.CP.state === g.Nq.complete && this.CP.rq(),this.T3.state === g.Nq.complete && this.T3.rq());};return a;})();b.O$=f;},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.t6=void 0;c=a(0);f=a(15);l=a(25);k=a(3);r=a(10);g=a(827);p=a(166);d=a(826);a=(function(a){function b(){var b;b=null !== a && a.apply(this,arguments) || this;b.VFa=0;b.Aca=0;b.mN=0;b.sba=0;return b;}c.__extends(b,a);b.prototype.mpa=function(b){var d,c;a.prototype.mpa.call(this,b);this.VFa++;this.Aca++;this.mGa=k.time.da();this.FG || (this.FG={Tb:b.Tb,kc:b.kc,index:b.index},this.mX || (this.mX=this.FG));d=this.yX;c=!1;d && 100 > Math.abs(d.Tb - b.kc) && (this.mN+=b.Tb - d.Tb,this.sba++,c=!0);c || (this.mN=b.pw,this.sba=1);this.yX=b;};b.prototype.stop=function(){a.prototype.stop.call(this);this.mN=this.Aca=0;this.FG=void 0;};b.prototype.iOa=function(){var a,b,d,c;a=this.aH;b=a.AZ;if(b){c=b.bb(this.gg);c && c.Ra && (d=c.Ra.$ia());return {RM:d,currentBranch:{sId:b.ba && b.ba.id,cancelled:b.ak},currentReceivedCount:a && a.rob,totalReceivedCount:this.VFa,currentState:a && a.uob || "Uninitialized",lastRequestPushed:this.yX && ({contentEndPts:this.yX.Tb,fragmentIndex:this.yX.index}),tslp:this.mGa && k.time.da() - this.mGa,cpts:this.mN,crq:this.sba,rslp:this.Aca,firstRequestSSPushed:this.FG && ({contentStartPts:this.FG.kc,fragmentIndex:this.FG.index}),firstRequestPushed:this.mX && ({contentStartPts:this.mX.kc,fragmentIndex:this.mX.index})};}};return b;})((function(a){function b(b,c,m,p,t,f,l,h,n){var x;x=a.call(this) || this;x.Ef=b;x.gg=c;x.H=p;x.G=t;x.Ey=new r.hv(!1);x.G=r.Yw(k,x.G,"AsePlayerBuffer:");x.aH=new g.Cta(x.G,m,c);x.resume();f && l && h && (x.woa=new d.XAa(c,t,f,x.Ef,f.events,l,h,n));x.Ef.on("requestAppended",function(){x.Ey.set(!0);x.emit("requestAppended");});return x;}c.__extends(b,a);Object.defineProperties(b.prototype,{vJ:{get:function(){return this.Ey;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{NA:{get:function(){return this.Ef.NA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{I:{get:function(){return this.gg;},enumerable:!1,configurable:!0}});b.prototype.iOa=function(){};b.prototype.resume=function(){l.sa && this.G.trace("resume");this.Nqa();};b.prototype.IQa=function(a){return this.Ef.Fia() > a;};b.prototype.reset=function(a){var b;void 0 === a && (a=!1);l.sa && this.G.trace("reset");this.stop();this.Ef.reset(a);this.Ey.set(!1);a || (this.JW=void 0);a || (null === (b=this.woa) || void 0 === b?void 0:b.reset());};b.prototype.rq=function(a){void 0 === a && (a=!1);this.reset(a);this.Nqa(!0);};b.prototype.stop=function(){this.aH.YZa();};b.prototype.close=function(){var a;null === (a=this.woa) || void 0 === a?void 0:a.close();};b.prototype.Qb=function(){this.stop();this.close();};b.prototype.zna=function(){this.H.M_ && this.Ef.SMa();this.H.AL && this.Ef.resume();};b.prototype.Zsb=function(a){this.Ef.hUa(a,!0);};b.prototype.bi=function(a){var b;return !(null === (b=this.woa) || void 0 === b || !b.bi(a));};b.prototype.Nqa=function(a){if(!this.aH.Rm || a)(this.aH.tMb(),p.eB.gBb(this.aH,this.M1.bind(this)));};b.prototype.M1=function(a){a.done || this.mpa(a.value);};b.prototype.mpa=function(a){this.Ef.endOfStream?l.sa && this.G.error("Buffer manager has declared EOS, ignoring request",a.toString()):(this.JW?(this.JW.CBb=a.Tb,this.JW.EBb=a.Vd):this.JW={N2b:a.kc,O2b:a.ad,CBb:a.Tb,EBb:a.Vd},this.Ef.Hhb(a));};return b;})(f.EventEmitter));b.t6=a;},function(f,b,a){var c,l,k,r,g,p,d,m,t,x;Object.defineProperty(b,"__esModule",{value:!0});b.qV=void 0;c=a(0);f=a(400);l=a(167);k=a(22);r=a(238);g=a(17);p=a(3);d=a(163);m=a(5);t=a(20);x=a(829);a=(function(a){function b(b,c,g,m,k,r,f,l,h,A,J,n,q){g=a.call(this,m,l,g,m,m,k,t.U.Pc(r),f,J,!1,n,q) || this;g.Wa=b;g.Wg=c;g.mf=h;g.Ff=A;g.qea=0;g.wz=[];g.qv=!1;g.Xn.h1a=!1;g.Seb=l;g.rN=new x.txa(m,g.Ff,l,g.G,g.I,g.Wg,g.Ra,g.Wa);g.HBb=p.time.da();g.zBb=void 0;g.UD=l.Bka;g.nWa=p.time.da();c=d["default"](l);b=c.ux;c=c.gS;g.cJb=0 === g.I?b:c;g.WS(k);return g;}c.__extends(b,a);Object.defineProperties(b.prototype,{Uy:{get:function(){return this.Ra.Uy;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JH:{get:function(){return this.Ra.JH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{UC:{get:function(){return this.Ra.UC;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{AA:{get:function(){return this.Ra.AA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Og:{get:function(){return this.rN.Og;},set:function(a){this.rN.Og=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Dn:{get:function(){return this.rN.Dn;},set:function(a){this.rN.Dn=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Z1:{get:function(){return this.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hzb:{get:function(){return this.OEa.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{LK:{get:function(){return this.hGa.LK;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bxb:{get:function(){return this.Wa.yca;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zg:{get:function(){return this.qv;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{OC:{get:function(){return this.MDa;},enumerable:!1,configurable:!0}});b.prototype.reset=function(){this.seeking=void 0;this.connected=this.Og=!1;this.Xn.reset();};b.prototype.ig=function(){this.reset();a.prototype.ig.call(this);};b.prototype.pD=function(a,b){return r.pD(this.Yg.I,this.H,a,b,this.Kg,this.Wa.bEb,this.cO);};b.prototype.Nm=function(a,b,d,c){return r.Nm(this.Yg.I,this.H,a,b,d,c);};b.prototype.ml=function(a){this.Ra.ml(a);this.UD=this.H.Bka;};b.prototype.vH=function(){this.Ra.IT();};b.prototype.WS=function(a){var b,d;b=this.Wa;d=this.I;m.assert(a.I === d);m.assert(a.O === this.Dc.O);this.Yg=a;this.Dc.O.Yra(d,a.cd);0 === d && (this.cO=l.wda(this.Seb,a.cd[0]));b.kcb(this,a.$w);this.ojb(a.cd);this.cg.WS(a);this.Dc.O.Wea();this.Og=!1;};b.prototype.yha=function(a){var b;b=this.Dc.O.qg[this.I];if(b && b.stream.ge && (a=b.stream.ca.Om(a),-1 !== a))return a;};b.prototype.NE=function(a,b){var d,c,g;if(this.Yf && this.Yf.T === a)(b=this.Yf.index,d=a);else {c=this.Dc.O;g=c.qg[this.I];if(!g || !g.stream.ge){this.mE=a;this.YHb=b;return;}d=g.stream.ca;this.Yf=this.Nm(g.stream,a,void 0,b);if(void 0 === this.Yf){if((b=d.length - 1,d=d.gj(b),this.kb("setStreamingPts out of range of fragments, pts:",a,"last startPts:",d,"fragment index:",b,"fastplay:",c.Ke.Mf),c.Ke.Mf)){this.mE=a;return;}}else (b=this.Yf.index,d=this.Yf.T);}this.$k=b;this.fY=d;this.mE=void 0;};b.prototype.TTb=function(a){var b,d;b=this.Yg.zr(a);d="verifying streamId: " + a + " stream's track: " + (b?b.za:"unknown") + " currentTrack: " + this.Yg.jb;return b?!0:(this.Wg.al(d),this.Wg.al("unknown streamId: " + a),!1);};b.prototype.ojb=function(a){this.Hyb=a.reduce(function(a,b){return b.Gr && b.R > a.R?b:a;},a[0]);};b.prototype.S4=function(a){this.sg=a;};b.prototype.$Cb=function(a,b,d,c){this.A0a(a,b,c);d && ++this.qea;this.Wa.Mi();};b.prototype.kx=function(b){b.pa && b.T && (this.UD-=b.pa - b.T);a.prototype.kx.call(this,b);};b.prototype.Hj=function(a){this.sPa(a);this.vr(a);};b.prototype.JSb=function(a){var b;b=p.time.da();this.UD+=a * (b - this.nWa);this.nWa=b;};b.prototype.kMb=function(){this.UD=this.H.Bka;};b.prototype.FH=function(a){this.Ra.bJa();this.Kg || this.rN.FH(a,this.Tb);};b.prototype.sPa=function(a){var b,d,c;d=this.Z1;c=this.Wa;this.mf.jGa() || (this.Wg.Gdb(a.I,a.O.eb,a.stream.track.xC,this.er,this.Ba),null === (b=this.Kg) || void 0 === b?void 0:b.qzb(a),b=d.S.Sd() || 0,c.fb.rv() || (d=d.bb(k.Sa.VIDEO)) && !d.Zg && d.T0 && c.fb.mja(d),this.FH(b),this.Wa.rPa(a),this.mf.UW(this) && this.mf.Mi());};b.prototype.Ina=function(a){this.Wa.N0(a);};b.prototype.aJa=function(a,b,d,c,g,m){var p,t;p=this.H;t=p.Zi;if(d >= p.Zi && (p.m4 && (t=d + 1E3),p.n4 && !this.connected))return !1;if(this.Kg)return this.Kg.dw();d=this.Og && 0 === this.Ra.Nna && 0 === this.Ra.Ou;return !d && c < t?!1:d?m && 0 === c?(this.kb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.ikb(a,b,g);};b.prototype.qOb=function(a){this.fY=a;};b.prototype.O4=function(a){this.qv=!0;this.MDa=a;};b.prototype.Uea=function(){this.qv=!1;this.MDa=void 0;};b.prototype.ikb=function(a,b,d){if(this.Zg || 0 === this.I)return !0;if(void 0 === this.Tw)return !1;b=this.Sbb(b,a);this.track.O.Wk.sL(this.track.O.la,this.track.cd);this.Ix.qoa([this.Tw],!1,b,this.cJb);a=this.Ix.dw(b,a,d,this.Tw,this.Dc.O.wo);a.complete?this.O4(a.reason):(this.Uea(),this.Yz=a.Yz,this.ni=a.ni);return this.Zg;};b.prototype.Sbb=function(a,b){var d,c,m,t,k;t=p.Ql()[this.I];k=this.Ra.w0();a={Fp:t,T:null !== (d=k.ad) && void 0 !== d?d:0,md:a,Vb:null !== (c=k.hK || a) && void 0 !== c?c:0,Pk:null !== (m=k.bP || a) && void 0 !== m?m:0,ti:k.ti,tk:k.tk,Sha:k.ca.length,ca:k.ca};"number" !== typeof a.T?(a.T=0,a.Vb=0):b === g.Tc.Yd && a.md !== a.T && (a.md=a.T);return a;};return b;})(f.i$);b.qV=a;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.gr=void 0;c=a(25);l=a(116);b.gr=function(a,b,g,p,d,m){var t;c.sa && p.trace("AsePlaygraph.createRequestQueue()");t=l.Bn.pf.gr(a,b.u,!0,!1,{QLa:g.QLa},g);t.Zf.on(t,"networkfailing",function(){var a;c.sa && p.trace("requestQueue OnNetworkFailing: ",t);t.x_ && (null === (a=b.wo) || void 0 === a?void 0:a.oq(t.tha,void 0,t.kg,t.ki));b.Bq();});t.Zf.on(t,"error",function(){m(t.kg,t.ki);});t.on("transportreport",d);t.Jb();return t;};},function(f,b,a){var k,r,g,p,d,m;function c(a,b,d,c){p(!k.X(c),"Must have at least one selected stream");return new m(c);}function l(a,b,d,c){p(!k.X(c),"Must have at least one selected stream");return new m(c);}k=a(8);b=a(36);r=b.console;g=b.debug;p=b.assert;d=b.cJ;m=b.Jn;f.V={STARTING:function(a,b,c){var t,k,f,l;function p(d,c){var m,p,t,k;m=d.id;p=d.R;t=d.La || 0;k=! !t;g && r.log("Checking feasibility of [" + c + "] " + m + " (" + p + " Kbps)");if(!d.Gr)return (g && !d.bu && r.log("  Not available"),g && d.Lz && r.log("  Failed"),!1);if(p > a.jR)return (g && r.log("  Above maxInitAudioBitrate (" + a.jR + " Kbps)"),!1);if(!(p * a.G2 / 8 < b.buffer.Fp))return (g && r.log("  audio buffer too small to handle this stream"),!1);if(k){g && r.log("  Have throughput history = " + k + " : available throughput = " + t + " Kbps");if(p * b.playbackRate < t / f)return (g && r.log(" +FEASIBLE: bitrate less than available throughput"),!0);g && r.log(" bitrate requires more than available throughput");return !1;}d=a.wR;b.A1 && (d=Math.max(d,a.vR));if(p <= d)return (g && r.log("  Bitrate is less than max of minInitAudioBitrate (" + a.wR + " Kbps) " + (b.A1?" and also minHCInitAudioBitrate (" + a.vR + " Kbps)":"")),g && r.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);g && r.log("  No throughput history");return !1;}t=new m();f=a.W0b || 1;for(l=c.length - 1;0 <= l;--l){k=c[l];if(p(k,l)){t.bd=l;break;}d(k) && (t.bd=l);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},function(f,b,a){var c,l,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.Eu=void 0;c=a(38);l=a(8);k=a(64);r=a(22);f=a(36);g=a(846);p=a(17);d=f.assert;m=f.Jn;b.Eu=t;(function(){function a(a,b,d){var l00;l00=2;for(;l00 !== 4;){switch(l00){case 2:a=new m();a.rn=d[0];return a;break;}}}var k00;k00=2;for(;k00 !== 5;){switch(k00){case 2:var F51="1";F51+="SIYb";F51+="Zr";F51+="NJ";F51+="Cp9";b.Eu=t=function(b,t,f,x,h,C){var m00,ka,La,E,D,L,n,q,ha,u,Ia,ia,oa,qa,Aa,I,Ba,va,Da,N,B,$a;m00=2;function A(a,b,d){var n00;n00=2;for(;n00 !== 1;){switch(n00){case 2:return a.ca?a.ca.Afa(b,d):0;break;case 4:return a.ca?a.ca.Afa(b,d):6;break;n00=1;break;}}}function J(a,c,m,p,k,f,r){var o00,V,N,ea,Y,l,x,h,A,J,D,T,P,R,W,ba;o00=2;for(;o00 !== 43;){switch(o00){case 7:return !0;break;case 26:c=!1;o00=25;break;case 8:o00=l >= Math.max(a.n2 * r,a.R * r * h) && a.Tt?7:13;break;case 25:c && c.result && (E.W3b=c.dR);Aa={A_:c && c.result,La:l,R:a.R};return c && c.result;break;case 44:(p=Math.max(0,Math.min(p,a.ca.length - A)),k=Math.max(0,Math.min(k,c.ca.length - A - p)),0 < p && N.push(a.ca.UK.subarray(A,A + p)),0 < k && N.push(c.ca.UK.subarray(A + p,A + p + k)));o00=28;break;case 30:o00=0 < ba?29:28;break;case 22:Y || (c=a);N=[];o00=35;break;case 29:(ea=Math.min(ba,c.ca.length - A),N.push(c.ca.UK.subarray(A,A + ea)),ba-=ea,A+=ea,A >= c.ca.length && (A=0));o00=30;break;case 14:return !0;break;case 4:f || x || (a.Tqa=!0);o00=3;break;case 6:o00=l >= a.R * r * h?14:13;break;case 18:var K51="Sec";K51+="on";K51+="d strea";K51+="m un";K51+="defined";d(c,K51);(V=a.La,N=x - f,ea=a.ca && a.ca.length,Y=c.ca && c.ca.length);d(m.length === J);o00=15;break;case 1:o00=Aa && !Aa.A_ && Aa.La >= l && Aa.R <= a.R?5:4;break;case 15:b.Zla && (P=Math.min(P,N));o00=27;break;case 5:return !1;break;case 27:o00=!V || V < a.R * W * b.Tja || !ea?26:22;break;case 9:o00=x && !b.k5?8:6;break;case 35:o00=ba?34:44;break;case 31:ba=k;o00=30;break;case 2:(l=a.La || 0,x=a.ca && a.ca.length,h=f?b.uha:x?b.z_:b.hsb);o00=1;break;case 32:(ea=Math.min(ba,a.ca.length - A),N.push(a.ca.UK.subarray(A,A + ea)),ba-=ea,A+=ea,A >= a.ca.length && (A=0));o00=33;break;case 34:ba=p;o00=33;break;case 13:f=!b.sfa || a === m || a.Gc === m.Gc && C?0:(m=a.cb) && m.Rh && m.Rh.Ga?m.Rh.Ga + b.pfa * (m.Rh.Uh?Math.sqrt(m.Rh.Uh):0):0;m=va;a000.u51(0);f=a000.y51(n,f,L);o00=10;break;case 3:o00=!f || !x?9:13;break;case 28:c=0 < p || 0 < k?g(m.concat(N),J + p + k,f,x,r,D,h,J,J + p,R,T,V / W,P,b.xR,b.k5):V > a.n2?{result:!0,dR:0,Tt:!0}:{result:!1,dR:0,Tt:!0};o00=25;break;case 10:var S51="First st";S51+="ream u";S51+="ndefined";r=oa;(x=ha - L,h=q - L,A=u,J=va.length,D=ia,T=Da,P=qa,R=t.Fga,W=t.playbackRate,ba=! !t.gSa);d(a,S51);o00=18;break;case 33:o00=0 < ba?32:31;break;}}}for(;m00 !== 15;){switch(m00){case 8:return a.call(this,0,0,f);break;case 12:(ka=A(h,u,b.Wja),La=A(h,u + ka,b.Wla));m00=11;break;case 9:m00=(this.cg.BRa || r.$U.Sg) === r.$U.P$a || !h.La?8:7;break;case 10:E.rn=h || D;return E;break;case 19:m00=h.ca && h.ca.length?18:10;break;case 11:h=c.Eh(f.slice(x + 1,b.Hqa && Ia >= b.msa?f.length:x + 2),function(a,b){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:return J(a,f[x + b],D,ka,La,!1,t.playbackRate);break;}}});m00=10;break;case 4:var k51="n";k51+="u";k51+="mb";k51+="e";k51+="r";d(k51 === typeof t.Fga);(E=new m(),D=h=f[x],L=t.buffer.T,n=t.buffer.md,q=t.buffer.Vb,ha=t.buffer.Pk,u=t.mg,Ia=ha - n,ia=t.state === p.ta.Vc || t.state === p.ta.qj?t.buffer.tk:0,oa=b.q2,qa=b.Ww?b.Ww:1E3,I=A(h,u,b.Uja),Ba=A(h,u + I,b.Ula));m00=9;break;case 2:var h51="n";h51+="u";h51+="mber";var j51="pl";j51+="ayer missing fragm";j51+="ent";j51+="Index";var P51="Must have at least one select";P51+="ed s";P51+="tream";d(!l.X(x),P51);d(l.oa(t.mg),j51);d(h51 === typeof t.buffer.Fp);m00=4;break;case 7:h.ca && h.ca.length || (h.Tqa=!0);(va=k.rh.kKa(t.buffer.ca),Da=t.buffer.Fp - va.$,N=f[0]);m00=14;break;case 14:m00=J(h,f[Math.max(x - 1,0)],h,I,Ba,!1,t.playbackRate)?13:19;break;case 18:(B=A(h,u,b.Vja),$a=A(h,u + B,b.Vla));m00=17;break;case 13:m00=x + 1 < f.length && Ia > b.Vw && (void 0 === this.S1 || this.wla && this.wla > this.S1 || q - this.S1 > b.c2 && Ia > b.Yla)?12:10;break;case 17:m00=(h=c.Eh(f.slice(0,x).reverse(),function(a,b){var q00;q00=2;for(;q00 !== 1;){switch(q00){case 2:return J(a,f[Math.max(x - b - 2,0)],D,B,$a,!0,t.playbackRate);break;}}})) && h.Qf < N.Qf || !h?16:10;break;case 16:h=N;m00=10;break;}}};F51;k00=5;break;}}})();},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(850),b);},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.oW=void 0;f=(function(){function a(a){this.parent=a;this.bd=null;}Object.defineProperties(a.prototype,{BRa:{get:function(){var a,b;return null !== (a=this.Dyb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.BRa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{SQ:{get:function(){var a,b;return null !== (a=this.AFb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.SQ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tw:{get:function(){var a,b;return null !== (a=this.rn) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.Tw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{TQ:{get:function(){var a;return null === this.bd?null === (a=this.parent) || void 0 === a?void 0:a.TQ:this.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{GRa:{get:function(){var a,b;return null !== (a=this.gQb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.GRa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tla:{get:function(){var a,b;return null !== (a=this.hQb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.tla;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.vNb;},enumerable:!1,configurable:!0}});a.prototype.Qb=function(){this.parent=void 0;};a.prototype.aZa=function(a){this.Dyb=a;};a.prototype.rOb=function(a){this.AFb=a;};a.prototype.hZa=function(a){this.rn=a;};a.prototype.qqa=function(a){this.bd=a;};a.prototype.AOb=function(a){this.gQb=a;};a.prototype.jZa=function(a){this.hQb=a;};a.prototype.WS=function(a){this.vNb=a;};return a;})();b.oW=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,h,J,E,L,D,C;Object.defineProperty(b,"__esModule",{value:!0});b.i$=void 0;c=a(0);l=a(15);k=a(864);r=a(88);g=a(238);p=a(863);d=a(403);m=a(399);t=a(398);x=a(10);h=a(5);J=a(20);E=a(3);f=a(117);L=a(35);D=a(395);C=a(116);a=(function(a){function b(b,c,g,f,r,h,A,J,L,C,n,q,T,P){var R;R=a.call(this,b) || this;R.H=c;R.Lc=r;R.Yg=h;R.OEa=A;R.Qbb=L;R.Vbb=q;R.gC=T;R.Ws=P;R.events=new l.EventEmitter();R.connected=!1;R.Hja=!1;R.Oq=!1;R.G=x.Yw(E,g,"[" + R.I + "]");R.gf=R.G.error.bind(R.G);R.kb=R.G.warn.bind(R.G);R.Vj=R.G.trace.bind(R.G);R.w0b=A;R.fY=A.ka;R.pTa=1 === R.I?c.J2:c.C2;R.oma=1 === R.I?c.JDb:c.uDb;R.EJ=(1 === R.I?c.HJ:c.CJ) || c.EJ;R.kR=(1 === R.I?c.IDb:c.tDb) || c.kR;R.vda=c.vda;R.cg=new m.oW(n?n.cg:void 0);R.cg.WS(h);R.hGa=new t.pW(J,c,R.cg);R.Bm=new k.gAa(R,f,R.H,R.G,R.I);R.Xn=new p.tBa(R,c,R.G,R.Bm,R.Lc,R.I,R.gC);R.cO=!1;c.Kg && (R.Kg=new d.kaa(c.Kg,R.G));C && (R.mh=D.gr(R.I,R.track.O,R.H,R.G,R.Bm.qtb.bind(R),function(){}),R.mh.on("created",function(){return R.events.emit("requestQueueCreated");}));return R;}c.__extends(b,a);Object.defineProperties(b.prototype,{I:{get:function(){return this.Yg.I;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{track:{get:function(){return this.Yg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Dc:{get:function(){return this.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ba:{get:function(){return this.Lc.ba.id;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ra:{get:function(){return this.Xn;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cd:{get:function(){return this.Yg.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mo:{get:function(){return this.Xn.mo;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{em:{get:function(){return this.Xn.em;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vb:{get:function(){return this.fY;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Jt:{get:function(){var a,b;return null !== (b=null !== (a=this.Ra.Jt) && void 0 !== a?a:this.gn) && void 0 !== b?b:this.yq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{er:{get:function(){return this.Ra.er;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ifa:{get:function(){return this.Ra.ifa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rla:{get:function(){return ! !this.sg && this.$k > this.sg.index;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zC:{get:function(){return this.rla && 0 === this.Xn.ox;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Uy:{get:function(){return this.Ra.Uy;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tob:{get:function(){return this.Ra.ca.c_;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ix:{get:function(){return this.hGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tw:{get:function(){return this.cg.Tw;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{P:{get:function(){var a,b;return null !== (b=null === (a=this.Yf) || void 0 === a?void 0:a.P) && void 0 !== b?b:1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xa:{get:function(){var a;return null === (a=this.Yf) || void 0 === a?void 0:a.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nb:{get:function(){var a;return null === (a=this.sg) || void 0 === a?void 0:a.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xk:{get:function(){return this.Dc.$q.we(this.P).tb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T0:{get:function(){return this.Ra.T0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Gu:{get:function(){return this.Ra.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qqa:{get:function(){return this.Ra.Qqa;},enumerable:!1,configurable:!0}});b.prototype.nO=function(){this.Xn.nO();};b.prototype.ig=function(){this.Oq=!0;this.Xn.ig();this.cg.Qb();this.mh && (C.Bn.pf.dI(this.mh),this.mh.removeAllListeners(),this.mh=void 0);};b.prototype.toJSON=function(){return {started:this.Gu,startOfSequence:this.Qqa,segmentId:this.Ba,requestedBufferLevel:this.em,viewableId:this.Lc.O.la,hasFragments:this.T0};};b.prototype.Bq=function(){return this.Ra.Bq();};b.prototype.oqa=function(a,b){this.fY=a;this.$k=b;};b.prototype.nQ=function(){return this.Ra.nQ();};b.prototype.Xga=function(){this.Ra.close();};b.prototype.ufa=function(a){return (a=this.Ra.qr(a.ka))?a.complete:!1;};Object.defineProperties(b.prototype,{Qh:{get:function(){return this.Lc.Qh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yq:{get:function(){return void 0 === this.Yg.jm || void 0 === this.$k?this.OEa.add(J.U.Pc(this.Lc.pe)):this.Yg.jm.get(this.$k).$g.add(J.U.Pc(this.Lc.pe));},enumerable:!1,configurable:!0}});b.prototype.nSb=function(a,b){var d;h.assert(! !b !== ! !this.mh);b=null !== b && void 0 !== b?b:this.mh;h.assert(b);h.assert(!this.Oq,"pipeline.tryIssueRequest on disabled pipeline");d=a.s0();return d?this.A0a(a,d,b):a.hF(b);};b.prototype.uQa=function(a,b){a && (this.Yf=a);b && (this.sg=b);h.assert(this.Yf);h.assert(this.sg);h.assert(void 0 === this.$k);this.oqa(this.Yf.kc,this.Yf.index);};b.prototype.vqa=function(){return g.z0(this.Yg.I,this.H);};b.prototype.gRa=function(){return this.KQa()?!1:this.Sz()?!0:this.track.eFb;};b.prototype.Sz=function(){return void 0 !== this.Yf && void 0 !== this.sg;};b.prototype.KQa=function(){return ! !(this.Oq || this.sg && this.$k > this.sg.index);};Object.defineProperties(b.prototype,{yJb:{get:function(){var a;a=!0;this.H.n4 && (a=this.connected);this.H.m4 && (a=a && this.Hja);return a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{oHb:{get:function(){return void 0 !== this.Kg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pHb:{get:function(){var a;return (null === (a=this.Kg) || void 0 === a?0:a.dw())?{complete:!0,reason:"stall"}:{complete:!1};},enumerable:!1,configurable:!0}});b.prototype.Hj=function(a){this.Bm.LFb(a);"oncomplete" === this.H.jQa && (this.Hja=!0);this.vr(a);};b.prototype.kx=function(a){a.bc || this.Bm.mUa(a.stream,a.T,a.kc);this.Bm.HFb(this.Ba,a.stream,a.bc);this.qD(a);};b.prototype.VJ=function(a){a.sda || (this.connected=!0);"onfirstbyte" === this.H.jQa && (this.Hja=!0);this.xz(a);};b.prototype.tvb=function(a){var b,d;b=this.Ra.ca;if(0 === b.length)return {ca:[],Pna:0,tk:0};d=b.vI(a.ka);0 > d && (d=void 0 === b.T || a.ka <= b.T?0:b.length);return {ca:b.sNb(d),Pna:Math.max(0,b.Zkb - d),tk:b.tk};};b.prototype.A0a=function(a,b,d){var c,g,m,p,t,k,f;p=this.Lc;t=p.O;k=this.I;f=this.$k;if(f >= b.length)return (this.kb("makeRequest nextFragmentIndex:",f,"past fragments length:",b.length),!1);if(!this.Yf || !this.sg)return (this.kb("makeRequest delayed, first or last fragment not set","first:",! !this.Yf,"last:",! !this.sg),!1);b=this.Qbb.$Na(a,f,this,t.Lw());if(!b)return (this.kb("makeRequest unable to get valid fragment"),!1);if(this.Ws && !this.Ws.ekb(this.I,b.$))return !1;null === (c=this.Kg) || void 0 === c?void 0:c.szb(b,a);b.Hr && 1 === k && this.Bm.oca(p.ba,b.pa);b.eZa(p.$q);c=null === (g=this.Vbb) || void 0 === g?void 0:g.call(this);this.H.TD && void 0 !== c && (b.TD=this.H.TD);void 0 !== a && (b.location=a.location,b.Rb=a.Gc,b.hqa=a.uq);if(g=p.O.W4)(c=0 === k && this.H.Pqb || 1 === k && this.H.Qqb,f=this.H.frb && 1 === this.I && this.H.Po,b.X4=g.Lp({PO:p.Ti(this.I),X2:this.H.arb?this.H.X2:void 0,$_a:String(E.time.da()),sZ:c?p.O.Lr[k]:void 0,iea:f?{start:b.offset,size:b.$}:void 0}));E.time.da();d=this.Ra.cob(b,d,a);if(!d.ou()){this.kb("MediaRequest.open error: " + d.kg + " native: " + d.ki);if(7 === d.readyState)return !1;this.kb("makeRequest caught:",d.kg);t.xg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return !1;}null === (m=this.Kg) || void 0 === m?void 0:m.xrb(d,b,a);this.Bm.MFb(d);this.oqa(d.Tb,b.HR);this.KQa() && this.Ra.WNb();return !0;};return b;})(r.xs);b.i$=a;L.Se(f.$A,a);L.Se(f.dB,a);},function(f,b,a){var l,k,r,g,p,d,m,t,x,h,J,E,L,D;function c(a,b){return (1 === a.I?0:1) - (1 === b.I?0:1);}Object.defineProperty(b,"__esModule",{value:!0});b.H6=b.B9a=void 0;l=a(0);k=a(15);r=a(400);g=a(88);p=a(166);d=a(835);m=a(17);t=a(834);x=a(10);h=a(5);J=a(20);E=a(3);f=a(117);L=a(35);D=a(832);b.B9a={K6b:c};a=(function(a){function b(b,c,g,m,p,t,f,r,l,A,L,C,n,q,T,u){var R,P;P=a.call(this,g) || this;P.H=b;P.O=g;P.iIb=m;P.aGa=p;P.JDa=r;P.Ubb=l;P.parent=A;P.vm=L;P.iba=C;P.gC=n;P.Ws=q;P.q0=T;P.Qh=1;P.Bh=new D.eAa([]);P.tca=!1;P.Oq=!1;P.VEa=0;P.NDa=P.sGb.bind(P);h.assert(g.la === P.ba.la || isNaN(g.la) && isNaN(P.ba.la));P.O.jXa(P);P.G=x.Yw(E,c,p.id && p.id.length?"{" + p.id + "}":"");P.gf=P.G.error.bind(P.G);P.kb=P.G.warn.bind(P.G);P.Vj=P.G.trace.bind(P.G);P.DQ=null !== f && void 0 !== f?f:J.U.Pc(P.ba.T);P.oX=[];t.forEach(function(a){var b;a=a.I;b=P.O.NQa(a)?new d.ywa(P.H.NR):new d.aza();P.oX[a]=b;});u || P.eKa(t,P.DQ);P.Ura(P.DQ.ka,P.H.p5);P.events=new k.EventEmitter();null === (R=P.iba) || void 0 === R?void 0:R.addListener(P.NDa);return P;}l.__extends(b,a);Object.defineProperties(b.prototype,{ak:{get:function(){return this.Oq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Sr:{get:function(){return this.tca;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ba:{get:function(){return this.aGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rla:{get:function(){return this.Bh.every(function(a){return a.rla;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zC:{get:function(){return this.Bh.every(function(a){return a.zC;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Uy:{get:function(){return this.jQ().reduce(function(a,b){return a + b.Uy;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Sz:{get:function(){return this.jQ().every(function(a){return a.Sz();});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Th:{get:function(){return this.jQ().map(function(a){return a.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{P:{get:function(){return this.TN.P;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xa:{get:function(){return this.TN.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nb:{get:function(){return this.TN.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xk:{get:function(){return this.$q.we(this.P).tb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Cka:{get:function(){return this.DQ.add(this.$q);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{goa:{get:function(){return this.ba.Mj.add(this.$q);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{RVa:{get:function(){return this.ba.nr.add(this.$q);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rQa:{get:function(){return this.Cka.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pe:{get:function(){return this.$q.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$q:{get:function(){return this.JDa;},enumerable:!1,configurable:!0}});b.prototype.Jb=function(){this.lQa();};b.prototype.Qra=function(a){this.$q.equal(a) || (this.JDa=a);};b.prototype.nQ=function(a){return (a=this.bb(a))?a.nQ():p.eB.ivb();};b.prototype.Xga=function(){this.jQ().forEach(function(a){return a.Xga();});};b.prototype.nO=function(){this.Bh.forEach(function(a){return a.nO();});};b.prototype.ig=function(){var a,b;this.Oq || (this.Oq=!0,this.O.L0a(this),this.parent=void 0,null === (a=this.YG) || void 0 === a?void 0:a.pc(),this.YG=void 0,this.Bh.forEach(function(a){a.ig();}),null === (b=this.iba) || void 0 === b?void 0:b.removeListener(this.NDa),this.events.removeAllListeners());};b.prototype.DQa=function(){return !0;};b.prototype.bb=function(a){return this.Bh.bb(a);};b.prototype.jQ=function(){var a;void 0 === a && (a=c);return this.Bh.ef.slice().sort(a);};b.prototype.Yvb=function(a){function b(b){return b?b.gRa() && !a(b.I):!1;}void 0 === a && (a=function(){return !1;});return this.H.Eqa?this.Bh.ef.filter(b).sort(function(a,b){return a.yq.zj(b.yq);}).slice(0,1):this.Bh.ef.filter(b);};b.prototype.Mia=function(a){a=this.bb(a);if(null === a || void 0 === a?0:a.gRa())return a;};b.prototype.Ti=function(a,b){a=this.bb(a);if(!a)return 0;if(b)return a.em;b=a.er;if(void 0 === b)return 0;a=this.Ubb();return b - a;};b.prototype.iia=function(){var a,b,d,c,g,m,p;p=null === (a=this.bb(0)) || void 0 === a?void 0:a.mo;a=null === (b=this.bb(1)) || void 0 === b?void 0:b.mo;return {cp:null !== (d=null === a || void 0 === a?void 0:a.ka) && void 0 !== d?d:0,xt:null !== (c=null === p || void 0 === p?void 0:p.ka) && void 0 !== c?c:0,Pu:null !== (g=null === a || void 0 === a?void 0:a.$) && void 0 !== g?g:0,uY:null !== (m=null === p || void 0 === p?void 0:p.$) && void 0 !== m?m:0};};b.prototype.ROa=function(a){var b;return (a=this.bb(a))?null !== (b=a.er) && void 0 !== b?b:0:0;};b.prototype.XS=function(a,b){var d;this.eKa(a,null !== (d=null !== b && void 0 !== b?b:this.$g) && void 0 !== d?d:this.DQ);this.lQa();this.nO();};b.prototype.Ura=function(a,b){this.xzb=a + b;this.Dzb=E.time.da();};b.prototype.Bq=function(a){a=this.bb(a);h.assert(a);return a.Bq();};b.prototype.sGb=function(a){m.WI(a.newValue) && this.cC();};b.prototype.ufa=function(a){return this.Bh.every(function(b){return b.ufa(a);});};b.prototype.Mub=function(a){var b,d;return null !== (d=null === (b=this.Bh.bb(a)) || void 0 === b?void 0:b.tob) && void 0 !== d?d:J.U.rb;};b.prototype.Hj=function(a){this.Oq || (a.sda || h.assert(!a.bc),this.cC(),this.zC && this.Tdb());this.vr(a);};b.prototype.WJ=function(a){this.H.ULa && this.cC(!0);this.rD(a);};b.prototype.VJ=function(a){this.H.ULa && this.cC(!0);this.xz(a);};b.prototype.Odb=function(a,b){var d;null === (d=this.YG) || void 0 === d?void 0:d.pc();this.YG=void 0;a && this.events.emit("branchNormalized",{type:"branchNormalized",segmentContentStart:this.ba.Mj,branchContentStart:this.$g,branchContentEnd:this.no,didNormalizeSegment:b});};b.prototype.$Ob=function(a){var b;return m.WI((null === (b=this.iba) || void 0 === b?void 0:b.value) || m.Tc.In) && (!a || this.VEa + this.H.Mma < E.time.da());};b.prototype.cC=function(a){void 0 === a && (a=!1);this.$Ob(a) && (this.VEa=E.time.da(),a={type:"checkBufferingProgress"},this.events.emit(a.type,a));};b.prototype.Tdb=function(){var a;a={type:"branchStreamingComplete"};this.events.emit(a.type,a);};b.prototype.Tnb=function(a,b){var d,c;c=a.I;return new r.i$(this,this.H,this.G,this.iIb,this,a,b,[this.H.Uda,this.H.i5][c],this.oX[c],this.H.w3,null === (d=this.parent) || void 0 === d?void 0:d.bb(c),this.q0,this.gC,this.Ws);};b.prototype.eKa=function(a,b){var c,g,m,p,k,f,h,A,E,D;function d(){return 0 === --f && m.events.emit("requestQueuesCreated");}m=this;void 0 === b && (b=this.DQ);f=0;try{for(var r=l.__values(a),x=r.next();!x.done;x=r.next()){h=x.value;A=h.I;E=this.bb(A);if((null === E || void 0 === E?void 0:E.track) !== h){null === E || void 0 === E?void 0:E.ig();D=this.Tnb(h,b);this.Bh.WYa(A,D);++f;if(this.H.w3)D.events.once("requestQueueCreated",d);}}}catch(va){c={error:va};}finally{try{x && !x.done && (g=r["return"]) && g.call(r);}finally{if(c)throw c.error;}}this.Bh=this.Bh.filter(function(b){var d;d=a.some(function(a){return a.I === b.I;});return null !== d && void 0 !== d?d:b.ig();});null === (p=this.YG) || void 0 === p?void 0:p.pc();this.YG=new t.fAa({config:this.H,O:this.O,ba:this.ba,ef:this.Bh,$g:b,no:null !== (k=this.ba.nr) && void 0 !== k?k:void 0 !== this.ba.pa?J.U.Pc(this.ba.pa):void 0,splice:void 0 !== this.parent});this.TN=this.Bh.P3;};b.prototype.lQa=function(){var a;null === (a=this.YG) || void 0 === a?void 0:a.Jb(this.Odb.bind(this));};b.prototype.toJSON=function(){var a,b;return {segment:this.ba.id,branchOffset:this.pe,viewableId:this.O.la,contentStartPts:null === (a=this.$g) || void 0 === a?void 0:a.ka,contentEndPts:null === (b=this.no) || void 0 === b?void 0:b.ka};};return b;})(g.xs);b.H6=a;L.Se(f.dB,a);L.Se(f.$A,a);},function(f,b,a){var c,l,k,r,g,p,d,m,t,x,h;Object.defineProperty(b,"__esModule",{value:!0});b.sxa=b.LM=void 0;c=a(0);f=a(15);l=a(401);k=a(17);r=a(223);g=a(20);p=a(35);d=a(8);m=a(60);t=a(3);x=a(394);(function(a){a[a.YMa=0]="forwards";a[a.$da=1]="backwards";a[a.cna=2]="none";})(h=b.LM || (b.LM={}));a=(function(a){function b(b,d,c,m,p,t,k,f,r,l,h,A,J,E,n,q){var D,L;D=a.call(this,d,m,r.O,b,r,l,J,g.U.Pc(h),k.Sd.bind(k),A,q,void 0,void 0,void 0,void 0,!0) || this;D.Wa=b;D.Wg=c;D.Kb=p;D.gX=t;D.S=k;D.cH=f;D.wf=A;D.ZP=E;D.Ff=n;D.vm=q;D.active=!1;D.JEa=[];D.uca=0;D.children=Object.create(null);D.Mu=[];D.yd=void 0;void 0 === J && (J=g.U.Pc(r.T));L=[D.H.Uda,D.H.i5];l.forEach(function(a){var c,g;c=a.I;g=p.q0.bind(p,D,c);a=new x.qV(b,D.Wg,D.G,D,a,J.ka,L[c],d,D.gX,D.Ff,D.oX[c],null === A || void 0 === A?void 0:A.bb(c),g);D.Bh.WYa(c,a);});D.TN=D.Bh.P3;return D;}c.__extends(b,a);Object.defineProperties(b.prototype,{u:{get:function(){return this.O.u;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{em:{get:function(){var a,b,d,c;return [null !== (b=null === (a=this.bb(0)) || void 0 === a?void 0:a.em) && void 0 !== b?b:0,null !== (c=null === (d=this.bb(1)) || void 0 === d?void 0:d.em) && void 0 !== c?c:0];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mo:{get:function(){var a,b,d,c;return [null !== (b=null === (a=this.bb(0)) || void 0 === a?void 0:a.mo) && void 0 !== b?b:{ka:0,$:0},null !== (c=null === (d=this.bb(1)) || void 0 === d?void 0:d.mo) && void 0 !== c?c:{ka:0,$:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{E4:{get:function(){return this.ba.T;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{foa:{get:function(){return this.E4 + this.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tb:{get:function(){return this.ba.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vd:{get:function(){return this.Tb + this.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{lb:{get:function(){return this.O.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{weight:{get:function(){return this.ba.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ba:{get:function(){return this.aGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ef:{get:function(){return this.Bh;},enumerable:!1,configurable:!0}});b.prototype.ig=function(){this.ak || (this.active=!1,this.wf && (delete this.wf.children[this.ba.id],this.wf=void 0),d.ee(this.children,function(a){a && a.wf && (a.wf=void 0);}),this.children=Object.create(null),this.tG=void 0,a.prototype.ig.call(this),this.Bh.clear());};b.prototype.tpa=function(a,b){void 0 === b && (b=h.$da);this.ef.forEach(function(b){(d.X(a) || b.I === a) && b.reset();});switch(b){case h.$da:this.wf && this.wf.tpa(a,b);break;case h.YMa:this.children && d.ee(this.children,function(d){d && d.tpa(a,b);});}};b.prototype.DQa=function(a){var b,d,c;if(!this.active)return !1;b=this.wf;if(b){d=b.bb(a);c=d.Ra.qVa;if(0 !== c && (b.vH(a),c=d.Ra.qVa,0 !== c))return !1;}return !0;};b.prototype.Zc=function(a){return this.ef.bb(a);};b.prototype.wyb=function(){return this.ef.every(function(a){return 0 === a.AA;});};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.ad,playerEndPts:this.Vd,pipelines:this.ef,previousBranch:this.wf});};b.prototype.oZa=function(a,b){this.O.L0a(this);this.O=this.ba.O=a;this.fZa(this.O);this.O.jXa(this);this.ef.forEach(function(a){var d;d=b[a.I];d && a.WS(d);});};b.prototype.ywb=function(a){return this.vm[a];};b.prototype.bb=function(a){return this.ef.bb(a);};b.prototype.Nwb=function(a){return this.bb(a).AA;};b.prototype.pqa=function(a,b,d){var c,g,m,p;c=this;g=this.ba;a=this.$Y(g.T,this.O,a,this.u === (a?a.u:this.Kb.$b.u));m=a.mK;p=a.uw;void 0 === b && (b=[0,1]);0 === p.length || b.forEach(function(a){var b,m;b=c.bb(a);d && (b.Yf=p[a]);m=c.PP(g.pa);b.S4(m[a]);});return m;};b.prototype.gXa=function(a,b){var c,g,m,p;c=this.Wa;g=this.bb(0);void 0 === b && (b=g.Hzb);this.wf && (m=this.wf.Zc(0));p=this.Kb.q0.bind(this.Kb,this,0);c=new x.qV(c,this.Wg,this.G,this,a,b,g.LK,this.H,this.gX,this.Ff,this.oX[0],m,p);this.Bh.replace(g,c);this.TN=this.Bh.P3;this.pqa(this.wf,[0],!0);c.NE(b,! !this.wf);g.ig();d.ee(this.children,function(b){b && b.gXa(a);});};b.prototype.qr=function(a,b){if(b=this.bb(b))return b.Ra.qr(a);};b.prototype.vH=function(a){void 0 === a?this.ef.forEach(function(a){a.vH();}):this.bb(a).vH();};b.prototype.mS=function(a,b,d){(a=this.bb(a)) && a.Ra.mS(b,d);};b.prototype.w0=function(a,b){(b=this.bb(b)) && b.Ra.w0(a);};b.prototype.lDb=function(a){this.JEa[a]=!0;};b.prototype.bkb=function(){var a;a=this;return [0,1].every(function(b){return !a.lb(b) || a.JEa[b];});};b.prototype.$jb=function(a,b,d,c){var g,m,p,f,l,h,x,A,J;g=this.H;m=this.Wa;p=this.S.$c();f=p === k.ta.Yd || p === k.ta.ff;if(!f && void 0 === d)return {Zg:!0};if(p === k.ta.ff && t.time.da() < this.uca + g.rTa)return {Zg:!1};l=this.bb(0);h=this.bb(1);x=this.Kb.Gt(this,0);A=this.Kb.Gt(this,1);J=r.F3(p);x=!l || l.aJa(J,this.S.Sd(),b,x,this.S.Pm(),c);A=!h || h.aJa(J,this.S.Sd(),a,A,this.S.Pm(),c);void 0 !== d && x && (d=d.jb,a=this.O.getTrackById(d),this.yab(d,a.DT),m.Sv=void 0);if(x && A)return (this.cH(),this.QO=t.time.da(),p === k.ta.ff && (this.uca=t.time.da()),{Zg:!0,ar:h?h.OC:l.OC});x=this.Ti(0);A=this.Ti(1);if(f){m=!h || A > g.Zi;if((!l || x > g.Zi) && m && (l=this.ZP(),l >= g.tx))return (this.kb("buffering longer than limit: " + l + " >= " + g.tx + ", audio buffer: " + x + " ms, video buffer: " + A + " ms"),this.cH(),this.QO=t.time.da(),p === k.ta.ff && (this.uca=t.time.da()),{Zg:!0,ar:"prebufferTimeLimit"});this.Wg.hdb();}return {Zg:!1};};b.prototype.Nea=function(a,b){var d,c,g,m,p,t;d=this.H;c=this.bb(0);g=this.bb(1);b?(b=this.Ti(0,a),a=this.Ti(1,a)):(b=this.Kb.Gt(this,0,a),a=this.Kb.Gt(this,1,a));m=d.Zi;p=!this.lb(0) || c.Og && 0 === c.Ra.ox && 0 === c.Ra.Ou;c=!this.lb(1) || g.Og && 0 === g.Ra.ox && 0 === g.Ra.Ou;t=p && c;d=!p && b < d.Zi;if(!t && (d || !c && a < m))return !1;if(g && g.Zg || !this.lb(1))return !0;if(t)if(this.Wa.JX && 0 === b && 0 === a)this.kb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};b.prototype.O4=function(a,b){var d,c;d=this;c=this.H;this.ef.forEach(function(a){a.seeking=void 0;});a && c.ah && this.ef.forEach(function(a){var c;if(a){c=d.Kb.QC(d,a.I);a="bufferingComplete: , mediaType: " + a.I + ", bufferLevelBytes: " + a.mo.$ + ", completedMs: " + a.JH + ", completedBytes: " + c + ", partials: " + a.Ra.ox + ", streamingPts: " + a.Vb + ", completeStreamingPts: " + a.er + ", fragments: " + JSON.stringify(a.Ra.ca) + ", toAppend: " + b(a.I);d.Wg.al(a);}});};b.prototype.TE=function(a,b,c){var g,m,p;g=this;m=t.time.da();p={};d.ee(this.children,function(a){var b,d,c;if(a){a.yd?(a.yd.qqb=m - a.yd.l1,a.yd.l1=void 0,b=a.yd.weight):b=g.Kb.MOa(g.ba.id,a.ba.id);d=a.iia();c=g.bb(1) && 0 === d.cp;p[a.ba.id]={weight:b,Cp:d,Kz:!(g.bb(0) && 0 === d.xt) && !c};}});c={requestTime:m,GA:a,epb:c,b5:this.ba.id,yd:p};a || (a=b.Sd(),c.ZK=a - (this.ba.T + this.pe),c.ZK=Math.max(0,c.ZK),c.ZH=0,c.startTime=m);this.Mu.unshift(c);return c;};b.prototype.Xkb=function(a){var b;b=this.Mu[0];b.GA && (b.ZK=this.Tb - this.ba.T,b.ZK=Math.max(0,b.ZK));b.q0a={};m(a.iia(),b.q0a);b.Kz=a.mo.every(function(a){return 0 < a.ka;});this.Mu=[];return b;};b.prototype.ml=function(a){var b;b=this.ba;a-=this.pe;if(b.T < a && a < b.pa)this.Mu.shift();else if(b=this.Mu[0])b.ml=!0;};b.prototype.$Y=function(a,b,d,c){var g,m,p,t;g=this;void 0 === b && (b=this.O);m=!1;if(d){m=!0;p=d.bb(1).sg;d=d.bb(0).sg;if(!p || !d)return {mK:[],uw:[]};p=p.pa;c || (p=void 0);}t=this.DMa(a,p,m,b);b.eb === this.Kb.sob && [1,0].forEach(function(a){var b;b=g.bb(a);b && (b.Yf=t[a]);});return {mK:t.map(function(a){return a.T;}),uw:t};};b.prototype.DMa=function(a,b,d,c){var g;g=this;void 0 === c && (c=this.O);return this.vGa(c)?[1,0].map(function(m){if(!g.lb(m))return {};m=g.bb(m).Nm(c.qg[m].stream,a,b,d);a=m.T;return m;}).reverse():[];};b.prototype.PP=function(a,b){var d;d=this;void 0 === b && (b=this.O);return this.vGa(b)?[1,0].map(function(c){var m;if(!d.lb(c))return {};m=b.qg[c].stream;c=d.bb(c).pD(m,a);a=d.H.Kg?new g.U(c.nb,m.xa.P).ka:c.pa;return c;}).reverse():[];};b.prototype.HSb=function(a,b){var d;d=this.ba.pa;d && d < b && (a=this.PP(d));b=this.Zc(1);d=this.Zc(0);b && b.S4(a[1]);d && d.S4(a[0]);};b.prototype.vGa=function(a){var b;b=a.qg;if(!b)return !1;a=b[1];a=!this.lb(1) || a && a.stream.ge;b=b[0];b=!this.lb(0) || b && b.stream.ge;return a && b?!0:!1;};b.prototype.yab=function(a,b){this.Wg.fdb(a,b);};return b;})(l.H6);b.sxa=a;p.Se(f.EventEmitter,a);},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kaa=void 0;c=a(167);a(20);f=(function(){function a(a,b){this.Kg=a;this.console=b;this.bC=Infinity;this.lN=this.RX=0;}a.SLb=function(){this.Sca=!0;};a.F1b=function(){this.Sca=!1;};a.prototype.Fsb=function(a,b,g,p,d){var m;if(this.Kg){m=a.ca;if(m){if(1 === g)(g=m.Om(this.Kg * a.xa.ka,void 0,!0),m=a.Ui(g),m.Lj({start:0,end:this.Kg - g * m.c_.Pp(a.xa)}),this.bC=this.Kg);else {void 0 !== p.MZa?(b=p.MZa,g=b * a.xa.ka):(g=c.Oia(p,d) + p.Ohb * a.xa.ka,g=b + g,b=Math.ceil(g / a.xa.ka));g=m.Om(g,void 0,!0);for(d=p=0;d < g;++d){m=a.Ui(d);p+=m.c_.Pp(a.xa);}p=b - p;m=a.Ui(g);m.Lj({end:p});this.bC=b;}m.ima();return m;}}};a.prototype.qzb=function(a){this.lN+=a.PXa;this.console.warn("StallAtFrameCount, adding frames: " + a.PXa,"total frames: " + this.lN,"needed frames: " + this.bC);};a.prototype.syb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.RX,"needed: " + this.bC);return this.RX >= this.bC;};a.prototype.ryb=function(){return this.lN >= this.bC;};a.prototype.szb=function(a,b){this.RX+=this.tD(a,b);};a.prototype.xrb=function(a,b,c){a.PXa=this.tD(b,c);};a.prototype.tD=function(a,b){return a.c_.Pp(b.xa);};a.prototype.dw=function(){if(!this.ryb())return !1;if(a.Sca)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.lN + " >= " + this.bC);return !0;};a.Sca=!1;return a;})();b.kaa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.qxa=b.mBa=void 0;c=a(3).Promise;l=(function(){function a(){var a;a=this;this.MX=[];this.DLb=function(b){b=a.MX.indexOf(b);0 <= b && a.MX.splice(b,1);};}Object.defineProperties(a.prototype,{BC:{get:function(){return 0 !== this.MX.length;},enumerable:!1,configurable:!0}});a.prototype.add=function(){var a;a=new k(this.DLb);this.MX.push(a);return a;};a.prototype.U1a=function(a){var b;b=this.add();try{return c.resolve(a()).then(function(a){b.release();return a;},function(a){b.release();return c.reject(a);});}catch(d){return (b.release(),c.reject(d));}};return a;})();b.mBa=l;k=(function(){function a(a){this.veb=a;}a.prototype.release=function(){this.veb(this);};return a;})();f=(function(){function a(a){this.oGb=a;this.iz=new l();}a.prototype.Kv=function(){var a,b;a=this;b=this.iz.add();return {release:function(){b.release();a.iz.BC || a.oGb();}};};return a;})();b.qxa=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.xfa=void 0;b.xfa=function(a,b){var c;if(!Array.isArray(a.UJa))return a;c=a.Kp?a.Kp():Object.create(a);a.UJa.forEach(function(a){if(void 0 !== a.JEb && b.duration >= a.JEb && a.config)for(var k in a.config){c[k]=a.config[k];}});return c;};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.aW=void 0;c=a(20);l=a(25);f=(function(){function a(a){this.Hd=a;}a.LIa=function(a,b,p,d){var g;g=c.U.rb;b.Hd && (p=null === p || void 0 === p?void 0:p.i2b,a.rTb && void 0 !== p && 0 <= p?(a=new c.U(p,48E3),g=b.Hd.add(a),l.sa && d.trace("Adjusting profile timestamp offset of " + b.Hd + (" by DPI assumed delay of " + a) + (" for ASE applied offset of " + g + "."))):a.Wy && (g=b.Hd));return g;};a.prototype.append=function(a){return {Fd:a.Fd,offset:a.offset.add(this.Hd)};};return a;})();b.aW=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.zha=void 0;b.zha=function(a,b){for(var c,k,f=a.length - 1;0 <= f;--f){if((k=a[f],k.Gr)){if(k.R <= b)return f;c=f;}}return c;};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.p6=void 0;c=a(0);a(3);a(5);f=(function(a){function b(b,c,p,d,m){b=a.call(this,b,c,p,d,m) || this;b.vEa=!1;b.uEa=!1;b.sN=!1;b.va=[];b.jt=!1;b.wFa=!1;b.QEa=!1;b.ed=!1;b.Eg=!1;b.ae=!1;b.iG=!1;b.NG=void 0;b.$s=void 0;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{Qka:{get:function(){return this.jt && !this.sN;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dXa:{get:function(){return this.Eg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.ae || (this.ae=this.va.every(function(a){return a.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vt:{get:function(){return this.iG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ti:{get:function(){return this.va.reduce(function(a,b){return a + b.ti;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ne:{get:function(){return this.va.reduce(function(a,b){return a + b.Ne;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kd:{get:function(){return this.NG || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{url:{get:function(){return this.va[0] && this.va[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.Dg || this.va.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return this.$s && this.$s.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kg:{get:function(){return this.$s && this.$s.kg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sI:{get:function(){return this.$s && this.$s.sI;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ki:{get:function(){return this.$s && this.$s.ki;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ho:{get:function(){return ! !this.va.length && this.va[0].Ho;},enumerable:!1,configurable:!0}});b.prototype.push=function(a){this.QEa && a.Jb(this.Ra);this.va.push(a);this.jt && a.ou();};b.prototype.Jb=function(b){a.prototype.Jb.call(this,b);this.va.forEach(function(a){return a.Jb(b);});this.QEa=!0;};b.prototype.ou=function(){this.wFa=!0;(this.jt=this.va.every(function(a){return a.ou();})) && this.TP(this);this.wFa=!1;return this.jt;};b.prototype.pc=function(){7 !== this.readyState && 5 !== this.readyState && (this.G.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.va.forEach(function(a){return a.pc();});};b.prototype.sT=function(a){this.Dg=this.$s=void 0;return this.va.every(function(b){return 5 !== b.readyState && 7 !== b.readyState?b.sT(a):!0;});};b.prototype.abort=function(){var a,b;a=this.active;this.Dg=7;this.iG=!0;this.Eg=this.ed=!1;b=this.va.map(function(a){return a.abort();}).every(function(a){return a;});this.Q_(this,a,this.Qka);return b;};b.prototype.getResponseHeader=function(a){var b;b=null;this.va.some(function(c){return ! !(b=c.getResponseHeader(a));});return b;};b.prototype.getAllResponseHeaders=function(){var a;a=null;this.va.some(function(b){return ! !(a=b.getAllResponseHeaders());});return a;};b.prototype.m3=function(){};b.prototype.kx=function(a){this.ed || (this.ed=!0);this.vEa || (this.vEa=!0,this.bm=0,this.NG=this.cm=a.kd,this.qD(this));};b.prototype.VJ=function(a){this.Eg || (this.Eg=!0);this.uEa || (this.uEa=!0,this.NG=a.kd,this.xz(this));};b.prototype.WJ=function(a){this.NG=a.kd;this.rD(this);this.bm=this.Ne;this.cm=a.kd;};b.prototype.Hj=function(a){this.NG=a.kd;this.complete?(this.ae=!0,this.Dg=5,this.Eg=this.ed=!1,this.sN=!0,this.vr(this)):this.rD(this);this.bm=this.Ne;this.cm=a.kd;};b.prototype.UR=function(a){this.NG=a.kd;this.$s=a;this.Dg=6;this.R_(this);};b.prototype.TR=function(){};b.prototype.jk=function(){return this.va[0].jk() + "-" + this.va[this.va.length - 1].jk();};b.prototype.toString=function(){return "Compound[" + this.va.map(function(a){return a.toString();}).join(",") + "]";};b.prototype.toJSON=function(){return {requests:this.va};};return b;})(a(169).bB);b.p6=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.iU=void 0;c=a(0);l=a(5);f=(function(a){function b(b,c,d){b=a.call(this,b,c) || this;b.XK=!1;b.St=!1;b.MJ=!1;b.qz=!1;b.jl=void 0;b.JG=c.bh;b.mp=c.Ona;b.kEa=c.gk;b.G=d;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bh:{get:function(){return this.JG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ona:{get:function(){return this.mp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gk:{get:function(){return this.kEa;},enumerable:!1,configurable:!0}});b.prototype.pc=function(){};b.prototype.M5=function(){};b.prototype.Jgb=function(a){l.assert(this.Nc.za === a.za);!a.ge && this.Nc.ge && a.rZ(this.Nc);!a.location && this.Nc.location && (a.location=this.Nc.location,a.Gc=this.Nc.Gc,a.JE=this.Nc.JE,a.url=this.Nc.url,a.cb=this.Nc.cb);this.Nc=a;};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.ca});};return b;})(a(170).Sx);b.iU=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,x;Object.defineProperty(b,"__esModule",{value:!0});b.s6=void 0;c=a(0);l=a(99);k=a(22);r=a(3);f=a(15);g=a(10);p=a(35);d=a(5);m=a(229);t=a(409);a=a(408);x=r.MediaSource;a=(function(a){function b(b,d,c,g,m,p,k){d=a.call(this,b,g,m,d,k) || this;t.iU.call(d,b,g,k);d.jl=c;d.track=c.track;d.St=! !g.St;d.MJ=! !g.MJ;d.qz=! !g.qz;d.gHb=g.$;d.XK=! !g.XK;d.Yba=(p?"(cache)":"") + d.za + " header";d.fH(b.url || g.url,g.offset,g.$);return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{t3:{get:function(){return this.aeb;},enumerable:!1,configurable:!0}});b.prototype.pc=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.pc.call(this);};b.prototype.TP=function(b){this.stream.Ana();a.prototype.TP.call(this,b);};b.prototype.Hj=function(b){this.mp=this.mp?g.Kt(this.mp,b.response):b.response;b.uS();this.Ydb()?a.prototype.Hj.call(this,b):this.BDa?(this.fH(b.url,b.offset + b.$,this.BDa),a.prototype.Hj.call(this,b)):this.R_(this);};b.prototype.fH=function(a,b,d){a=new m.JL(this.stream,this.track,this.Yba + " (" + this.va.length + ")",{offset:b,$:d,url:a,location:this.location,Rb:this.Rb,responseType:0},this,this.Xc,this.G);this.push(a);this.oc=this.va.reduce(function(a,b){return a + b.$;},0);};b.prototype.Ydb=function(){var a,c,m;a=this.Xc;c=new l.hy(b.UEb,this.stream,this.mp,["sidx"],this.I === k.Sa.VIDEO && a.jI || this.I === k.Sa.AUDIO,{T5b:this.stream.track.Jga,iVa:void 0 === this.xa,s0a:!x.Zb || !x.Zb.sJa,Cra:a.Cra,Yj:a.Yj,uL:this.Xc.uL,yMb:!0,a5:!x.Zb || !x.Zb.HTa});m=c.parse({xa:this.xa});this.DTb=a.uL && c.vyb;m.oA?(d.assert(m.bh),this.JG=m.bh,this.aeb=m.t3,this.kEa=! !m.srb,void 0 === this.xa && void 0 === m.xa && this.G.error("No frame duration available for " + this.za),c=m.xa?new g.U(m.xa):this.xa,this.stream.e3(m.bh,m.P,c,m.ca,m.IJ,m.Oi,a.eK && a.eK.enabled?m.WA:void 0),this.mp=void 0):this.BDa=m.Cgb || 0;return ! !m.oA;};b.UEb=new r.Console("MP4","media|asejs");return b;})(a.p6);b.s6=a;p.Se(t.iU,a,!1,!1);p.Se(f.EventEmitter,a);},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.gaa=void 0;c=a(0);l=a(99);a(5);a(36);f=(function(){function a(a,b,c,d){this.P=c;this.Qd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.oc=d;}Object.defineProperties(a.prototype,{$:{get:function(){return void 0 !== this.oc?this.oc:this.oc=this.kba();},enumerable:!1,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.Qd.subarray(b,c),this.sizes.subarray(b,c),this.P);};a.prototype.concat=function(){var g,b,p,d;for(var b=[],g=0;g < arguments.length;g++){b[g]=arguments[g];}g=[this];b=g.concat.apply(g,c.__spread(b));g=b.reduce(function(a,b){return a + b.length;},0);p=new Uint32Array(g);d=new Uint32Array(g);g=b.reduce(function(a,b){return a || b.P;},void 0);b.reduce(function(a,b){l.Eaa.set(p,b.Qd,a);l.Eaa.set(d,b.sizes,a);return a + b.length;},0);return new a(p,d,g);};a.prototype.kba=function(){for(var a=this.sizes,b=this.length,c=0,d=0;d < b;++d){c+=a[d];}return c;};return a;})();b.gaa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(414);l=a(237);k=a(413);f=(function(){function a(a,b,d){this.console=a;this.stream=b;this.view=d instanceof ArrayBuffer?new DataView(d):new DataView(d.data,d.offset,d.length);}a.prototype.parse=function(a){var b;b=new k.Qua(this.view.byteLength);this.Oh=new c.G6(l.KJ.Yc,b,this.view,this.console,{Lna:!0});a=this.Oh.parse(a);this.Yc=this.Oh.Yc;return a.done;};return a;})();b.tM=f;},function(f,b,a){var l;function c(a,b){a=b.indexOf(a);-1 !== a && b.splice(a,1);}Object.defineProperty(b,"__esModule",{value:!0});l=a(87);f=(function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.ZMa=function(){return this.done;};a.prototype.nLa=function(a,b,c){return this.done=b + c >= this.endOffset;};return a;})();b.Qua=f;f=(function(){function a(a,b,c,d){void 0 === b && (b=[]);void 0 === c && (c=[]);void 0 === d && (d=!1);this.ds=a;this.QZ=b;this.E_a=c;this.kVa=d;this.done=!1;this.wk={};}a.prototype.ZMa=function(b,c,p){-1 !== a.Ayb.indexOf(b) && (this.wk[b]={offset:c,size:p});if(-1 !== this.E_a.indexOf(b)){if((this.wk[b]={offset:c,size:p},this.kVa))this.endOffset=c + p;else return (this.endOffset=c,this.done=!0);}else this.ds && -1 !== this.ds.indexOf(b)?(b=1 < this.ds.length?4096:0,this.endOffset=Math.max(c + p + b,this.endOffset || 0)):-1 !== this.QZ.indexOf(b) && (b=this.ds?4096:0,this.endOffset=Math.max(c + p + b,this.endOffset || 0));return this.done;};a.prototype.nLa=function(a,b,p,d){var g;g=this;if(-1 !== this.E_a.indexOf(a))return this.done=!0;a === l.v9 && this.dZa(d.wk);a === l.w9 && this.dZa(d.wk);this.ds && c(a,this.ds);c(a,this.QZ);return this.ds && 0 === this.ds.length && !this.QZ.some(function(a){return g.wk[a];})?this.done=!0:this.done;};a.prototype.dZa=function(a){var b;b=this;this.wk=a;this.endOffset=(this.ds || []).concat(this.QZ).reduce(function(a,d){return b.wk[d]?(d=b.wk[d],Math.max(d.offset + (d.size || 4096),a)):a;},this.endOffset || 0);};a.Ayb=["moov","sidx"];return a;})();b.r6a=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(29);k=a(77);f=(function(a){function b(b,d,c,g,f){c=a.call(this,c,g,f) || this;c.Iib=b;c.dL=d;c.Yc={};return c;}c.__extends(b,a);b.prototype.parse=function(a){var b,c,g,p,f,r;this.offset=0;b=[];for(a=a || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){c=this.offset;g=this.Mb();if(0 === g)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=k.wy(this.Mb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.b4();}if(0 === b.length && this.dL.ZMa(p,c,g))break;if(c + g > this.view.byteLength)break;f=this.Iib[p];r=void 0;if(f){if((r=new f(this,p,c,g,b[0]),(b[0] || this).rO(r),r.parse(a)))this.config.Lna && f.xc?b.unshift(r):this.offset=c + g;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=c + g;for(;b.length && this.offset > b[0].byteOffset + b[0].jE - 8;){r=b.shift();if(!r.uI(a))return {done:!1,offset:this.offset,error:"finalize error in " + r.type + " box"};this.offset=r.byteOffset + r.jE;}if(0 === b.length && this.dL.nLa(p,c,g,r))break;}return !this.dL.done && (a=this.dL.endOffset?this.dL.endOffset - this.view.byteLength:4096,0 < a)?{done:!1,offset:this.offset,LTa:a}:{done:!0,offset:Math.min(this.dL.endOffset || Infinity,this.offset)};};b.prototype.rO=function(a){l.eg.rO(this,a);};return b;})(a(888).V$a);b.G6=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var a,b,f;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}a=Array.prototype.concat.apply([],a);b=a.reduce(function(a,b){return a + b.byteLength;},0);f=new Uint8Array(b);a.reduce(function(a,b){f.set(new Uint8Array(b),a);return a + b.byteLength;},0);return f.buffer;};},function(f){var b,a,c,l;b={name:"heaac-2-dash reset sample",profile:53,Gp:2,sampleRate:24E3,duration:1024,Fx:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Gp:2,sampleRate:24E3,duration:1024,Fx:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,Gp:6,sampleRate:48E3,duration:1536,Fx:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,Gp:2,sampleRate:48E3,duration:1536,Fx:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};f.V={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=a(87);a=a(29);l=f.w9;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a,c,t;this.bg();1 <= this.version && this.M.b4();a=this.M.Mb();this.wk={};for(var b=this.startOffset + this.length,d=0;d < a;++d){c=this.M.zA();"uuid" === c && (c=this.M.b4());t=this.M.Ij();this.wk[c]={offset:b,size:t};b+=t;}return !0;};b.We=l;b.xc=!1;return b;})(a.eg);b["default"]=a;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(87);f=a(29);k=l.v9;f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.bg();this.fileSize=this.M.Ij();this.P=this.M.Ij();this.duration=this.M.Ij(!1,!0);this.iGb=this.M.Ij();this.M.Ij();this.mGb=this.M.Ij();this.sFb=this.M.Mb();this.jGb=this.M.Ij();this.ctb=this.M.Mb();this.M.b4();this.wk={moof:{offset:this.iGb},sidx:{offset:this.jGb,size:this.ctb}};this.wk[l.Tya]={offset:this.mGb,size:this.sFb};this.M.offset - this.startOffset <= this.length - 24 && (this.lGb=this.M.Ij(),this.iFb=this.M.Mb(),this.kGb=this.M.Ij(),this.hFb=this.M.Mb(),this.wk[l.DV]={offset:this.lGb,size:this.iFb},this.wk[l.CV]={offset:this.kGb,size:this.hFb});return !0;};b.We=k;b.xc=!1;return b;})(f.eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){var b;b=null !== a && a.apply(this,arguments) || this;b.U_=1536;return b;}c.__extends(b,a);b.xc=!0;return b;})(a(171)["default"]);b["default"]=f;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.We="ac-3";return b;})(f);b.h2a=a;f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.We="ec-3";return b;})(f);b.y5a=f;},function(f){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,b,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),f * a.byteLength / a.length);}:function(a,b,f){a.set(b,f);};f.V={from:function(a,b,f,k){a=new a(b.length);for(var c="function" === typeof f,g=0;g < b.length;++g){a[g]=c?f.call(k,b[g],g,b):b[g];}return a;},set:b};},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.eta=void 0;c=a(908);l=a(20);a(5);k=a(64);f=(function(){function a(a,b,d){this.H=b;this.G=d;this.Yg=a.track;this.hfb=a.Qf;this.Zw=a.Zw;this.vcb=-1 === this.profile.indexOf("none");this.JG=this.Ma=void 0;b=a.bu;this.bu=void 0 === b?!0:b;this.TZ=a.TZ;this.GG=void 0;this.gFa=this.Gf=0;this.url=this.JE=this.Gc=this.uq=this.Kla=this.location=this.La=this.cb=void 0;this.Lz=!1;this.cla=this.se=void 0;a=this.H && "object" === typeof this.H.vWa && this.H.vWa[this.profile];"object" === typeof a && (a=a[this.R]) && (this.UN=new l.U(a.ticks,a.timescale));}Object.defineProperties(a.prototype,{ge:{get:function(){return ! !this.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Yg.O;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{la:{get:function(){return this.O.la;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Yg.u;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return this.Yg.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xa:{get:function(){return this.Yg.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Yg.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JJ:{get:function(){return this.Yg.JJ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jb:{get:function(){return this.Yg.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.Yg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qf:{get:function(){return this.hfb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.Zw.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.za;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cu:{get:function(){return this.vcb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Zw.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qb:{get:function(){return this.Zw.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lMb:{get:function(){return this.Zw.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{q4:{get:function(){return this.Zw.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Zw.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{js:{get:function(){return this.Zw.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hd:{get:function(){return this.UN;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{n2:{get:function(){return this.Ma && this.Ma.n2;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uha:{get:function(){return this.Yg.Uha;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tha:{get:function(){return this.Yg.Tha;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tt:{get:function(){return void 0 !== this.GG?this.GG:this.Xka();},set:function(a){this.GG=a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gr:{get:function(){return this.bu && !this.Lz;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bh:{get:function(){return this.JG;},enumerable:!1,configurable:!0}});a.prototype.Fj=function(){return this.O.Fj(this.I,this.za);};a.prototype.s0=function(){var a;a=this.Fj();return a && a.stream.ca;};a.prototype.hF=function(a){return this.O.hF(this,a);};a.prototype.Ana=function(){this.track.Ana();};a.prototype.e3=function(a,b,d,m,t,f,k){m && void 0 !== m.zk && (this.track.ge || void 0 !== m.Qd && m.Qd.length) && void 0 !== m.offset && void 0 !== m.sizes && m.sizes.length?(this.H.Yj && this.Hd && 0 === m.zk && (m.zk+=this.Hd.we(m.P).tb),this.JG=a,this.ge || (this.track.e3(this,b,d,m,f),this.Ma=new c.lCa(this.track.jm,m,t,f,k,this.u),this.track.BGb(this))):m?this.G.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== m.zk) + "," + this.track.ge + "," + this.track.Jga + "," + (void 0 !== m.Qd) + "," + !(!m.Qd || !m.Qd.length) + "," + (void 0 !== m.offset) + "," + (void 0 !== m.sizes) + "," + !(!m.sizes || !m.sizes.length)):this.G.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};a.prototype.rZ=function(a){this.ge || (this.track.Alb(a.track),this.Ma=a.ca,this.JG=a.bh);};a.prototype.Ui=function(a){return new k.rh(this,this.ca.get(a));};a.prototype.YNa=function(a){var b;b=this.Ui(a.index);a.Ka && (b.Lj(a.Ka),b.US(a.ks));return b;};a.prototype.Q0a=function(a,b){this.Gf=a;this.gFa=b;};a.prototype.Ekb=function(){this.La=this.cb=this.Gc=this.location=this.url=void 0;};a.prototype.toJSON=function(){return {movieId:this.u,mediaType:this.I,streamId:this.za,bitrate:this.R,streamIndex:this.Qf,isAvailable:this.bu,fittable:this.Tt,vmaf:this.qb,resolutionWidth:this.lMb,resolutionHeight:this.q4};};a.prototype.toString=function(){return (0 === this.I?"a":"v") + ":" + this.za + ":" + this.R;};a.prototype.Xka=function(){var a;if(!this.ge)return !0;if(this.track.Xja >= this.R)return this.GG=!0;if(this.track.kSa <= this.R)return this.GG=!1;a=this.Ma.Xka(this.H.xR,this.Gf,this.gFa);if(a){if(!this.track.Jga || this.cu)this.track.Xja=this.R;}else this.track.kSa=this.R;return this.GG=a;};return a;})();b.eta=f;},function(f,b,a){var l,k,r,g;function c(a){return function(){for(var b=Array(this.length),c=0;c < this.length;++c){b[c]=a.call(this,c);}return b;};}Object.defineProperty(b,"__esModule",{value:!0});b.jhb=b.eR=b.xaa=b.MCa=void 0;l=a(5);f=a(3);k=a(20);r=new f.Console("FRAGMENTS","media|asejs");g=(function(){function a(a,b){this.uc=a;this.tj=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.tj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$g:{get:function(){return new k.U(this.Xa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xa:{get:function(){return this.uc.aY + this.uc.Ny[this.tj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nb:{get:function(){return this.Xa + this.uc.op[this.tj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qp:{get:function(){return this.uc.op[this.tj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xa:{get:function(){return this.uc.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.uc.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return Math.floor(1E3 * this.Xa / this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pa:{get:function(){return Math.floor(1E3 * (this.Xa + this.Qp) / this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.pa - this.T;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return {startPts:1E3 * this.Xa / this.xa.P,endPts:1E3 * this.nb / this.xa.P,duration:1E3 * this.Qp / this.xa.P,index:this.index};};return a;})();b.MCa=g;a=(function(){function a(a,b,c,g){this.I=a;this.length=c.Qd.length;this.Gl=c.P;this.op=c.Qd;this.DY=g && g.iK;this.ZGa=g && g.AK;this.HG=b;this.Nra=this.Ora=this.eFa=void 0;this.aY=c.zk;this.Ny=new Uint32Array(this.length + 1);if(this.length){for(b=a=0;b < this.length;++b){this.Ny[b]=a;a+=this.op[b];}this.Ny[b]=a;this.bba=Math.floor((this.pa - this.T) / this.length);}}Object.defineProperties(a.prototype,{zk:{get:function(){return this.UZa(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Yga:{get:function(){return this.UZa(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.gj(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pa:{get:function(){return this.gj(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nr:{get:function(){return new k.U(this.Yga,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nma:{get:function(){return this.eFa || this.Jab();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xa:{get:function(){return this.HG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Gl;},enumerable:!1,configurable:!0}});a.prototype.UZa=function(a){return this.aY + this.Ny[a];};a.prototype.gj=function(a){return Math.floor(1E3 * (this.aY + this.Ny[a]) / this.P);};a.prototype.Zga=function(a){return this.gj(a + 1);};a.prototype.Qd=function(a){return this.Zga(a) - this.gj(a);};a.prototype.get=function(a){return new g(this,a);};a.prototype.Om=function(a,b,c){if(0 === this.length || a < this.gj(0))return -1;a=Math.max(a,b || 0);for(var d=0,g=this.length - 1,m,p;g >= d;){if((m=d + (g - d >> 1),p=this.gj(m),a < p))g=m - 1;else if(a >= p + this.Qd(m))d=m + 1;else {for(;b && m < this.length && this.gj(m) < b;){++m;}return m < this.length?m:c?this.length - 1:-1;}}return c?this.length - 1:-1;};a.prototype.D_=function(a,b,c){a=this.Om(a,b,c);return 0 <= a?this.get(a):void 0;};a.prototype.Afa=function(a,b){var d,c;d=Math.floor(b * this.P / 1E3);b=Math.min(a + Math.ceil(b / this.bba),this.length);c=this.Ny[b] - this.Ny[a];if(c > d){for(;c >= d;){--b;c-=this.op[b];}return b - a + 1;}for(;c < d && b <= this.length;){c+=this.op[b];++b;}return b - a;};a.prototype.subarray=function(b,c){l.assert(void 0 === b || 0 <= b && b < this.length);l.assert(void 0 === c || c > b && c <= this.length);return new a(this.I,this.xa,{P:this.P,zk:this.aY + this.Ny[b],Qd:this.op.subarray(b,c)},this.DY && ({iK:this.DY.subarray(b,c + 1),AK:this.ZGa}));};a.prototype.forEach=function(a){for(var b=0;b < this.length;++b){a(this.get(b),b,this);}};a.prototype.map=function(a){for(var b=[],d=0;d < this.length;++d){b.push(a(this.get(d),d,this));}return b;};a.prototype.reduce=function(a,b){for(var d=0;d < this.length;++d){b=a(b,this.get(d),d,this);}return b;};a.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.bba};};a.prototype.dump=function(){var b;r.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.bba + "ms");for(var a=0;a < this.length;++a){b=this.get(a);r.trace("TrackFragments: " + a + ": [" + b.T + "-" + b.pa + "]");}};a.prototype.Jab=function(){for(var a=0,b=0;b < this.length;b++){a=Math.max(this.op[b],a);}return this.eFa=a;};return a;})();b.xaa=a;b.eR=c;a.prototype.TZa=c(a.prototype.gj);b.jhb=function(a){return "[" + Array(a.length).map(function(b,c){return a[c].toString();}).join(",") + "]";};},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.twa=b.lV=void 0;c=a(0);l=a(8);k=a(3);r=a(914);g=a(913);p=(function(){return function(){this.wH=new g.FM(100);this.S2=new g.FM(100);};})();f=(function(){function a(a,b,d){var c,g,m;this.H=b;this.G=d;this.XX=a;c=this.nC=this.oG=this.nG=0;g=0;m=0;this.XX.length >= this.H.F2 && (this.XX.forEach(function(a){!(a=a.get().htb) || l.X(a.avtp) || l.X(a.neuhd) || (c+=a.avtp,g+=1 * a.neuhd,m++);}),this.nC=m,this.nG=c / m,this.oG=g / m);}Object.defineProperties(a.prototype,{$Ha:{get:function(){return this.nG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aIa:{get:function(){return this.oG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{TNb:{get:function(){return this.nC;},enumerable:!1,configurable:!0}});a.prototype.B1=function(){return this.nC >= this.H.F2 && this.nG >= this.H.baselineHighAndStableThreshold.bwThreshold && this.oG < this.H.baselineHighAndStableThreshold.nethreshold;};return a;})();b.lV=f;f=(function(a){function b(b,d,c){b=a.call(this,b,d,c) || this;b.Qaa=[];b.lsb={};b.J_a=[];b.hw=new p();b.XX.length >= b.H.F2 && (b.tGa("avtp",b.hw.wH),b.tGa("neuhd",b.hw.S2));return b;}c.__extends(b,a);b.prototype.B1=function(){var a;this.rwb();a=new r.Rxa(this.G,this.J_a,this.vib);a.poa(this.Qaa);a=a.zkb(this.H.X0.s5b);return this.tTb && 1 === a && this.nC >= this.H.F2;};b.prototype.bQ=function(){var a,b,d,c;a={};b=k.time.now();d=new Date(b);c=d.getHours();a.currentMonoTime=b;a.currentTime=d.getTime();a.currentHour=c;return a;};b.prototype.NNa=function(a,b,d){a="avtp" === a?this.nG:this.oG;for(var c=b.aZ(),g=0,m="skew" === d?3:4,p=0;p < b.jf.length;p++){l.X(a) || l.X(c) || (g+=Math.pow(b.jf[p] - a,m));}g/=b.jf.length;return !l.X(c) && 0 < c?g / Math.pow(c,m) - 3 * ("skew" === d?0:1):NaN;};b.prototype.ZNa=function(a,b,d){var c;c=0;"lte" === d?c=a.reduce(function(a,d){return d <= b?a + 1:a;},0) / (1 * a.length):"gte" === d && (c=a.reduce(function(a,d){return d >= b?a + 1:a;},0) / (1 * a.length));return c;};b.prototype.ewb=function(a){var b,d;b=a.cr(25);d=a.cr(50);a=a.cr(75);return l.X(b) || l.X(d) || l.X(a)?NaN:0 < d?(a - b) / d:NaN;};b.prototype.uub=function(a,b){a="avtp" === a?this.nG:this.oG;b=b.aZ();return !l.X(b) && !l.X(a) && (0 < b || 0 < a) && 0 < a?(a - b) / (a + b):NaN;};b.prototype.iQ=function(a,b){a=a.cr(b);return l.X(a)?NaN:a;};b.prototype.normalize=function(a,b,d){return !isNaN(a) && 0 < d?(a - b) / d:NaN;};b.prototype.rwb=function(){var a,b,d,c,g,m,p,f,k,r,h,n;a=this;b=this.H.X0.mSa.Z3b;d=this.H.X0.mSa.X3b;c=this.H.X0.mSa.Y3b;f=[];n=0;this.tTb=!Object.keys(b).some(function(t){var x;h=NaN;if(!(b.hasOwnProperty(t) && d.hasOwnProperty(t) && c.hasOwnProperty(t) && !l.X(a.hw) && a.hw.wH && a.hw.S2) || 1 > a.nC || "number" !== typeof b[t] || "number" !== typeof d[t] || "number" !== typeof c[t])return !0;g=b[t];m=d[t];p=c[t];f=t.split("_",2);k=f[0];r=f[1];switch(k){case "avtp":x=a.hw.wH;break;case "neuhd":x=a.hw.S2;break;default:x=void 0;}if("avtp" === k || "neuhd" === k){if(x)switch(r){case "last":h=x.jf[a.nC - 1];break;case "mean":h="avtp" === k?a.nG:a.oG;break;case "niqr":h=a.ewb(x);break;case "skew":h=a.NNa(k,x,"skew");break;case "kurtosis":h=a.NNa(k,x,"kurtosis");break;case "std":h=x.aZ();break;case "b":h=a.uub(k,x);break;default:-1 !== t.search("[p][1-9]?[1-9]") && (h=a.iQ(x,Number(t.split("_p",2)[1])));}}else switch(t){case "fracAbove20Mbps":x=a.hw.wH;h=l.X(x)?NaN:a.ZNa(x.jf,2E4,"gte");break;case "fracBelow20p":x=a.hw.S2;h=l.X(x)?NaN:a.ZNa(x.jf,.15,"lte");break;case "hour_current":h=a.bQ().currentHour;break;case "session_ct":h=a.nC;break;case "intercept":(h=g,a.vib=h);}h=a.normalize(h,m,p);if(isNaN(h))return !0;"intercept" !== t && (a.Qaa.push(h),a.J_a.push(g),a.lsb[t]=n,n+=1);});};b.prototype.tGa=function(a,b){this.XX.forEach(function(d){d=d.get().htb;!d || "avtp" !== a && "neuhd" !== a || l.X(d[a]) || b.zY(Number(d[a]));});};return b;})(f);b.twa=f;},function(f){(function(){function b(){var s00;s00=2;for(;s00 !== 5;){switch(s00){case 2:this.Iy=this.oc=0;this.ab=this.ne=void 0;s00=5;break;}}}var r00;r00=2;for(;r00 !== 8;){switch(r00){case 2:b.prototype.start=function(a){var t00;t00=2;for(;t00 !== 1;){switch(t00){case 2:this.ne?a < this.ne?(this.Iy+=this.ne - a,this.ne=a):a > this.ab && (this.ab=this.ne=a):this.ab=this.ne=a;t00=1;break;}}};b.prototype.stop=function(a){var u00;u00=2;for(;u00 !== 1;){switch(u00){case 2:this.ab && a > this.ab && (this.Iy+=a - this.ab,this.ab=a);u00=1;break;}}};b.prototype.add=function(a,b,f){var v00;v00=2;for(;v00 !== 4;){switch(v00){case 2:this.start(b);this.stop(f);this.oc+=a;v00=4;break;}}};r00=4;break;case 4:b.prototype.get=function(){var w00;w00=2;for(;w00 !== 1;){switch(w00){case 2:return {Ga:this.Iy?Math.floor(8 * this.oc / this.Iy):null,XZ:this.Iy?this.Iy:0};break;}}};f.V=b;r00=9;break;case 9:var G51="1SI";G51+="YbZr";G51+="NJ";G51+="Cp9";G51;r00=8;break;}}})();},function(f,b,a){var l,k;function c(a){this.H={lR:a.maxc || 25,jfa:a.c || .5,JKb:a.rc || "none",Wxb:a.hl || 7200};this.aO();this.ueb=this.H.JKb;this.uN=this.H.Wxb;this.cba=Math.exp(Math.log(2) / this.uN);this.cba=Math.max(this.cba,1);this.YW=1;}l=a(8);k=a(243).TDigest;new (a(3).Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.$c=function(){var a;if(0 === this.oe.size())return null;a=this.oe.li([.25,.75]);if(a[0] === a[1])return null;this.oe.size() > this.H.lR && this.oe.gw();a=this.oe.vn(!1).reduce((function(a,b){l.oa(b.sf) && l.oa(b.n) && a.push({mean:b.sf,n:b.n / this.YW});return a;}).bind(this),[]);return {tdigest:JSON.stringify(a)};};c.prototype.je=function(a){var b;if(l.Ua(a) || !l.has(a,"tdigest") || !l.Td(a.tdigest))return !1;try{b=JSON.parse(a.tdigest);}catch(p){return !1;}b.forEach(function(a){l.isFinite(a.n) || (a.n=1);});a=b.map(function(a){return {sf:a.mean,n:a.n};});this.YW=1;this.oe.Ioa(a);void 0 === this.oe.li(0) && this.aO();};c.prototype.get=function(){var a,b;a=this.oe;b=a.li([0,.1,.25,.5,.75,.9,1]);return {min:b[0],o3:b[1],qk:b[2],$i:b[3],sk:b[4],p3:b[5],max:b[6],Ih:a.vn(!1)};};c.swb=function(a){var b;b=new c({});l.Ua(a) || l.X(a) || !l.isArray(a.Ih) || (b.oe.Ioa(a.Ih),void 0 === b.oe.li(0) && b.aO());a=b.oe.li([.25,.75]);return a[0] === a[1]?null:function(a){return b.oe.li(a);};};c.prototype.add=function(a){var b;b=1;"ewma" === this.ueb && (this.YW=b=this.YW * this.cba);this.oe.push(a,b);};c.prototype.toString=function(){return "TDigestHist(" + this.oe.summary() + ")";};c.prototype.aO=function(){this.oe=new k(this.H.jfa,this.H.lR);};f.V={ACa:c};},function(f,b,a){var l,k;function c(a){this.H={lR:a.maxc || 25,jfa:a.c || .5,tUb:a.w || 15E3,Bp:a.b || 5E3};l.call(this,this.H.tUb,this.H.Bp);this.aO();}l=a(139);k=a(243).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var a;a=this.qu(0);l.prototype.shift.call(this);null !== a && (this.oe.push(a,1),this.wp=!0);return a;};c.prototype.flush=function(){var a;a=this.get();this.oe.push(a,1);this.wp=!0;l.prototype.reset.call(this);return a;};c.prototype.get=function(){return this.$Oa();};c.prototype.zw=function(){var a;a=this.$Oa();return {min:a.min,p10:a.o3,p25:a.qk,p50:a.$i,p75:a.sk,p90:a.p3,max:a.max,centroidSize:a.Sjb,sampleSize:a.BK,centroids:a.Ih};};c.prototype.$Oa=function(){var a;if(0 === this.oe.size())return null;a=this.oe.li([0,.1,.25,.5,.75,.9,1]);if(a[2] === a[4])return null;if(this.wp || !this.De)(this.wp=!1,this.De={min:a[0],o3:a[1],qk:a[2],$i:a[3],sk:a[4],p3:a[5],max:a[6],li:this.oe.li.bind(this.oe),Sjb:this.oe.size(),BK:this.oe.n,Ih:this.Dub(),zw:this.zw.bind(this)});return this.De;};c.prototype.Dub=function(){var a;if(0 === this.oe.size())return null;if(!this.wp && this.De)return this.De.centroids;a=this.oe.li([.25,.75]);if(a[0] === a[1])return null;this.oe.size() > this.H.lR && this.oe.gw();a=this.oe.vn(!1).map(function(a){return {mean:a.sf,n:a.n};});return JSON.stringify(a);};c.prototype.WOa=function(){return this.oe.summary();};c.prototype.size=function(){return this.oe.size();};c.prototype.toString=function(){return "btdtput(" + this.lH + "," + this.Wc + "," + this.Ni + "): " + this.oe.summary();};c.prototype.aO=function(){this.oe=new k(this.H.jfa,this.H.lR);};f.V=c;},function(f,b,a){var l,k;function c(a,b,c,d){l.call(this,c,d);this.ft=new k(a);this.Vcb=b;}l=a(139);k=a(430);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var a;a=this.qu(0);l.prototype.shift.call(this);null !== a && this.ft.zY(a);return a;};c.prototype.flush=function(){var a;a=this.get();this.ft.zY(a);l.prototype.reset.call(this);return a;};c.prototype.get=function(){var a;a=this.iQ();return {BK:this.GI(),x3:a,LR:a.$i?(a.sk - a.qk) / a.$i:void 0};};c.prototype.GI=function(){return this.ft.GI();};c.prototype.iQ=function(){return this.ft.GI() < this.Vcb?{qk:void 0,$i:void 0,sk:void 0,BK:void 0,li:void 0}:{qk:this.ft.cr(25),$i:this.ft.cr(50),sk:this.ft.cr(75),BK:this.ft.GI(),li:this.ft.cr.bind(this.ft)};};c.prototype.toString=function(){return "biqr(" + this.lH + "," + this.Wc + "," + this.Ni + ")";};f.V=c;},function(f,b,a){var r;function c(a){this.reset();this.sOb(a);}function l(a){this.setInterval(a);this.reset();}function k(a){this.yy=new l(a);this.ce=0;this.Xb=null;}r=a(8);c.prototype.sOb=function(a){this.lG=Math.pow(.5,1 / a);this.uN=a;};c.prototype.reset=function(a){a && a.Ga && r.oa(a.Ga)?a.Uh && r.oa(a.Uh)?(this.Ys=this.pcb,this.Qn=a.Ga,this.uy=a.Uh + a.Ga * a.Ga):(this.Ys=this.pcb,this.Qn=a.Ga,this.uy=a.Ga * a.Ga):this.uy=this.Qn=this.Ys=0;};c.prototype.add=function(a){var b;if(r.oa(a)){this.Ys++;b=this.lG;this.Qn=b * this.Qn + (1 - b) * a;this.uy=b * this.uy + (1 - b) * a * a;}};c.prototype.get=function(){var a,b,d;if(0 === this.Ys)return {Ga:0,Uh:0};a=this.Qn;b=this.uy;d=1 - Math.pow(this.lG,this.Ys);a=a / d;b=b / d;d=a * a;return {Ga:Math.floor(a),Uh:Math.floor(b > d?b - d:0)};};c.prototype.$c=function(){return 0 === this.Ys?null:{a:Number(this.Qn.toPrecision(6)),s:Number(this.uy.toPrecision(6)),n:this.Ys};};c.prototype.je=function(a){if(r.Ua(a) || !r.has(a,"a") || !r.has(a,"s") || !r.isFinite(a.a) || !r.isFinite(a.s))return (this.uy=this.Qn=this.Ys=0,!1);this.Qn=a.a;this.uy=a.s;r.has(a,"n") && r.oa(a.n)?this.Ys=a.n:this.Ys=16 * this.uN;return !0;};l.prototype.setInterval=function(a){this.uN=a;this.lG=-Math.log(.5) / a;};l.prototype.reset=function(a){this.ab=this.ne=null;a && r.isFinite(a.Ga)?this.Qn=a.Ga:this.Qn=0;};l.prototype.start=function(a){r.Ua(this.ne) && (this.ab=this.ne=a);};l.prototype.add=function(a,b,d){var c,g;r.Ua(this.ne) && (this.ab=this.ne=b);this.ne=Math.min(this.ne,b);b=Math.max(d - b,1);c=this.lG;g=d > this.ab?d:this.ab;this.Qn=this.Qn * (g > this.ab?Math.exp(-c * (g - this.ab)):1) + 8 * a / b * (1 - Math.exp(-c * b)) * (d > g?Math.exp(-c * (g - d)):1);this.ab=g;};l.prototype.get=function(a){var b;a=Math.max(a,this.ab);b=this.Qn * Math.exp(-this.lG * (a - this.ab));a=1 - Math.exp(-this.lG * (a - this.ne));0 < a && (b/=a);return {Ga:Math.floor(b)};};l.prototype.toString=function(){return "ewmav(" + this.uN + ")";};k.prototype.setInterval=function(a){this.yy.setInterval(a);};k.prototype.reset=function(a){this.yy.reset(a);this.ce=0;this.Xb=null;};k.prototype.start=function(a){!r.Ua(this.Xb) && a > this.Xb && (this.ce+=a - this.Xb,this.Xb=null);this.yy.start(a - this.ce);};k.prototype.add=function(a,b,d){!r.Ua(this.Xb) && d > this.Xb && (this.ce+=b > this.Xb?b - this.Xb:0,this.Xb=null);this.yy.add(a,b - this.ce,d - this.ce);};k.prototype.stop=function(a){this.Xb=Math.max(r.Ua(this.yy.ab)?0:this.yy.ab + this.ce,r.Ua(this.Xb)?a:Math.min(this.Xb,a));};k.prototype.get=function(a){return this.yy.get((r.Ua(this.Xb)?a:this.Xb) - this.ce);};k.prototype.toString=function(){return this.yy.toString();};f.V={r5a:c,OVb:l,p5a:k};},function(f,b,a){f.V={G2b:a(428),W5b:a(241),wVb:a(928),vVb:a(427),xVb:a(426),Xva:a(925)};},function(f){function b(a){this.gca=a;this.jf=[];this.wp=!1;this.pC=void 0;this.Li={};}b.prototype.zY=function(a){this.jf.length === this.gca && this.jf.shift();Array.isArray(a)?this.jf=this.jf.concat(a):this.jf.push(a);this.wp=!0;};b.prototype.GI=function(){return this.jf.length;};b.prototype.zea=function(){var a;a=this.jf;return 0 < a.length?a.reduce(function(a,b){return a + b;},0) / this.jf.length:void 0;};b.prototype.aZ=function(){var a,b;a=this.jf;if(0 < a.length){b=this.zea();a=a.reduce(function(a,b){return a + b * b;},0) / a.length;return Math.sqrt(a - b * b);}};b.prototype.cr=function(a){var b,f,k;if(this.wp || void 0 === this.pC)(this.pC=this.jf.slice(0).sort(function(a,b){return a - b;}),this.Li={},this.wp=!1);if(void 0 === this.Li[a]){b=this.pC;f=Math.floor(a / 100 * (b.length - 1) + 1) - 1;k=(a / 100 * (b.length - 1) + 1) % 1;this.Li[a]=f === b.length - 1?b[f]:b[f] + k * (b[f + 1] - b[f]);}return this.Li[a];};f.V=b;},function(f){function b(){}function a(a){this.nGa=a;this.Pn=[];this.Hf=null;}b.prototype.clear=function(){this.me=null;this.size=0;};b.prototype.find=function(a){var c;for(var b=this.me;null !== b;){c=this.Bl(a,b.data);if(0 === c)return b.data;b=b.pg(0 < c);}return null;};b.prototype.lowerBound=function(a){var g;for(var b=this.me,c=this.iterator(),f=this.Bl;null !== b;){g=f(a,b.data);if(0 === g)return (c.Hf=b,c);c.Pn.push(b);b=b.pg(0 < g);}for(g=c.Pn.length - 1;0 <= g;--g){if((b=c.Pn[g],0 > f(a,b.data)))return (c.Hf=b,c.Pn.length=g,c);}c.Pn.length=0;return c;};b.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.Bl;null !== b.data() && 0 === c(b.data(),a);){b.next();}return b;};b.prototype.min=function(){var a;a=this.me;if(null === a)return null;for(;null !== a.left;){a=a.left;}return a.data;};b.prototype.max=function(){var a;a=this.me;if(null === a)return null;for(;null !== a.right;){a=a.right;}return a.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.ee=function(a){for(var b=this.iterator(),c;null !== (c=b.next());){a(c);}};a.prototype.data=function(){return null !== this.Hf?this.Hf.data:null;};a.prototype.next=function(){var a;if(null === this.Hf){a=this.nGa.me;null !== a && this.kFa(a);}else if(null === this.Hf.right){do {if((a=this.Hf,this.Pn.length))this.Hf=this.Pn.pop();else {this.Hf=null;break;}}while(this.Hf.right === a);}else (this.Pn.push(this.Hf),this.kFa(this.Hf.right));return null !== this.Hf?this.Hf.data:null;};a.prototype.tE=function(){var a;if(null === this.Hf){a=this.nGa.me;null !== a && this.iFa(a);}else if(null === this.Hf.left){do {if((a=this.Hf,this.Pn.length))this.Hf=this.Pn.pop();else {this.Hf=null;break;}}while(this.Hf.left === a);}else (this.Pn.push(this.Hf),this.iFa(this.Hf.left));return null !== this.Hf?this.Hf.data:null;};a.prototype.kFa=function(a){for(;null !== a.left;){this.Pn.push(a);a=a.left;}this.Hf=a;};a.prototype.iFa=function(a){for(;null !== a.right;){this.Pn.push(a);a=a.right;}this.Hf=a;};f.V=b;},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});f=a(0);f.__exportStar(a(987),b);f.__exportStar(a(986),b);f.__exportStar(a(985),b);f.__exportStar(a(984),b);f.__exportStar(a(983),b);f.__exportStar(a(982),b);f.__exportStar(a(981),b);f.__exportStar(a(980),b);f.__exportStar(a(979),b);f.__exportStar(a(978),b);f.__exportStar(a(977),b);f.__exportStar(a(976),b);f.__exportStar(a(972),b);f.__exportStar(a(971),b);f.__exportStar(a(970),b);f.__exportStar(a(245),b);f.__exportStar(a(969),b);f.__exportStar(a(968),b);f.__exportStar(a(967),b);f.__exportStar(a(966),b);f.__exportStar(a(965),b);f.__exportStar(a(964),b);f.__exportStar(a(963),b);f.__exportStar(a(962),b);f.__exportStar(a(961),b);f.__exportStar(a(960),b);f.__exportStar(a(959),b);f.__exportStar(a(958),b);f.__exportStar(a(957),b);f.__exportStar(a(956),b);f.__exportStar(a(955),b);f.__exportStar(a(954),b);f.__exportStar(a(953),b);f.__exportStar(a(947),b);f.__exportStar(a(945),b);},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y8=void 0;b.Y8="ManifestEnricherSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y9=b.Z9=void 0;b.Z9="PboLinksManagerSymbol";b.Y9="PboLinksManagerFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.c9=void 0;b.c9="ManifestTransformerSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.d9=void 0;b.d9="ManifestVerifyErrorFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Baa=void 0;b.Baa="TrickPlayFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.B$=void 0;b.B$="PlayerTextTrackFactorySymbol";},function(f,b){function a(a,b){this.log=a;this.RA=b;}Object.defineProperty(b,"__esModule",{value:!0});b.sM=void 0;a.prototype.p0a=function(a,b){var c,f;c=this;if(!a)return (this.log.warn("There are no media streams for " + b.type + " track - " + b.jb),[]);f=a.map(function(a){var g;g=c.RA(b,b.type,a.Ega,a.R,a.qb,a.size,c.avb(a.ye),a.eP,a.utb / a.ttb,a.cu);g.LOb(a.gMb,a.fMb,a.BVa,a.AVa);g.cOb(a.pob,a.qob,a.oob,a.nob,a.BVa,a.AVa);b.Sk && (g.Sk=b.Sk);a.eP && (g.jg=a.eP);return g;});f.sort(function(a,b){return a.R - b.R;});f.forEach(function(a,b){a.lower=f[b - 1];a.Gyb=f[b + 1];});return f;};a.prototype.avb=function(a){return a.reduce(function(a,b){a[b.TIa]=b.url;return a;},{});};b.sM=a;},function(f,b,a){var c,l,k;c=a(249);l=a(119);b=a(51);k=a(1006);a=b(function(a,b){return 1 === a?l(b):c(a,k(a,[],b));});f.V=a;},function(f){f.V=function(b,a){for(var c=0,f=a.length,k=Array(f);c < f;){k[c]=b(a[c]);c+=1;}return k;};},function(f,b,a){var c,l,k,r,g;b=a(119);c=a(251);l=a(1009);k=!({toString:null}).propertyIsEnumerable("toString");r=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");g=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || g?function(a){var b,m,p,f;if(Object(a) !== a)return [];p=[];m=g && l(a);for(b in a){!c(b,a) || m && "length" === b || (p[p.length]=b);}if(k)for(m=r.length - 1;0 <= m;){b=r[m];if(f=c(b,a)){a:{for(f=0;f < p.length;){if(p[f] === b){f=!0;break a;}f+=1;}f=!1;}f=!f;}f && (p[p.length]=b);--m;}return p;}:function(a){return Object(a) !== a?[]:Object.keys(a);});f.V=a;},function(f){f.V={Jb:function(){return this.bU["@@transducer/init"]();},result:function(b){return this.bU["@@transducer/result"](b);}};},function(f){f.V=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(f,b,a){var c,l;c=a(444);l=a(1016);f.V=function(a,b,g){return function(){var p,d;if(0 === arguments.length)return g();p=Array.prototype.slice.call(arguments,0);d=p.pop();if(!c(d)){for(var m=0;m < a.length;){if("function" === typeof d[a[m]])return d[a[m]].apply(d,p);m+=1;}if(l(d))return b.apply(null,p)(d);}return g.apply(this,arguments);};};},function(f,b,a){var c,l,k,r,g,p;b=a(51);c=a(445);l=a(1015);k=a(447);r=a(250);g=a(1010);p=a(442);a=b(c(["filter"],g,function(a,b){return k(b)?r(function(d,c){a(b[c]) && (d[c]=b[c]);return d;},{},p(b)):l(a,b);}));f.V=a;},function(f){f.V=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.a9=void 0;b.a9="ManifestProviderConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.b9=void 0;b.b9="ManifestParserFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.K6=void 0;b.K6="CDMAttestedDescriptorProvider";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.E6=void 0;b.E6="BookmarkConfigParserSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.F6=void 0;b.F6="BookmarkConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.m7=void 0;b.m7="DiskStorageRegistrySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.m9=void 0;b.m9="MemoryStorageSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.I8=void 0;b.I8="LocalStorageSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.S6=void 0;b.S6="CorruptedStorageValidatorConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.nW=void 0;b.nW="Storage";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.pM=void 0;b.pM="IndexedDBConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.N$=void 0;b.N$="PresentationAPISymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.f9=void 0;b.f9="MediaCapabilitiesLogHelperSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.g9=void 0;b.g9="MediaCapabilitiesSymbol";},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.EU=void 0;c=a(32);l=a(464);k=a(59);a(144);new (a(104).my)();f=(function(){function a(a,b){var d;d=l.SL.call(this,a,b,c.Js.Audio) || this;d.config=a;d.Ema=b;d.type=c.Tx.jB;return d;}M(a,l.SL);a.prototype.mT=function(){return Promise.resolve(!1);};a.prototype.YC=function(){var a;a={};a[k.zi.YU]="mp4a.40.2";a[k.zi.g6a]="mp4a.40.2";a[k.zi.X7]="mp4a.40.5";a[k.zi.ZU]="mp4a.40.2";a[k.zi.FW]="mp4a.40.42";this.config().Pga && (a[k.zi.AU]="ec-3");this.config().Oga && (a[k.zi.W6]="ec-3");this.config().EP && (a[k.zi.BU]="ec-3");return a;};a.prototype.HOa=function(a){return a || this.config().DO;};a.qL="audio/mp4;codecs={0};";return a;})();b.EU=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.uh=void 0;b.uh=(function(){function a(){}a.hwa=/^hevc-main/;a.gwa=/^hevc-hdr-|hevc-dv/;a.Zu=/^hevc-hdr-/;a.Vu=/^hevc-dv/;a.CF=/-h264mpl/;a.cM=/-h264mpl30/;a.DF=/-h264mpl31/;a.oF=/-h264hpl/;a.qy=/^vp9-/;a.mj=/^av1-/;a.cU=/^heaac-2-/;a.qXb=/^heaac-2hq-dash/;a.FW=/^xheaac-dash/;a.o4a=/ddplus-2/;a.p4a=/ddplus-5/;a.q4a=/ddplus-atmos/;return a;})();},function(f,b,a){var l,k,r;function c(a,b,d){this.config=a;this.Ema=b;this.I=d;this.Gma={};this.Gma[l.Js.Audio]="audio";this.Gma[l.Js.gDa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.SL=void 0;l=a(32);f=a(104);k=a(463);r=new f.my().format;c.prototype.YOa=function(a){return this.Cpb(this.HOa(a));};c.prototype.$v=function(a){return this.Ema.isTypeSupported(a);};c.prototype.JNa=function(){return [k.uh.cU,k.uh.CF];};c.prototype.Eka=function(){this.dm=[];this.Xr=[];this.config().SUa && this.Xr.push(k.uh.hwa);this.config().RUa && this.Xr.push(k.uh.gwa);this.config().WR && this.Xr.push(k.uh.oF);this.config().TUa && this.Xr.push(k.uh.qy);this.config().QUa && this.Xr.push(k.uh.mj);this.Xr=this.Xr.concat(this.JNa());!this.config().lrb && this.dm.push(k.uh.FW);!this.config().Pga && this.dm.push(k.uh.o4a);!this.config().Oga && this.dm.push(k.uh.p4a);!this.config().EP && this.dm.push(k.uh.q4a);!this.config().brb && this.dm.push(/prk$/);this.config().SUa || this.config().Sqb || this.dm.push(k.uh.hwa);this.config().RUa || this.config().Rga || this.dm.push(k.uh.gwa);this.config().WR || this.config().h_ || this.dm.push(k.uh.oF);this.config().TUa || this.config().jrb || this.dm.push(k.uh.qy);this.config().QUa || this.config().Mqb || this.dm.push(k.uh.mj);};c.prototype.B_=function(a){var b;b=this;a=a.filter(function(a){for(var d=S(b.Xr),c=d.next();!c.done;c=d.next()){if(c.value.test(a))return !0;}d=S(b.dm);for(c=d.next();!c.done;c=d.next()){if(c.value.test(a))return !1;}a=b.Eoa[a];c="";if(a)return (Array.isArray(a) && (c=1 < a.length?" " + a[1]:"",a=a[0]),a=r("{0}/mp4;codecs={1};{2}",b.Gma[b.I],a,c),b.$v(a));});return Promise.resolve(a);};c.prototype.Cpb=function(a){var b;b={};this.Eka();return this.B_(a).then(function(a){return a.map(function(a){return b[a]=1;});}).then(function(){return Object.keys(b);});};ma.Object.defineProperties(c.prototype,{Eoa:{configurable:!0,enumerable:!0,get:function(){this.IFa || (this.IFa=this.YC());return this.IFa;}}});b.SL=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.u6=void 0;b.u6={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.M6=void 0;b.M6="CapabilityDetectorFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.K7=void 0;b.K7="ExtraPlatformInfoProviderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.P6=void 0;b.P6="CdnThroughputTracker";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.uaa=void 0;b.uaa="ThroughputTrackerConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.W9=void 0;b.W9="PboGenerateScreenshotsCommandSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.l7=void 0;b.l7="DiagnosticsFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.zaa=void 0;b.zaa="TransitionLoggerSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Laa=void 0;b.Laa="VideoPlayerFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.w$=void 0;b.w$="PlaybackFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.eaa=void 0;b.eaa="SegmentConfigFactorySymbol";},function(f,b,a){var l;function c(a,b,c,p,d,m){this.level=a;this.Im=b;this.timestamp=c;this.message=p;this.jd=d;this.index=void 0 === m?0:m;this.y7a={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.M8=void 0;l=a(4);c.prototype.v5=function(a,b){var c;c="" + this.message;this.jd.forEach(function(g){c+=g.eF(a,b);});return (this.timestamp.aa(l.fa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.y7a[this.level] || this.level) + "|" + this.Im + "| " + c;};b.M8=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.c7=void 0;b.c7="DebouncerFactorySymbol";},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.BF=b.Ova=void 0;c=a(0);l=a(489);k=a(1);f=(function(){var b;function a(){}a.prototype.create=function(){return new l.oj();};b=a;return b=c.__decorate([k.N()],b);})();b.Ova=f;b.BF="EventSourceFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.BF=void 0;b.BF="EventSourceFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.wV=void 0;b.wV="MediaElementHelpersSymbol";},function(f,b,a){var l,k,r,g;function c(a,b,c,g,f,l,h){this.debug=a;this.config=b;this.platform=c;this.w2=g;this.debug.assert(f && f != k.K.zl,"There should always be a specific error code");this.errorCode=f || k.K.zl;l && r.bf(l)?(this.ja=l.ja || l.ld,this.Ie=l.Ie || l.Hg,this.fha=l.fha || l.iI,this.ub=l.ub || l.Nt,this.dD=l.eha,this.qI=l.qI || l.FTa || l.lu,this.q_=l.q_ || l.data,l.pR && (this.pR=l.pR),this.Bj=l.Bj,this.method=l.method,this.P2=l.P2,this.alert=l.alert,this.uda=l.uda,this.debug.assert(!this.Bj || this.Bj == this.Ie)):(this.ja=l,this.Ie=h);this.stack=[this.errorCode];this.ja?this.stack.push(this.ja):this.Ie && this.stack.push(k.L.zl);this.Ie && this.stack.push(this.Ie);this.UZ=this.platform.kD + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;l=a(11);k=a(2);r=a(26);g=a(16);a(24);c.prototype.toString=function(){var a;a="[PlayerError #" + this.UZ + "]";this.ub && (a+=" " + this.ub);this.dD && (a+=" (CustomMessage: " + this.dD + ")");return a;};c.prototype.tra=function(){var a,b;this.dD && (a=["streaming_error"]);a || this.w2.xr() !== l.IU || ("80080017" == this.Ie && (a=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ie && (a=["pause_timeout"]));a || this.w2.xr() !== l.t7 || this.errorCode !== k.K.nva && this.errorCode !== k.K.x7 || (a=["no_cdm","platform_error","plugin_error"]);this.UAb() && (a=["received_soad"]);b=this.Aub();b && (a=[b],this.dD=void 0);if(!a)switch(this.errorCode){case k.K.OV:case k.K.nV:case k.K.z2a:case k.K.wza:a=["pause_timeout"];break;case k.K.Uwa:case k.K.Vwa:a=this.ja?["platform_error"]:["multiple_tabs"];break;case k.K.C7a:case k.K.q$a:case k.K.b7a:case k.K.a7a:case k.K.d7a:a=["should_signout_and_signin"];break;case k.K.r8:case k.K.zza:case k.K.yza:case k.K.O9:case k.K.d9a:a=["platform_error","plugin_error"];break;case k.K.n9a:a=["no_cdm","platform_error","plugin_error"];break;case k.K.M9:a=this.ja?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case k.K.KU:case k.K.PV:case k.K.Aza:switch(this.Ie){case "FFFFD000":a=["device_needs_service","platform_error"];break;case "48444350":a=["unsupported_output","platform_error"];break;case "00000024":a=["private_mode"];}break;case k.K.xza:case k.K.L9:a=["unsupported_output"];}!a && k.Lva(this.ja) && (a=this.ja == k.L.lM?["geo"]:["internet_connection_problem"]);a || this.errorCode !== k.K.x7 || this.ja !== k.L.vh || "S" !== this.platform.kD || (a=["private_mode"]);if(!a)switch(this.k_a(this.ja)){case k.L.Naa:a=["should_upgrade"];break;case k.L.rza:a=["should_reset_device"];break;case k.L.qza:a=["should_reload_device"];break;case k.L.pza:a=["should_exit_device"];break;case k.L.l8a:case k.L.cya:a=["should_signout_and_signin"];break;case k.L.m8a:a=["internet_connection_problem"];break;case k.L.Aua:a=["platform_error","plugin_error"];break;case k.L.Y6:case k.L.Awa:case k.L.Bwa:a=["private_mode"];}a=a || [];a.push(this.platform.kD + this.errorCode);if(this.ja)switch(this.k_a(this.ja)){case k.L.sza:a.push("incorrect_pin");break;default:a.push("" + this.ja);}a={display:{code:this.UZ,text:this.dD},messageIdList:a,alert:this.alert,alertTag:this.uda};if(this.qI || this.FTa)a.mslErrorCode=this.qI || this.FTa || this.lu;return a;};c.prototype.k_a=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};c.prototype.UAb=function(){var a;a=g.oa(this.Ie)?this.Ie.toString():g.Td(this.Ie)?this.Ie:"";return this.qI === k.AV.Faa && (a.endsWith("2018") || a.endsWith("2020"));};c.prototype.Aub=function(){if(this.errorCode === k.K.rB && (this.ja === k.L.G9 || this.ja === k.L.oza))return this.Bub(this.ja === k.L.G9);};c.prototype.Bub=function(a){var b,c,g,p;g=this.config().browserInfo || ({});p=null === (b=g.os) || void 0 === b?void 0:b.name;b=((null === (c=g.os) || void 0 === c?void 0:c.version) || "").split(".");c=parseInt(b && b[0]);b=parseInt(b && b[1]);switch(p){case "windows":return 6 > c || 6 === c && 1 > b?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > c || 10 === c && 10 > b?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.zAa=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gaa=void 0;b.Gaa="UrlFactorySymbol";},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.P$=void 0;c=a(0);l=a(1);f=(function(){var b;function a(a){this.ycb=void 0 === a?!1:a;this.me={0:[]};}a.prototype.add=function(a,b){var d;b=void 0 === b?0:b;d=this.me[b];d?this.ycb && -1 !== d.indexOf(a) || d.push(a):this.me[b]=[a];};a.prototype.remove=function(a,b){this.Bv(a,void 0 === b?0:b);};a.prototype.removeAll=function(a){this.Bv(a);};a.prototype.sr=function(){var a;a=this;return Object.keys(this.me).sort().reduce(function(b,d){return b.concat(a.me[d]);},[]);};a.prototype.Bv=function(a,b){Object.entries(this.me).forEach(function(d){var c,g;c=S(d);d=c.next().value;c=c.next().value;if(void 0 === b || b === parseInt(d)){-1 < (g=c.indexOf(a)) && c.splice(g,1);}});};b=a;return b=c.__decorate([l.N()],b);})();b.P$=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.s9=b.j8a=void 0;b.j8a=function(){};b.s9="MseConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.g7=void 0;b.g7="DecoderTimeoutPathologistSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.V6=void 0;b.V6="CsvEncoderSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.paa=void 0;b.paa="StringUtilsSymbol";},function(f,b,a){(function(c){var Y,Ia,ia,oa,qa,Aa;function f(a,d){var c;c={Spa:[],Bk:r};3 <= arguments.length && (c.depth=arguments[2]);4 <= arguments.length && (c.IH=arguments[3]);E(d)?c.yqa=d:d && b.Ibb(c,d);C(c.yqa) && (c.yqa=!1);C(c.depth) && (c.depth=2);C(c.IH) && (c.IH=!1);C(c.zKa) && (c.zKa=!0);c.IH && (c.Bk=k);return p(c,a,c.depth);}function k(a,b){return (b=f.wQb[b])?"\u001b[" + f.IH[b][0] + "m" + a + "\u001b[" + f.IH[b][1] + "m":a;}function r(a){return a;}function g(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function p(a,c,f){var k,l,r,h,E;if(a.zKa && c && V(c.HQ) && c.HQ !== b.HQ && (!c.constructor || c.constructor.prototype !== c)){k=c.HQ(f,a);D(k) || (k=p(a,k,f));return k;}if(k=d(a,c))return k;l=Object.keys(c);r=g(l);a.yqa && (l=Object.getOwnPropertyNames(c));if(R(c) && (0 <= l.indexOf("message") || 0 <= l.indexOf("description")))return m(c);if(0 === l.length){if(V(c))return a.Bk("[Function" + (c.name?": " + c.name:"") + "]","special");if(n(c))return a.Bk(RegExp.prototype.toString.call(c),"regexp");if(ba(c))return a.Bk(Date.prototype.toString.call(c),"date");if(R(c))return m(c);}k="";h=!1;E=["{","}"];J(c) && (h=!0,E=["[","]"]);V(c) && (k=" [Function" + (c.name?": " + c.name:"") + "]");n(c) && (k=" " + RegExp.prototype.toString.call(c));ba(c) && (k=" " + Date.prototype.toUTCString.call(c));R(c) && (k=" " + m(c));if(0 === l.length && (!h || 0 == c.length))return E[0] + k + E[1];if(0 > f)return n(c)?a.Bk(RegExp.prototype.toString.call(c),"regexp"):a.Bk("[Object]","special");a.Spa.push(c);l=h?t(a,c,f,r,l):l.map(function(b){return x(a,c,f,r,b,h);});a.Spa.pop();return A(l,k,E);}function d(a,b){if(C(b))return a.Bk("undefined","undefined");if(D(b))return (b="'" + JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"') + "'",a.Bk(b,"string"));if(L(b))return a.Bk("" + b,"number");if(E(b))return a.Bk("" + b,"boolean");if(null === b)return a.Bk("null","null");}function m(a){return "[" + Error.prototype.toString.call(a) + "]";}function t(a,b,d,c,g){for(var m=[],p=0,t=b.length;p < t;++p){Object.prototype.hasOwnProperty.call(b,String(p))?m.push(x(a,b,d,c,String(p),!0)):m.push("");}g.forEach(function(g){g.match(/^\d+$/) || m.push(x(a,b,d,c,g,!0));});return m;}function x(a,b,d,c,g,m){var t,f;b=Object.getOwnPropertyDescriptor(b,g) || ({value:b[g]});b.get?f=b.set?a.Bk("[Getter/Setter]","special"):a.Bk("[Getter]","special"):b.set && (f=a.Bk("[Setter]","special"));Object.prototype.hasOwnProperty.call(c,g) || (t="[" + g + "]");f || (0 > a.Spa.indexOf(b.value)?(f=null === d?p(a,b.value,null):p(a,b.value,d - 1),-1 < f.indexOf("\n") && (f=m?f.split("\n").map(function(a){return "  " + a;}).join("\n").substr(2):"\n" + f.split("\n").map(function(a){return "   " + a;}).join("\n"))):f=a.Bk("[Circular]","special"));if(C(t)){if(m && g.match(/^\d+$/))return f;t=JSON.stringify("" + g);t.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(t=t.substr(1,t.length - 2),t=a.Bk(t,"name")):(t=t.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t=a.Bk(t,"string"));}return t + ": " + f;}function A(a,b,d){var c;c=0;return 60 < a.reduce(function(a,b){c++;0 <= b.indexOf("\n") && c++;return a + b.replace(/\u001b\[\d\d?m/g,"").length + 1;},0)?d[0] + ("" === b?"":b + "\n ") + " " + a.join(",\n  ") + " " + d[1]:d[0] + b + " " + a.join(", ") + " " + d[1];}function J(a){return Array.isArray(a);}function E(a){return "boolean" === typeof a;}function L(a){return "number" === typeof a;}function D(a){return "string" === typeof a;}function C(a){return void 0 === a;}function n(a){return q(a) && "[object RegExp]" === Object.prototype.toString.call(a);}function q(a){return "object" === typeof a && null !== a;}function ba(a){return q(a) && "[object Date]" === Object.prototype.toString.call(a);}function R(a){return q(a) && ("[object Error]" === Object.prototype.toString.call(a) || a instanceof Error);}function V(a){return "function" === typeof a;}function W(a){return 10 > a?"0" + a.toString(10):a.toString(10);}function u(){var a,b;a=new Date();b=[W(a.getHours()),W(a.getMinutes()),W(a.getSeconds())].join(":");return [a.getDate(),qa[a.getMonth()],b].join(" ");}function ha(a,b){var d;if(!a){d=Error("Promise was rejected with a falsy value");d.reason=a;a=d;}return b(a);}Y=Object.g3b || (function(a){for(var b=Object.keys(a),d={},c=0;c < b.length;c++){d[b[c]]=Object.getOwnPropertyDescriptor(a,b[c]);}return d;});Ia=/%[sdj%]/g;b.format=function(a){if(!D(a)){for(var b=[],d=0;d < arguments.length;d++){b.push(f(arguments[d]));}return b.join(" ");}for(var d=1,c=arguments,g=c.length,b=String(a).replace(Ia,function(a){if("%%" === a)return "%";if(d >= g)return a;switch(a){case "%s":return String(c[d++]);case "%d":return Number(c[d++]);case "%j":try{return JSON.stringify(c[d++]);}catch(eb){return "[Circular]";}default:return a;}}),m=c[d];d < g;m=c[++d]){b=null !== m && q(m)?b + (" " + f(m)):b + (" " + m);}return b;};b.npb=function(a,d){var g;if("undefined" !== typeof c && !0 === c.O4b)return a;if("undefined" === typeof c)return function(){return b.npb(a,d).apply(this,arguments);};g=!1;return function(){if(!g){if(c.l6b)throw Error(d);c.p6b?console.trace(d):console.error(d);g=!0;}return a.apply(this,arguments);};};ia={};b.X1b=function(a){var d;C(oa) && (oa=c.Erb.wYb || "");a=a.toUpperCase();if(!ia[a])if(new RegExp("\\b" + a + "\\b","i").test(oa)){d=c.k5b;ia[a]=function(){var c;c=b.format.apply(b,arguments);console.error("%s %d: %s",a,d,c);};}else ia[a]=function(){};return ia[a];};b.HQ=f;f.IH={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.wQb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};b.isArray=J;b.fAb=E;b.Ua=function(a){return null === a;};b.I3b=function(a){return null == a;};b.oa=L;b.Td=D;b.L3b=function(a){return "symbol" === typeof a;};b.X=C;b.$Qa=n;b.bf=q;b.v1=ba;b.KQ=R;b.Yb=V;b.XQa=function(a){return null === a || "boolean" === typeof a || "number" === typeof a || "string" === typeof a || "symbol" === typeof a || "undefined" === typeof a;};b.isBuffer=a(1096);qa=("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec").split(" ");b.log=function(){console.log("%s - %s",u(),b.format.apply(b,arguments));};b.vzb=a(1095);b.Ibb=function(a,b){if(b && q(b))for(var d=Object.keys(b),c=d.length;c--;){a[d[c]]=b[d[c]];}};h();h();Aa="undefined" !== typeof Symbol?Symbol("util.promisify.custom"):void 0;b.YJb=function(a){function b(){for(var b,d,c=new Promise(function(a,c){b=a;d=c;}),g=[],m=0;m < arguments.length;m++){g.push(arguments[m]);}g.push(function(a,c){a?d(a):b(c);});try{a.apply(this,g);}catch(eb){d(eb);}return c;}if("function" !== typeof a)throw new TypeError('The "original" argument must be of type Function');if(Aa && a[Aa]){b=a[Aa];if("function" !== typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,Aa,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));Aa && Object.defineProperty(b,Aa,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,Y(a));};b.YJb.Q1b=Aa;b.r1b=function(a){function b(){var m,p;function b(){return m.apply(p,arguments);}for(var d=[],g=0;g < arguments.length;g++){d.push(arguments[g]);}m=d.pop();if("function" !== typeof m)throw new TypeError("The last argument must be of type Function");p=this;a.apply(this,d).then(function(a){c.TTa(b,null,a);},function(a){c.TTa(ha,a,b);});}if("function" !== typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(b,Object.getPrototypeOf(a));Object.defineProperties(b,Y(a));return b;};}).call(this,a(264));},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.oj=void 0;c=a(0);l=a(1);f=(function(){var b,g;function a(){this.yo={};this.id="$es$" + b.iz++;}a.prototype.addListener=function(a,b,c){var d,g;d="$netflix$player$order" + this.id + "$" + a;if(this.yo){g=this.yo[a]?this.yo[a].slice():[];c && (b[d]=c);0 > g.indexOf(b) && (g.push(b),g.sort(function(a,b){return (a[d] || 0) - (b[d] || 0);}));this.yo[a]=g;}};a.prototype.removeListener=function(a,b){if(this.yo && this.yo[a]){for(var d=this.yo[a].slice(),c;0 <= (c=d.indexOf(b));){d.splice(c,1);}this.yo[a]=d;}};a.prototype.ac=function(a,b,c){var d;if(this.yo){d=this.uia(a);for(a={kk:0};a.kk < d.length;(a={kk:a.kk},a.kk++)){c?(function(a){return function(){var c;c=d[a.kk];setTimeout(function(){c(b);},0);};})(a)():d[a.kk].call(this,b);}}};a.prototype.Gg=function(){this.yo=void 0;};a.prototype.on=function(a,b,c){this.addListener(a,b,c);};a.prototype.uia=function(a){var b;return null !== (b=this.yo && (this.yo[a] || (this.yo[a]=[]))) && void 0 !== b?b:[];};g=b=a;g.iz=0;return g=b=c.__decorate([l.N()],g);})();b.oj=f;},function(f,b,a){var c,l,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.A6=void 0;c=a(0);l=a(1);f=Array.prototype.slice;k=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");f=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");r={};g={};p={};d={};m=/\s+/g;[k,f].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];r[c]=b << 18;g[c]=b << 12;p[c]=b << 6;d[c]=b;}});f=(function(){var b,f;function a(){}a.prototype.encode=function(a){return b.Uga(a,k,"=");};a.prototype.decode=function(a){return b.dga(a);};a.dga=function(a){var b,c,t;a=a.replace(m,"");b=a.length;c=a.charAt(b - 1);"=" !== c && "." !== c || b--;c=a.charAt(b - 1);"=" !== c && "." !== c || b--;c=3 * (b >> 2);t=0;switch(b % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c + t),f=0,k=0,l;k < c;){l=r[a[f++]] + g[a[f++]] + p[a[f++]] + d[a[f++]];if(!(0 <= l && 16777215 >= l))throw Error("bad base64");b[k++]=l >>> 16;b[k++]=l >>> 8 & 255;b[k++]=l & 255;}if(0 < t && (l=r[a[f++]] + g[a[f++]],b[k++]=l >>> 16,1 < t && (l+=p[a[f++]],b[k++]=l >>> 8 & 255),!(0 <= l && 16776960 >= l && 0 === (l & (1 < t?255:65535)))))throw Error("bad base64");return b;};a.Uga=function(a,b,d){for(var c="",g=0,m=a.length,p=m - 2,t;g < p;){t=(a[g++] << 16) + (a[g++] << 8) + a[g++];if(!(0 <= t && 16777215 >= t))throw Error("not bytes");c+=b[t >>> 18] + b[t >>> 12 & 63] + b[t >>> 6 & 63] + b[t & 63];}if(g == p){t=(a[g++] << 8) + a[g++];if(!(0 <= t && 65535 >= t))throw Error("not bytes");c+=b[t >>> 10] + b[t >>> 4 & 63] + b[t << 2 & 63] + d;}else if(g == m - 1){t=a[g++];if(!(0 <= t && 255 >= t))throw Error("not bytes");c+=b[t >>> 2] + b[t << 4 & 63] + d + d;}return c;};f=b=a;return f=b=c.__decorate([l.N()],f);})();b.A6=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.z6=void 0;c=a(0);l=a(1);k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};f=(function(){var b;function a(){}a.prototype.decode=function(a){for(var b=new Uint8Array(a.length / 2),c=0;c < b.length;c++){b[c]=this.f0a(a.substr(2 * c,2));}return b;};a.prototype.encode=function(a){var p,b;for(var b="",c=a.length,g=0;g < c;g++){p=a[g];b=b + (("0123456789ABCDEF")[p >>> 4] + ("0123456789ABCDEF")[p & 15]);}return b;};a.prototype.UP=function(a,b){var d;d="";for(b<<=1;b--;){d=(("0123456789ABCDEF")[a & 15] || "0") + d;a>>>=4;}return d;};a.prototype.f0a=function(a){var b;b=a.length;if(7 < b)throw Error("hex to long");for(var c=0,g=0;g < b;g++){c=16 * c + k[a[g]];}return c;};b=a;return b=c.__decorate([l.N()],b);})();b.z6=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.C9=void 0;b.C9="OneWayCounterFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.R6=void 0;b.R6="ClockConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.gp=void 0;f=b.gp || (b.gp={});f.bsa="usable";f.Orb="expired";f.sLb="released";f.PUa="output-restricted";f.nHb="output-downscaled";f.XZa="status-pending";f.Rzb="internal-error";},function(f,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.vLa=b.Hq=void 0;(function(a){a[a.MRa=0]="licenseStarted";a[a.$Wa=1]="receivedLicenseChallenge";a[a.ZWa=2]="receivedLicense";a[a.aXa=3]="receivedRenewalChallengeComplete";a[a.bXa=4]="receivedRenewalLicenseComplete";a[a.cXa=5]="receivedRenewalLicenseFailed";a[a.HKb=6]="receivedIndivChallengeComplete";a[a.IKb=7]="receivedIndivLicenseComplete";a[a.KGa=8]="addLicenseComplete";a[a.PGa=9]="addRenewalLicenseComplete";a[a.QGa=10]="addRenewalLicenseFailed";})(a=b.Hq || (b.Hq={}));b.vLa=function(b){switch(b){case a.MRa:return "lg";case a.$Wa:return "lc";case a.ZWa:return "lr";case a.aXa:return "renew_lc";case a.bXa:return "renew_lr";case a.cXa:return "renew_lr_failed";case a.HKb:return "ilc";case a.IKb:return "ilr";case a.KGa:return "ld";case a.PGa:return "renew_ld";case a.QGa:return "renew_ld_failed";default:return "unknown";}};},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J,E,L,D,C,n,q,ba,R,V;Object.defineProperty(b,"__esModule",{value:!0});b.Dva=b.V8=b.W8=void 0;c=a(0);l=a(1);k=a(146);r=a(4);g=a(2);p=a(19);d=a(6);m=a(41);t=a(39);h=a(52);A=a(80);J=a(495);f=a(494);E=a(148);L=a(266);D=a(1109);C=a(81);n=a(1108);q=a(61);ba=a(44);(function(a){a[a.vSb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Wi=3]="license";a[a.AE=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";})(R || (R={}));b.W8="license-request";b.V8="license-renewal";V={usable:{status:f.gp.bsa},expired:{status:f.gp.Orb,error:g.K.wza},released:{status:f.gp.sLb},"output-not-allowed":{status:f.gp.PUa,error:g.K.xza},"output-restricted":{status:f.gp.PUa,error:g.K.L9},"output-downscaled":{status:f.gp.nHb},"status-pending":{status:f.gp.XZa},"internal-error":{status:f.gp.Rzb,error:g.K.i9a}};a=(function(){var f;function a(a,d,c,m,p,t,f,l,r){var h;h=this;this.wa=d;this.Uv=c;this.config=m;this.kf=p;this.wi=t;this.Pt=f;this.Aa=l;this.il=r;this.onMessage=function(a){var d,c,m,p;try{d=h.wi.yfa(a);c=d.ex;m=d.Jma;p=d.sessionId;h.eJ=h.eJ || d.eJ;h.QS(p);h.Qz=h.wi.Qz(d);h.log.trace("Received " + a.type + " event",{sessionId:p,messageType:m,keyIds:h.eJ,isIntermediateChallenge:h.Qz});m === b.V8 && (h.log.trace("Received a renewal request"),h.Xi=A.Ci.xl,h.Nh=R.AE);h.Nh !== R.Wi || h.Qz || (h.Cla={Pt:h.Pt,data:c},h.eo(J.Hq.$Wa));h.Nh === R.AE && h.eo(J.Hq.aXa);if(h.ZQ){if(h.Jja(c)){h.cq(new ba.zc(g.K.rva));return;}h.ZQ.next({Qi:c,WIa:m,Xi:h.Xi});h.Xi !== A.Ci.xl || h.Qz || (h.ZQ.complete(),h.ZQ=void 0);}h.Nh === R.stop && (h.hj.Mjb(),h.config.Kj && h.GS && (h.GS.next({Qi:c}),h.GS.complete(),h.GS=void 0));}catch($a){h.cq($a);}};this.Bna=function(a){var b,d,c,t,f,k,l;b=a.target;d=b.keyStatuses;h.QS(b.sessionId);h.log.trace("Received event: " + a.type,{keySystem:b.keySystem});try{for(var m=S(d),p=m.next();!p.done;p=m.next()){t=S(p.value);f=t.next().value;k=t.next().value;h.log.trace("key status: " + k);l=V[k];h.hla.next({Rw:new Uint8Array(f),value:l.status});h.JD(l.error) && (c=new C.Te(l.error),h.OQ(c));}}catch(ab){c=new C.Te(g.K.j9a);c.uP(ab);}c?h.dla(c):(h.wi.lZ() || h.oRa(),h.Xi !== A.Ci.by || h.wi.Wda() || h.LLb());};this.fE=function(a){var b;b=h.wi.Jp(a);h.log.error("Received event: " + a.type,b);h.cq(b);h.dla(b);h.Ej || h.Tm || h.OQ(b);};this.wGb=function(){h.log.error("MediaKeySession closed unexpectedly.");h.OQ(new ba.zc(g.K.F5a));};this.cq=function(a){h.Ej && h.close().subscribe(void 0,function(b){h.log.error("EmeSession closed with an error.",h.wi.Jp(b));h.Ej && (h.Ej.error(a),h.Ej=void 0);},function(){h.log.trace("Issuing a generate challenge error");h.Ej && (h.Ej.error(a),h.Ej=void 0);});};this.nRa=function(){h.Ej && (h.Ej.complete(),h.Ej=void 0);};this.dla=function(a){h.Tm && (h.log.error("Failed to add license",a),h.close().subscribe(void 0,function(b){h.log.error("EmeSession closed with an error.",h.wi.Jp(b));h.Nh === R.AE && h.eo(J.Hq.QGa);h.Ej=void 0;h.Tm && (h.Tm.error(a),h.Tm=void 0);},function(){h.log.trace("Issuing a license error");h.Ej=void 0;h.Tm && (h.Tm.error(a),h.Tm=void 0);}));};this.oRa=function(){h.Tm && (h.log.info("Successfully added license"),h.Nh === R.Wi?h.eo(J.Hq.KGa):h.Nh === R.AE && h.eo(J.Hq.PGa),h.Tm.complete(),h.Tm=void 0);};this.OQ=function(a){h.or && h.close().subscribe(void 0,function(b){h.log.error("EmeSession closed with an error.",h.wi.Jp(b));h.Ej=void 0;h.Tm=void 0;h.or && (h.or.next(a),h.or.complete(),h.or=void 0);},function(){h.log.trace("Issuing a CDM error");h.Ej=void 0;h.Tm=void 0;h.or && (h.or.next(a),h.or.complete(),h.or=void 0);});};this.eo=function(a){h.zd.push({time:h.wa.zb(),wEb:a});};this.AXa=!1;this.log=a.ob("EmeSession");this.ZQ=new k.Kn();this.config.Kj && (this.GS=new k.Kn());this.hla=new k.P9a();this.or=new k.Kn();this.Nh=R.vSb;this.zd=[];}a.prototype.yw=function(){var a;return (null === (a=this.cTa) || void 0 === a?void 0:a.keySystem) || "";};a.prototype.xw=function(){return this.sessionId;};a.prototype.close=function(){var a;a=this;this.hla.complete();this.Nh=R.closed;this.zd=[];return this.kf.SAb()?(this.log.trace("Closing the session"),this.kf.tXa(this.onMessage),this.kf.qXa(this.Bna),this.kf.oXa(this.fE),this.Yl=void 0,k.Bb.create(function(b){a.il.jn(a.config.nHa,a.kf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(d){a.log.error("Close failed",d);d=a.wi.Jp(d);d.code=g.K.l9a;b.error(d);});})):k.Bb.empty();};a.prototype.gla=function(){return this.hla.Kda();};a.prototype.Rt=function(){return this.or?this.or.Kda():void 0;};a.prototype.xr=function(){return this.Pt;};a.prototype.Lja=function(){return void 0 !== this.Um;};a.prototype.Jm=function(a,b,d,c){var m;m=this;this.context=a;this.cTa=b;this.qR=d;this.Xi=c;this.Nh=R.create;this.eo(J.Hq.MRa);return k.Bb.create(function(a){(d.BPa()?Promise.resolve():m.il.jn(m.config.oHa,m.kf.Onb(b)).then(function(a){m.log.trace("Created media keys");d.LE(a);return m.ahb(a);})).then(function(){m.Yl=d.Yl;try{m.kf.Jm(m.Yl,m.wi.y0(c));m.kf.MGa(m.onMessage);m.kf.IGa(m.Bna);m.kf.GGa(m.fE);m.kf.$fb(m.wGb);m.QS(m.kf.xw());a.next(m);a.complete();}catch(Aa){a.error(new C.Te(g.K.z5a,g.L.vh,void 0,"Unable to create a persisted key session",Aa));}})["catch"](function(b){b.code && b.ld?a.error(b):a.error(new C.Te(g.K.x7,b instanceof q.Mn?g.L.aM:g.L.vh,void 0,"Unable to create MediaKeys. " + b.message,b));});});};a.prototype.tOb=function(a){this.tg=a;this.log.gda("xid",a.ea);};a.prototype.URa=function(a){var b;b=this;this.log.trace("Loading the session");this.Nh=R.load;this.gc=a.gc;this.pLb={ea:a.ea};return k.Bb.Vt(this.kf.load(a.gc[0].id).then(function(){b.log.trace("Loaded the session.");return b;})["catch"](function(a){b.log.error("Loading the session failed.",a);throw a;}));};a.prototype.tJb=function(a){return this.config.yYa && !a?this.tLb():Promise.resolve();};a.prototype.tLb=function(){var a,b;a=this;this.log.trace("Reloading the session.");b={gc:this.gc,he:this.yw(),u:this.tg.u,ea:this.tg.ea};return this.close().ns().then(function(){return a.log.trace("Creating the session.");}).then(function(){return a.Jm(a.context,a.cTa,a.qR,A.Ci.xl).ns();}).then(function(){return a.log.trace("Created the session.");}).then(function(){return a.URa(b).ns();}).then(function(){return a.log.trace("Reloaded the session.");});};a.prototype.Y_=function(a){var b;b=this;this.Nh=R.Wi;this.log.trace("Generating a license challenge");this.Ej=new k.Kn();if(!a)return this.afa(new C.Te(g.K.ova,g.L.A7));if(this.Jja(a))return this.afa(new C.Te(g.K.ova,g.L.y7));this.il.jn(this.config.pHa,this.kf.yI("cenc",a)).then(function(){b.QS(b.kf.xw());})["catch"](function(a){var d,c;d=new C.Te(g.K.JU,a instanceof q.Mn?g.L.aM:g.L.vh);c=b.wi.Jp(a);d.Hg=c.Hg;d.message="Unable to generate request.";d.uP(a);b.log.error("Unable to generate a license request",d);b.cq(d);});this.log.trace("Returning the challenge subject");return this.Ej;};a.prototype.JGa=function(a){var b;b=this;this.gc=a.gc;a=a.Um.map(function(a){return a.data;});this.Jja(a)?(this.log.error("The license buffer is empty"),this.cq(new C.Te(g.K.pva,g.L.y7))):this.Qz?this.il.jn(this.config.Bda,this.kf.update(a,this.eJ)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.wi.Jp(a);a.code=g.K.KU;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.cq(a);}):(this.Nh === R.Wi && (this.eo(J.Hq.ZWa),this.Um=a,this.nRa()),this.Nh === R.AE && (this.eo(J.Hq.bXa),this.Um=a,this.Hda()));};a.prototype.lgb=function(a){this.Nh === R.AE?(this.eo(J.Hq.cXa),this.OQ(a)):this.cq(a);};a.prototype.Hda=function(){var a,b;a=this;if(!this.Um)return this.afa(new C.Te(g.K.pva,g.L.A7));this.Tm=new k.Kn();b=this.Um;this.Um=void 0;this.il.jn(this.config.Bda,this.kf.update(b,this.eJ)).then(function(){a.wi.lZ() && a.oRa();})["catch"](function(b){b=a.wi.Jp(b);b.code=g.K.Aza;b.message="Unable to update the EME";a.log.error(b.message,b);a.dla(b);});return this.Tm;};a.prototype.kJ=function(){return this.ZQ;};a.prototype.lNa=function(a){var b;b=this;if(this.Nh === R.Wi && this.Xi === A.Ci.by)return k.Bb.empty();this.Ej=new k.Kn();this.hj=new n.Bva(this.wa,this.config,this.Aa,function(a){b.cq(a);},"non-persisted");this.hj.Njb();this.tJb(a).then(function(){b.Nh=R.stop;b.log.trace("Generating a secure stop challenge");return b.kf.remove();}).then(function(){return b.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(a){var d;d=b.wi.Jp(a);d.code=g.K.sva;d.ld=g.L.vh;d.message="Call to 'remove' on key session failed";b.log.error("Call to 'remove' on key session failed",{error:a});b.cq(d);});return this.Ej;};a.prototype.RGa=function(a){a && a.constructor !== Uint8Array?this.cq(a):a?0 === a.length?(this.log.error("The secure stop buffer is empty"),this.cq(new C.Te(g.K.qva,g.L.y7))):(this.log.trace("Secure stop is ready to apply"),this.wYa=a,this.hj.PNb(),this.nRa()):(this.log.error("The secure stop buffer is undefined"),this.cq(new C.Te(g.K.qva,g.L.A7)));};a.prototype.xHa=function(){var a;a=this;if(!this.wYa)return k.Bb.from([this]);this.log.trace("Setting the secure stop data");return k.Bb.create(function(b){a.hj.Ojb();a.kf.update([a.wYa]).then(function(){a.hj.RIa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(d){var c;a.hj.RIa();c=a.wi.Jp(d);c.code=g.K.KU;c.ld=g.L.vh;c.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:d});b.error(c);});});};a.prototype.ahb=function(a){var b,d;b=this;d=this.wi.mia();return d?(d=this.Uv.decode(d),this.il.jn(this.config.rHa,this.kf.yOb(a,d)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};a.prototype.QS=function(a){a && a !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + a),this.sessionId=a,this.log.gda("sessionId",a));};a.prototype.LLb=function(){var a;a=this;this.AXa || (this.AXa=!0,this.log.info("Kicking off license renewal",{timeout:this.config.Wz}),setTimeout(function(){a.wS();},this.config.Wz.aa(r.fa)));};a.prototype.JD=function(a){return a === g.K.L9?this.config.n3:! !a;};a.prototype.wS=function(){this.log.trace("Initiating a renewal request");this.Xi=A.Ci.xl;this.Nh=R.AE;this.wi.Cea()?this.wi.Gka(this.kf):this.wZ();};a.prototype.wZ=function(){var a,b;a=this;b=this.wi.y0(A.Ci.xl);this.kf.wZ(this.Yl,b,this.onMessage,this.Bna,this.fE).then(function(){a.log.debug("createSession(" + b + ")");a.QS(a.kf.xw());})["catch"](function(){a.OQ(new C.Te(g.K.JU));});};a.prototype.afa=function(a){var b;b=this;return k.Bb.create(function(d){b.close().subscribe(void 0,function(){d.error(a);},function(){d.error(a);});});};a.prototype.Jja=function(a){return 0 === a.length || a.reduce(function(a,b){return a || 0 === b.length;},!1);};f=a;return f=c.__decorate([l.N(),c.__param(0,l.l(d.xb)),c.__param(1,l.l(p.qd)),c.__param(2,l.l(m.Ai)),c.__param(3,l.l(h.mm)),c.__param(4,l.l(D.zva)),c.__param(5,l.l(L.hva)),c.__param(6,l.l(E.jva)),c.__param(7,l.l(t.Tg)),c.__param(8,l.l(q.jy))],f);})();b.Dva=a;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.D7=void 0;b.D7="EmeSessionFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.r7=void 0;b.r7="DrmProviderSymbol";},function(f,b,a){var k,r;function c(a){var b;b=a.value;a=a.Nj;a.closed || (a.next(b),a.complete());}function l(a){var b;b=a.jD;a=a.Nj;a.closed || a.error(b);}k=this && this.__extends || (function(a,b){function d(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(d.prototype=b.prototype,new d());});r=a(92);f=(function(a){function b(b,c){a.call(this);this.tu=b;this.Aa=c;}k(b,a);b.create=function(a,c){return new b(a,c);};b.prototype.Dm=function(a){var b,d,g;b=this;d=this.tu;g=this.Aa;if(null == g)this.xv?a.closed || (a.next(this.value),a.complete()):d.then(function(d){b.value=d;b.xv=!0;a.closed || (a.next(d),a.complete());},function(b){a.closed || a.error(b);}).then(null,function(a){r.root.setTimeout(function(){throw a;});});else if(this.xv){if(!a.closed)return g.Rc(c,0,{value:this.value,Nj:a});}else d.then(function(d){b.value=d;b.xv=!0;a.closed || a.add(g.Rc(c,0,{value:d,Nj:a}));},function(b){a.closed || a.add(g.Rc(l,0,{jD:b,Nj:a}));}).then(null,function(a){r.root.setTimeout(function(){throw a;});});};return b;})(a(23).Bb);b.aBa=f;},function(f,b,a){f=a(1134);b.from=f.Y5a.create;},function(f,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var g in b){b.hasOwnProperty(g) && (a[g]=b[g]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(a){function b(b,c){a.call(this);this.value=b;this.Aa=c;this.xv=!0;c && (this.xv=!1);}c(b,a);b.create=function(a,c){return new b(a,c);};b.Ec=function(a){var b,c;b=a.value;c=a.Nj;a.done?c.complete():(c.next(b),c.closed || (a.done=!0,this.Rc(a)));};b.prototype.Dm=function(a){var c,p;c=this.value;p=this.Aa;if(p)return p.Rc(b.Ec,0,{done:!1,value:c,Nj:a});a.next(c);a.closed || a.complete();};return b;})(a(23).Bb);b.IBa=f;},function(f,b,a){f=a(267);b.of=f.o6.of;},function(f,b,a){var c,l,k,r;c=this && this.__extends || (function(a,b){function d(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(d.prototype=b.prototype,new d());});l=a(185);f=a(186);b.AJ=function(a,b,d){void 0 === d && (d=Number.POSITIVE_INFINITY);return function(c){"number" === typeof b && (d=b,b=null);return c.Ir(new k(a,b,d));};};k=(function(){function a(a,b,c){void 0 === c && (c=Number.POSITIVE_INFINITY);this.vE=a;this.Du=b;this.kfa=c;}a.prototype.call=function(a,b){return b.subscribe(new r(a,this.vE,this.Du,this.kfa));};return a;})();b.dYb=k;r=(function(a){function b(b,c,g,p){void 0 === p && (p=Number.POSITIVE_INFINITY);a.call(this,b);this.vE=c;this.Du=g;this.kfa=p;this.wPa=!1;this.buffer=[];this.index=this.active=0;}c(b,a);b.prototype.Fl=function(a){this.active < this.kfa?this.ufb(a):this.buffer.push(a);};b.prototype.ufb=function(a){var b,d;d=this.index++;try{b=this.vE(a,d);}catch(x){this.destination.error(x);return;}this.active++;this.scb(b,a,d);};b.prototype.scb=function(a,b,c){this.add(l.n5(this,a,b,c));};b.prototype.ae=function(){this.wPa=!0;0 === this.active && 0 === this.buffer.length && this.destination.complete();};b.prototype.b3=function(a,b,c,g){this.Du?this.ydb(a,b,c,g):this.destination.next(b);};b.prototype.ydb=function(a,b,c,g){var d;try{d=this.Du(a,b,c,g);}catch(J){this.destination.error(J);return;}this.destination.next(d);};b.prototype.mu=function(a){var b;b=this.buffer;this.remove(a);this.active--;0 < b.length?this.Fl(b.shift()):0 === this.active && this.wPa && this.destination.complete();};return b;})(f.NV);b.eYb=r;},function(f,b,a){var c,l;c=a(503);l=a(1150);b.VD=function(a){void 0 === a && (a=Number.POSITIVE_INFINITY);return c.AJ(l.Yyb,null,a);};},function(f,b){b.MQ=function(a){return a && "function" !== typeof a.subscribe && "function" === typeof a.then;};},function(f,b){b.EQa=function(a){return a && "number" === typeof a.length;};},function(f,b,a){var c,l,k,r,g;c=this && this.__extends || (function(a,b){function d(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(d.prototype=b.prototype,new d());});f=a(69);l=a(1167);b.U4b=function(a,b){void 0 === b && (b=0);return function(d){return d.Ir(new k(a,b));};};k=(function(){function a(a,b){void 0 === b && (b=0);this.Aa=a;this.Ll=b;}a.prototype.call=function(a,b){return b.subscribe(new r(a,this.Aa,this.Ll));};return a;})();b.ZYb=k;r=(function(a){function b(b,d,c){void 0 === c && (c=0);a.call(this,b);this.Aa=d;this.Ll=c;}c(b,a);b.Ec=function(a){a.notification.observe(a.destination);this.unsubscribe();};b.prototype.Lpa=function(a){this.add(this.Aa.Rc(b.Ec,this.Ll,new g(a,this.destination)));};b.prototype.Fl=function(a){this.Lpa(l.Notification.Snb(a));};b.prototype.gf=function(a){this.Lpa(l.Notification.ynb(a));};b.prototype.ae=function(){this.Lpa(l.Notification.nnb());};return b;})(f.Ln);b.kza=r;g=(function(){return function(a,b){this.notification=a;this.destination=b;};})();b.YYb=g;},function(f,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var g in b){b.hasOwnProperty(g) && (a[g]=b[g]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(a){function b(){a.apply(this,arguments);this.co=[];this.active=!1;}c(b,a);b.prototype.flush=function(a){var b,c;b=this.co;if(this.active)b.push(a);else {this.active=!0;do {if(c=a.Je(a.state,a.Ll))break;}while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();){a.unsubscribe();}throw c;}}};return b;})(a(1168).r$a);b.mta=f;},function(f,b,a){var c,l;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var p in b){b.hasOwnProperty(p) && (a[p]=b[p]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});l=a(92);f=(function(a){function b(b,c){a.call(this,b,c);this.Aa=b;this.bn=!1;this.osa=c;}c(b,a);b.prototype.Rc=function(a,b){var d;void 0 === b && (b=0);if(this.closed)return this;this.state=a;this.bn=!0;a=this.id;d=this.Aa;null != a && (this.id=this.Yoa(a,b));this.Ll=b;this.id=this.id || this.jpa(d,this.id,b);return this;};b.prototype.jpa=function(a,b,d){void 0 === d && (d=0);return l.root.setInterval(a.flush.bind(a,this),d);};b.prototype.Yoa=function(a,b){void 0 === b && (b=0);return null !== b && this.Ll === b && !1 === this.bn?a:(l.root.clearInterval(a),void 0);};b.prototype.Je=function(a){if(this.closed)return Error("executing a cancelled action");this.bn=!1;if(a=this.mEa(a))return a;!1 === this.bn && null != this.id && (this.id=this.Yoa(this.id,null));};b.prototype.mEa=function(a){var b,d;b=!1;d=void 0;try{this.osa(a);}catch(m){b=!0;d=! !m && m || Error(m);}if(b)return (this.unsubscribe(),d);};b.prototype.Uca=function(){var a,b,d;a=this.id;b=this.Aa.co;d=b.indexOf(this);this.state=this.osa=null;this.bn=!1;this.Aa=null;-1 !== d && b.splice(d,1);null != a && (this.id=this.Yoa(a,null));this.Ll=null;};return b;})(a(1170).J2a);b.jta=f;},function(f,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var g in b){b.hasOwnProperty(g) && (a[g]=b[g]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(a){function b(b,c){a.call(this);this.kT=b;this.Nj=c;this.closed=!1;}c(b,a);b.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.kT;b=a.hx;this.kT=null;!b || 0 === b.length || a.Jg || a.closed || (a=b.indexOf(this.Nj),-1 !== a && b.splice(a,1));}};return b;})(a(124).ny);b.qCa=f;},function(f,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.XF=f;},function(f,b,a){var c,l,k,r,g,p,d,m;c=this && this.__extends || (function(a,b){function d(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(d.prototype=b.prototype,new d());});l=a(23);f=a(69);k=a(124);r=a(511);g=a(510);p=a(271);d=(function(a){function b(b){a.call(this,b);this.destination=b;}c(b,a);return b;})(f.Ln);b.S_b=d;a=(function(a){function b(){a.call(this);this.hx=[];this.tQ=this.Jg=this.closed=!1;this.mra=null;}c(b,a);b.prototype[p.IE]=function(){return new d(this);};b.prototype.Ir=function(a){var b;b=new m(this,this);b.XJ=a;return b;};b.prototype.next=function(a){if(this.closed)throw new r.XF();if(!this.Jg)for(var b=this.hx,d=b.length,b=b.slice(),c=0;c < d;c++){b[c].next(a);}};b.prototype.error=function(a){if(this.closed)throw new r.XF();this.tQ=!0;this.mra=a;this.Jg=!0;for(var b=this.hx,d=b.length,b=b.slice(),c=0;c < d;c++){b[c].error(a);}this.hx.length=0;};b.prototype.complete=function(){if(this.closed)throw new r.XF();this.Jg=!0;for(var a=this.hx,b=a.length,a=a.slice(),d=0;d < b;d++){a[d].complete();}this.hx.length=0;};b.prototype.unsubscribe=function(){this.closed=this.Jg=!0;this.hx=null;};b.prototype.Rca=function(b){if(this.closed)throw new r.XF();return a.prototype.Rca.call(this,b);};b.prototype.Dm=function(a){if(this.closed)throw new r.XF();if(this.tQ)return (a.error(this.mra),k.ny.EMPTY);if(this.Jg)return (a.complete(),k.ny.EMPTY);this.hx.push(a);return new g.qCa(this,a);};b.prototype.Kda=function(){var a;a=new l.Bb();a.source=this;return a;};b.create=function(a,b){return new m(a,b);};return b;})(l.Bb);b.Kn=a;m=(function(a){function b(b,d){a.call(this);this.destination=b;this.source=d;}c(b,a);b.prototype.next=function(a){var b;b=this.destination;b && b.next && b.next(a);};b.prototype.error=function(a){var b;b=this.destination;b && b.error && this.destination.error(a);};b.prototype.complete=function(){var a;a=this.destination;a && a.complete && this.destination.complete();};b.prototype.Dm=function(a){return this.source?this.source.subscribe(a):k.ny.EMPTY;};return b;})(a);b.VUb=m;},function(f,b){b.uz={e:{}};},function(f,b){b.bf=function(a){return null != a && "object" === typeof a;};},function(f,b){b.Yb=function(a){return "function" === typeof a;};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.y9=void 0;b.y9="NetworkMonitorConfigSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.bW=void 0;b.bW="QueryStringDataProviderSymbol";},function(f,b,a){var l,k;function c(a,b,c,d,m){this.version=a;this.fK=b;this.e_a=c;this.Ak=d;this.Lu=m;this.Ft=[];}Object.defineProperty(b,"__esModule",{value:!0});b.t8=void 0;l=a(2);k=a(44);c.prototype.load=function(a){return this.jCb(a);};c.prototype.add=function(a){this.Ft.push(a);return this.Una();};c.prototype.remove=function(a,b){a=this.yNa(this.wr(a,b));return 0 <= a?(this.Ft.splice(a,1),this.Una()):Promise.resolve();};c.prototype.update=function(a,b){b=this.yNa(this.wr(a,b));return 0 <= b?(this.Ft[b]=a,this.Una()):Promise.resolve();};c.prototype.jCb=function(a){var b;b=this;this.SRa || (this.SRa=new Promise(function(c,d){function g(a){b.gpb().then(function(){d(a);})["catch"](function(){d(a);});}b.lja().then(function(a){b.storage=a;return b.storage.load(b.fK);}).then(function(d){var m;d=d.value;try{m=a(d);b.version=m.version;b.Ft=m.data;c();}catch(A){g(A);}})["catch"](function(a){a.ja !== l.L.ly?d(a):c();});}));return this.SRa;};c.prototype.Una=function(){var a,b,c,d,m;a=this;if(!this.e_a)return Promise.resolve();if(this.h5){d=new Promise(function(a,d){b=a;c=d;});m=function(){a.h5=d;a.d_a().then(function(){b();})["catch"](function(a){c(a);});};this.h5.then(m)["catch"](m);return d;}return this.h5=this.d_a();};c.prototype.d_a=function(){var a,b;a=this;b=this.Lu();return new Promise(function(g,d){a.lja().then(function(d){return d.save(a.fK,b,!1);}).then(function(){g();})["catch"](function(a){d(c.GRb(l.K.a9a,a));});});};c.prototype.gpb=function(){var a;a=this;return this.e_a?new Promise(function(b,c){a.lja().then(function(b){return b.remove(a.fK);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};c.prototype.lja=function(){return this.storage?Promise.resolve(this.storage):this.Ak.create();};c.prototype.wr=function(a,b){for(var c=0;c < this.Ft.length;++c){if(b(this.Ft[c],a))return this.Ft[c];}};c.prototype.yNa=function(a){return a?this.Ft.indexOf(a):-1;};c.GRb=function(a,b){var c;if(b.ja && b.cause)return new k.zc(a,b.ja,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0 !== b.ld){c=(b.message?b.message + " ":"") + "";b.code=a;b.message="" === c?void 0:c;return b;}return b instanceof Error?new k.zc(a,l.L.vh,void 0,void 0,void 0,void 0,b.stack,b):new k.zc(a,l.L.zl,void 0,void 0,void 0,void 0,void 0,b);};b.t8=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.q7=void 0;b.q7="DrmDataFactorySymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.l$=void 0;b.l$="PlatformConfigOverridesSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.PL=void 0;b.PL="BrowserInfoSymbol";},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.KL=void 0;b.KL=(function(){function a(){}a.y9a="PSK";a.M7a="MGK";a.UXb="MGK_WITH_FALLBACK";a.TXb="MGK_JWE";a.IXb="JWEJS_RSA";a.jxa="JWK_RSA";a.JXb="JWK_RSAES";return a;})();},function(f,b,a){var k;function c(a,b){this.yf=b;this.Xw=Math.floor(a);this.display=this.Xw + " " + this.yf.name;}function l(a,b,c){this.yf=a;this.name=b;this.jo=c?c:this;k.Xm(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Lq=b.VM=void 0;k=a(53);l.prototype.LP=function(a){return this.yf == a.yf;};l.prototype.toJSON=function(){return this.name;};b.VM=l;c.prototype.aa=function(a){return this.yf.LP(a)?this.Xw:Math.floor(this.Xw * this.yf.yf / a.yf);};c.prototype.aWa=function(a){return this.yf.LP(a)?this.Xw:this.Xw * this.yf.yf / a.yf;};c.prototype.to=function(a){return new c(this.aa(a),a);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.Xw,units:this.yf.name};};c.prototype.add=function(a){return this.yJa(a);};c.prototype.Oa=function(a){return this.yJa(a,function(a){return -a;});};c.prototype.scale=function(a){return new c(this.aa(this.yf.jo) * a,this.yf.jo);};c.prototype.zj=function(a){return this.aa(this.yf.jo) - a.aa(this.yf.jo);};c.prototype.LP=function(a){return 0 == this.zj(a);};c.prototype.lRa=function(){return 0 == this.Xw;};c.prototype.SQa=function(){return 0 > this.Xw;};c.prototype.KAb=function(){return 0 < this.Xw;};c.prototype.yJa=function(a,b){b=void 0 === b?function(a){return a;}:b;return new c(this.aa(this.yf.jo) + b(a.aa(this.yf.jo)),this.yf.jo);};b.Lq=c;},function(f,b,a){var k;function c(a){return function(b){function c(d){return null !== d && null !== d.target && d.target.kma(a)(b);}c.hTa=new k.Metadata(a,b);return c;};}function l(a,b){a=a.nx;return null !== a?b(a)?!0:l(a,b):!1;}Object.defineProperty(b,"__esModule",{value:!0});f=a(42);k=a(62);b.w0a=l;b.y_a=c;b.KTa=c(f.iy);b.E0a=function(a){return function(b){var c;return null !== b?(c=b.LO[0],"string" === typeof a?c.xf === a:a === b.LO[0].Vk):!1;};};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(279);l=a(278);f=(function(){function a(a){this.Sb=a;this.hN=new l.D6(this.Sb);this.dba=new c.lU(this.Sb);}a.prototype.when=function(a){return this.hN.when(a);};a.prototype.$T=function(){return this.hN.$T();};a.prototype.nu=function(a){return this.dba.nu(a);};return a;})();b.fB=f;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);l=a(108);k=a(62);r=a(1214);f=(function(){function a(a,b,g,f){this.id=l.id();this.type=a;this.xf=g;this.name=new r.F9a(b || "");this.Gd=[];a=null;"string" === typeof f?a=new k.Metadata(c.iy,f):f instanceof k.Metadata && (a=f);null !== a && this.Gd.push(a);}a.prototype.FPa=function(a){for(var b=0,c=this.Gd;b < c.length;b++){if(c[b].key === a)return !0;}return !1;};a.prototype.isArray=function(){return this.FPa(c.uB);};a.prototype.rDb=function(a){return this.kma(c.uB)(a);};a.prototype.Oka=function(){return this.FPa(c.iy);};a.prototype.Yka=function(){return this.Gd.some(function(a){return a.key !== c.oM && a.key !== c.uB && a.key !== c.BV && a.key !== c.UM && a.key !== c.iy;});};a.prototype.UQa=function(){return this.kma(c.gza)(!0);};a.prototype.fwb=function(){return this.Oka()?this.Gd.filter(function(a){return a.key === c.iy;})[0]:null;};a.prototype.Pub=function(){return this.Yka()?this.Gd.filter(function(a){return a.key !== c.oM && a.key !== c.uB && a.key !== c.BV && a.key !== c.UM && a.key !== c.iy;}):null;};a.prototype.kma=function(a){var b;b=this;return function(d){var m;for(var c=0,g=b.Gd;c < g.length;c++){m=g[c];if(m.key === a && m.value === d)return !0;}return !1;};};return a;})();b.sW=f;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(54);l=a(42);k=a(62);r=a(95);f=(function(){function a(a){this.Qab=a;}a.prototype.zSb=function(){return this.Qab();};return a;})();b.F8=f;b.l=function(a){return function(b,d,g){var m;if(void 0 === a)throw Error(c.N$a(b.name));m=new k.Metadata(l.oM,a);"number" === typeof g?r.YE(b,d,g,m):r.wT(b,d,m);};};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(54);b.dRa=function(a){return a instanceof RangeError || a.message === c.i$a;};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);f=(function(){function a(){}a.prototype.ENa=function(a){var b;b=Reflect.getMetadata(c.F9,a);a=Reflect.getMetadata(c.tCa,a);return {CJa:b,FTb:a || ({})};};a.prototype.Ewb=function(a){return Reflect.getMetadata(c.uCa,a) || [];};return a;})();b.p9=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.te=void 0;f=a(1);c=a(94);l=a(1195);k=a(276);r=a(1188);g=a(1180);p=a(1106);a=a(573);b.te=new f.zU({PE:!0});p.RRa(b.te);b.te.load(l.platform);b.te.load(r.config);k.kI.load(g.GLa);b.te.load(a.qHa);b.te.load(a.profile);b.te.bind(c.v8).si(b.te);},function(f,b,a){var c,l,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(72);l=a(11);f=a(2);k=a(7);r=a(123);g=a(67);p=a(73);b=a(28);d=a(157);k.ga.get(b.Sf).register(f.K.Kwa,function(a){var b,f;b=k.ga.get(p.Us);f=O._cad_global.playerPredictionModel;b && O._cad_global.playerPredictionModel && (m=k.ga.get(r.G$).create(f,b.hJb.bind(b)),O._cad_global.prefetchEvents=m,b.$j.on("deletedCacheItem",function(a){m.TO(g.om.BM[a.type],parseInt(a.movieId,10),a.reason);}),c.Od.Il.addEventListener("cacheEvict",function(a){m.TO(r.Le.Dk.iM,a.movieId,"ase_cacheEvict");m.TO(r.Le.Dk.MEDIA,a.movieId,"ase_cacheEvict");}),c.Od.Il.addEventListener("flushedBytes",function(){c.Od.Il.VO().forEach(function(a){m.TO(r.Le.Dk.MEDIA,a.u,"ase_flushedBytes");},this);}),b.ij.addEventListener(d.Qs.C_a,function(a){m.fjb(g.om.BM[a.type],a.u);}),b.ij.addEventListener(d.Qs.A_a,function(a){m.ajb(g.om.BM[a.type],a.u,a.reason);}),b.ij.addEventListener(d.Qs.B_a,function(a){m.cjb(g.om.BM[a.type],a.u,a.reason);}),b.ij.addEventListener(d.Qs.D_a,function(a){m.hjb(g.om.BM[a.type],a.u,a.reason);}));a(l.Md);});},function(f,b,a){var k,r,g,p,d,m,t,h,A,J;function c(a,b){this.ej=a;this.Ok=b;}function l(a){this.G=a;this.reset();}k=a(192);r=a(191);b=a(282);g=a(281).config;p=b.Hub;d=b.mub;m=b.Apb;t=b.hGb;h=b.gGb;A=b.fGb;J=b.FMa;l.prototype.constructor=l;l.prototype.reset=function(){this.FFa=void 0;this.vj=[];this.sFa=this.tFa=!1;};l.prototype.update=function(a,b){var c;this.vj && (this.vj=this.vj.filter(this.dPb,this));if(!1 === this.tFa){c=p(a.Ia).slice(0,g.AKa);0 < c.length && (this.YD(c,r.Tu.Qj),this.tFa=!0,this.vj=this.jF(c.concat(this.vj)));}!1 === this.sFa && (c=d(a.Ia).slice(0,g.AKa),0 < c.length && (this.YD(c,r.Tu.Qj),this.sFa=!0,this.vj=this.jF(c.concat(this.vj))));switch(b){case r.Ru.Rva:b=this.$xb(a);break;case r.Ru.wBa:b=this.iyb(a);break;case r.Ru.iW:b=this.jyb(a);break;case r.Ru.zM:b=this.eyb(a);break;default:b=this.Xxb(a);}this.FFa=a;return b;};l.prototype.$xb=function(a){a=t(a.Ia,g.fYa,g.uJa);this.YD(a,r.Tu.Qj);return this.vj=this.jF(this.vj.concat(a));};l.prototype.iyb=function(a){var b,d;this.G.log("handleScrollHorizontal");b=a.Ia;a=t(b,g.hYa,g.vJa);d=m(b,this.FFa.Ia);b=b[d].list.slice(0,g.EMb);b.concat(a);this.YD(b,r.Tu.saa);return this.jF(b.concat(this.vj));};l.prototype.YD=function(a,b){a.forEach(function(a){if(void 0 === a.cz || a.cz < b)a.cz=b;void 0 === a.kL && (a.kL=k());void 0 === a.Dj && (a.Dj=k());});};l.prototype.jyb=function(a){this.G.log("handleSearch");a=h(a.Ia,g.aNb);this.YD(a,r.Tu.yBa);this.vj=a.concat(this.vj);return this.vj=this.jF(this.vj);};l.prototype.eyb=function(a){var b,d,m,f,t;this.G.log("handlePlayFocus: ",g.vQ);b=a.direction;d=a.Ia;a=[];m=J(d);if(void 0 !== m.ej)switch((a.push(m),b)){case r.Is.iBa:for(b=1;b < g.vQ;b++){a.push(new c(m.ej,m.Ok + b));}a.push(new c(m.ej - 1,m.Ok));a.push(new c(m.ej + 1,m.Ok));break;case r.Is.nxa:for(b=1;b < g.vQ;b++){a.push(new c(m.ej,m.Ok - b));}a.push(new c(m.ej - 1,m.Ok));a.push(new c(m.ej + 1,m.Ok));break;case r.Is.Q$a:a.push(new c(m.ej - 1,m.Ok));for(b=1;b <= g.vQ / 2;b++){a.push(new c(m.ej,m.Ok + b));a.push(new c(m.ej,m.Ok - b));}break;case r.Is.g5a:for((a.push(new c(m.ej + 1,m.Ok)),b=1);b <= g.vQ / 2;b++){a.push(new c(m.ej,m.Ok + b));a.push(new c(m.ej,m.Ok - b));}}f=[];a.forEach(function(a){t=A(d,a.ej,a.Ok);void 0 !== t && f.push(t);});this.YD(f,r.Tu.saa);return this.jF(f.concat(this.vj));};l.prototype.Xxb=function(a){this.G.log("ModelOne: handleDefaultCase");a=t(a.Ia,g.hYa,g.vJa);this.YD(a,r.Tu.saa);return this.jF(a.concat(this.vj));};l.prototype.dPb=function(a){return a.cz == r.Tu.Qj | a.cz == r.Tu.yBa & k() - a.kL < g.Myb;};l.prototype.jF=function(a){var b,d,c,g,m,f,t;b=[];d={};f=0;t=a.length;for(m=0;m < t;m++){c=a[m].la;g=a[m];!1 === (c in d)?(b.push(g),d[c]=f,f++):(c=b[d[c]],g.Dj < c.Dj && (c.Dj=g.Dj),g.cz > c.cz && (c.cz=g.cz),g.kL > c.kL && (c.kL=g.kL));}return b;};f.V=l;},function(f,b,a){var r,g,p,d,m,t,h;function c(a,b,d,c,g,m){this.u=this.la=a;this.ie=b;this.Fc=d;m && m.ke && (this.ke=m.ke);void 0 !== c && (this.nE=c);this.Dj=g;this.$a=m;}function l(a,b,d,c,g){p(void 0 !== c,"video preparer is null");p(void 0 !== g,"ui preparer is null");this.G=b || console;this.G=b;this.Ea=d;this.Efb=c;this.wfb=g;this.DFa=t.ooa;this.hH=[];this.Xca=!1;this.np=0;new h().on(t,"changed",k,this);this.reset();}function k(){this.G.log("config changed");t.ooa && (this.DFa=t.ooa);t.BR !== this.TG && (this.reset(),this.epa());}r=a(192);g=a(191);b=a(282);p=b.assert;d=b.FMa;m=a(532);t=a(281).config;h=a(111).Pg;t.declare({ooa:["ppmConfig",{uVb:{sUa:0,rUa:2,pUa:0,qUa:5,pZa:0},L_b:{sUa:0,rUa:1,pUa:0,qUa:3,pZa:1E3},JVb:{sUa:0,rUa:1,pUa:0,qUa:3,pZa:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.Kba=!0;this.TG=t.BR;this.G.log("create model: " + t.BR,t.fYa,t.uJa);switch(t.BR){case "modelone":this.TG=new m(this.G);break;default:this.TG=new m(this.G);}};l.prototype.epa=function(){var b,d;if(!1 === this.Xca){this.Xca=!0;for(var a=0;a < this.hH.length;a++){this.G.log("PlayPredictionModel replay: ",JSON.stringify(this.hH[a]));b=this.XJa(this.hH[a]);d=this.nNa(b);this.TG.update(b,d);this.Kba=!1;}this.hH=[];}};l.prototype.update=function(a){var b,d,c;this.G.log("PlayPredictionModel update: ",JSON.stringify(a));if(a && a.Ia && a.Ia[0]){!1 === this.Xca && this.hH.length < t.CDb && this.hH.push(a);b=this.XJa(a);d=this.nNa(b);this.G.log("actionType",d);b="mlmodel" == t.BR?this.TG.update(a,d):this.TG.update(b,d);b=this.Ltb(b,t.fBb || 1);this.G.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0 === this.np && (this.np=r(),this.Ea && this.Ea.yS && this.Ea.yS({RZ:this.np}));if(this.Ea && this.Ea.CXa){c={RZ:this.np,offset:this.m0(),dWa:[]};b.forEach(function(a){c.dWa.push({ms:a.la});});c.YVa=JSON.stringify(a);c.ZVa=JSON.stringify(b);this.Ea.CXa(c);}this.Efb.vx(b);this.wfb.vx(b);this.Kba=!1;}};l.prototype.iMb=function(){this.np=0;};l.prototype.m0=function(){return r() - this.np;};l.prototype.yS=function(){this.np=r();this.Ea && this.Ea.yS && this.Ea.yS({RZ:this.np});};l.prototype.XJa=function(a){var b,d,c,m,f;b={};m=a.Ia || [];f=(function(a){var m,f;m={};d=g.qM.name.indexOf(a.context);m.context=0 <= d?d:g.qM.gv;m.rowIndex=a.rowIndex;m.requestId=a.requestId;m.list=[];c=a.list || [];c.forEach((function(a){f={la:a.la,Fc:a.Fc,index:a.index,nE:a.nE,kK:a.kK,list:a.list,$a:a.$a};void 0 !== a.property && (d=g.JF.name.indexOf(a.property),f.property=0 <= d?d:g.JF.gv);m.list.push(f);}).bind(this));b.Ia.push(m);}).bind(this);void 0 !== a.direction && (d=g.Is.name.indexOf(a.direction),b.direction=0 <= d?d:g.Is.gv);void 0 !== a.RP && (b.Q2b=a.RP.rowIndex,b.P2b=a.RP.Rkb);b.RP=a.RP;b.Ia=[];m.forEach(f);return b;};l.prototype.nNa=function(a){var b,d,c;b=a.direction || g.Is.gv;d=a.RP;c=a.Ia || [];!0 === this.Kba?a=g.Ru.Rva:!0 === c.some(this.xyb)?(a=g.Ru.zM,this.i4(c,b,d)):a=c[0].context === g.qM.iW?g.Ru.iW:b === g.Is.iBa || b === g.Is.nxa?g.Ru.wBa:g.Ru.gv;return a;};l.prototype.xyb=function(a){return (a.list || []).some(function(a){return a.property === g.JF.zM || a.property === g.JF.zua;});};l.prototype.i4=function(a,b,c){var m,f;this.G.log("reportPlayFocusEvent: ",b,c);m={};f=d(a);this.Ea && this.Ea.i4 && (m.F2b=r(),m.direction=g.Is.name[b],c && (m.rowIndex=c.rowIndex,m.dfa=c.Rkb),void 0 !== f.ej && (m.requestId=a[f.ej].requestId),this.Ea.i4 && this.Ea.i4(m));};l.prototype.Ltb=function(a,b){for(var d=a.length,c=[],g,m,f,p,k=0;k < d;k++){m=a[k];g=Math.floor(k / b) + 1;if(void 0 !== m.list){f=m.list;p=f.length;for(var l=0;l < Math.min(t.Pkb,p) && !(f[l].Dj=m.Dj,this.NGa(f[l],g,c),c.length >= t.RSa);l++){;}}else this.NGa(m,g,c);if(c.length >= t.RSa)break;}return c;};l.prototype.NGa=function(a,b,d){var m,f;function g(a){a.ke && (a.$a || (a.$a={}),a.$a.ke=a.ke);return a.$a;}m=a.kK;void 0 !== m && m instanceof Array?m.forEach(function(m){void 0 !== m.la && (f=g(m),d.push(new c(m.la,b,m.Fc,m.nE,a.Dj,f)));}):void 0 !== m && void 0 !== m.la && (m=a.kK,f=g(m),d.push(new c(m.la,b,m.Fc,m.nE,a.Dj,f)));void 0 !== a.la && (f=g(a),d.push(new c(a.la,b,a.Fc,a.nE,a.Dj,f)));};l.prototype.Bz=function(a){var b;b=this.DFa;return a?b[a]:b;};f.V=l;},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(12);l=a(11);f=a(2);k=a(7);b=a(28);r=a(73);k.ga.get(b.Sf).register(f.K.Lwa,function(b){var d,m,f;if(c.config.HIb){d=k.gi("PlayerPredictionModel");m=k.ga.get(r.Us);f=a(533);d.log=d.trace.bind(d);g=new f({},d,{yS:function(a){O._cad_global.prefetchEvents.ypb(a.RZ);},CXa:function(a){O._cad_global.prefetchEvents.nJb(a);}},m,{vx:function(){}});O._cad_global.playerPredictionModel=g;d.info("ppm v2 initialized");}b(l.Md);});},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J;Object.defineProperty(b,"__esModule",{value:!0});c=a(128);l=a(131);k=a(11);r=a(46);f=a(2);g=a(7);p=a(211);d=a(18);m=a(26);t=a(9);b=a(28);h=a(48);A=a(94);J=a(142);g.ga.get(b.Sf).register(f.K.Qwa,function(a){function b(a,b){function c(a){a=new p.DU(g.Ap(a));a.yx();return {jBb:a.LWa(),rrb:a.LWa()};}return {encrypt:function(b,c){var f;b=m.Td(b)?g.vL(b):b;f=t.fv.getRandomValues(new Uint8Array(16));r.gE(t.oo.encrypt({name:"AES-CBC",iv:f},a,b)).then(function(a){var b,d;a=new Uint8Array(a);b=[];d=new p.DU(b);d.f6(2);d.Y1a(f);d.Y1a(a);a=g.Tv(b);c({success:!0,encryptedDataAsn1Base64:a});},function(a){d.Ya(!1,"Encrypt error: " + a);c({success:!1});});},decrypt:function(b,m){b=c(b);r.gE(t.oo.decrypt({name:"AES-CBC",iv:b.jBb},a,b.rrb)).then(function(a){a=new Uint8Array(a);m({success:!0,text:g.PT(a)});},function(a){d.Ya(!1,"Decrypt error: " + a);m({success:!1});});},hmac:function(a,c){a=m.Td(a)?g.vL(a):a;r.gE(t.oo.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);c({success:!0,hmacBase64:g.Tv(a)});},function(a){d.Ya(!1,"Hmac error: " + a);c({success:!1});});}};}c.aN.AO.mdx={getEsn:function(){return l.Jh.Kh;},createCryptoContext:function(a){var b;b=g.ga.get(A.eG);g.ga.get(J.RF)().then(function(c){var f,t;f=c.CR.getStateForMdx(b);t=f.cryptoContext;c=f.masterToken;f=f.userIdToken;c && f?(d.Ya(t),c=["1",g.Tv(JSON.stringify(c.toJSON())),g.Tv(JSON.stringify(f.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:c,encrypt:function(a,b){a=m.Td(a)?g.vL(a):a;t.encrypt(a,{result:function(a){a=g.Tv(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){d.Ya(!1,"Encrypt error: " + a);b({success:!1});}});},decrypt:function(a,b){a=g.Ap(a);t.decrypt(a,{result:function(a){b({success:!0,text:g.PT(a)});},timeout:function(){b({success:!1});},error:function(a){d.Ya(!1,"Decrypt error: " + a);b({success:!1});}});},hmac:function(a,b){a=m.Td(a)?g.vL(a):a;t.sign(a,{result:function(a){b({success:!0,hmacBase64:g.Tv(a)});},timeout:function(){b({success:!1});},error:function(a){d.Ya(!1,"Hmac error: " + a);b({success:!1});}});}}})):(d.Ya(!1,"Must login first"),a({success:!1}));});},createCryptoContextFromSharedSecret:function(a,d){var c;c=g.Ap(a);a=c.subarray(32,48);c=c.subarray(0,32);if(16 != a.length || 32 != c.length)throw Error("Bad shared secret");Promise.all([r.gE(t.oo.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),r.gE(t.oo.importKey("raw",c,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){d({success:!0,cryptoContext:b(a[0],a[1])});},function(){d({success:!1});});},getServerEpoch:function(){return h.$ea();}};a(k.Md);});},function(f,b,a){var c,l,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});f=a(128);c=a(11);l=a(12);k=a(56);b=a(6);r=a(7);g=a(49);p=a(102);d=a(18);m=a(26);t=a(9);O.netflix=O.netflix || ({});d.Ya(!O.netflix.player);O.netflix.player={VideoSession:f.aN,diag:{togglePanel:function(a,b){var d;d=[];if(!l.config || l.config.vS){switch(a){case "info":d=k.Hn.map(function(a){return a.B3;});break;case "streams":d=k.Hn.map(function(a){return a.C3;});break;case "log":d=[];}d.forEach(function(a){m.ec(b)?b?a.show():a.Zp():a.toggle();});}},addLogMessageSink:function(a){r.ga.get(g.wl).addListener({P5b:function(){},gEb:function(b){a({data:b.data});}});}},log:r.gi("Ext"),LogLevel:b.Di,addLogSink:function(a,b){r.ga.get(p.tB).e4(a,b);},getVersion:function(){return "0.0026.212.010";},isWidevineSupported:function(a){var d;function b(a){return function(b,d){return d.contentType == a;};}if("function" !== typeof a)throw Error("input param is not a function");d=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Hs,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.ey,robustness:"SW_SECURE_CRYPTO"}]}];try{t.Zh.requestMediaKeySystemAccess("com.widevine.alpha",d).then(function(d){var g;g=d.getConfiguration();d=g.videoCapabilities || [];g=(g.audioCapabilities || []).reduce(b(c.ey),!1);d=d.reduce(b(c.Hs),!1);a(g && d);})["catch"](function(){a(!1);});}catch(E){a(!1);}}};},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A;Object.defineProperty(b,"__esModule",{value:!0});f=a(28);b=a(2);c=a(6);l=a(33);k=a(154);r=a(11);g=a(12);p=a(7);d=a(72);m=a(56);t=a(128);h=a(200);A=a(73);p.ga.get(f.Sf).register(b.K.Rwa,function(a){var x,J,n;function b(a,b){return void 0 === a || void 0 === b?Promise.reject("Invalid email and/or password"):p.ga.get(h.QV).Je(this.log,{},{FLa:a,password:b}).then(function(){});}function f(a){var b;b=p.ga.get(A.Us);return b.yMa.fetch(a,b);}if(g.config.Rrb){x=p.ga.get(k.EM);J=p.ga.get(l.rj);n=p.ga.get(c.xb).ob("Test");t.aN.AO.test={pboRequests:x.CA.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:m.Hn,getPlayback:function(a){return m.Hn.find(function(b){return b.ea === a;});},playgraphManager:{isNextSegmentReady:function(a,b){var d,c;return void 0 !== (null === (c=null === (d=m.Hn.find(function(b){return b.ea === a;})) || void 0 === d?void 0:d.Gb) || void 0 === c?void 0:c.h0(b));}},aseManager:{cacheDestroy:function(){return d.Od.Il.AH();}},device:{esn:O._cad_global.device.Kh,esnPrefix:J.vz,errorPrefix:J.kD},log:{info:function(a,b){for(var d=[],c=1;c < arguments.length;++c){d[c - 1]=arguments[c];}return n.info(a,d);},error:function(a,b){for(var d=[],c=1;c < arguments.length;++c){d[c - 1]=arguments[c];}return n.error(a,d);},warn:function(a,b){for(var d=[],c=1;c < arguments.length;++c){d[c - 1]=arguments[c];}return n.warn(a,d);},trace:function(a,b){for(var d=[],c=1;c < arguments.length;++c){d[c - 1]=arguments[c];}return n.trace(a,d);},log:function(a,b){for(var d=[],c=1;c < arguments.length;++c){d[c - 1]=arguments[c];}return n.log(a,d);},debug:function(a,b){for(var d=[],c=1;c < arguments.length;++c){d[c - 1]=arguments[c];}return n.debug(a,d);}},login:b,getManifest:f};}a(r.Md);});},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(131);l=a(128);k=a(11);r=a(12);f=a(2);g=a(7);p=a(18);d=a(24);m=a(26);t=a(16);h=a(49);A=a(70);a=a(28);g.ga.get(a.Sf).register(f.K.Pwa,function(a){var b,f;b=g.gi("NccpApi");f=d.CHa(["info","warn","trace","error"]);l.aN.AO.nccp={getEsn:function(){return c.Jh.Kh;},getPreferredLanguages:function(){return r.config.kr.roa;},setPreferredLanguages:function(a){p.Ya(t.isArray(a) && m.Pw(a[0]));r.config.kr.roa=a;},queueLogblob:function(a,d,c){var m;if(a && d)if((d=d.toLowerCase(),f[d])){m=g.ga.get(h.wl);a=g.ga.get(A.Kq).Lp(a,d,c);m.Qc(a);}else b.warn("Invalid severity",{severity:d});},flushLogblobs:function(){g.ga.get(h.wl).flush(!0);}};a(k.Md);});},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.jua=void 0;c=a(66);l=a(46);k=a(18);r=a(24);g=a(26);b.jua=function(a,b){k.Ya(a);k.Ya(b);k.YH(b.vrb,"endpointURL property is required");k.Ya(b.Pi);this.log=a;this.QVa=b;};b.jua.prototype.Bz=function(){var a,b,m;a=this;a.log.trace("Downloading config data.");b={browserInfo:JSON.stringify(a.QVa.Pi)};m=a.QVa.vrb + "?" + l.SJ(b);return new Promise(function(b,d){function f(b){var d;try{if(b.ia){d=new Uint8Array(b.content);return {ia:!0,config:JSON.parse(String.fromCharCode.apply(null,d)).core.initParams};}return {ia:!1,message:"Unable to download the config. " + b.ub,BD:b.Bj};}catch(T){return (b=r.Ye(T),a.log.error("Unable to download the config. Received an exception parsing response",{message:T.message,exception:b,url:m}),{ia:!1,ub:b,message:"Unable to download the config. " + T.message});}}function t(b,d,c){return d > c?(a.log.error("Config download failed, retry limit exceeded, giving up",g.Eb({Attempts:d - 1,MaxRetries:c},b)),!1):!0;}function p(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function k(m,l,h){c.af.download(m,function(c){var x;c=f(c);if(c.ia)b(c);else {a.log.warn("Config download failed, retrying",g.Eb({Attempt:l,WaitTime:x,MaxRetries:h},c));if(t(c,l + 1,h))return (x=r.Loa(1E3,1E3 * Math.pow(2,Math.min(l - 1,h))),p(x).then(function(){return k(m,l + 1,h);}));d(c);}});}return c.af?k({url:m,responseType:3,withCredentials:!0,cD:"config-download"},1,3):Promise.reject({ia:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(12);l=a(11);f=a(2);k=a(7);r=a(188);a=a(28);k.ga.get(a.Sf).register(f.K.Fwa,function(a){c.config.Ftb && k.ga.get(r.Q7).start();a(l.Md);});},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J,E,L;Object.defineProperty(b,"__esModule",{value:!0});c=a(160);l=a(285);f=a(56);k=a(12);r=a(55);g=a(11);p=a(46);d=a(48);m=a(24);t=a(9);h=a(7);A=a(125);J=a(13);E=a(28);L=a(33);f.v$(f.q$,function(a){var u,ha,Y,Ia,ia,oa;function b(c){c.newValue >= J.yb.LOADING && (a.state.removeListener(b),W("type=openplay&sev=info&locstor=" + t.GV(q())),Y=d.di(),D());}function f(){oa("type=startplay&sev=info&outcome=success");}function x(){var b,d;b=a.Cj;if(b){d="type=startplay&sev=error&outcome=error";b=c.Tia(h.ga.get(L.rj).kD,b);m.Dd(b,function(a,b){d+="&" + t.GV(a) + "=" + t.GV(b || "");});oa(d);}else oa("type=startplay&sev=info&outcome=abort");}function D(){var a,b;a=Ia.shift();if(0 < a){b=t.qm(a - (d.di() - Y),0);ha=setTimeout(function(){W("type=startstall&sev=info&kt=" + a);D();},b);}}function n(){oa("type=startplay&sev=info&outcome=unload");}function q(){var a,b,c;try{b="" + d.iZ();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b == c?"success":"mism";}catch(Ba){a="ex: " + Ba;}return a;}function W(b){b=ia + "&soffms=" + a.aja() + "&" + b;a.zd && Object.keys(a.zd).length && (b+="&" + p.SJ(m.Eb({},a.zd,{prefix:"sm_"})));l.l0a("playback",b,u);}u=h.ga.get(A.YA).host + k.config.zra;if(k.config.m0a && u && k.config.n0a.playback){Ia=k.config.TRb.slice();ia="xid=" + a.ea + "&pbi=" + a.index + "&uiLabel=" + (a.ke || "");a.state.addListener(b);a.addEventListener(J.W.Qo,f);a.addEventListener(J.W.Jf,x);r.Qe.addListener(r.Sl,n,g.EB);oa=function(b){var d;oa=g.Af;d=h.ga.get(E.Sf);b+="&initstart=" + d.startTime + "&initend=" + d.endTime;W(b);clearTimeout(ha);a.removeEventListener(J.W.Qo,f);a.removeEventListener(J.W.Jf,x);r.Qe.removeListener(r.Sl,n);};}});},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});f=a(83);c=a(12);l=a(7);f.yB(function(a,b){var g,f,d,m;g={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(g,c.config.qSb);f=g[b.ke];if(c.config.rSb && f){d={};m=l.Ig(a,"MediaStreamFilter");return {tI:"uiLabel",hs:function(a){if(a.lower && a.height > f)return (d[a.height] || (d[a.height]=!0,m.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:a.height}),b.ko.set({reason:"uiLabel",height:a.height})),!0);}};}});},function(f,b,a){var l;function c(a,b,c,f){this.j=a;this.qn=b;this.ma=c;this.dc=f;this.log=this.ma.ob("KeyStatusStreamFilter",this.j);this.I1=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.mxa=void 0;l=a(494);c.prototype.hs=function(a){this.yQb();if(a.lower && 1080 < a.height && !this.I1)return (this.log.trace("stream restricted",{height:a.height,bitrate:a.R}),!0);this.log.debug("stream allowed",{height:a.height,bitrate:a.R});return !1;};c.prototype.Gnb=function(){var a,b,c;b={};c=null === (a=this.qn.Mg.value) || void 0 === a?void 0:a.lK;null === c || void 0 === c?void 0:c.forEach(function(a){b[a.Rw]=a.WXa.height;});this.log.trace("KeyStatusMap",b);return b;};c.prototype.oFb=function(a){var b;b=this.rBb[this.dc.encode(a.Rw)];if(1080 < b)switch(a.value){case l.gp.bsa:this.I1=!0;break;case l.gp.XZa:this.I1=!1;break;default:(this.I1=!1,this.log.error("Restricting resolution due to keyStatus",{keyHeight:b,keyStatus:a.value}),this.qn.ko.set({reason:"keyStatus",height:b}));}this.log.trace("keyStatus change",{keyHeight:b,keyStatus:a.value});};c.prototype.yQb=function(){var a,b,c;a=this;b=this.qn.Rd;c=b && b.gla;!this.WAb && c && (this.WAb=!0,this.rBb=this.Gnb(),b.gla().subscribe(function(b){return a.oFb(b);}));};ma.Object.defineProperties(c.prototype,{tI:{configurable:!0,enumerable:!0,get:function(){return "keyStatus";}}});b.mxa=c;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});f=a(83);c=a(12);l=a(7);k=a(543);r=a(490);f.yB(function(a,b){if(c.config.qBb)return new k.mxa(a,b,l.rf,new r.A6());});},function(f,b,a){var l,k,r,g;function c(a){var c,f;function b(d){d=d.Ujb;a.removeEventListener(r.W.Vma,b);try{k.aRa(d.data[0]) && (f=!0,a.HOb());c.trace("RA check",{HasRA:f});}catch(A){c.error("RA check exception",A);}}if(l.ga.get(g.rj).uLb){c=l.Ig(a,"RAF");a.addEventListener(r.W.Vma,b);return {tI:"ra",hs:function(a){if(!f && a.cu)return (a=a.jg,!(0 < a.toLowerCase().indexOf("l30") || 0 < a.toLowerCase().indexOf("l31")));}};}}Object.defineProperty(b,"__esModule",{value:!0});b.i8a=void 0;f=a(83);l=a(7);k=a(286);r=a(13);g=a(33);f.yB(c);b.i8a=c;},function(f,b,a){var l,k;function c(a,b){var c,d;c=k.Ig(a,"MSS");if(l.config.rEb)return {tI:"mss",hs:function(a){var g,m;if(a.lower && 2160 <= a.height)a:{for(g=a;g.lower;){if(2160 > g.height && 1080 < g.height){g=!0;break a;}if(1080 >= g.height)break;g=g.lower;}g=!1;}else g=void 0;if(g){if(void 0 === d){try{m=O.MSMediaKeys;d=m && m.isTypeSupportedWithFeatures?"probably" === m.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(A){c.error("hasUltraHdDisplay exception");d=!0;}d || (c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.ko.set({reason:"microsoftScreenSize",height:a.height}));}return !d;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.h8a=void 0;f=a(83);l=a(12);k=a(7);f.yB(c);b.h8a=c;},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(83).yB(function(){return {tI:"op",hs:function(){}};});},function(f,b,a){var l,k,r,g,p,d,m,t,h;function c(a,b){var x,A,J,n,q,R,V,W,u,ha,Y;function c(){var d;d=a.Ub.value === t.sb.Vc && a.state.value === t.yb.rd && a.u === b.u;Y?d || (clearInterval(Y),R=Y=void 0):d && (Y=O.setInterval(f,1E3));}function f(){var b,d,c,m,f,t;b=a.uf.value;b=(b=b && b.stream) && b.height;if(null !== b && 0 < b){d=g.di();c=a.ji.sD();if(c){if(R && 2E3 > d - R.time && b === R.height){m=c - R.uqb;f=A[b];f || (A[b]=f=[],b > W && (q.push(b),r.fU(q)));0 < m && !(ha && ha < b) && (ha=b);f.push(m);f.length > V && f.shift();(f=n[b]) || (n[b]=f={});t=f[m];f[m]=t?t + 1:1;}R={time:d,uqb:c,height:b};a.B3 && a.B3.eOb(A);}}}x=p.Ig(a,"DFF");A={};J=l.config.yqb;n={};q=[];V=l.config.wqb;W=l.config.xqb;u=k.Txa;if(l.config.vqb)return (b.Lga={gub:function(){var a;a={};n && q.forEach(function(b){var c,g,m;c=n[b];if(c){g=0;m=0;h.Dd(c,function(a,b){m+=d.Ud(a);g+=b;});a[b]=m / g;}});return a;},iQ:function(a){var b;b={};a.forEach(function(a){b[a]={};});n && (r.fU(a),q.forEach(function(d){var c,g,f,t;c=n[d];if(c){g=0;f=0;h.Dd(c,function(a,b){g+=b;});t=Object.keys(c).map(Number);r.fU(t);for(var p=t.length - 1,k=t[p],l=a.length - 1;0 <= l;l--){for(var x=a[l];k >= x && 0 <= p;){(k=c[k]) && (f+=k);k=t[--p];}b[x][d]=m.Yh(f / g * 100);}}}));return b;}},a.state.addListener(c),a.Ub.addListener(c),a.addEventListener(t.W.hq,c),{tI:"df",hs:function(a){var d,g,m,f;if(a.lower && a.height > W){a=a.height;a:{if(ha){d=q.length;for(var c=0;c < d;c++){g=q[c];if(g >= ha && g < u){m=A[g];if(f=m)b:{f=J.length;for(var t=m.length,p=0;p < f;p++){for(var k=J[p],l=k[0],k=k[1],r=0;r < t;r++){if(m[r] >= k && 0 >= --l){f=!0;break b;}}}f=!1;}if(f && u != g){x.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:g});b.ko.set({reason:"droppedFrames",height:g});d=u=g;break a;}}}ha=void 0;}d=u;}a=a >= d;}else a=!1;return a;}});}Object.defineProperty(b,"__esModule",{value:!0});b.g8a=void 0;f=a(83);l=a(12);k=a(11);r=a(46);g=a(48);p=a(7);d=a(26);m=a(9);t=a(13);h=a(24);f.yB(c);b.g8a=c;},function(f,b,a){var d,m,t,h,A,J,E,L,D,C,n,q,ba,R,V,W;function c(a,b,d){this.Im=a;this.Bja=b;this.prefix=d;a=C(a,b,d);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function l(){this.aLa=d.Op.aLa.bind(d.Op);this.tZ=d.Op.tZ.bind(d.Op);this.fI=d.Op.fI;this.WF="NDA";}function k(){}function r(){}function g(){return D?D:"0.0.0.0";}function p(a){a({NUa:0,uT:0,QPa:0,wMa:0});}d=a(153);l.prototype.set=function(a,b){h[a]=b;A.save(a,b);};l.prototype.get=function(a,b){if(h.hasOwnProperty(a))return h[a];L.trace("key: " + a + ", is not available in storage cache and needs to be retrieved asynchronously");A.load(a,function(d){d.ia?(h[a]=d.data,b && b(d.data)):h[a]=void 0;});};l.prototype.remove=function(a){A.remove(a);};l.prototype.clear=function(){L.info("WARNING: Calling unimplemented function Storage.clear()");};k.prototype.now=function(){return J();};k.prototype.da=function(){return E();};k.prototype.Sma=function(a){return a + J() - E();};k.prototype.mna=function(a){return a + E() - J();};b=a(111).EventEmitter;a(60)(b,r.prototype);c.prototype.lKa=function(a){var b;b=[];this.prefix && Array.isArray(this.prefix)?b.push.apply(b,[].concat(da(this.prefix))):this.prefix && b.push(this.prefix);b.push(a);return new c(this.Im,this.Bja,b);};n=(function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;})();f.V=function(a){m=a.oE;C=a.gi;A=a.storage;h=a.jJ;J=a.kwb;E=a.getTime;L=a.khb;q=a.Fk;W=a.Rs;ba=a.wF;R=a.SourceBuffer;V=a.MediaSource;D=a.D3b;t=a.fr;return {name:"cadmium",fr:t,oE:m,storage:new l(),Storage:l,time:new k(),events:new r(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:n,Fk:q,wF:ba,f8a:R,MediaSource:V,Rs:W,Zm:{name:g},memory:{yvb:p},Ql:a.Ql};};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;c=a(7);l=a(66);b.$Aa=(function(){c.gi("ProbeDownloader");return {VP:function(a){l.af.JJb({url:a.url,GJb:a});}};})();},function(f,b,a){var l,k,r,g,p,d,m;function c(){var a;a=new k.oj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.ac.bind(this);this.PX=d++;this.Cg=r.gi("ProbeRequest");this.GFa=l.$Aa;g.Ya(void 0 !== this.GFa);this.Dg=b.Rs.Ac.UNSENT;}Object.defineProperty(b,"__esModule",{value:!0});b.Rs=void 0;l=a(550);k=a(65);r=a(7);g=a(18);p=a(26);d=0;(function(){function a(){return JSON.stringify({url:this.Hl,id:this.PX,affected:this.HW,readystate:this.Dg});}p.Eb(c.prototype,{mu:function(a){a.affected=this.HW;a.probed={requestId:this.PX,url:this.Hl,Rb:this.dO,groupId:this.rX};this.emit(b.Rs.Zd.yM,a);},lna:function(a){this.gfb=a.httpcode;a.affected=this.HW;a.probed={requestId:this.PX,url:this.Hl,Rb:this.dO,groupId:this.rX};this.emit(b.Rs.Zd.DB,a);},open:function(a,d,c,g){if(!a)return !1;this.Hl=a;this.HW=d;this.dO=c;this.Dg=b.Rs.Ac.OPENED;this.Hcb=g;this.GFa.VP(this);return !0;},pc:function(){return !0;},jk:function(){return this.PX;},toString:a,toJSON:a});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Dg;},set:function(){}},status:{get:function(){return this.gfb;}},url:{get:function(){return this.Hl;}},T0b:{get:function(){return this.HW;}},yCb:{get:function(){return this.Hcb;}}});})();(function(a){a.Zd={yM:"pr0",DB:"pr1"};a.Ac={UNSENT:0,OPENED:1,ky:2,DONE:3,bM:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(m || (m={}));b.Rs=Object.assign(c,m);},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J,E,L,D;Object.defineProperty(b,"__esModule",{value:!0});c=a(57);l=a(328);k=a(551);r=a(199);g=a(12);p=a(11);d=a(156);m=a(284);t=a(48);f=a(2);h=a(7);A=a(212);J=a(9);E=a(153);b=a(28);L=a(56);D=a(72);h.ga.get(b.Sf).register(f.K.Dwa,function(b){var f,x,C,n,q,W,u;f=h.ga.get(A.wM).Dfa();x=h.ga.get(d.p7).wF;C=h.ga.get(l.j9).Fk;n={oE:h.YP("ASE"),khb:h.YP("JS-ASE",void 0,"Platform"),gi:h.YP,storage:E.storage,Op:E.Op,kwb:J.uF,getTime:t.di,jJ:{},Fk:C,Rs:k.Rs,wF:x,MediaSource:m.Eya,SourceBuffer:r.h9,Ql:function(){return [g.config.IY,g.config.KY];},fr:function(a){L.Hn.forEach(function(b){b.nZa(a);});}};x=new Promise(function(a){E.storage.load("nh",function(b){n.jJ.nh=b.ia?b.data:void 0;a();});});C=new Promise(function(a){E.storage.load("lh",function(b){n.jJ.lh=b.ia?b.data:void 0;a();});});q=new Promise(function(a){E.storage.load("gh",function(b){n.jJ.gh=b.ia?b.data:void 0;a();});});W=new Promise(function(a){E.storage.load("sth",function(b){n.jJ.sth=b.ia?b.data:void 0;a();});});u=new Promise(function(a){E.storage.load("vb",function(b){n.jJ.vb=b.ia?b.data:void 0;a();});});Promise.all([x,C,u,W,q]).then(function(){var d;d=a(549)(n);D.Od.Xc=a(283);D.Od.Xc.declare(c.Mm);D.Od.Xc.declare({TA:["useMediaCache",!1],oz:["diskCacheSizeLimit",0],U1b:["dailyDiskCacheWriteLimit",0],oR:["mediaCachePrefetchMs",8E3],yma:["mediaCachePartitionConfig",{}]});D.Od.Xc.set(a(162)(g.config),!0,h.YP("ASE"));d=c.qSa(d);D.Od.Il=new d(D.Od.Xc,f);D.Od.Il.Jb(g.config.IY,g.config.KY,{oE:n.oE},g.config.zS);b(p.Md);})["catch"](function(a){n.oE.error("Exception loading location history from local storage",a);});});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J,E,L,D;Object.defineProperty(b,"__esModule",{value:!0});c=a(160);l=a(11);k=a(12);r=a(56);g=a(48);f=a(2);p=a(7);d=a(68);m=a(9);t=a(58);h=a(16);A=a(49);J=a(70);a=a(28);D=p.ga.get(a.Sf);D.register(f.K.Hwa,function(a){var f;function b(){var a,b,d;a=D.startTime;b={browserua:m.rm,browserhref:m.HV.href,initstart:a,initdelay:D.endTime - a};(a=m.Ce.documentMode) && (b.browserdm="" + a);"undefined" !== typeof O.nrdp && O.nrdp.device && (b.firmware_version=O.nrdp.device.firmwareVersion);h.Pw(k.config.xMa) && (b.fesn=k.config.xMa);Object.assign(b,c.eja());d=m.Ls && m.Ls.timing;d && k.config.FCb.map(function(a){var c;c=d[a];c && (b["pt_" + a]=c - g.pJa());});a=f.rOa();Object.entries(a).forEach(function(a){var d;d=S(a);a=d.next().value;d=d.next().value;return b["m_" + a]=d;});a=L.Lp("startup","info",b,r.bG.Iha);E.Qc(a);}L=p.ga.get(J.Kq);E=p.ga.get(A.wl);f=p.ga.get(d.oy);D.$Q(function(){E.Jb();t.Ec(b);});a(l.Md);});},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J,E,L,D,C,n,q,ba;Object.defineProperty(b,"__esModule",{value:!0});c=a(203);l=a(131);k=a(12);r=a(11);g=a(2);p=a(18);d=a(7);m=a(68);t=a(67);h=a(71);A=a(24);J=a(9);E=a(16);L=a(46);D=a(103);C=a(4);f=a(28);n=a(369);q={};ba=d.ga.get(f.Sf);ba.register(g.K.Jwa,function(a){var T,R,P,u,oa,qa,Aa,I,Ba,va,Da,N,ka,La;function b(b){b && b.userList && k.config.bPb && (b.userList=[]);u({esn:l.Jh.Kh,esnPrefix:l.Jh.vz,authenticationType:k.config.HO,authenticationKeyNames:k.config.WHa,systemKeyWrapFormat:k.config.ZQb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ka,storeState:b,notifyMilestone:ba.od.bind(ba),log:Aa,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:g.L.b8a,MSL_READ_TIMEOUT:g.L.a8a}},{result:function(a){f(a);},timeout:function(){a({ja:g.L.dya});},error:function(b){a(x(g.L.dya,void 0,b));}});}function f(b){var m,f,t;function c(){N && d.ga.get(h.ws).create().then(function(a){return a.save(va,f,!1);})["catch"](function(a){Aa.error("Error persisting msl store",g.Iq(a));});}m=d.ga.get(D.PB)(C.Lb(100));t=oa.extend({init:function(a){this.mFa=a;},getResponse:function(a,b,c){var g,m;b=this.mFa;g=b.ETa.af || g;a=E.$ka(a.body)?d.PT(a.body):a.body;p.YH(a,"Msl should not be sending empty request");a={url:b.url,moa:a,withCredentials:!0,cD:"nq-" + b.method,headers:b.headers};b=this.mFa.timeout;a.nZ=b;a.bna=b;m=g.download(a,function(a){try{if(a.ia)c.result({body:a.content});else if(400 === a.Bj && a.ub)c.result({body:a.ub});else throw A.Eb(new qa("HTTP error, SubCode: " + a.ja + (a.Bj?", HttpCode: " + a.Bj:"")),{cadmiumResponse:a});}catch(ef){c.error(ef);}});return {abort:function(){m.abort();}};}});Ba && b.addEventHandler("shouldpersist",function(a){f=a.storeState;m.Rc(c);});A.Eb(q,{B3b:function(){Da=!0;},send:function(a){function d(){var b,d;b=a.ETa;d={method:a.method,nonReplayable:a.uFb,encrypted:a.gk,userId:a.GTb,body:a.body,timeout:2 * a.timeout,url:new t(a),allowTokenRefresh:N,sendUserAuthIfRequired:La,shouldSendUserAuthData:k.config.hPb};b.FLa?(d.email=b.FLa,d.password=b.password || ""):b.MRb?(d.token=b.MRb,d.mechanism=b.r4b,b.Wma && (d.netflixId=b.Wma,d.secureNetflixId=b.cNb),b.Doa && (d.profileGuid=b.Doa)):b.Wma?(d.netflixId=b.Wma,d.secureNetflixId=b.cNb):b.QDb?(d.mdxControllerToken=b.QDb,d.mdxPin=b.p4b,d.mdxNonce=b.o4b,d.mdxEncryptedPinB64=b.n4b,d.mdxSignature=b.q4b):Da || b.useNetflixUserAuthData?d.useNetflixUserAuthData=!0:b.Doa && (d.profileGuid=b.Doa);return d;}return new Promise(function(a,c){var m;m=d();b.send(m).then(function(b){Da && (Da=!1);a({ia:!0,body:b.body});})["catch"](function(a){var d,m;if(a.error){d=a.error.cadmiumResponse && a.error.cadmiumResponse.ja?a.error.cadmiumResponse.ja:b.isErrorReauth(a.error)?g.L.cya:b.isErrorHeader(a.error)?g.L.V7a:g.L.U7a;m=b.getErrorCode(a.error);c(x(d,m,a.error));}else (Aa.error("Unknown MSL error",a),a.ld=a.subCode,c({ja:a.ld?a.ld:g.L.c8a}));});});},CR:b});a(r.Md);d.ga.get(n.zV).bFb(q);}function x(a,b,d){var c,g,m,f;f={ja:a,qI:b};if(d){c=function(a){var b;a=a || "" + d;if(d.stack){b="" + d.stack;a=0 <= b.indexOf(a)?b:a + b;}return a;};if(m=d.cadmiumResponse){if(g=m.Ie && m.Ie.toString())m.Ie=g;m.ja=a;m.qI=b;m.ub=c(d.message);m.error={ld:a,Hg:g,lu:b,data:d.cause,message:d.message};return m;}c=c(d.errorMessage);g=A.Ud(d.internalCode) || A.Ud(d.error && d.error.internalCode);m=void 0 !== d.Frb?L.sna(d.Frb):void 0;}c && (f.ub=c);g && (f.Ie=g);f.error={ld:a,Hg:g.toString(),lu:b,data:m,message:c};return f;}p.Ya(k.config);T=d.ga.get(m.oy);R=t.om.Fi;if(J.fv && J.oo && J.oo.unwrapKey){try{P=O.netflix.msl;u=P.createMslClient;oa=P.IHttpLocation;qa=P.MslIoException;}catch(eb){a({ja:g.L.W7a});return;}Aa=d.gi("Msl");I=k.config.YEb;Ba=k.config.$Eb;va=k.config.Qt?"mslstoretest":"mslstore";P=c.UE.TYa;Da=k.config.mzb;N=!P || P.ia;ka=d.Ap(k.config.Qt?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");La=! !k.config.dqa;d.ga.get(h.ws).create().then(function(d){I?d.remove(va).then(function(){b();})["catch"](function(a){Aa.error("Unable to delete MSL store",g.Iq(a));b();}):Ba?d.load(va).then(function(a){T.mark(R.Y7a);b(a.value);})["catch"](function(c){c.ja == g.L.ly?(T.mark(R.$7a),b()):(Aa.error("Error loading msl store",g.Iq(c)),T.mark(R.Z7a),d.remove(va).then(function(){b();})["catch"](function(b){a(b);}));}):b();})["catch"](function(b){Aa.error("Error creating app storage while loading msl store",g.Iq(b));a(b);});}else a({ja:g.L.X7a});});},function(f,b,a){var r,g,p,d;function c(a,b,c,f){var m,t,h;r.Ya(d.bf(a) && !d.isArray(a));f=f || "";m="";t=a.hasOwnProperty(p.lj) && a[p.lj];t && g.Dd(t,function(a,b){m && (m+=" ");m+=a + '="' + k(b) + '"';});c=(b?b + ":":"") + c;t=f + "<" + c + (m?" " + m:"");h=a.hasOwnProperty(p.Fq) && a[p.Fq].trim && "" !== a[p.Fq].trim() && a[p.Fq];if(h)return t + ">" + k(h) + "</" + c + ">";a=l(a,b,f + "  ");return t + (a?">\n" + a + "\n" + f + "</" + c + ">":"/>");}function l(a,b,f){var m;r.Ya(d.bf(a) && !d.isArray(a));f=f || "";m="";g.Dd(a,function(a,t){var r;if("$" != a[0])for(var p=g.eR(t),l=0;l < p.length;l++){if((t=p[l],m && (m+="\n"),d.bf(t)))m+=c(t,b,a,f);else {r=(b?b + ":":"") + a;m+=f + "<" + r + ">" + k(t) + "</" + r + ">";}}});return m;}function k(a){if(d.Td(a))return g.wQ(a);if(d.oa(a))return (r.rP(a,"Convert non-integer numbers to string for xml serialization."),"" + a);if(null === a || void 0 === a)return "";r.Ya(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.KRb=b.mBb=b.lBb=void 0;r=a(18);g=a(24);p=a(134);d=a(16);b.lBb=c;b.mBb=l;b.KRb=k;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});f=a(2);c=a(7);l=a(337);a=a(28);c.ga.get(a.Sf).register(f.K.Gwa,function(a){c.ga.get(l.v7)().then(function(){a({ia:!0});})["catch"](function(b){c.log.error("error in initializing indexedDb debug tool",b);a({ia:!0});});});},function(f,b,a){var c,l,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(46);l=a(11);k=a(12);r=a(2);g=a(522);p=a(33);d=a(9);m=a(7);f=a(28);t=m.ga.get(f.Sf);t.register(r.K.Swa,function(a){d.oo && d.oo.generateKey && d.oo.importKey && d.oo.unwrapKey?!m.ga.get(p.Os).H4a && k.config.HO != g.KL.y9a && k.config.HO != g.KL.M7a || d.FV?(t.od("wcs"),c.gE(d.oo.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){t.od("wcdone");a(l.Md);},function(b){var d;b="" + b;0 <= b.indexOf("missing crypto.subtle")?d=r.L.Naa:0 <= b.indexOf("timeout waiting for iframe to load") && (d=r.L.Y$a);a({ja:d,ub:b});})):a({ja:r.L.X$a}):a({ja:r.L.Naa});});},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(12);a(11);f=a(7);a(102);a(206);a(2);a(103);a(4);a=a(28);f.ga.get(a.Sf);},function(f,b,a){var d,m,t,h,A;function c(a){var d,g;m.YH(a);if(t.Td(a) && b.Wwa.test(a)){d=a.split(".");if(4 === d.length){for(var c=0;c < d.length;c++){g=t.Ud(d[c]);if(0 > g || !A.Ow(g,0,255) || 1 !== d[c].length && 0 === d[c].indexOf("0"))return;}return a;}}}function l(a){var b;b=0;if(c(a) === a)return (a=a.split("."),b+=t.Ud(a[0]) << 24,b+=t.Ud(a[1]) << 16,b+=t.Ud(a[2]) << 8,b + t.Ud(a[3]));}function k(a){var c;m.YH(a);if(t.Td(a) && a.match(b.Xwa)){c=a.split(":");-1 !== c[c.length - 1].indexOf(".") && (a=r(c[c.length - 1]),c.pop(),c.push(a[0]),c.push(a[1]),a=c.join(":"));a=a.split("::");if(!(2 < a.length || 1 === a.length && 8 !== c.length) && (c=1 < a.length?g(a):c,a=c.length,8 === a)){for(;a--;){if(!A.Ow(parseInt(c[a],16),0,d.Uxa))return;}return c.join(":");}}}function r(a){var b;a=l(a) >>> 0;b=[];b.push((a >>> 16 & 65535).toString(16));b.push((a & 65535).toString(16));return b;}function g(a){var b,d,c;b=a[0].split(":");a=a[1].split(":");1 === b.length && "" === b[0] && (b=[]);1 === a.length && "" === a[0] && (a=[]);d=8 - (b.length + a.length);if(1 > d)return [];for(c=0;c < d;c++){b.push("0");}for(c=0;c < a.length;c++){b.push(a[c]);}return b;}function p(a){return -1 << 32 - a;}Object.defineProperty(b,"__esModule",{value:!0});b.m7a=b.r7a=b.o7a=b.n7a=b.q7a=b.l7a=b.p7a=b.pB=b.Xwa=b.Wwa=void 0;d=a(11);m=a(18);t=a(26);h=a(9);A=a(16);b.Wwa=/^[0-9.]*$/;b.Xwa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.pB="0000000000000000";b.p7a=c;b.l7a=l;b.q7a=k;b.n7a=r;b.o7a=g;b.r7a=function(a,d,g){var m,f,t,r;m=c(a);f=k(a);t=c(d);r=k(d);if(!m && !f || !t && !r || m && !t || f && !r)return !1;if(a === m)return (g=p(g),(l(a) & g) !== (l(d) & g)?!1:!0);if(a === f){a=a.split(":");d=d.split(":");for(m=h.cv(g / b.pB.length);m--;){if(a[m] !== d[m])return !1;}g%=b.pB.length;if(0 !== g)for((a=parseInt(a[m],16).toString(2),d=parseInt(d[m],16).toString(2),a=b.pB.substring(0,b.pB.length - a.length) + a,d=b.pB.substring(0,b.pB.length - d.length) + d,m=0);m < g;m++){if(a[m] !== d[m])return !1;}return !0;}return !1;};b.m7a=p;},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});f=a(7);b=a(102);a=a(206);f.ga.get(b.tB).e4(a.S8.X3a,function(a){var b,c;b=a.level;if(!O._cad_global.config || b <= O._cad_global.config.JCb){a=a.v5();c=O.console;1 >= b?c.error(a):2 >= b?c.warn(a):c.log(a);}});},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.JTb=b.A$a=b.y$a=b.x$a=b.z$a=void 0;c=a(26);l=a(9);b.z$a=function(a,b,c){for(c=(c - a.length) / b.length;0 < c--;){a+=b;}return a;};b.x$a=function(a,b,g){g=c.Td(g)?g:"...";return a.length <= b?a:a.substr(0,a.length - (a.length + g.length - b)) + g;};b.y$a=function(a,b){var f;for(var c=1;c < arguments.length;++c){;}f=l.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return "undefined" != typeof f[b]?f[b]:a;});};b.A$a=function(a){for(var b=a.length,c=new Uint16Array(b),f=0;f < b;f++){c[f]=a.charCodeAt(f);}return c.buffer;};b.JTb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(f){function b(a,b,f,k){this.Ea=k;this.id=a;this.startTime=b && b.Xd || 0;this.endTime=b && b.Ge;this.VTa=b && b.next || [];this.EYa;this.KR=[];this.YI=!1;a=this.startTime;b=this.endTime;for(var c=[],g=0;g < f.length;g++){(k=f[g]) && (!b || b > k.yu) && a < k.So && (k.rzb(),c.push(k));}this.hm=c;}b.prototype.gJa=function(){this.Ea.debug("Cleaning up segment",this.id);for(var a,b=0,f,k=[],r=0;r < this.hm.length;r++){a=this.hm[r];(f=a.Vob()) && k.push(a);a && (b+=f);}this.hm=[];return {size:b,hm:k};};f.V=b;},function(f,b,a){var l,k;function c(a){this.Hl=a.url;this.$N=a.request;this.iC=a.Fc || 0;this.$B=a.Vl;this.Ea=a.ma;this.QN={};}l=a(193);k=a(129);c.prototype.hqb=function(a,b,c,d){var g;g=k.ria(b,c);this.QN[g]=!0;a && a.forEach(function(a){a.KXa=!0;});this.$N({url:this.Hl,offset:b,size:c},this.Ndb.bind(this,a,b,c,d));};c.prototype.Ndb=function(a,b,c,d,m,f){var g,t,p,r;g=this;t=k.ria(b,c);setTimeout(function(){delete g.QN[t];},1E3);if(m)(d && d(m,0),a && a.forEach(function(a){delete a.KXa;}));else {p=new l(f);r=0;a && a.forEach(function(a){delete a.KXa;a.entries.forEach(function(d,c){p.position=d.DD - b;d={data:p.dj(d.jka)};a.images[c]=d;k.PTb(a.images[c].data,g.xba.bind(g));r+=a.images[c].data.length;});});d && d(null,r);}};c.prototype.xba=function(a){this.$B && k.assert(a,this.Ea);};f.V=c;},function(f,b,a){var d,m;function c(a,b,d){var c;c=d.Ml <= a && a <= d.Ml + d.duration;return a <= d.Ml && d.Ml <= b || c;}function l(a,b,d){return b && (!b.entries.length && a > b.yu || a > b.endTime) && d.entries.length && a < d.endTime;}function k(a,b,c){this.lC=this.Pq=0;this.Mcb=a.bufferSize || 4194304;this.Rn=new p();this.hC;this.$B=a.Vl;this.Ea=a.ma;this.qp=b;this.Ch=c;this.Xn=new d(a);this.vC=new g(this.Ch.length,a.NLa);this.WN=new r(a.uIa);}function r(a){this.Abb=0 !== a;this.on=!1;this.Ii=a || 3E3;this.$h;}function g(a,b){if(this.enabled=b)this.hm=Array.apply(null,Array(a)).map(function(){return "-";});}function p(a,b){this.js=a;this.index=b;}d=a(564);m=a(129);p.prototype.reset=function(){this.index=this.js=void 0;};g.prototype.aa=function(a){this.enabled && a < this.hm.length && (this.hm[a]="x");};g.prototype.OUa=function(a){this.enabled && a < this.hm.length && (this.hm[a]="-");};g.prototype.toString=function(){return this.enabled && "|" + this.hm.join("") + "|";};r.prototype.start=function(){var a;if(this.Abb){a=this;this.on=!0;this.$h=setTimeout(function(){a.on=!1;a.$h=void 0;},this.Ii);}};r.prototype.stop=function(){this.on=!1;clearTimeout(this.$h);this.$h=void 0;};Object.defineProperties(k.prototype,{vKa:{get:function(){return this.Pq;}},Tfa:{get:function(){return this.Rn;}},Cjb:{get:function(){return !this.WN.on;}}});k.prototype.GN=function(){this.vC.enabled && this.Ea.debug("Buffer: " + this.vC.toString());};k.prototype.Leb=function(a){this.lC+=a;this.Ea.debug("Reserved buffer size is",this.Pq + this.lC,"after reserving",a);};k.prototype.xfb=function(a){this.lC-=a;this.Ea.debug("Reserved buffer size is",this.Pq + this.lC,"after unreserving",a);};k.prototype.Vab=function(a){this.Pq+=a;this.Ea.debug("Buffer size is",this.Pq,"after claiming",a);};k.prototype.TFa=function(a){this.Pq-=a;this.Ea.debug("Buffer size is",this.Pq,"after clearing",a);};k.prototype.rLb=function(a,b){var d;this.TFa(a);d=this;b && this.vC.enabled && (b.forEach(function(a){d.vC.OUa(a.index);}),this.GN());};k.prototype.wqa=function(a){var b;b=this.Nbb(a);return m.aQa(b) && m.DQb(a,b);};k.prototype.dOb=function(a){var b;b=this.FEa(a);(!b || b.index) !== (!this.Rn || this.Rn.index) && (this.hC=this.Rn.js,b?(this.$B && this.Ea.debug("Current sidx is index",b.index),this.Rn=b):(this.$B && this.Ea.debug("Current sidx is out of range"),this.Rn.reset()));this.hC && "number" === typeof this.hC.index && (a < this.hC.yu - 35E3 || a > this.hC.So + 35E3) && (this.qba(this.hC.index),this.hC=void 0,this.GN());};k.prototype.IA=function(a,b){var d,c;d=this.Ch && this.Ch.length;for(b;b < d;b++){(c=this.Ch[b]) && ((c.endTime || c.So) >= a - 1E4 && (c.endTime || c.So) < a + 3E5 || this.qba(b));}this.WN.stop();this.GN();};k.prototype.Lgb=function(){var a,b;this.Ea.debug("executing aggressive cleanup");a=this.Ch && this.Ch.length;for(b=0;b < a;b++){b === this.Rn.index && (b+=2);this.qba(b);}this.WN.stop();this.GN();};k.prototype.cxb=function(a){var b,d,c,g;b=[];d=this.FEa(a);if(!d)return (this.Rn.reset(),b);this.Rn=d;c=a + 1E4;d=d.index;g=this.Ch[d];d;for(g;d < this.Ch.length && c > g.yu;(d++,g=this.Ch[d])){m.aQa(g) && m.EQb(a,c,g) && b.push(g);}return b;};k.prototype.tLa=function(a,b){var d,c,g,f,t,p;if(!a || !a.length)return (b && b(null),!0);this.Xn.QN && 2 <= Object.keys(this.Xn.QN).length && !this.WN.on && (this.Ea.debug("Enabling buffering quiet period"),this.WN.start());d=this;c=a[0];g=a[a.length - 1];0 < c.entries.length && (f=c.entries[0].DD,t=c.entries[c.entries.length - 1]);0 < g.entries.length && (m.ec(f) || (f=g.entries[0].DD),t=g.entries[g.entries.length - 1]);if(f)p=t.DD + t.jka - f;else return (b && b(null),!0);c=m.ria(f,p);if(this.Xn.QN[c])(this.Ea.debug("The request for",c,"is already pending. Not requesting again"),b && b());else if(this.mcb(m.jja(a)))(this.Ea.debug("Reserving",p,"bytes for subtitle request",a[0].yu,a[a.length - 1].So),this.Leb(p),this.Xn.hqb(a,f,p,function(c,g){d.Ea.debug("Claiming reserved space.  Expected",p,"received",g);d.vC.enabled && (a.forEach(function(a){d.vC.aa(a.index);}),d.GN());d.xfb(p);d.Vab(g);b && b(c);}));else return (this.Ea.debug("Not enough space in buffer to download all of the imaages in the list"),b && b(),!1);return !0;};k.prototype.nja=function(a,b){var d,g,f;d=this.qp;g=this.EEa(a,b,this.Ch);if(!g || 0 === g.length)return [];f=[];b=c.bind(null,a,b);for(var p=0;p < g.length;p++){a=g[p];f=f.concat(a.entries.filter(b));}f=f.map(function(a){return m.Jfa(a,null,d);});return m.PJa(f);};k.prototype.dxb=function(a,b,d){return this.EEa(a,b.endTime,b.hm,d,!0);};k.prototype.EEa=function(a,b,d,c,g){var f,p,t,k;if(b && a > b || 0 > a)this.Ea.error("invalid range startPts: " + a + ", endPts: " + b);else {f=d && d.length || 0;p=[];if(d && 0 !== f){t=d[0].duration;k=d[0].yu;if(m.ec(t) && 0 < t)t=Math.floor((a - k) / t);else for((this.$B && this.Ea.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),t=0);t < f && (k=d[t],!m.cqb(k,a));t++){;}for(;t < f && (!c || p.length < c);){k=d[t];if(!g || !k.images.length && k.endTime > a)p.push(k);else if(p.length)break;if(b && b <= k.So)break;t++;}return p;}}};k.prototype.Nbb=function(a){var b,d,g;b=this.Ch;if(b && 0 !== b.length){d=b[Math.floor(a / 6E4)];if(d && (d.yu > a || a > d.So)){this.Bbb || (this.Bbb=!0,d=m.Mvb(this.qp.language),this.Ea.error("bruteforce search for ",{movieId:this.qp.u,packageId:this.qp.Oo,lang:d}));a:{for(var d=b.length,c=0;c < d;c++){g=b[c];if(g.yu <= a && a <= g.So){d=g;break a;}}d=void 0;}}return d;}};k.prototype.FEa=function(a){var b,d,c,g,f,t,k,r;d=this.Rn;c=d.js;g=d.index;r=this.Ch;this.xba(m.ec(a));c && (c.entries.length?0 === g && a <= c.startTime || a >= c.startTime && a <= c.endTime?(k=!0,b=d):0 < g && (t=r[g - 1],l(a,t,c) && (k=!0,b=d)):(t=r[g - 1],f=r[g + 1],l(a,t,c)?(k=!0,b=d):f && f.endTime && a <= f.endTime && (a >= c.endTime || a >= c.So) && (k=!0,b=new p(f,g + 1))));if(!k)for((d=r.length,c=0);c < d;c++){if((g=r[c],g.entries.length && a <= g.endTime)){b=new p(g,c);break;}}return b;};k.prototype.mcb=function(a){return this.Pq + this.lC + a <= this.Mcb;};k.prototype.qba=function(a){var b,d,c;b=this.Ch[a];d=b && b.images && b.images.length || 0;if(0 < d){c=m.jja([b]);b.images=[];this.vC.OUa(a);this.TFa(c);this.$B && this.Ea.debug("cleaning up space from sidx",{index:a,start:b.startTime,size:c,images:d,N4b:this.Pq});}};k.prototype.xba=function(a){this.$B && m.assert(a,this.Ea);};f.V=k;},function(f,b,a){var r,g;function c(a,b){var c;a=a || 0;if(b)for(var d in b.Va){c=b.Va[d];if(a >= (c.Xd || 0) && (!c.Ge || a < c.Ge))return d;}}function l(a,b){return a && b && b.Va[a];}function k(a,b,g){var d;this.Ea=a.ma;this.Ch=g;this.Ly=this.Xab(a.D4);this.hg=[];d=g && g[g.length - 1];this.PG=d && (d.endTime || d.So);this.Ef=new r(a,b,g);this.xm=this.sv(c(a.Fc || 0,this.Ly));}r=a(565);g=a(563);Object.defineProperties(k.prototype,{Tfa:{get:function(){return this.Ef.Tfa;}},vKa:{get:function(){return this.Ef.vKa || 0;}}});k.prototype.nja=function(a,b){return this.Ef && this.Ef.nja(a,b);};k.prototype.Gga=function(a,b){this.Ef.dOb(a);this.sGa(a);if(!this.Ly && this.PG && a > this.PG)b && b();else if((a=this.hEa(a,this.xm,2,b),this.Ly && 0 < this.xm.VTa.length))b && b();else if(this.Ly && this.xm.YI && a){2 > this.hg.length && this.cbb(this.xm);b=Math.ceil(2 / (this.hg.length - 1));for(var d=0;d < this.hg.length && a && 3 > d;d++){a=this.hg[d];a=this.hEa(a.startTime,a,b);}}};k.prototype.wqa=function(a){return this.Ef.wqa(a)?(this.Ef.Lgb(),this.Gga(a),this.xm.YI=!1,!0):!1;};k.prototype.IA=function(a,b){var d;this.sGa(a);this.hg.forEach(function(a){a.YI=!1;});d=this.xm.hm && this.xm.hm[0];this.Ef.IA(a,d && d.index);(a=this.Ef.cxb(a)) && a.length?this.Ef.tLa(a,b):b && b();};k.prototype.Xo=function(a,b){var d;this.Ea.debug("Set next segment to",b,"for segment",a);a=this.rEa(a) || this.sv(a);a.EYa=b;d=this;a.KR=a.KR.filter(function(a){if(a.id === b)return !0;d.zba(a);return !1;});};k.prototype.kj=function(a,b){var d;d=l(a,this.Ly);Object.keys(d.next).forEach(function(a){d.next[a].weight=b[a] || 0;});};k.prototype.Xab=function(a){var b,g;b={};if(a=(a || ({})).Va){b.Va={};for(var c in a){g=a[c] || ({});b.Va[c]={Xd:g.Xd,Ge:g.Ge,Ri:g.Ri,next:this.Wab(g.next)};}}return b;};k.prototype.Wab=function(a){var b,c;b={};for(c in a){b[c]={weight:(a[c] || ({})).weight};}return b;};k.prototype.sGa=function(a){var b,g;if(this.Ly && this.xm.startTime > a || this.xm.endTime && this.xm.endTime < a){b=this.xm;g=c(a,this.Ly);g?(this.Ea.debug("Switching segments from",this.xm.id,"to",g,"at pts",a),this.xm=this.rEa(g) || this.sv(g),this.zba(b)):this.Ea.debug("The pts is outside of the current segment but not in a new one yet");}};k.prototype.sv=function(a){this.Ea.debug("SegmentManager: creating segment",a);a=new g(a,l(a,this.Ly),this.Ch,this.Ea);this.hg.push(a);this.Ea.debug("SegmentManager: segment contains",a.hm.length,"sidxes");return a;};k.prototype.zba=function(a){var b;if(a && a !== this.xm){this.Ea.debug("SegmentManager: deleting segment",a.id);a.KR.forEach(this.zba.bind(this));this.hg=this.hg.filter(function(b){return b !== a;});b=a.gJa();this.Ef.rLb(b && b.size || 0,b && b.hm);}};k.prototype.rEa=function(a){var c;for(var b=0;a && b < this.hg.length;b++){c=this.hg[b];if(a === c.id)return c;}};k.prototype.cbb=function(a){var b,c,g;b=a.EYa;if(b && "" !== b)a.KR.push(this.sv(b));else {b=a.VTa;for(c in b){g=b[c];if(!g || !g.weight)break;a.KR.push(this.sv(c));}}};k.prototype.hEa=function(a,b,c,g){if(!b || b.YI)return (this.Ea.debug("Done driving segment",b && b.id),!0);if(!this.Ef.Cjb)return (this.Ea.debug("Throttling buffering in quiet period"),!1);this.Ea.debug("Drive streaming of segment",b.id,"from pts",a);c=(a=this.Ef.dxb(a,b,c)) && a.length || 0;if(0 === c)return (this.Ea.debug("Segment is fully downloaded",b && b.id),b.YI=!0,g && g(),!0);this.Ea.debug("Downloading",c,"sidxes in segment",b.id);return this.Ef.tLa(a,function(a,d){a && (b.YI=!1);g && g(a,d);});};f.V=k;},function(f,b,a){var k,r;function c(a,b,d,c,f,k,l,r){this.Ml=a;this.duration=b;this.eHb=d;this.fHb=c;this.uPb=f;this.vPb=k;this.DD=l;this.jka=r;}function l(a,b,d,m,f,l,h){var g;a=new k(a);g=0;a.position=b;this.Ea=m;this.identifier=a.Poa(4);r.assert("sidx" === this.identifier,m);this.xka=a.dj(36);r.Skb(this.xka,d,m);this.duration=a.Uo(4);this.uo=a.wg();this.yu=f;this.So=l;this.index=h || 0;this.entries=[];this.images=[];for(this.Cca=0;g < this.uo;){b=new c(a.Uo(4),a.Uo(4),a.wg(),a.wg(),a.wg(),a.wg(),a.qK(),a.Uo(4));g++;this.entries.push(b);}this.entries.length && (this.startTime=this.entries[0].Ml,this.endTime=this.entries[this.entries.length - 1].Ml + this.entries[this.entries.length - 1].duration);}k=a(193);r=a(129);l.prototype.rzb=function(){this.Cca++;};l.prototype.Vob=function(){var a;a=0;this.Cca--;1 > this.Cca?this.images && 0 < this.images.length && (a+=r.jja([this]),this.images=[]):this.Ea.debug("Not cleaning up shared sidx with range",this.yu,"-",this.So);return a;};f.V=l;},function(f,b,a){var l,k;function c(a,b){this.duration=a;this.size=b;this.rPb=void 0;}l=a(193);k=a(129);f.V=function(a){var m;a=new l(a);this.identifier=a.Poa(4);k.assert("midx" === this.identifier);this.version=a.Uo(4);k.assert(0 === this.version);this.xka=a.dj(36);this.dk=a.qK();this.Oo=a.qK();this.u=a.qK();this.zMb=a.wg();this.AMb=a.wg();this.language=a.dj(16);a.dj(16);this.startOffset=a.qK();this.uo=a.wg();for(var b=[],f=0,d=0;d < this.uo;d++){m=new c(a.Uo(4),a.wg());b.push(m);f+=m.duration;}this.entries=b;this.endTime=f;};},function(f,b,a){var l,k,r,g,p,d,m;function c(a){l.call(this);this.Hl=a.url;this.$N=a.request;this.iC=a.Fc || 0;this.Ea=a.ma;this.Ch=this.qp=null;a.Nr?this.qp=a.Nr:(this.ce=a.offset,this.dH=a.size);this.Kk;this.rca=a;}l=a(140).EventEmitter;k=a(568);r=a(567);g=a(566);p=a(129);d=c.events={P7a:"midxready",d$a:"sidxready",K9a:"ready",ERROR:"error"};m=c.C2b={N7a:"midxdownloaderror",O7a:"midxparseerror",p8a:"nosidxfoundinmidx",b$a:"sidxdownloaderror",c$a:"sidxparseerror"};c.prototype=Object.create(l.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Rn:{get:function(){return this.Kk && this.Kk.Tfa;}}});c.prototype.start=function(){this.qp?(this.Ea.warn("midx was prefectched and provided"),this.nEa(this.qp)):this.rbb(this.ce,this.dH,this.leb.bind(this));};c.prototype.close=function(){};c.prototype.Fz=function(a,b){return this.Kk && this.Kk.nja(a,b);};c.prototype.B0=function(a,b){return (a=this.Fz(a,b))?a.length:a;};c.prototype.IA=function(a,b){this.Ea.debug("setStreamStartPosition: buffering subtitles at pts " + a);this.iC=a;this.Kk?this.Kk.IA(a,b):b && b();};c.prototype.Lub=function(a){var b,d,c;if(!this.Kk)return [];b=p.qvb(this.qp);if(a > b)return [];this.Kk && this.Kk.Gga(a);d=this.Rn.js;c=this.Rn.index;b=[];c=p.ec(c) && this.Ch[c + 1];if(!(c && c.entries.length || d && !(a > d.endTime)))return [];d && d.images.length && (b=this.AEa(d,a,[]));2 > b.length && c && c.images.length && (d=this.AEa(c,a,b),b.push.apply(b,d));return this.Kk.wqa(a)?null:p.PJa(b);};c.prototype.kj=function(a,b){this.Kk && this.Kk.kj(a,b);};c.prototype.Xo=function(a,b){this.Kk && this.Kk.Xo(a,b);};c.prototype.rbb=function(a,b,d){this.Ea.debug("downloading midx...");this.MEa(a,b,"binary",d);};c.prototype.sbb=function(a,b,d){this.Ea.debug("downloading sidx...");this.MEa(a,b,void 0,d);};c.prototype.MEa=function(a,b,d,c){this.$N({url:this.Hl,offset:a,size:b,responseType:d},c);};c.prototype.leb=function(a,b){if(a)this.emit(d.ERROR,p.eQ(a,m.N7a));else try{this.qp=new k(b);this.nEa(this.qp);}catch(A){this.emit(d.ERROR,p.eQ(A,m.O7a));}};c.prototype.nEa=function(a){var b;b=a.entries.reduce(function(a,b){return a + b.size;},0);b?(this.emit(d.P7a,a),this.sbb(a.startOffset,b,this.oeb.bind(this,a))):this.emit(d.ERROR,p.eQ({},m.p8a));};c.prototype.oeb=function(a,b,c){var f,t,k,l;f=this;if(b)f.emit(d.ERROR,p.eQ(b,m.b$a));else {t=0;k=0;f.Ch=[];try{l=0;a.entries.forEach(function(b){var d;d=new r(c,t,a.xka,f.Ea,k,k + b.duration,l);f.Ch.push(d);b.rPb=d;k=d.So;t+=b.size;l++;});}catch(C){f.emit(d.ERROR,p.eQ(C,m.c$a));return;}f.emit(d.d$a,f.Ch);this.Kk=new g(f.rca,a,f.Ch);b=f.iC;f.rca && f.rca.D4 || (b=Math.max(f.iC - 1E4,0));this.Kk.Gga(b,function(a){a && f.Ea.error("initial sidx download failed");f.emit(d.K9a);});}};c.prototype.AEa=function(a,b,d){var l;for(var c=a.entries,g=0,m=c.length,f=[],t,k=this.qp;g < m;){t=c[g];if(t.Ml <= b)t.Ml + t.duration >= b && f.push(p.Jfa(t,a.images[g].data,k));else {l=f.length && f[f.length - 1] || d.length && d[d.length - 1];if(l && l.Ml > b && l.Ml !== t.Ml)break;l.DD !== t.DD && f.push(p.Jfa(t,a.images[g].data,k));}g++;}return f;};f.V=c;},function(f,b,a){var k;function c(a,b){return b.reduce(l.bind(this,a),[]);}function l(a,b,c){var d,g;d=c.displayTime - a;a=c.displayTime + c.duration - a;g=0 < b.length?b[0].timeout:Infinity;return 0 < d && d < g?[{timeout:d,type:"showsubtitle",He:c}]:d === g?b.concat([{timeout:d,type:"showsubtitle",He:c}]):0 < a && a < g?[{timeout:a,type:"removesubtitle",He:c}]:a === g?b.concat([{timeout:a,type:"removesubtitle",He:c}]):b;}k=a(140).EventEmitter;b=a(287)({});a=function g(a,b,c,f){if(!(this instanceof g))return new g(a,b,c,f);k.call(this);this.Ay=a;this.bcb=b;this.Fv={};this.eH={};this.Ea=c || console;this.LW=!1;this.qeb=f && f.CWa || 0;};a.prototype=Object.create(k.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.$h);Object.keys(a.Fv).forEach(function(b){a.emit("removesubtitle",a.Fv[b]);});a.Fv={};};a.prototype.pause=function(){clearTimeout(this.$h);};a.prototype.qs=function(a,b){var d,g;d=this;g=d.Ay();clearTimeout(this.$h);a=d.bcb(g);null !== a && d.LW && (d.LW=!1,d.emit("bufferingComplete"));b="number" === typeof b?b:0;Object.keys(d.Fv).forEach(function(a){a=d.Fv[a];a.displayTime - d.qeb <= g && g < a.displayTime + a.duration || (delete d.Fv[a.id],d.emit("removesubtitle",a));});Object.keys(d.eH).forEach(function(a){a=d.eH[a];g >= a.displayTime + a.duration && delete d.eH[a.id];});null !== a && 0 < a.length?(b=a.length,d.Ea.info("found " + b + " entries for pts " + g),a.forEach(function(a){a.displayTime - 0 <= g && g < a.displayTime + a.duration && !d.Fv[a.id] && (d.emit("showsubtitle",a),d.Fv[a.id]=a,delete d.eH[a.id]);}),b=a[a.length - 1],d.Fv[b.id] || d.eH[b.id] || (d.emit("stagesubtitle",b),d.eH[b.id]=b),b=c(g,a),0 < b.length?d.TX(b[0].timeout):d.TX(2E4)):null === a?(a=250 * Math.pow(2,b),2E3 < a && (a=2E3),d.Ea.warn("checking buffer again in " + a + "ms"),d.LW || (d.LW=!0,d.emit("underflow")),d.TX(a,b + 1)):d.TX(2E4);};a.prototype.TX=function(a,b){var d;d=this;d.Ea.info("Scheduling pts check.");d.$h=setTimeout(function(){d.qs(d.Ay(),b);},a);};f.V=b(["function","function","object","object"],a);},function(f,b,a){var p,d,m;function c(a){var b,d,g;b=0;this.Ea.info("show subtitle called at " + this.Ay() + " for displayTime " + a.displayTime);this.emit("showsubtitle",a);d=this.Cy[this.Cy.length - 1];d.TK || (d.TK={});if("dfxp-ls-sdh" === this.wca)for(var c=0;c < a.Bib.length;c++){g=a.Bib[c];d.TK[g.id] || (b++,d.TK[g.id]=!0);}else d.TK[a.id] || (b++,d.TK[a.id]=!0);d.YS+=b;}function l(a){this.Ea.info("remove subtitle called at " + this.Ay() + " for remove time " + (a.displayTime + a.duration));this.emit("removesubtitle",a);}function k(){this.Ea.info("underflow fired by the subtitle timer");this.emit("underflow");}function r(){this.Ea.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}function g(a){var b;this.Ea.info("ending subtitle interval at " + a);b=this.Cy[this.Cy.length - 1];b.pa=a;b.pa < b.T && (this.Ea.warn("correcting for interval where endPts is smaller than startPts"),b.T=0 < b.pa?b.pa - 1:0);b.v_=this.Nc.B0(b.T,b.pa);delete b.TK;b.v_ > b.YS && b.qla && 500 > b.pa - b.qla && (b.v_=this.Nc.B0(b.T,b.qla));this.Ea.info("showed " + b.YS + " during this interval");this.Ea.info("expected " + b.v_ + " for this interval");}p=a(140).EventEmitter;d=a(570);b=a(287)();m=a(569);a=function x(a,b){var g,f;g=this;f=a.Vl || !1;if(!(g instanceof x))return new x(a,b);p.call(g);g.Ea=a.ma || console;g.$N=a.request;g.Ay=a.IOa;g.$h=null;g.Jk=!0;g.Cy=[];g.wca=b.profile;g.Hl=b.url;g.iC=b.Fc;g.heb=b.eJb;g.nbb=b.Mm;g.PG=g.iC || 0;a={url:g.Hl,request:g.$N,Fc:g.iC,xml:b.xml,eJb:g.heb,Mm:g.nbb,ma:g.Ea,Vl:f,bufferSize:b.bufferSize,Nr:b.Nr,CWa:b.CWa || 0,uIa:b.uIa};if("nflx-cmisc" === g.wca)(a.offset=b.Kma,a.size=b.jTa,a.D4=b.D4,a.NLa=b.NLa,g.Nc=new m(a));else throw Error("SubtitleManager: " + g.wca + " is an unsupported profile");g.Nc.on("ready",function(){var a,m;a=! !b.bib;g.Ea.info("ready event fired by subtitle stream");g.emit("ready");m=g.Nc.Lub.bind(g.Nc);g.$h=new d(g.Ay,m,g.Ea,b);g.$h.on("showsubtitle",c.bind(g));g.$h.on("removesubtitle",l.bind(g));g.$h.on("underflow",k.bind(g));g.$h.on("bufferingComplete",r.bind(g));a && (g.Ea.info("autostarting subtitles"),setTimeout(function(){g.qs(g.Ay());},10));});g.Nc.on("error",g.emit.bind(g,"error"));};a.prototype=Object.create(p.prototype);a.prototype.start=function(){this.Nc.start();};a.prototype.DWa=function(){this.Jk || (this.Jk=!0,g.call(this,this.PG));};a.prototype.qs=function(a){!this.Jk && 1E4 < Math.abs(a - this.PG) && (this.Ea.warn("Detected an unexpected pts jump larger than",1E4,"at",a,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.DWa());this.PG=a;this.Jk && (this.Jk=!1,this.Ea.info("creating a new subtitle interval at " + a),this.Cy.push({T:a,YS:0}));null !== this.$h && (this.Cy[this.Cy.length - 1].qla=a,this.$h.qs(a));};a.prototype.stop=function(){var a;this.Ea.info("stop called");this.Jk || this.pause();this.Nc.removeAllListeners(["ready"]);null !== this.$h && this.$h.stop();a=this.Cy.reduce(function(a,b){a.xZa+=b.YS;a.pr+=b.v_;a.Uzb.push(b);return a;},{xZa:0,pr:0,Uzb:[]});"object" === typeof this.Nc && this.Nc.close();this.Ea.info("metrics: " + JSON.stringify(a));return a;};a.prototype.pause=function(){var a;a=this.Ay();this.Jk?this.Ea.warn("pause called on subtitle manager, but it was already paused!"):(this.Ea.info("pause called at " + a),this.Jk=!0,g.call(this,a));null !== this.$h && this.$h.pause();};a.prototype.Fz=function(a,b){return this.Nc.Fz(a,b);};a.prototype.B0=function(a,b){return this.Nc.B0(a,b);};a.prototype.IA=function(a){var d;function b(){d.Ea.trace("bufferingComplete from setStreamStartPosition");d.emit("bufferingComplete");}d=this;"function" === typeof d.Nc.IA?d.Nc.IA(a,b):b();};a.prototype.Xo=function(a,b){this.Nc.Xo && this.Nc.Xo(a,b);};a.prototype.kj=function(a,b){this.Nc.kj && this.Nc.kj(a,b);};a=b([{request:"function",IOa:"function",ma:"object"},"object"],a);f.V=a;},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.Lsa=void 0;c=a(0);l=a(1);k=a(34);r=a(40);g=a(43);p=a(30);d=a(252);f=(function(){var b;function a(a,b,d,c){a=g.le.call(this,a,void 0 === c?"AppInfoConfigImpl":c) || this;a.config=b;a.D5=d;return a;}M(a,g.le);a.prototype.lwb=function(a){return "" + this.aMa + (this.D5.V4(a)?"/msl_v1":"");};a.prototype.twb=function(a){return "" + this.host + (this.D5.V4(a)?"/msl":"") + "/playapi";};ma.Object.defineProperties(a.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},aMa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.pI){case k.Yu.t$a:a="www.stage";break;case k.Yu.BCa:a="www-qa.test";break;case k.Yu.fxa:a="www-int.test";break;default:a="www";}return "https://" + a + ".netflix.com";}},hIa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});b=a;c.__decorate([r.config(r.string,"apiEndpoint")],b.prototype,"endpoint",null);c.__decorate([r.config(r.string,"nqEndpoint")],b.prototype,"aMa",null);c.__decorate([r.config(r.string,"bindService")],b.prototype,"hIa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(p.sj)),c.__param(1,l.l(k.vl)),c.__param(2,l.l(d.TM)),c.__param(3,l.l(p.hB)),c.__param(3,l.optional())],b);})();b.Lsa=f;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.qHa=void 0;c=a(572);l=a(125);f=a(1);k=a(94);r=a(14);b.qHa=new f.Kc(function(a){a(l.YA).to(c.Lsa).Z();});b.profile=new f.Kc(function(a){a(k.eG).Lx(function(a){return (a=a.ib.get(r.Jc)()) && a.Qt?"browsertest":"browser";});});},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.oWa=void 0;c=a(2);l=[c.K.P6a,c.K.Owa,c.K.Mwa,c.K.Nwa,c.K.Swa,c.K.Iwa,c.K.Gwa,c.K.r8,c.K.Twa,c.K.Jwa,c.K.M6a,c.K.N6a,c.K.Hwa,c.K.Zx,c.K.Dwa,c.K.Fwa,c.K.Pwa,c.K.Qwa,c.K.Rwa,c.K.Q6a,c.K.S6a,c.K.W6a,c.K.U6a,c.K.T6a,c.K.R6a,c.K.V6a,c.K.X6a,c.K.Lwa,c.K.Kwa,c.K.Ewa];(function(a){a.x8a=function(a){var g;for(var b={},d=0;d < a.length;d++){g=a[d];if(b[g.errorCode])return {errorCode:g.errorCode,ja:c.L.r2a};b[g.errorCode]=1;}};a.y8a=function(a){var d;for(var b=0;b < a.length;b++){d=a[b];if(-1 === l.indexOf(d.errorCode))return {errorCode:d.errorCode,ja:c.L.s2a};}};})(k || (k={}));b.oWa=function(a){return new Promise(function(b,c){var d;d=k.y8a(a);d && c(d);(d=k.x8a(a)) && c(d);b(a.sort(function(a,b){return l.indexOf(a.errorCode) - l.indexOf(b.errorCode);}));});};},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J,E,n;Object.defineProperty(b,"__esModule",{value:!0});b.kta=void 0;c=a(0);l=a(68);k=a(2);r=a(574);g=a(67);p=a(1);d=a(6);m=a(14);t=a(61);h=a(4);A=a(93);J=a(288);E=a(19);n=a(11);f=(function(){var b;function a(a,b,d,c,g,m){var f;f=this;this.Oj=a;this.config=d;this.il=c;this.debug=g;this.wa=m;this.c0a=[];this.zd={};this.log=b.ob("loadAsync");this.XCb=J.awa(function(a){f.mLb=!0;f.startTime=f.wa.zb().aa(h.fa);f.load(f.c0a).then(function(){f.endTime=f.wa.zb().aa(h.fa);a(n.Md);})["catch"](function(b){f.endTime=f.wa.zb().aa(h.fa);a(b);});});}a.prototype.$Q=function(a){this.XCb(a);};a.prototype.register=function(a,b){this.debug.assert(!this.mLb);this.c0a.push({oCb:this.Ajb(b),errorCode:a});};a.prototype.od=function(a){this.debug.assert(void 0 === this.zd[a]);this.zd[a]=this.wa.zb().aa(h.fa);};a.prototype.load=function(a){var b;b=this;return r.oWa(a).then(function(a){b.Oj.mark(g.om.Fi.x2a);return a.reduce(function(a,d){return a.then(function(){return b.kCb(d);});},Promise.resolve()).then(function(){b.Oj.mark(g.om.Fi.v2a);});});};a.prototype.kCb=function(a){var b,d;b=this;d=a.oCb;return this.il.jn(h.Lb(this.config().Chb),d())["catch"](function(d){b.log.error("Failed to load component " + a.errorCode,d);b.Oj.mark(g.om.Fi.w2a);if(d instanceof t.Mn)throw {ja:k.L.u2a,errorCode:a.errorCode};d.errorCode=d.errorCode || a.errorCode;d.ja=d.ja || k.L.t2a;throw d;});};a.prototype.Ajb=function(a){return function(){return new Promise(function(b,d){a(function(a){a.ia?b():d(a);});});};};b=a;return b=c.__decorate([p.N(),c.__param(0,p.l(l.oy)),c.__param(1,p.l(d.xb)),c.__param(2,p.l(m.Jc)),c.__param(3,p.l(t.jy)),c.__param(4,p.l(A.Bs)),c.__param(5,p.l(E.qd))],b);})();b.kta=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;f=a(1);c=a(575);l=a(28);b.LHa=new f.Kc(function(a){a(l.Sf).to(c.kta).Z();});},function(f,b,a){var l,k,r,g,p,d,m;function c(a,b,d,c,g,m,f,k,l,h){var t;t=p.uM.call(this,b,d,l,h) || this;t.mi=a;t.ma=c;t.bj=g;t.wa=m;t.MIb=f;t.QP=!1;t.voa=Promise.resolve();t.vTa=k.Efa({Xia:function(){return r.Lb(100);}},function(){return t.hi().j0() || 0;});return t;}Object.defineProperty(b,"__esModule",{value:!0});b.dCa=void 0;l=a(13);k=a(195);r=a(4);g=a(2);p=a(289);d=a(293);m=a(120);M(c,p.uM);c.prototype.PR=function(){this.wA();};c.prototype.Ena=function(){};c.prototype.nPa=function(a,b){var d,c,f,p;d=this.yc.og(a);if(this.mi.P5 && this.yc.ha.la === d.la)return Promise.resolve(this.hi().seek(d.Xd,l.$d.kv,void 0));c=this.ul.LI(d.la);b=m.Ima(c.$a,b);f=this.hi().Xt();if(c.state !== k.kp.n7)return (c=c.state === k.kp.Error?c.error:this.bj(g.K.b9a,{ub:a}),f.Qxb({la:d.la,Ba:a,Ta:b},c),f.yp("Transition " + this.yc.Fg + "->" + a + " error " + c.dD),Promise.reject());d=f.Gb;if(!d)throw (this.ma.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.ma.debug("going to next segment: " + this.yc.Fg + " -> " + a);f.yp("Transition " + this.yc.Fg + "->" + a);p=f.Aw(a);p.rl=this.wa.zb().aa(r.fa);p.Ta=b;return (void 0 !== d.h0(a)?this.Rxb(a,p.u):this.HS(a,p.u)).then(function(){f.UMa(p.u);});};c.prototype.HS=function(a,b){var d;d=this.yc.vk.Va[a].Xd;this.ma.debug("Segment is not pre-buffered - performing a regular seek");this.hi().Xt().yp("NO DATA " + a + ", SEEKING " + d + ", viewableId: " + b);return Promise.resolve(this.hi().seek(d,l.$d.kv,a,!0));};c.prototype.Rxb=function(a,b){var d,c,g,m,f;d=this;c=this.hi().Xt();g=c.Gb;if(!g)throw Error("No streaming session");m=new Promise(function(a){function b(){d.ma.debug("Stopped ASE");g.removeEventListener("stop",b);a();}g.addEventListener("stop",b);});f=new Promise(function(a){function b(){d.ma.debug("Repositioned");c.removeEventListener(l.W.ll,b);a();}function m(){d.ma.debug("Repositioning");c.removeEventListener(l.W.BE,m);g.stop();}c.addEventListener(l.W.BE,m);c.addEventListener(l.W.ll,b);});m=Promise.all([m,f]).then(function(){if(!g.Ht(a,!1,!0))return (c.yp("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),d.HS(a,b));});f=g.hP(void 0,this.yc.vk.Va[a].Xd,a);this.ma.debug("Calling seek on internal player to " + f);this.hi().seek(f,l.$d.KB,a,!0);return m;};c.prototype.hS=function(a){if(!this.QP)return (this.QP=!0,p.uM.prototype.hS.call(this,a));this.wA();this.voa=this.hi().Xt().Ub.when(function(a){return a !== l.sb.fg;}).then(function(){});return this.ul.LI(a.u).BKb;};c.prototype.wA=function(){var a,b;a=this;if(this.isReady()){this.vTa.cancel();b=this.MIb.fPb();b.result === d.jp.pxa?this.vTa.observe(b.ei,function(){a.wA();}):b.result === d.jp.Saa && this.uJb(b.I1a);}};c.prototype.uJb=function(a){var d,c,g,m,f,k,p;function b(a){a.u === f && (d.yc.Fg=c,d.wA(),m.removeEventListener(l.W.hq,b),d.Ib.ac(l.HB.LS));}d=this;c=a.Ba;g=this.yc.og(c);m=this.hi().Xt();a=Object.assign(this.ul.LI(a.la).$a || ({}),{T:g.Xd,pa:g.Ge,lk:!1,G5:Date.now(),G1:!0});f=m.mda({la:g.la,Ba:c,Ta:a});k=m.Rl(f);this.ma.debug("Creating new playback xid: " + k.ea + ", movieId: " + k.u);m.addEventListener(l.W.hq,b);p="pauseAtStart" !== g.xe;this.ul.kOb(g.la);m.yp("queueManifest",k.Ba);this.voa=a=this.voa.then(function(){return m.kKb(f,p);}).then(function(){m.yp("queueManifest done",k.Ba);d.ul.YYa(g.la);m.jJb(k);})["catch"](function(a){m.yp("queueManifest error " + a.dD,k.Ba);d.ul.jOb(g.la,a);throw a;});a.then(function(){return d.wA();});};b.dCa=c;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J;Object.defineProperty(b,"__esModule",{value:!0});b.HAa=void 0;c=a(0);l=a(1);k=a(122);r=a(19);g=a(133);p=a(577);d=a(475);m=a(260);t=a(14);h=a(289);A=a(261);J=a(31);f=(function(){var b;function a(a,b,d,c,g,m,f,k){this.wa=a;this.bj=b;this.nNb=c;this.mi=m;this.iA=f;this.cn=k;this.lNb=d.Bz(!1,"0.0026.212.010",a.id,k,g);}a.prototype.create=function(a,b,d,c,g,m){var f;a=this.nNb.Lnb(a,this.lNb);f=this.mi.O5 || this.mi.r1a && 1 < Object.keys(b.vk.Va).length;c.debug("Using " + (f?"single":"multiple") + " player playback strategy");return f?new p.dCa(this.mi,b,d,c,this.bj,this.wa,g,this.iA,a,m):new h.uM(b,d,a,m);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(r.qd)),c.__param(1,l.l(k.GB)),c.__param(2,l.l(d.eaa)),c.__param(3,l.l(m.mW)),c.__param(4,l.l(t.Jc)),c.__param(5,l.l(g.cG)),c.__param(6,l.l(A.yV)),c.__param(7,l.l(J.aG))],b);})();b.HAa=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;c=a(0);l=a(1);k=a(43);r=a(30);g=a(40);p=a(4);f=(function(){var b;function a(a){return k.le.call(this,a,"PlaygraphConfigImpl") || this;}M(a,k.le);ma.Object.defineProperties(a.prototype,{jWa:{configurable:!0,enumerable:!0,get:function(){return 2;}},iWa:{configurable:!0,enumerable:!0,get:function(){return p.zR(3);}},O5:{configurable:!0,enumerable:!0,get:function(){return !1;}},P5:{configurable:!0,enumerable:!0,get:function(){return !1;}},r1a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});b=a;c.__decorate([g.config(g.Qx,"prepareSegmentsUpfront")],b.prototype,"jWa",null);c.__decorate([g.config(g.hh,"prepareSegmentsDuration")],b.prototype,"iWa",null);c.__decorate([g.config(g.Cc,"usePlaygraphForPostPlay")],b.prototype,"O5",null);c.__decorate([g.config(g.Cc,"usePlaygraphForSkipSegment")],b.prototype,"P5",null);c.__decorate([g.config(g.Cc,"useSinglePlayerPlayback")],b.prototype,"r1a",null);return b=c.__decorate([l.N(),c.__param(0,l.l(r.sj))],b);})();b.BAa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;c=a(0);l=a(1);k=a(152);f=(function(){var b;function a(){}a.prototype.Znb=function(a){var g,f,p;for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}g=this;if(0 === b.length)throw Error("Empty playgraph");f=new k.ZV().lqa(this.Z_(b[0]));b.reverse().forEach(function(a){var b;b=g.Z_(a);f.Wq(b,Object.assign({la:a,Xd:0},p?{Ri:p}:{}));p=b;});return f.Nk();};a.prototype.Z_=function(a,b){return a + ":[startPts:" + (void 0 === b?0:b) + "]";};a.prototype.$gb=function(a,b){var d,c,g,f;d=void 0 === d?this.Z_(b.u,b.T):d;c=void 0 === c?"pauseAtStart":c;g=this.Nvb(a);f=new k.ZV(a);f.Wq(d,{la:b.u,Xd:b.T || 0,xe:c});a=a.Va[g];b={};f.Wq(g,Object.assign({},a,{Ri:d,next:Object.assign({},a.next || ({}),(b[d]={},b))}));return f.Nk();};a.prototype.Nvb=function(a){for(var b=a.rg,c=b;c=a.Va[c].Ri;){b=c;}return b;};b=a;return b=c.__decorate([l.N()],b);})();b.CAa=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;c=a(0);l=a(1);f=(function(){var f;function b(){}b.prototype.create=function(b,c,d){return new (a(290).iDa)(b,c,d);};f=b;return f=c.__decorate([l.N()],f);})();b.MAa=f;},function(f,b,a){var l,k;function c(a,b,c){this.mi=a;this.tf=b;this.ul=c;}Object.defineProperty(b,"__esModule",{value:!0});b.IAa=void 0;l=a(4);k=a(293);c.prototype.fPb=function(){var a,b,c,d,m;a=this.ul.UTa;if(!a)return {result:k.jp.xM};b=this.tf.yc;if(b.Fg === a.Ba)return {result:k.jp.Saa,I1a:a};c=this.Uwb(b,b.Fg,a.Ba);if(!c)return {result:k.jp.xM};d=c.duration;if(c.lw >= this.mi.jWa)return {result:k.jp.xM};c=this.TNa(b.Fg);if(!c)return {result:k.jp.xM};b=this.tf.hi().j0() || 0;c=Math.max(0,c - b);d=c + d;m=this.mi.iWa.aa(l.fa);if(d <= m)return {result:k.jp.Saa,I1a:a};a=d - m;return c < a?{result:k.jp.xM}:{result:k.jp.pxa,ei:b + a};};c.prototype.Uwb=function(a,b,c){var f,k,g;b=a.uD(b);for(var d=0,g=0;b !== c && void 0 !== b;){d++;f=a.og(b);k=this.TNa(b) || Infinity;g=g + (k - f.Xd);b=a.uD(b);}return b?{lw:d,duration:g}:void 0;};c.prototype.TNa=function(a){var b,c;b=this.tf.yc;c=b.QOa(a);if(void 0 !== c)return c;a=b.og(a);if(a=this.tf.Rl(a.la))return a.Lt.aa(l.fa);};b.IAa=c;},function(f,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;l=a(152);c.prototype.WRb=function(a){var b;if(!this.TAb(a.Va))return a;b=new l.ZV().lqa(a.rg);Object.entries(a.Va).forEach(function(c){var g;g=S(c);c=g.next().value;g=g.next().value;c === a.rg?b.Wq(c,Object.assign(Object.assign({},g),{next:void 0,Ge:void 0,Ri:void 0})):b.Wq(c,g);});return b.Nk();};c.prototype.TAb=function(a){a=Object.values(a).map(function(a){return a.la;});return 1 === new Set(a).size;};b.FAa=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});f=(function(){function a(){}a.decode=function(b){return Object.assign({initialSegment:b.rg,segments:a.Rob(b.Va)},void 0 !== b.xe?{transitionType:b.xe}:{});};a.encode=function(b){return Object.assign({rg:b.initialSegment,Va:a.prb(b.segments)},void 0 !== b.transitionType?{xe:b.transitionType}:{});};a.E3b=function(a){return void 0 !== a.rg && void 0 !== a.Va;};a.K3b=function(a){return void 0 !== a.la && void 0 !== a.Xd;};a.prb=function(b){return Object.keys(b).reduce(function(c,f){c[f]=a.orb(b[f]);return c;},{});};a.orb=function(b){return Object.assign({la:b.viewableId,Xd:b.startTimeMs},b.endTimeMs?{Ge:b.endTimeMs}:{},b.defaultNext?{Ri:b.defaultNext}:{},b.transitionType?{xe:b.transitionType}:{},b.next?{next:a.mrb(b.next)}:{},b.transitionDelayZones?{C5:b.transitionDelayZones}:{});};a.mrb=function(b){return Object.keys(b).reduce(function(c,f){c[f]=a.nrb(b[f]);return c;},{});};a.nrb=function(a){return Object.assign({},void 0 !== a.weight?{weight:a.weight}:{},a.transitionType?{xe:a.transitionType}:{});};a.Rob=function(b){return Object.keys(b).reduce(function(c,f){c[f]=a.Qob(b[f]);return c;},{});};a.Qob=function(b){return Object.assign({viewableId:b.la,startTimeMs:b.Xd},b.Ge?{endTimeMs:b.Ge}:{},b.Ri?{defaultNext:b.Ri}:{},b.xe?{transitionType:b.xe}:{},b.next?{next:a.Oob(b.next)}:{},b.C5?{transitionDelayZones:b.C5}:{});};a.Oob=function(b){return Object.keys(b).reduce(function(c,f){c[f]=a.Pob(b[f]);return c;},{});};a.Pob=function(a){return Object.assign({},void 0 !== a.weight?{weight:a.weight}:{},a.xe?{transitionType:a.xe}:{});};return a;})();b.D9a=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});f=(function(){function a(a){a && (this.lqa(a.rg),this.FOb(a.xe),this.xOb(a.Va));}a.prototype.lqa=function(a){this.rg=a;return this;};a.prototype.FOb=function(a){this.xe=a;};a.prototype.Wq=function(a,b){this.Va || (this.Va={});this.Va[a]=this.KKa(b);return this;};a.prototype.xOb=function(a){var b;b=this;this.Va={};Object.keys(a).forEach(function(c){return b.Wq(c,a[c]);});};a.prototype.Nk=function(){if(!this.Va)throw Error("Invalid playgraph - `segments` is not defined");if(!this.rg)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Va[this.rg])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({rg:this.rg,Va:this.Va},this.xe?{xe:this.xe}:{});};a.prototype.KKa=function(a){var b;b=this;return a && "object" === typeof a?Object.keys(a).reduce(function(c,f){c[f]="object" === typeof a[f]?b.KKa(a[f]):a[f];return c;},{}):a;};return a;})();b.ZV=f;},function(f,b,a){var l;function c(a){this.EX={};this.Iqa={};this.U0a=[];this.DZa=[];this.vk=a;this.Fg=a.rg;}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;l=a(152);c.prototype.Xo=function(a){var f;for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}f=this;b.filter(function(a){return f.JS(a.Ba);}).filter(function(a){a=a.IR;return !a || f.JS(a);}).forEach(function(a){f.EX[a.Ba]=f.ona(a.IR);});};c.prototype.IHa=function(a){var b;b=this;a.filter(function(a){return b.JS(a);}).forEach(function(a){b.EX[a]=b.ona(b.og(a).Ri);});};c.prototype.kj=function(a,b){var c,f,d;c=this.og(a);if(c && c.next){f=new l.ZV(this.vk);d=Object.keys(c.next).reduce(function(a,d){a[d]=void 0 === b[d]?c.next[d]:Object.assign({},c.next[d],{weight:b[d]});return a;},{});d=Object.assign({},c,{next:d});f.Wq(a,d);this.vk=f.Nk();}};c.prototype.JS=function(a,b){b=void 0 === b?this.vk.Va:b;return (a in b);};c.prototype.uD=function(a){return this.EX[a];};c.prototype.og=function(a){return this.vk.Va[a];};c.prototype.QOa=function(a){return void 0 === this.Iqa[a]?this.ona(this.og(a).Ge):this.Iqa[a];};c.prototype.VSb=function(a,b){this.Iqa[a]=b;this.OFb(a);};c.prototype.AQb=function(a){this.U0a.push(a);};c.prototype.BQb=function(a){this.DZa.push(a);};c.prototype.RFb=function(){var a;a=this;this.U0a.forEach(function(b){return b(a.vk);});};c.prototype.OFb=function(a){this.DZa.forEach(function(b){return b(a);});};c.prototype.ona=function(a){return null === a?void 0:a;};ma.Object.defineProperties(c.prototype,{vk:{configurable:!0,enumerable:!0,get:function(){return this.geb;},set:function(a){if(this.Fg && !this.JS(this.Fg,a.Va))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Fg);this.geb=a;this.EX={};a=Object.keys(a.Va);this.IHa(a);this.RFb();}},Fg:{configurable:!0,enumerable:!0,get:function(){return this.jbb;},set:function(a){if(!this.JS(a))throw Error("Provided currentSegmentId " + a + " does not exist in the current playgraph");this.jbb=a;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.og(this.Fg);}}});b.LAa=c;},function(f,b,a){var l;function c(a){this.Pb=a;this.zL={};this.PR();}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;l=a(195);c.prototype.PR=function(){var a;a=this;Object.values(this.Pb.vk.Va).forEach(function(b){b=b.la;a.zL[b] || a.vQa(b);});this.I5();};c.prototype.LI=function(a){return this.zL[a];};c.prototype.kOb=function(a){this.u0(a).state=l.kp.Wva;this.I5();};c.prototype.jOb=function(a,b){a=this.u0(a);a.state=l.kp.Error;a.error=b;a.ZXa(!1);this.I5();};c.prototype.YYa=function(a){a=this.u0(a);a.state=l.kp.n7;a.ZXa(!0);this.I5();};c.prototype.rgb=function(a,b){this.u0(a).$a=b;};c.prototype.u0=function(a){var b;return null !== (b=this.LI(a)) && void 0 !== b?b:this.vQa(a);};c.prototype.vQa=function(a){var b,c;b=void 0;c=new Promise(function(a,d){b=function(b){(b?a:d)();};});return this.zL[a]={state:l.kp.$ya,BKb:c,ZXa:b};};c.prototype.I5=function(){var b;this.UTa=void 0;for(var a=this.Pb.Fg;a=this.Pb.uD(a);){b=this.Zt(a);if(this.zL[b].state === l.kp.Error)break;if(this.zL[b].state === l.kp.Wva)break;if(this.zL[b].state === l.kp.$ya){this.UTa={la:b,Ba:a};break;}}};c.prototype.Zt=function(a){return this.Pb.vk.Va[a].la;};b.NAa=c;},function(f,b,a){var l,k,r,g,p,d;function c(a,b,c,f,k,l,h,D){this.dS=f;this.Bra=l;this.QP=!1;this.sx=D.jz();k.P5 && (a=new p.FAa().WRb(a));this.yc=new g.LAa(a);this.ul=new r.NAa(this.yc);this.ul.YYa(this.yc.ha.la);this.log=b.ob("PlaygraphManager");a=new d.IAa(k,this,this.ul);this.Ib=c.create();this.qx=h.create(this.sx,this.yc,this.ul,this.log,a,this.Ib);this.QOb();}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;l=a(13);k=a(195);r=a(587);g=a(586);p=a(583);d=a(582);c.prototype.zwb=function(){return this.sx;};c.prototype.k0=function(){return this.yc.ha;};c.prototype.INa=function(){return this.yc.Fg;};c.prototype.Awb=function(){return this.yc.vk;};c.prototype.Xo=function(a){for(var b=[],d=0;d < arguments.length;++d){b[d - 0]=arguments[d];}this.yc.Xo.apply(this.yc,[].concat(da(b)));};c.prototype.Dkb=function(a){for(var b=[],d=0;d < arguments.length;++d){b[d - 0]=arguments[d];}this.yc.IHa(b);};c.prototype.PSb=function(a){this.yc.vk=a;};c.prototype.kj=function(a,b){this.yc.kj(a,b);};c.prototype.zja=function(a,b,d){if(a !== this.yc.Fg)throw Error("Invalid currentSegmentId");if(b !== this.yc.uD(a))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + a + " -> " + b);return this.qx.nPa(b,d);};c.prototype.isReady=function(){return this.qx.isReady();};c.prototype.addListener=function(a,b,d){this.Ib.addListener(a,b,d);};c.prototype.removeListener=function(a,b){this.Ib.removeListener(a,b);};c.prototype.Bo=function(){return this.qx.Bo();};c.prototype.hi=function(){return this.qx.hi();};c.prototype.Wq=function(a){var b,d;b=this;this.log.info("Adding segment - movieId: " + a.u + ", startPts: " + a.T + ", logicalEnd: " + ("" + a.Gj));if(!this.QP){d=this.qx.hS(a);this.hi().Xt().addEventListener(l.W.FK,function(a){return b.UJ(a);});this.QP=!0;return d;}if(d=Object.keys(this.yc.vk.Va).find(function(d){return b.yc.vk.Va[d].la === a.u;}))return (a.Gj && this.yc.VSb(d,a.Gj),null);this.ul.rgb(a.u,Object.assign({},a.$a,a.T?{T:a.T}:{},a.Gj?{Gj:a.Gj}:{}));this.yc.vk=this.dS.$gb(this.yc.vk,a);this.hi().Xt().yp("addSegment movieId: " + a.u + ", startPts: " + a.T + ", logicalEnd: " + a.Gj);return this.qx.hS(a);};c.prototype.transition=function(a){var b;b=this.yc.uD(this.yc.Fg);return b?this.zja(this.yc.Fg,b,a):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(a){return this.qx.close(a);};c.prototype.Rl=function(a){if(this.ul.LI(a).state == k.kp.n7)return this.hi().Xt().Rl(a);};c.prototype.QOb=function(){var a;a=this;this.yc.AQb(function(){a.ul.PR();a.qx.PR();});this.yc.BQb(function(b){a.qx.Ena(b);});this.addListener(l.HB.LS,function(){return a.QGb();});};c.prototype.QGb=function(){var a;a=this.hi().getError();a?this.Ib.ac(l.Ob.wea,a):(this.Ib.ac(l.Ob.OHa),this.Ib.ac(l.Ob.FO),this.Ib.ac(l.Ob.dF),this.Ib.ac(l.Ob.nL),this.Ib.ac(l.Ob.FT),this.Ib.ac(l.Ob.wea));};c.prototype.UJ=function(a){var b,d,c;b=a.metrics;if(b){d=this.hi().Xt();c=d.Aw(a.segmentId);b=d.Aw(b.srcsegment);this.Bra.SJb(a,c,b);}};b.EAa=c;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h;Object.defineProperty(b,"__esModule",{value:!0});b.DAa=void 0;c=a(0);l=a(1);k=a(588);r=a(6);g=a(133);p=a(479);d=a(292);m=a(194);t=a(472);h=a(91);f=(function(){var b;function a(a,b,d,c,g,m,f){this.rf=a;this.mha=b;this.mi=d;this.dS=c;this.Bra=g;this.LIb=m;this.CD=f;}a.prototype.create=function(a){return new k.EAa(a,this.rf,this.mha,this.dS,this.mi,this.Bra,this.LIb,this.CD);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(r.xb)),c.__param(1,l.l(p.BF)),c.__param(2,l.l(g.cG)),c.__param(3,l.l(m.IM)),c.__param(4,l.l(t.zaa)),c.__param(5,l.l(d.D$)),c.__param(6,l.l(h.av))],b);})();b.DAa=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h;Object.defineProperty(b,"__esModule",{value:!0});b.tf=void 0;f=a(1);c=a(294);l=a(589);k=a(291);r=a(581);g=a(194);p=a(580);d=a(579);m=a(133);t=a(292);h=a(578);b.tf=new f.Kc(function(a){a(c.C$).to(l.DAa).Z();a(k.E$).to(r.MAa).Z();a(g.IM).to(p.CAa).Z();a(m.cG).to(d.BAa).Z();a(t.D$).to(h.HAa).Z();});},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A;Object.defineProperty(b,"__esModule",{value:!0});b.uxa=void 0;c=a(0);l=a(2);k=a(7);r=a(121);g=a(46);p=a(9);d=a(1);m=a(205);t=a(33);h=a(295);A=a(80);f=(function(){var f;function b(a,b,d,c){d=h.NL.call(this,d,c) || this;d.config=a;d.mc=b;d.log=k.Ig(d.j,"LegacyLicenseBroker");d.he=d.config().he;d.config().Foa?g.YQa()?d.Q5=!0:d.log.error("Promise based eme requested but platform does not support it",{browserua:p.rm}):d.Q5=!1;return d;}M(b,h.NL);b.prototype.bKa=function(a){var b;b=void 0 === b?this.j:b;return new this.mq.Wu(a,function(a){return b.fP.Gia(a);},function(a){return b.fP.release(a);},{Vl:!1,JQ:!1});};b.prototype.XC=function(b,d){var c,g,m,f,p,t;d=void 0 === d?this.j:d;c=this;f=a(48).di;this.mq.Wu || this.vd(l.K.rB,l.L.A5a);m=k.Ig(d,"Eme");g=this.bKa(m);p=k.ga.get(r.NB);t=p.iP(d.ud.value.tc);p=p.mP(d.Mg.value.tc);return this.mq.Xu(m,b,function(a){return d.od(a);},{Vl:!1,JQ:!1,bRa:this.config().Kj,zYa:{gTa:this.config().xYa,YIa:this.config().Ppa},Fa:{getTime:f},CA:g,wWa:! !this.Q5,na:this.Fb.na,mF:this.config().Qga,onerror:function(a,b,d){return c.vd(a,b,d);},kna:function(a){return c.O0(a);},zIb:!0,NHa:t,B1a:p,RI:this.config().RI});};b.prototype.LE=function(a){var b;b=this;return this.Q5?new Promise(function(d,c){if(b.Fb.na)b.Fb.na.setMediaKeys(a).then(function(){d();})["catch"](function(a){var d;d=b.jPa(a);c({ia:!1,code:l.K.N9,ld:d.ja,Hg:d.Ie,ub:d.ub,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.iMa=function(a){return {code:a.code,subCode:a.ld,extCode:a.Hg,edgeCode:a.iI,message:a.message,errorDetails:a.ub,errorData:a.q_,state:a.state};};b.prototype.mqa=function(a,b,d){var g,m,f;function c(){m.wS()["catch"](function(a){g.log.error("Unable to set the license",g.iMa(a));a.cause && a.cause.ub && (a.ub=a.ub?a.ub + a.cause.ub:a.cause.ub);g.vd(a.code,a,a.Hg);});}d=void 0 === d?this.j:d;g=this;m=d.Rd;this.log.info("Setting the license");f=b?function(){return Promise.resolve();}:function(){return m.Wi(g.Hia(),a);};return (b?function(){return m.Gda(g.Fb.na);}:function(){return m.create(g.he).then(function(){return Promise.resolve();});})().then(function(){return g.config().cZa?g.LE(m.Yl):Promise.resolve();}).then(f).then(function(){return g.config().cZa?Promise.resolve():g.LE(m.Yl);}).then(function(){g.log.info("license set");g.H_(d.u);g.Fb.P1a.then(function(){g.config().Wz && (b || g.config().SP) && (g.BXa=O.setTimeout(c,g.config().Wz));});})["catch"](function(a){g.log.error("Unable to set the license",g.iMa(a));a.cause && a.cause.ub && (a.ub=a.ub?a.ub + a.cause.ub:a.cause.ub);if(b)throw Error(a && a.message?a.message:"failed to set license");g.vd(a.code,a,a.Hg);});};b.prototype.tVa=function(){return Promise.resolve();};b.prototype.Cna=function(a){var d;function b(){var b;d.j.Rd=d.XC(a.initDataType);b=[];d.j.Yr.forEach(function(a){b.push(k.Ap(a));});d.mqa(b);}d=this;this.log.trace("Received event: " + a.type);this.YQ || (this.YQ=!0,this.mq.Xu?this.j.Yr?this.config().mI && this.config().Vr?this.mc.xNa(this.j.u).then(function(a){d.j.Rd=a;return a.N6b.then(function(){var b;b=[];d.j.Yr.forEach(function(a){b.push(k.Ap(a));});return d.mqa(b,!0).then(function(){var b;if(a.H1b)d.vd(l.K.D5a);else {b=k.Ig(d.j,"Eme");a.A6b({log:b,X4b:function(a){return d.j.od(a);}},{CA:d.bKa(b),onerror:function(a,b,c){return d.vd(a,b,c);}});(b=a.h5b) && d.O0(b);d.j.Hw(a.zd || ({}));d.j.dz="videopreparer";}});});})["catch"](function(a){d.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.vd(l.K.k9a)):this.vd(l.K.rB,l.L.B5a));};b.prototype.IXa=function(a){var b;a=void 0 === a?this.j:a;a.Rd=this.XC("cenc");b=[];a.Yr.forEach(function(a){b.push(k.Ap(a));});return this.mqa(b,!1,a);};b.prototype.Hia=function(){return this.config().SP?A.Ci.by:A.Ci.xl;};ma.Object.defineProperties(b.prototype,{mq:{configurable:!0,enumerable:!0,get:function(){return k.ga.get(t.Os);}},bE:{configurable:!0,enumerable:!0,get:function(){return this.Q5?"encrypted":this.Fb.C7 + "needkey";}}});f=b;c.__decorate([m.VQ],f.prototype,"mq",null);c.__decorate([m.VQ],f.prototype,"bE",null);return f=c.__decorate([d.N()],f);})();b.uxa=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A;Object.defineProperty(b,"__esModule",{value:!0});b.yxa=void 0;c=a(0);l=a(2);k=a(7);r=a(11);g=a(495);p=a(4);d=a(1);m=a(205);t=a(295);h=a(80);A=a(13);f=(function(){var b;function a(a,b,d,c,g,m,f){c=t.NL.call(this,c,g) || this;c.config=a;c.Lf=b;c.mc=d;c.fD=m;c.qR=f;c.log=k.Ig(c.j,"LicenseBroker");c.YQ=new Set();c.Cma=!1;return c;}M(a,t.NL);a.prototype.Cna=function(){var a,b,d;a=this;d=this.j.ha;this.YQ.has(d.u) || (this.YQ.add(d.u),((null === (b=d.qa) || void 0 === b?0:b.Ot)?this.bhb(d,d.qa.Ot):this.config.mI && this.config.Vr?this.chb(d):Promise.reject())["catch"](function(){return a.JXa(d);}).then(function(){return a.wHa(d);})["catch"](function(b){return a.vHa(d,b);})["catch"](function(b){return a.vd(b.code,b,b.Hg);}));};a.prototype.chb=function(a){var b;b=this;return this.mc.xNa(a.u).then(function(d){return b.Gda(d,a,"videopreparer");})["catch"](function(a){b.log.warn("eme not in cache",a);throw a;});};a.prototype.bhb=function(a,b){var d;d=this;return this.fD().then(function(c){var g;g=d.oOa(a);c.xTa(g,b);c.kJ().subscribe(d.CNa(a));return d.Gda(b,a,"manifest");});};a.prototype.Gda=function(a,b,d){this.pWa(a,b);b.dz=d;this.qR.LE(a.Yl);return a.Hda().ns();};a.prototype.ptb=function(a){var b;b={};a.forEach(function(a){b[g.vLa(a.wEb)]=a.time.aa(p.fa);});return b;};a.prototype.byb=function(a,b){this.log.trace("Key status",{viewable:a.u,keyId:k.Tv(b.Rw),status:b.value});};a.prototype.pWa=function(a,b){var d,c,g;d=this;b.Rd=a;c={next:function(a){d.byb(b,a);},error:r.Af,complete:r.Af};g={next:function(a){d.vd(a.code,a,a.Hg);},error:r.Af,complete:r.Af};a.gla().subscribe(c);(a=a.Rt()) && a.subscribe(g);};a.prototype.wHa=function(a){var b;this.log.info("Successfully applied license for xid: " + a.ea + ", viewable: " + a.u + ", segment: " + a.Ba);b=a.Rd;(null === b || void 0 === b?0:b.Cla) && this.O0(b.Cla);this.Hw(a);this.Cma?this.H_(a.u):this.LE(a);};a.prototype.vHa=function(a,b){this.Hw(a);throw b;};a.prototype.Hw=function(a){a.Rd && a.Hw(this.ptb(a.Rd.zd));};a.prototype.CNa=function(a){var b;b=this;return {next:function(d){b.YQ.add(a.u);b.O0(d);},error:r.Af,complete:r.Af};};a.prototype.oOa=function(a){return {type:this.Hia(),SI:a.Yr.map(function(a){return k.Ap(a);}),context:{he:this.config.he,na:this.Fb.na},tg:{u:a.u,ea:a.ea,ug:a.ug,Sk:a.Sk,Yi:a.qa.Yi}};};a.prototype.JXa=function(a){var b;b=this;return this.fD().then(function(d){var c;c=b.oOa(a);d.kJ().subscribe(b.CNa(a));return d.Wi(c,b.qR).Ut(function(d){b.pWa(d,a);b.j.fireEvent(A.W.nJ,{u:a.u});return d.Hda();}).ns();});};a.prototype.LE=function(a){var b;b=this;if(this.Cma)this.log.trace("Media Keys already set");else try{this.Fb.na?this.Fb.na.setMediaKeys(a.Rd.Yl).then(function(){b.H_(a.u);b.Cma=!0;})["catch"](function(a){a=b.jPa(a);b.vd(l.K.N9,a,a.Ie);}):this.H_(a.u);}catch(C){this.vd(l.K.N9,C,void 0);}};a.prototype.tVa=function(){var a,b;a=this;b=this.j.ha.Rd;return b?this.fD().then(function(d){return d.cQb(b,a.qR).Ut(function(a){return a.xHa();}).Ut(function(b){a.log.trace("Fulfilled the last secure stop");a.Lf.Kj && a.j.gq.B4({success:!0,persisted:!1});return b.close();}).ns()["catch"](function(b){a.log.error("Unable to get/add secure stop data",b);a.Lf.Kj && a.j.gq.B4({success:b.ia,ErrorCode:b.code,ErrorSubCode:b.ld,ErrorExternalCode:b.Hg,ErrorEdgeCode:b.iI,ErrorDetails:b.Nt});});}):Promise.resolve();};a.prototype.IXa=function(a){var b;a=void 0 === a?this.j:a;b=this;return this.JXa(a).then(function(){return b.wHa(a);})["catch"](function(d){return b.vHa(a,d);});};a.prototype.Hia=function(){return this.Lf.SP?h.Ci.by:h.Ci.xl;};ma.Object.defineProperties(a.prototype,{bE:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},he:{configurable:!0,enumerable:!0,get:function(){return this.config.he;}}});b=a;c.__decorate([m.VQ],b.prototype,"bE",null);return b=c.__decorate([d.N()],b);})();b.yxa=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.xxa=void 0;c=a(0);l=a(1);k=a(127);r=a(592);g=a(591);p=a(52);d=a(14);m=a(126);t=a(73);f=(function(){var b;function a(a,b,d,c,g){this.fD=a;this.Lf=b;this.config=d;this.dA=c;this.mc=g;}a.prototype.create=function(a,b,d){return a?new r.yxa(this.config(),this.Lf,this.mc,b,d,this.fD,this.dA()):new g.uxa(this.config,this.mc,b,d);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.$L)),c.__param(1,l.l(p.mm)),c.__param(2,l.l(d.Jc)),c.__param(3,l.l(m.xB)),c.__param(4,l.l(t.Us))],b);})();b.xxa=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.mk=void 0;f=a(1);c=a(311);l=a(593);b.mk=new f.Kc(function(a){a(c.H8).to(l.xxa);});},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.PCa=void 0;c=a(0);l=a(1);k=a(43);r=a(30);g=a(40);p=a(34);f=(function(){var b;function a(a){return k.le.call(this,a,"TransportConfigImpl") || this;}M(a,k.le);a.prototype.V4=function(a){var b,d;b=this.u1a;d=this.hHa;switch(a){case p.Ks.JM:return b;case p.Ks.PAa:return b && !d;case p.Ks.z8a:return !1;}};ma.Object.defineProperties(a.prototype,{u1a:{configurable:!0,enumerable:!0,get:function(){return !0;}},hHa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});b=a;c.__decorate([g.config(g.Cc,"usesMsl")],b.prototype,"u1a",null);c.__decorate([g.config(g.Cc,"allowRequestsWithoutMsl")],b.prototype,"hHa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(r.sj))],b);})();b.PCa=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;c=a(0);l=a(1);k=a(4);r=a(6);g=a(154);p=a(97);f=(function(){var b;function a(a,b,d){this.receiver=b;this.af=d;this.log=a.ob("SslTransport");}a.prototype.send=function(a,b){var d,c;d=this;c={url:a.url.href,cD:"nq-" + a.ck,moa:JSON.stringify(b),nZ:a.timeout.aa(k.fa),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){d.af.download(c,function(d){d.ia?a(d):b(d);});}).then(function(c){c={status:"success",body:c.content};d.receiver.nK({command:a.ck,inputs:b,outputs:c});return c;})["catch"](function(c){var g;if(!c.error)throw (c.ld=c.ja || c.ld,d.receiver.nK({command:a.ck,inputs:b,outputs:c}),c);g=c.error;g.DA=c.DA;d.log.error("Error sending SSL request",{subCode:g.ld,data:g.content,message:g.message});d.receiver.nK({command:a.ck,inputs:b,outputs:g});throw g;});};a.prototype.tfa=function(){return {};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(r.xb)),c.__param(1,l.l(g.EM)),c.__param(2,l.l(p.cy))],b);})();b.gCa=f;},function(f,b,a){var c,l,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.Rya=void 0;c=a(0);l=a(1);k=a(6);r=a(142);g=a(4);p=a(154);d=a(94);m={license:!0};f=(function(){var b;function a(a,b,d,c){var g;g=this;this.kA=b;this.receiver=d;this.profile=c;this.log=a.ob("MslTransport");this.kA().then(function(a){return g.DTa=a;});}a.prototype.send=function(a,b){var d,c;d=this;c={ETa:Object.assign({af:a.af,log:a.log,profile:this.profile},a.yib),method:a.ck,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.aa(g.fa),GTb:this.profile,z5b:!m[a.ck],uFb:! !m[a.ck],gk:!0,t4:a.zpa,headers:a.headers};return this.kA().then(function(g){return g.send(c).then(function(c){d.receiver.nK({command:a.ck,inputs:b,outputs:c});return c;})["catch"](function(c){var g;if(!c.error)throw (c.ld=c.ja || c.ld,d.receiver.nK({command:a.ck,inputs:b,outputs:c}),c);g=c.error;g.DA=c.DA;d.log.error("Error sending MSL request",{mslCode:g.lu,subCode:g.ld,data:g.data,message:g.message});d.receiver.nK({command:a.ck,inputs:b,outputs:g});throw g;});});};a.prototype.tfa=function(){var a;return {userTokens:null === (a=this.DTa) || void 0 === a?void 0:a.CR.getUserIdTokenKeys()};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.xb)),c.__param(1,l.l(r.RF)),c.__param(2,l.l(p.EM)),c.__param(3,l.l(d.eG))],b);})();b.Rya=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.v0a=void 0;f=a(1);c=a(252);l=a(326);k=a(597);r=a(596);g=a(595);p=a(34);b.v0a=new f.Kc(function(a){a(c.TM).to(g.PCa).Z();a(l.t9).to(k.Rya);a(l.jaa).to(r.gCa);a(l.Aaa).Rf(function(a){return function(b){var d;return a.ib.get(c.TM).V4(null !== (d=null === b || void 0 === b?void 0:b.ZEb) && void 0 !== d?d:p.Ks.JM)?a.ib.get(l.t9):a.ib.get(l.jaa);};});});},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.dAa=void 0;c=a(0);l=a(1);k=a(14);r=a(33);g=a(189);p=a(32);f=(function(){var b;function a(a,b,d,c){this.platform=a;this.config=b;this.XO=d;this.qo=c;}a.prototype.transform=function(a){var b,d;b=this;d=a.Ta;return Promise.all([this.qo.XOa(),this.qo.ZOa(),this.XO.ija()]).then(function(c){var g,m;g=S(c);c=g.next().value;m=g.next().value;g=g.next().value;return [{viewableId:a.la,packageId:d.Oo,assetId:d.Nda,challenge:g.Kea,audioProfiles:c,textProfiles:b.config().Ku,trickplayProfiles:["BIF240","BIF320"],videoProfiles:m,audioLanguages:d.Nhb,textLanguages:d.fRb},{Ot:null === g || void 0 === g?void 0:g.Cb,ck:"studioManifest"}];});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(r.rj)),c.__param(1,l.l(k.Jc)),c.__param(2,l.l(g.RL)),c.__param(3,l.l(p.vF))],b);})();b.dAa=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J,E,n,D;Object.defineProperty(b,"__esModule",{value:!0});b.Rza=void 0;c=a(0);l=a(1);k=a(109);r=a(14);g=a(248);p=a(450);d=a(297);m=a(107);t=a(33);h=a(37);A=a(4);J=a(189);E=a(74);n=a(480);D=a(32);f=(function(){var b;function a(a,b,d,c,g,m,f,p,k,t){this.aj=a;this.platform=b;this.config=d;this.Ljb=c;this.AIb=g;this.Xl=m;this.XO=f;this.Fa=p;this.w2=k;this.qo=t;}a.prototype.transform=function(a,b){var d,c,m,f,p,t,l,r,h,x;d=this;f=a.Ta;p=Object.assign({},f.GO,f.gm);t={};l=a.la;t[l]={unletterboxed:! !p.preferUnletterboxed};r=this.config();h=r.zTb?30:25;x=r.xn?this.Xl.dvb():Promise.resolve(this.w2.xr());r=null === (m=null === (c=r.F0a) || void 0 === c?void 0:c[null === f || void 0 === f?void 0:f.ke]) || void 0 === m?void 0:m.VA;return Promise.all([this.qo.XOa(),this.qo.ZOa(r),this.qo.FI(),this.qo.kQ(),this.zub(a.ea,b),this.hvb(a),x]).then(function(b){var c,m,r,x,J,E;c=S(b);m=c.next().value;r=c.next().value;x=c.next().value;J=c.next().value;E=c.next().value;b=c.next().value;c=c.next().value;m=(m || []).concat(r || []).concat(d.config().Ku).concat(["BIF240","BIF320"]).filter(Boolean);r=J && void 0 !== J.SUPPORTS_SECURE_STOP?! !J.SUPPORTS_SECURE_STOP:void 0;J=J?J.DEVICE_SECURITY_LEVEL:void 0;x={type:"standard",viewableId:l,profiles:m,flavor:a.ur,drmType:c,drmVersion:h,usePsshBox:!0,isBranching:! !a.Ta.lk,useHttpsStreams:!0,supportsUnequalizedDownloadables:d.config().SQb,imageSubtitleHeight:g.rW.Yia(),uiVersion:d.aj.Px,uiPlatform:d.aj.F5,clientVersion:d.platform.version,supportsPreReleasePin:d.config().kr.OQb,supportsWatermark:d.config().kr.PQb,showAllSubDubTracks:d.config().kr.mPb || ! !p.showAllSubDubTracks,packageId:d.qwb(f),deviceSupportsSecureStop:r,deviceSecurityLevel:J,videoOutputInfo:x,titleSpecificData:t,preferAssistiveAudio:! !p.assistiveAudioPreferred,preferredTextLocale:p.preferredTextLocale,preferredAudioLocale:p.preferredAudioLocale,isUIAutoPlay:! !p.isUIAutoPlay,challenge:E,isNonMember:d.aj.E1,pin:f.xVa,desiredVmaf:d.config().uTb?d.config().wpb:d.config().xpb};f.pMa && (x.extraParams=f.pMa);E={ck:b?"licensedManifest":"manifest",Ot:null === b || void 0 === b?void 0:b.Cb};b && (b={drmSessionId:b.Cb.xw() || "session",clientTime:d.Fa.M4.aa(A.um),challengeBase64:b.Kea},x.challenges={"default":[b]},x.profileGroups=[{name:"default",profiles:m}],x.licenseType=a.ur === k.pj.CM && d.aj.k1a?"limited":"standard",a.ea && (x.xid=a.ea.toString()));d.aj.SLa && a.ur === k.pj.lW && (x.maxSupportedLanguages=2);return [x,E];});};a.prototype.qwb=function(a){if(this.config().V3.enabled){if(void 0 !== a.Oo)return a.Oo;if(void 0 !== this.config().V3.Oo)return Number(this.config().V3.Oo);}};a.prototype.zub=function(a,b){var d;d=this;return this.Ljb.BNa(b).then(function(b){var c;c=a && d.AIb.wwb(a);c && c.eo("cad");return b;});};a.prototype.hvb=function(a){var b,d,c;b=a.ur === k.pj.xl || a.ur === k.pj.R$;a=a.ur === k.pj.CM;d=this.config().xn && this.aj.xJa;c=this.config().xn && this.aj.Tga;return b && d || a && c?this.XO.ija():Promise.resolve(void 0);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(E.Ns)),c.__param(1,l.l(t.rj)),c.__param(2,l.l(r.Jc)),c.__param(3,l.l(p.K6)),c.__param(4,l.l(d.YV)),c.__param(5,l.l(m.dv)),c.__param(6,l.l(J.RL)),c.__param(7,l.l(h.th)),c.__param(8,l.l(n.wV)),c.__param(9,l.l(D.vF))],b);})();b.Rza=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Lza=void 0;c=a(0);l=a(1);k=a(2);r=a(45);g=a(63);p=a(47);f=(function(){var b;function a(a){return g.sh.call(this,a,k.K.Z5a,2,r.xh.qa,r.Bg.Es,"generateScreenshots") || this;}M(a,g.sh);a.prototype.Je=function(a,b){var d;d=this;return this.send(a,"/generateScreenshots",b).then(function(a){return a.result;})["catch"](function(a){throw d.Pl(a);});};a.prototype.zo=function(a,b,d){var c;c=this;return this.send(a,b.fQ("generateScreenshots").href,d).then(function(a){return a.result;})["catch"](function(a){throw c.Pl(a);});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.Lza=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;b.Vza="PboPingCommandSymbol";},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Uza=void 0;c=a(0);l=a(1);k=a(2);r=a(45);g=a(63);p=a(47);f=(function(){var b;function a(a){return g.sh.call(this,a,k.K.$8a,1,r.xh.ping,r.Bg.Es,r.xh.ping) || this;}M(a,g.sh);a.prototype.Je=function(a,b,d){var c;c=this;return this.send(a,"/" + this.name,b,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw c.Pl(a);});};a.prototype.zo=function(){return Promise.reject(Error("Links are unsupported with ping"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.Uza=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Fza=void 0;c=a(0);l=a(1);k=a(2);r=a(45);g=a(63);p=a(47);f=(function(){var b;function a(a){return g.sh.call(this,a,k.K.W2a,2,r.xh.bind,r.Bg.Es,r.xh.bind) || this;}M(a,g.sh);a.prototype.Je=function(a,b,d){var c;c=this;return this.send(a,"/bindDevice",b,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw c.Pl(a);});};a.prototype.zo=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.Fza=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Sza=void 0;c=a(0);l=a(1);k=a(2);r=a(45);g=a(63);p=a(47);f=(function(){var b;function a(a){return g.sh.call(this,a,k.K.I8a,2,r.xh.VUa,r.Bg.Es,r.xh.VUa) || this;}M(a,g.sh);a.prototype.Je=function(a,b,d){var c;c=this;return this.send(a,"/" + this.name,b,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw c.Pl(a);});};a.prototype.zo=function(){return Promise.reject(Error("Links are unsupported with pair"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.Sza=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tza=void 0;b.Tza="PboPairCommandSymbol";},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Eza=void 0;c=a(0);l=a(1);k=a(2);r=a(45);g=a(63);p=a(47);f=(function(){var b;function a(a){return g.sh.call(this,a,k.K.V2a,2,r.xh.bind,r.Bg.Es,r.xh.bind) || this;}M(a,g.sh);a.prototype.Je=function(a,b,d){var c;c=this;return this.send(a,"/" + this.name,b,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw c.Pl(a);});};a.prototype.zo=function(){return Promise.reject(Error("Links are unsupported with bind"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.Eza=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A;Object.defineProperty(b,"__esModule",{value:!0});b.Hza=void 0;c=a(0);l=a(1);k=a(125);r=a(74);g=a(324);p=a(327);d=a(91);m=a(97);t=a(482);h=a(90);A=a(75);f=(function(){function a(a,b,d,c,g,m,f,p,k){this.kf=a;this.af=b;this.aj=d;this.Tpb=c;this.CD=g;this.oTb=m;this.Yfa=f;this.XLb=p;this.nz=k;}return a=c.__decorate([l.N(),c.__param(0,l.l(k.YA)),c.__param(1,l.l(m.cy)),c.__param(2,l.l(r.Ns)),c.__param(3,l.l(p.T9)),c.__param(4,l.l(d.av)),c.__param(5,l.l(t.Gaa)),c.__param(6,l.l(h.XL)),c.__param(7,l.l(g.h$)),c.__param(8,l.l(A.Cs))],a);})();b.Hza=f;},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.Gva=void 0;c=a(0);l=a(1);k=a(2);r=a(130);g=a(79);p=a(47);d=a(45);f=(function(){var b;function a(a){return r.fp.call(this,a,k.K.I5a,g.pm.KP,3,d.Bg.NF) || this;}M(a,r.fp);a.prototype.VY=function(a){return Object.assign(Object.assign({},r.fp.prototype.VY.call(this,a)),{action:a.action});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.Gva=f;},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;c=a(0);l=a(1);k=a(2);r=a(130);g=a(79);p=a(47);d=a(45);f=(function(){var b;function a(a){return r.fp.call(this,a,k.K.zBa,g.pm.splice,1,d.Bg.NF) || this;}M(a,r.fp);b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.fCa=f;},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.lxa=void 0;c=a(0);l=a(1);k=a(2);r=a(130);g=a(79);p=a(47);d=a(45);f=(function(){var b;function a(a){return r.fp.call(this,a,k.K.C8,g.pm.PQ,1,d.Bg.NF) || this;}M(a,r.fp);b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.lxa=f;},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.kCa=void 0;c=a(0);l=a(1);k=a(2);r=a(130);g=a(79);p=a(47);d=a(45);f=(function(){var b;function a(a){return r.fp.call(this,a,k.K.BBa,g.pm.stop,3,d.Bg.l9) || this;}M(a,r.fp);b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.kCa=f;},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;c=a(0);l=a(1);k=a(2);r=a(130);g=a(79);p=a(47);d=a(45);f=(function(){var b;function a(a){return r.fp.call(this,a,k.K.j$a,g.pm.start,3,d.Bg.Es) || this;}M(a,r.fp);b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.hCa=f;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.Nza=void 0;c=a(0);l=a(1);k=a(27);r=a(41);f=(function(){var b;function a(a,b){this.pd=a;this.Uv=b;}a.prototype.o0a=function(a){var b,d;b=this;d=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.pd.XR(a.substring(a.indexOf("?") + 1));});return {ia:!0,gc:a.map(function(a,b){return {id:a.drmSessionId,Vz:d[b].drmlicensecontextid,lJ:d[b].licenseid};}),Um:a.map(function(a){return {data:b.Uv.decode(a.licenseResponseBase64),sessionId:a.drmSessionId};})};};a.prototype.YRb=function(a){return {ia:!0,response:{data:a.reduce(function(a,b){var d;d=b.secureStopResponseBase64;(b=b.drmSessionId) && d && (a[b]=d);return a;},{})}};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.Cf)),c.__param(1,l.l(r.Ai))],b);})();b.Nza=f;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.Mza=void 0;c=a(0);l=a(1);k=a(37);r=a(4);f=(function(){var b;function a(a){this.Fa=a;}a.prototype.URb=function(a){var b;b=this.Fa.Pe.aa(r.um);return {inputs:a.Qi.map(function(d){return {drmSessionId:d.sessionId,clientTime:b,challengeBase64:d.dataBase64,xid:a.ea.toString(),mdxControllerEsn:a.nR};}),Fla:"standard" === a.Xi.toLowerCase()?"license":"ldl"};};a.prototype.XRb=function(a){var b,d,c,g;b=this;d=a.dNb || ({});c=[];g=a.gc.map(function(g){var m;c.push(g.id);m=d[g.id];delete d[g.id];return {url:b.BIa(g.Vz,g.lJ),echo:"drmSessionId",params:{drmSessionId:g.id,secureStop:m,secureStopId:m?g.lJ:void 0,xid:a.ea.toString()}};});Object.entries(d).forEach(function(d){var c;c=S(d);d=c.next().value;c=c.next().value;g.push({url:b.BIa(a.gc[0].Vz),echo:"drmSessionId",params:{drmSessionId:d,secureStop:c,secureStopId:void 0,xid:a.ea.toString()}});});return g;};a.prototype.BIa=function(a,b){return "/releaseLicense?drmLicenseContextId=" + a + (b?"&licenseId=" + b:"");};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.th))],b);})();b.Mza=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.bAa=void 0;c=a(0);l=a(1);k=a(2);r=a(45);g=a(63);p=a(47);f=(function(){var b;function a(a){return g.sh.call(this,a,k.K.X9a,3,r.xh.Wi,r.Bg.l9,"release/license") || this;}M(a,g.sh);a.prototype.Je=function(a,b){var d;d=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;d.cJa(a);return a;})["catch"](function(a){throw d.Pl(a);});};a.prototype.zo=function(){return Promise.reject(Error("Links are unsupported with release"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.bAa=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Dza=void 0;c=a(0);l=a(1);k=a(2);r=a(45);g=a(63);p=a(47);f=(function(){var b;function a(a){return g.sh.call(this,a,k.K.rB,3,r.xh.Wi,r.Bg.Es,r.xh.Wi) || this;}M(a,g.sh);a.prototype.Je=function(){return Promise.reject(Error("Links are required with acquire command"));};a.prototype.zo=function(a,b,d){var c,g;c=this;b=b.fQ(d.Fla).href;g="license" === d.Fla?r.Bg.Es:r.Bg.NF;this.QX="ldl" === d.Fla?"prefetch/license":r.xh.Wi;return this.send(a,b,d.inputs,"drmSessionId",g).then(function(a){a=a.result;c.cJa(a);c.ckb(a);return a;})["catch"](function(a){throw c.Pl(a);});};a.prototype.ckb=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.Dza=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J;Object.defineProperty(b,"__esModule",{value:!0});b.Qza=void 0;c=a(0);l=a(109);k=a(2);r=a(45);a(161);g=a(63);p=a(47);d=a(33);m=a(34);t=a(175);h=a(210);A=a(1);J=a(296);f=(function(){var b;function a(a,b,d,c,m){a=g.sh.call(this,a,k.K.MANIFEST,3,r.xh.qa,r.Bg.Es,r.xh.qa) || this;a.platform=b;a.dma=d;a.OBb=c;a.dDb=m;return a;}M(a,g.sh);a.prototype.Je=function(a,b){var d,c;d=this;this.QX=b.ur === l.pj.CM?"prefetch/manifest":r.xh.qa;c=b.ur === l.pj.lW?m.Ks.PAa:m.Ks.JM;return this.dDb.transform(b,c).then(function(g){var m,f;g=S(g);m=g.next().value;f=g.next().value;f.Ot && (d.QX="licensedManifest");return d.send(a,f.ck,m,void 0,d.Owb(b.ur),void 0,c).then(function(a){var b;a=d.dma.create(a.result);b=a.Oc.us.map(function(a){return a.Wi;}).filter(Boolean);f.Ot && (0 < b.length?(b=d.OBb.o0a(b),f.Ot.JGa(b),a.Ot=f.Ot):f.Ot.close().subscribe());return a;});})["catch"](function(a){throw d.Pl(a);});};a.prototype.zo=function(){return Promise.reject(Error("Links are not supported with manifest command"));};a.prototype.Owb=function(a){switch(a){case l.pj.xl:case l.pj.h5a:return r.Bg.Es;case l.pj.R$:case l.pj.lW:return r.Bg.l9;case l.pj.CM:return r.Bg.NF;}};b=a;return b=c.__decorate([A.N(),c.__param(0,A.l(p.Hk)),c.__param(1,A.l(d.rj)),c.__param(2,A.l(t.PF)),c.__param(3,A.l(h.SV)),c.__param(4,A.l(J.b$))],b);})();b.Qza=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Pza=void 0;c=a(0);l=a(1);k=a(2);r=a(45);g=a(63);p=a(47);f=(function(){var b;function a(a){return g.sh.call(this,a,k.K.B7a,1,r.xh.bSa,r.Bg.NF,r.xh.bSa) || this;}M(a,g.sh);a.prototype.Je=function(a,b){var d;d=this;return this.send(a,"/" + this.name,b).then(function(a){return a.result;})["catch"](function(a){throw d.Pl(a);});};a.prototype.zo=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Hk))],b);})();b.Pza=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,J,E,n,D,q,T,P,ba,R,V,W,u,ha,Y,Ia,ia,oa,qa,B,I,Ba,va,Da,N,ka;Object.defineProperty(b,"__esModule",{value:!0});b.zJa=void 0;f=a(1);c=a(359);l=a(619);k=a(109);r=a(618);g=a(346);p=a(617);d=a(344);m=a(616);t=a(343);h=a(615);A=a(210);J=a(614);E=a(79);n=a(613);D=a(612);q=a(44);T=a(2);P=a(611);ba=a(610);R=a(609);V=a(47);W=a(608);u=a(200);ha=a(607);Y=a(606);Ia=a(605);ia=a(363);oa=a(604);qa=a(603);B=a(602);I=a(470);Ba=a(601);va=a(74);Da=a(296);N=a(600);ka=a(599);b.zJa=new f.Kc(function(a){a(V.Hk).to(W.Hza);a(c.a$).to(l.Pza);a(u.QV).to(ha.Eza);a(ia.R9).to(oa.Fza);a(Y.Tza).to(Ia.Sza);a(k.TV).to(r.Qza);a(Da.b$).Lx(function(a){var b;b=a.ib.get(va.Ns);return b && b.s1a?a.ib.resolve(ka.dAa):a.ib.resolve(N.Rza);});a(g.Q9).to(p.Dza);a(d.g$).to(m.bAa);a(t.X9).to(h.Mza);a(A.SV).to(J.Nza);a(E.laa).to(n.hCa);a(E.naa).to(D.kCa);a(E.D8).to(P.lxa);a(E.iaa).to(ba.fCa);a(E.E7).to(R.Gva);a(B.Vza).to(qa.Uza);a(I.W9).to(Ba.Lza);a(E.MU).Rf(function(a){return function(b){switch(b){case E.pm.start:return a.ib.get(E.laa);case E.pm.stop:return a.ib.get(E.naa);case E.pm.PQ:return a.ib.get(E.D8);case E.pm.splice:return a.ib.get(E.iaa);case E.pm.KP:return a.ib.get(E.E7);}throw new q.zc(T.K.Q8a,void 0,void 0,void 0,void 0,"The event key was invalid - " + b);};});});},function(f,b,a){var c,l,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.Mya=void 0;c=a(0);l=a(1);k=a(67);r=a(68);g=a(4);p=a(66);d=a(34);m={start:{video:k.Da.uU,audio:k.Da.qU},end:{video:k.Da.tU,audio:k.Da.pU}};f=(function(){var b;function a(a,b){var d;d=this;this.el=a;this.Vp=b;this.j0a=function(a){var b,c,g,m,f,p;b=d.z_a++;c=a.request.cD || "dl";g=d.ePa(c,"start");if(g){m=a.request.lq.stream.O.gl;if(m && !d.WZa.has(m)){f=d.EOa(m);p=a.Zr;d.el.mark(g,f,p?c + "-" + p + "-" + b:c);a.fda(function(){var a,g;a=d.ePa(c,"end");g=p?c + "-" + p + "-" + b:c;a && d.el.mark(a,f,g);});}}};this.z_a=0;this.WZa=new Set();this.Vpa=new Map();b.HP && this.uUb();}a.prototype.FOa=function(a){var d,c,m,f,p,l,t,r;function b(b){return g.timestamp(d.aHa(g.timestamp(b),a,!0));}d=this;c=new Set();m=a.zd;f=a.PPb;p=a.ea;l=a.Ba;t=this.el.tOa(p);r=l && this.EOa(l);r && t.push.apply(t,[].concat(da(this.el.tOa(r))));this.el.sXa(a.ea);r && this.el.sXa(r);l && this.WZa.add(l);l=[];("pr_ats" in m) && l.push({name:k.Da.hW,Iu:b(m.pr_ats),ea:p,Qk:"request-pre-manifest"});("ats" in m) && l.push({name:k.Da.fW,Iu:b(m.ats),ea:p,Qk:"request-manifest"});("pr_at" in m) && l.push({name:k.Da.gW,Iu:b(m.pr_at),ea:p,Qk:"request-pre-manifest"});("at" in m) && l.push({name:k.Da.eW,Iu:b(m.at),ea:p,Qk:"request-manifest"});("lg" in m) && l.push({name:k.Da.dW,Iu:b(m.lg),ea:p,Qk:"request-license"});("lr" in m) && l.push({name:k.Da.cW,Iu:b(m.lr),ea:p,Qk:"request-license"});("tt_start" in m) && l.push({name:k.Da.sU,Iu:b(m.tt_start),ea:p,Qk:"request-timed-text"});("tt_comp" in m) && l.push({name:k.Da.rU,Iu:b(m.tt_comp),ea:p,Qk:"request-timed-text"});return l.concat(t).map(function(b){return d.BRb(b,a);}).filter(function(a){return a.timestamp <= f?("end" === a.step && c.add(a.eventId),!0):!1;}).filter(function(a){return "start" !== a.step || c.has(a.eventId)?!0:!1;}).sort(function(a,b){return a.timestamp - b.timestamp;});};a.prototype.Egb=function(a,b,d){return (void 0 === d?0:d)?a.aa(g.fa) + b.uk.aa(g.fa):a.aa(g.fa) - b.uk.aa(g.fa);};a.prototype.aHa=function(a,b,d){d=void 0 === d?!1:d;if(b.rl)if(d)a.aa(g.fa) + b.rl;else return a.aa(g.fa) - b.rl;return this.Egb(a,b,d);};a.prototype.BRb=function(a,b){var d;d=a.name;return {eventName:d,eventId:a.Qk || d,timestamp:this.aHa(a.Iu,b),component:this.$P(d),category:this.yub(d),step:this.ixb(d)};};a.prototype.$P=function(a){switch(a){case k.Da.hW:case k.Da.gW:case k.Da.fW:case k.Da.eW:return "manifest";case k.Da.dW:case k.Da.cW:case k.Da.$$:case k.Da.Z$:case k.Da.PU:case k.Da.OU:case k.Da.k6:case k.Da.j6:return "license";case k.Da.sU:case k.Da.rU:case k.Da.qU:case k.Da.pU:case k.Da.uU:case k.Da.tU:case k.Da.i6:case k.Da.h6:return "buffering";case k.Da.I9:case k.Da.H9:return "playback";default:return null;}};a.prototype.yub=function(a){switch(a){case k.Da.hW:case k.Da.gW:case k.Da.fW:case k.Da.eW:return "aws";case k.Da.dW:case k.Da.cW:return "mixed";case k.Da.I9:case k.Da.H9:case k.Da.$$:case k.Da.Z$:case k.Da.PU:case k.Da.OU:case k.Da.k6:case k.Da.j6:case k.Da.i6:case k.Da.h6:return "dev";case k.Da.sU:case k.Da.rU:case k.Da.qU:case k.Da.pU:case k.Da.uU:case k.Da.tU:return "cdn";default:return null;}};a.prototype.ixb=function(a){switch(a){case k.Da.hW:case k.Da.I9:case k.Da.fW:case k.Da.dW:case k.Da.i6:case k.Da.sU:case k.Da.qU:case k.Da.uU:case k.Da.$$:case k.Da.PU:case k.Da.k6:return "start";case k.Da.gW:case k.Da.H9:case k.Da.eW:case k.Da.cW:case k.Da.Z$:case k.Da.OU:case k.Da.j6:case k.Da.h6:case k.Da.rU:case k.Da.pU:case k.Da.tU:return "end";default:return null;}};a.prototype.ePa=function(a,b){if((a in m[b]))return m[b][a];};a.prototype.ySb=function(){p.af.removeEventListener(p.a1,this.j0a);};a.prototype.uUb=function(){this.ySb();p.af.addEventListener(p.a1,this.j0a);};a.prototype.EOa=function(a){var b;if(this.Vpa.has(a))return this.Vpa.get(a);b=Date.now();this.Vpa.set(a,b);return b;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(r.QF)),c.__param(1,l.l(d.vl))],b);})();b.Mya=f;},function(f,b,a){var l;function c(a,b,c,f){this.sga=a;this.debug=b;this.wa=c;this.j=f;this.q3=[];this.L2={};this.vga={};this.Bha=!1;this.z_a=1;this.qta=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.Vua=void 0;l=a(4);a(13);a(16);a(66);c.prototype.register=function(a,b){this.debug.assert(!(0 <= this.q3.indexOf(a)),"panel already registered");this.L2[a]=b;this.q3.push(a);};c.prototype.oUa=function(a){var b;b=this;this.vga[a]=!0;this.Bha || (this.Bha=!0,setTimeout(function(){return b.Wsb();},0));};c.prototype.awb=function(a){return (a=this.L2[a])?a():void 0;};c.prototype.r0=function(){var a;a=this.j.B3;return a?a.r0():[];};c.prototype.addEventListener=function(a,b){this.sga.addListener(a,b);this.L2[a] && this.oUa(a);};c.prototype.removeEventListener=function(a,b){this.sga.removeListener(a,b);};c.prototype.getTime=function(){return this.wa.zb().aa(l.fa);};c.prototype.Wsb=function(){this.Bha=!1;for(var a=this.q3.length,b;a--;){b=this.q3[a];this.vga[b] && (this.vga[b]=!1,this.sga.ac(b + "changed",{getModel:this.L2[b]}));}};b.Vua=c;},function(f,b,a){var l,k,r,g,p,d,m;function c(a,b,c,g,f,k,h,n,q,P){var t;t=this;this.gSb=a;this.j=b;this.id=c;this.height=g;this.width=f;this.kIb=k;this.lIb=h;this.size=n;this.Br=q;this.ye=P;this.type=l.Qg.Fra;this.Bx=!0;this.state=p.On.JV;this.eh={};this.NY={};this.RJb=function(a){if(a.ia)try{t.data=t.gSb.parse(a.content);t.state=p.On.LOADED;t.log.trace("TrickPlay parsed",{Images:t.data.images.length},t.eh);t.j.fireEvent(d.W.FT);}catch(V){t.state=p.On.nza;t.log.error("TrickPlay parse failed.",V);}else (t.state=p.On.JV,t.log.error("TrickPlay download failed.",m.Iq(a),t.eh));};this.log=r.Ig(b,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.RCa=void 0;l=a(78);k=a(12);r=a(7);g=a(66);p=a(322);d=a(13);m=a(2);c.prototype.uvb=function(a){if(this.data && (this.Br && (a+=this.Br),a=Math.floor(a / this.data.Yp.Z_a),0 <= a && a < this.data.images.length))return {image:this.data.images[a],time:a * this.data.Yp.Z_a,height:this.height,width:this.width,pixelAspectHeight:this.kIb,pixelAspectWidth:this.lIb};};c.prototype.A0=function(){switch(this.state){case p.On.LOADED:return "downloaded";case p.On.LOADING:return "loading";case p.On.rM:return "downloadfailed";case p.On.nza:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var a;a=this.Exb();a?(this.state=p.On.LOADING,this.gqb(a)):this.Bx=!1;};c.prototype.$c=function(){return this.state;};c.prototype.Exb=function(){var a,b,d;a=this;b=Object.keys(this.ye).find(function(b){return (a.NY[a.ye[b]] || 0) <= k.config.cSb;});if(b){d=this.ye[b];(d in this.NY)?this.NY[d]++:this.NY[d]=1;return {url:d,fz:b};}};c.prototype.gqb=function(a){this.log.trace("Downloading",a.url,this.eh);a={responseType:g.xQ,vc:this.lia(a.fz),url:a.url,track:this};this.j.d1.download(a,this.RJb);};c.prototype.lia=function(a){return this.j.bk.find(function(b){return b && b.id === a;});};b.RCa=c;},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;c=a(0);l=a(13);k=a(1);r=a(19);g=a(4);f=(function(){var b;function a(a){this.wa=a;this.trace=[];}a.prototype.ll=function(a){a.cause !== l.$d.$u && (this.trace.unshift({time:this.wa.zb(),event:a}),5 < this.trace.length && this.trace.pop());};a.prototype.WOa=function(){var a,b;a=this;if(0 === this.trace.length)return {};b=this.trace[0];return {timeSinceLastRepositionMs:this.T_a(b.time),lastRepositionCause:this.ANa(b.event.cause),repositionTrace:this.trace.map(function(b){return {timeSince:a.T_a(b.time),cause:a.ANa(b.event.cause),newMediaTime:b.event.U2,oldMediaTime:b.event.vna,contentPts:b.event.ei,skip:b.event.skip};})};};a.prototype.T_a=function(a){return this.wa.zb().Oa(a).aa(g.fa);};a.prototype.ANa=function(a){switch(a){case l.$d.$u:return "initial";case l.$d.kv:return "seek";case l.$d.KB:return "segment_changed";case l.$d.hG:return "track_changed";}};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(r.qd))],b);})();b.rBa=f;},function(f,b,a){var l,k,r,g,p;function c(a,b,c,g){this.ea=a;this.aMb=b;this.ma=c;this.app=g;this.zd={};}Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;l=a(0);k=a(1);r=a(6);g=a(19);p=a(4);f=(function(){var b;function a(a,b){this.rf=a;this.app=b;this.Gd={};this.ma=a.ob("PlaybackMilestoneStoreImpl");}a.prototype.lLb=function(a,b){this.Gd[a] && this.ma.warn("registerPlayback: xid " + a + " already registered, overriding");b=(b?b:this.app.zb()).aa(p.fa);this.ma.trace("registerPlayback: xid " + a + " at " + b);this.Gd[a]=new c(a,b,this.ma,this.app);return this.Gd[a];};a.prototype.wwb=function(a){this.Gd[a] || this.ma.warn("getPlaybackMilestones: xid " + a + " is not registered");return this.Gd[a];};a.prototype.CLb=function(a){this.ma.trace("removePlayback: xid " + a);delete this.Gd[a];};b=a;return b=l.__decorate([k.N(),l.__param(0,k.l(r.xb)),l.__param(1,k.l(g.qd))],b);})();b.sAa=f;c.prototype.eo=function(a,b){b=b?b.aa(p.fa):this.app.zb().aa(p.fa) - this.aMb;this.ma.trace("addMilestone: xid " + this.ea + " " + a + " at " + b);this.zd[a]=b;};},function(f,b,a){var l,k,r,g,p,d,m,t,h,A,J,n,q,D;function c(a,b,c,m,f){var p;p=this;this.j=a;this.Jh=b;this.NT=c;this.pd=m;this.dT=f;this.yKa={};this.update=function(){var a;if(p.un.selectionStart == p.un.selectionEnd){a="";p.r0().forEach(function(b){a=a?a + "\n":"";Object.entries(b).forEach(function(b){var d;d=S(b);b=d.next().value;d=d.next().value;a+=b + ": " + d + "\n";});});p.un.style.fontSize=g.Fn(d.cv(p.element.clientHeight / 60),8,18) + "px";p.un.value=a;}};this.CGb=function(){var a,b;if(p.j.ji){b=p.j.ji.sD();b && (p.Sfa=b - (null !== (a=p.g0a) && void 0 !== a?a:0),p.g0a=b,p.QR());}};this.QR=function(){p.NT.Rc(p.update);};this.onkeydown=function(a){a.ctrlKey && a.altKey && a.shiftKey && (a.keyCode == h.Fs.l4a || a.keyCode == h.Fs.Q) && p.toggle();};this.JVa=[a.gb,a.vc[l.wc.Sa.AUDIO],a.vc[l.wc.Sa.VIDEO],a.vg,a.uf,a.Jl,a.zf,a.Wj,a.state,a.io,a.Ub,a.volume,a.muted];this.element=this.pd.createElement("div","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});this.un=this.pd.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto",void 0,{readonly:"readonly"});this.element.appendChild(this.un);this.controls=this.pd.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);b=this.pd.createElement("button",void 0,"X");b.addEventListener("click",function(){return p.Zp();},!1);this.controls.appendChild(b);r.Qe.addListener(r.Iz,this.onkeydown);a.addEventListener(t.W.Jf,function(){r.Qe.removeListener(r.Iz,p.onkeydown);p.Zp();});}Object.defineProperty(b,"__esModule",{value:!0});b.qAa=void 0;l=a(57);k=a(56);r=a(55);g=a(96);p=a(197);d=a(9);m=a(16);t=a(13);h=a(110);A=a(4);f={};J=(f[t.yb.VF]="Not Loaded",f[t.yb.LOADING]="Loading",f[t.yb.rd]="Normal",f[t.yb.CLOSING]="Closing",f[t.yb.CLOSED]="Closed",f);f={};n=(f[t.ze.rd]="Normal",f[t.ze.Yd]="Pre-buffering",f[t.ze.ABa]="Network stalled",f);f={};q=(f[t.sb.fg]="Waiting for decoder",f[t.sb.Vc]="Playing",f[t.sb.qj]="Paused",f[t.sb.Ds]="Media ended",f);D=[t.W.u2,t.W.mib];c.prototype.eOb=function(a){this.yKa.DFR=a;};c.prototype.show=function(){var a;a=this;this.visible || (this.Tzb=O.setInterval(this.CGb,1E3),this.j.Pf.appendChild(this.element),this.JVa.forEach(function(b){b.addListener(a.QR);}),D.forEach(function(b){a.j.addEventListener(b,a.QR);}),this.visible=!0);this.update();};c.prototype.Zp=function(){var a;a=this;this.visible && (clearInterval(this.Tzb),this.g0a=this.Sfa=void 0,this.j.Pf.removeChild(this.element),this.JVa.forEach(function(b){b.removeListener(a.QR);}),D.forEach(function(b){a.j.removeEventListener(b,a.QR);}),this.NT.Rc(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Zp():this.show();};c.prototype.r0=function(){var b,c,f,t,r,h,x,E,D,L,u,ia,oa,qa,B,I,Ba,va,Da,N,ka,La,eb,O,M,Q,U,X,ab,da,ga,aa,ja,fa,la,ma;D=[];L=this.Jh();D.push({Version:"0.0026.212.010",Esn:L?L.Kh:"UNKNOWN",PBCID:this.j.Qk,UserAgent:d.rm});try{u={MovieId:this.j.u,TrackingId:this.j.vi,Xid:this.j.ea + " (" + k.Hn.map(function(a){return a.ea;}).join(", ") + ")",Position:g.wh(this.j.gb.value),Duration:g.wh(this.j.Lt.aa(A.fa)),PlayerDuration:g.wh(this.j.Qr.aa(A.fa)),Volume:d.Yh(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.Ta.lk || this.j.Ta.G1)(u["Segment Position"]=g.wh(this.j.vD()),u.Segment=this.j.Via());D.push(u);}catch(qb){}try{ia=this.j.Wl?this.j.Wl.Oyb():void 0;D.push({"Player state":J[this.j.state.value],"Buffering state":n[this.j.io.value] + (m.oa(ia)?", ETA:" + g.wh(ia):""),"Rendering state":q[this.j.Ub.value]});}catch(qb){}try{oa=this.j.hsa() + this.j.Oda();qa=this.j.vg.value;B=null === qa || void 0 === qa?void 0:qa.stream;I=this.j.uf.value;Ba=null === I || void 0 === I?void 0:I.stream;va=null !== (b=null === B || void 0 === B?void 0:B.R) && void 0 !== b?b:"?";Da=Ba?Ba.R + " (" + Ba.width + "x" + Ba.height + ")":"?";N=null !== (c=null === Ba || void 0 === Ba?void 0:Ba.qb) && void 0 !== c?c:"?";ka=null !== (t=null === (f=this.j.zf.value) || void 0 === f?void 0:f.qb) && void 0 !== t?t:"?";La=null !== (h=null === (r=this.j.Jl.value) || void 0 === r?void 0:r.R) && void 0 !== h?h:"?";eb=null !== (E=null === (x=this.j.zf.value) || void 0 === x?void 0:x.R) && void 0 !== E?E:"?";O=this.j.vc[l.wc.Sa.VIDEO].value;M=this.j.vc[l.wc.Sa.AUDIO].value;D.push({"Playing bitrate (a/v)":va + " / " + Da,"Playing/Buffering vmaf":N + "/" + ka,"Buffering bitrate (a/v)":La + " / " + eb,"Buffer size in Bytes (a/v)":this.j.Oda() + " / " + this.j.hsa(),"Buffer size in Bytes":"" + oa,"Buffer size in Seconds (a/v)":g.wh(this.j.BO()) + " / " + g.wh(this.j.RT()),"Current CDN (a/v)":(M?M.name + ", Id: " + M.id:"?") + " / " + (O?O.name + ", Id: " + O.id:"?")});}catch(qb){}try{if(this.j.vg.value && this.j.uf.value){Q=this.j.vg.value.stream.track;U=this.j.uf.value.stream;X=this.j.Wj.value;ab=this.dT.mP(this.j.Mg.value?this.j.Mg.value.tc:[]);da=this.dT.iP(Q.tc);ga=U.jg;aa=(/hevc/).test(ga)?"hevc":(/vp9/).test(ga)?"vp9":(/h264hpl/).test(ga)?"avchigh":"avc";(/hdr/).test(ga) && (aa+=", hdr");(/dv/).test(ga) && (aa+=", dv");(/prk/).test(ga) && (aa+=", prk");D.push({"Audio Track":Q.Kl + ", Id: " + Q.jb + ", Channels: " + Q.Gp + ", Codec: " + da,"Video Track":"Codec: " + ab + " (" + aa + ")","Timed Text Track":X?X.Kl + ", Profile: " + X.profile + ", Id: " + X.jb:"none"});}}catch(qb){}try{ja=this.j.ji;fa=this.j.zf.value?this.j.zf.value.V_:0;la=a(298).oSa;D.push({Framerate:fa.toFixed(3),"Current Dropped Frames":m.oa(this.Sfa)?this.Sfa:"","Total Frames":ja.tD(),"Total Dropped Frames":ja.sD(),"Total Corrupted Frames":ja.aQ(),"Total Frame Delay":ja.p0(),"Main Thread stall/sec":la?la.Avb().join(" "):"DISABLED",VideoDiag:p.$la(this.j.G0())});}catch(qb){}try{D.push({Throughput:this.j.La + " kbps"});}catch(qb){}ma=void 0;try{Object.entries(this.yKa).forEach(function(a){var b;b=S(a);a=b.next().value;b=b.next().value;ma=ma || ({});ma[a]=JSON.stringify(b);});ma && D.push(ma);}catch(qb){}return D;};b.qAa=c;},function(f,b,a){var l,k,r;function c(a,b){this.config=a;this.j=b;this.YR=void 0;this.v3=!1;this.sla=0;}Object.defineProperty(b,"__esModule",{value:!0});b.MBa=void 0;l=a(13);k=a(4);r=a(96);c.prototype.gwb=function(a,b,d,c,f){var g,m,p,t;d=void 0 === d?this.j.Ba:d;c=void 0 === c?!1:c;g=b === l.$d.KB;m=this.j.lOa(d);c=this.wjb(g?a:this.ykb(a,d),c,d,m);g?(a=c,c=this.j.Gb.Mt(m,c,d)):a=this.j.Gb.hP(m,c,d);b === l.$d.$u && (this.j.nIa=c);f=this.bi(a,b,f);p=(b === l.$d.kv || b === l.$d.hG) && !this.j.cRa;p=(g=g || f || p)?a:c;if(this.j.Qr){t=this.config().iE;this.j.xPa(p,t) || b !== l.$d.kv || (p=this.j.Qr.aa(k.fa) - t - 1E3,g?(a=p,c=this.j.Gb.Mt(m,p,d)):(a=this.j.Gb.hP(m,p,d),c=p));}return {U2:p,ei:c,IIb:a,bi:f};};c.prototype.wjb=function(a,b,d,c){a=this.LAb() || b?Math.round(a):this.fxb(a,d,c);this.config().Qpa && (a+=this.config().Qpa);return a;};c.prototype.bi=function(a,b,d){return this.config().Ppb || b === l.$d.$u || b === l.$d.KB || b === l.$d.hG || !d || a < d.start.aa(k.fa) || a >= d.end.aa(k.fa)?!1:(b=this.j.Gb) && b.bi(a) || !1;};c.prototype.LAb=function(){return this.j.Ta.lk?!0:"boolean" === typeof this.j.Ta.fS?this.j.Ta.fS:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().fS && this.config().aJb:this.config().fS;};c.prototype.ykb=function(a,b){var d;b=this.j.Aw(b);d=b.Lt;b=(b.GDb || d).aa(k.fa) - this.config().AUb;return r.Fn(a,0,b);};c.prototype.fxb=function(a,b,d){var c;c=this.j.Ta.lk?this.config().z2b:this.config().jI;return this.j.Gb.MIa(a,d,c,b);};ma.Object.defineProperties(c.prototype,{Ska:{configurable:!0,enumerable:!0,get:function(){return this.v3 || ! !this.YR;}}});b.MBa=c;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.UCa=void 0;c=a(0);l=a(211);k=a(1);f=(function(){var b,f;function a(){}a.prototype.parse=function(a){var b,d;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);d=new l.DU(b);a=this.wHb(d);b=this.yHb(d,b,a);return {Yp:a,images:b};};a.prototype.wHb=function(a){var d,c,g,f;if(a.bja() < this.dMb())throw Error("array buffer too short");b.Sxa.forEach(function(b){if(b != a.yx())throw Error("BIF has invalid magic.");});d=a.pK();if(d > b.VERSION)throw Error("BIF version in unsupported");c=a.pK();if(0 == c)throw Error("BIF has no frames.");g=a.pK();f=a.dj(b.fBa);return {version:d,YFb:c,Z_a:g,hMb:f};};a.prototype.yHb=function(a,b,c){var m,f;for(var d=[],g=0;g <= c.YFb;g++){f={timestamp:a.pK(),offset:a.pK()};void 0 != m && d.push(b.subarray(m.offset,f.offset));m=f;}return d;};a.prototype.dMb=function(){return b.Sxa.length + 4 + 4 + 4 + b.fBa;};f=b=a;f.Sxa=[137,66,73,70,13,10,26,10];f.VERSION=0;f.fBa=44;return f=b=c.__decorate([k.N()],f);})();b.UCa=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Daa=void 0;b.Daa="TrickPlayParserSymbol";},function(f,b,a){var l,k;function c(a,b,c,d,m,f,k,h,J,n,q){this.index=a;this.u=b;this.Ba=c;this.Ta=d;this.ea=m;this.uk=f;this.f2=k;this.slb=J;this.kTa=q;this.ud=new l.Uc(null);this.Mg=new l.Uc(null);this.Hc=new l.Uc(null);this.Wj=new l.Uc(null);this.Ju=new l.Uc(void 0);this.zf=new l.Uc(null);this.Jl=new l.Uc(null);this.vg=new l.Uc(null);this.uf=new l.Uc(null);this.gb=new l.Uc(void 0);this.playbackRate=new l.Uc(1);this.ko=new l.Uc(null);this.Zv=this.dz="notcached";this.background=!1;h && (this.zf.set(h.zf.value),this.Jl.set(h.Jl.value));this.dn=n(this);this.el=this.kTa.lLb(this.ea,this.uk);}Object.defineProperty(b,"__esModule",{value:!0});b.tAa=void 0;l=a(198);k=a(4);c.prototype.od=function(a){this.el.eo(a);};c.prototype.Hw=function(a){var b;b=this;Object.entries(a).forEach(function(a){var d;d=S(a);a=d.next().value;d=d.next().value;b.el.eo(a,k.Lb(d - b.uk.aa(k.fa)));});};c.prototype.Z2=function(){this.kTa.CLb(this.ea);};ma.Object.defineProperties(c.prototype,{ke:{configurable:!0,enumerable:!0,get:function(){return this.Ta.ke;}},R5:{configurable:!0,enumerable:!0,get:function(){return this.Ta.R5;}},Sk:{configurable:!0,enumerable:!0,get:function(){return this.qc && this.qc.Sk;}},ho:{configurable:!0,enumerable:!0,get:function(){return this.qc && this.qc.ho;}},zn:{configurable:!0,enumerable:!0,get:function(){return this.qc && this.qc.zn;}},Ox:{configurable:!0,enumerable:!0,get:function(){return this.qc && this.qc.Ox;}},ql:{configurable:!0,enumerable:!0,get:function(){return this.qc && this.qc.ql;}},ug:{configurable:!0,enumerable:!0,get:function(){return this.qc && this.qc.ug;}},Qw:{configurable:!0,enumerable:!0,get:function(){return this.qc && this.qc.Qw;}},Yr:{configurable:!0,enumerable:!0,get:function(){return this.qc && this.qc.Yr;}},bk:{configurable:!0,enumerable:!0,get:function(){return this.qc && this.qc.bk;}},J3:{configurable:!0,enumerable:!0,get:function(){return this.qc && this.qc.J3;}},Lt:{configurable:!0,enumerable:!0,get:function(){return this.rba && 0 < this.rba.aa(k.fa)?this.rba:k.Lb(this.qa?this.qa.Oc.duration:0);},set:function(a){this.rba=a;}},vi:{configurable:!0,enumerable:!0,get:function(){return this.Ta.vi || 0;}},Rfa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.oZ?this.oZ:void 0 === this.gb.value?null:this.slb(this.gb.value,this.Ba);}},Qk:{configurable:!0,enumerable:!0,get:function(){var a,b;return null === (b=null === (a=this.qa) || void 0 === a?void 0:a.Oc.SIa) || void 0 === b?void 0:b.kE;}},KE:{configurable:!0,enumerable:!0,get:function(){var a,b;return null === (b=null === (a=this.qa) || void 0 === a?void 0:a.Oc.SIa) || void 0 === b?void 0:b.KE;}},zd:{configurable:!0,enumerable:!0,get:function(){return this.el.zd;}}});b.tAa=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.n$=void 0;b.n$="PlayTimeTrackerFactorySymbol";},function(f,b,a){var l,k,r,g,p,d,m,t,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=void 0;l=a(0);k=a(1);r=a(6);g=a(14);p=a(94);a(4);d=a(21);m=a(93);t=a(11);h=a(24);c.prototype.encode=function(a){return {key:a.key,downloadableId:a.wd,bitrate:a.R,vmaf:a.qb,duration:a.duration,metric:a.sR,cdnId:a.fz};};c.prototype.decode=function(a){return {key:a.key,wd:a.downloadableId,R:a.bitrate,qb:a.vmaf,duration:a.duration,sR:a.metric,fz:a.cdnId};};f=(function(){var b;function a(a,b,d,c,g){var m;m=this;this.Ph=a;this.config=d;this.Ca=c;this.debug=g;this.E3=[];this.nq=[];this.coa=[];this.IC={};this.oLa=!1;this.KO={};this.Ika=0;this.log=b.ob("PlayTimeTracker");this.startTime=this.Ph.gb.value;this.e2=this.config().Nfb;this.aU();this.IC.abrdel=0;this.e2.forEach(function(a){a="abrdel" + a;m.KO[a]=0;m.IC[a]=0;});}a.prototype.qQ=function(){var a;this.RE(this.Ph.gb.value);a=0;this.nq.forEach(function(b){a+=(b.endTime - b.startTime) / b.Noa;});return Math.floor(a);};a.prototype.fPa=function(){var a;this.RE(this.Ph.gb.value);a=0;this.nq.forEach(function(b){a+=b.endTime - b.startTime;});this.debug.assert(a === Math.floor(a),"Value of totalContentPlayTime is not an integer.");return Math.floor(a);};a.prototype.$tb=function(){this.RE(this.Ph.gb.value);return {audio:this.dQ(this.E3,this.PNa),video:this.dQ(this.nq,this.PNa)};};a.prototype.uwb=function(){var a;a={total:this.qQ(),totalContentTime:this.fPa(),audio:this.dQ(this.E3,this.n0),video:this.dQ(this.nq,this.n0),timedtext:this.dQ(this.coa,this.n0)};this.debug.assert(!(!a.audio || !a.video));return a;};a.prototype.rNa=function(){var a,b;this.RE(this.Ph.gb.value);a=this.aia(this.nq,this.nub);try{b=this.sNa(a);}catch(D){return (this.log.warn("Failed to calc average bitrate."),null);}this.IC.abrdel=Math.round(b);return this.IC.abrdel;};a.prototype.fub=function(){var a,b;this.RE(this.Ph.gb.value);a=this.aia(this.nq,this.Mxb);try{b=this.sNa(a);}catch(D){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(b);};a.prototype.eub=function(){var a,b;a=this;if(!this.oLa){b=this.qQ();this.e2.forEach(function(d){var c,g,m;if(0 === a.KO["abrdel" + d] && b > d * t.Pj){c=0;g=0;m=0;a.nq.some(function(a){c+=a.stream.R * (a.endTime - a.startTime);g+=a.endTime - a.startTime;m=a.stream.R;if(g > d * t.Pj)return !0;});c && (a.KO["abrdel" + d]=Math.round((c - m * (g - d * t.Pj)) / (d * t.Pj)));}});0 !== this.KO["abrdel" + this.e2[this.e2.length - 1]] && (this.oLa=!0);h.Dd(this.KO,function(b,d){a.IC[b]=0 === d?a.IC.abrdel:d;});}return this.IC;};a.prototype.hgb=function(a){this.Ika+=a;};a.prototype.zyb=function(){return ! !(this.nq[0] && this.nq[0].stream && this.Ca.de(this.nq[0].stream.qb));};a.prototype.aU=function(){var a;a=this;this.Ph.vg.addListener(function(b){a.RH=a.XIa(a.RH,a.E3,b.newValue);});this.Ph.uf.addListener(function(b){a.TH=a.XIa(a.TH,a.nq,b.newValue);});this.Ph.playbackRate.addListener(function(b){a.RE(a.Ph.gb.value,b.oldValue);});this.Ph.Wj.addListener(this.nGb.bind(this));};a.prototype.KFb=function(a,b){this.RE(a);this.startTime=b;this.TH=this.RH=void 0;this.SH && (this.SH.startTime=this.startTime);};a.prototype.nGb=function(a){this.nS(this.SH,this.coa,this.Ph.gb.value);this.SH=a.newValue?{track:a.newValue,startTime:this.Ph.gb.value,endTime:p.bv}:void 0;};a.prototype.RE=function(a,b){b=void 0 === b?this.Ph.playbackRate.value:b;a && this.RH && this.TH && (a=Math.min(a,this.RH.endTime,this.TH.endTime),this.nS(this.RH,this.E3,a,b),this.RH.startTime=a,this.nS(this.TH,this.nq,a,b),this.TH.startTime=a,this.SH && (this.nS(this.SH,this.coa,a,b),this.SH.startTime=a),this.startTime=a);};a.prototype.XIa=function(a,b,d){a && this.nS(a,b,Math.min(a.endTime,this.Ph.gb.value));if(d && d.stream)return (a=d.Hp,b=d.stream,{vc:d.vc,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime});};a.prototype.nS=function(a,b,d,c){c=void 0 === c?this.Ph.playbackRate.value:c;a && d && d >= a.startTime && (a={vc:a.vc,track:a.track,stream:a.stream,startTime:a.startTime,endTime:d,Noa:c},(d=b[b.length - 1]) && d.track === a.track && d.stream === a.stream && d.vc === a.vc && d.endTime === a.startTime && d.Noa === a.Noa?d.endTime=a.endTime:b.push(a));};a.prototype.aia=function(a,b){var d,c;d=this;c={};return a.reduce(function(a,g){var m,f,p;m=b.bind(d,g)();f=m.key;g=g.endTime - g.startTime;p=c[f];p?p.duration+=g:(delete m.key,p=m,p.duration=g,a.push(p),c[f]=p);return a;},[]);};a.prototype.dQ=function(a,b){return this.aia(a,b).map(function(a){return new c().encode(a);});};a.prototype.n0=function(a){var b,d,c;c=a.stream;c?(a=c.wd,b=c.R,d=c.qb):a=a.track.wd;return {key:a + "$" + (b || 0),wd:a,R:b,qb:d};};a.prototype.PNa=function(a){var b;b=this.n0(a);a=a.vc.id;return Object.assign({},b,{key:b.key + "$" + a,fz:a});};a.prototype.nub=function(a){a=(a=a.stream)?a.R:0;return {key:a,sR:a};};a.prototype.Mxb=function(a){a=(a=a.stream)?a.qb:0;return {key:a,sR:a};};a.prototype.sNa=function(a){var b,d,c;b=this;d=0;a.forEach(function(a){if(b.Ca.de(a.duration) && b.Ca.de(a.sR))d+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!d)return 0;c=0;a.forEach(function(a){c+=a.sR * a.duration / d;});return c;};b=a;return b=l.__decorate([k.N(),l.__param(1,k.l(r.xb)),l.__param(2,k.l(g.Jc)),l.__param(3,k.l(d.Ae)),l.__param(4,k.l(m.Bs))],b);})();b.kAa=f;},function(f,b){function a(a,b){var c;c=this;this.j=b;this.pA=!0;this.h3=function(){c.pA && (c.pA=!1,c.j.paused.set(!1));};this.g3=function(){c.pA || (c.pA=!0,c.j.paused.set(!0));};this.na=a;this.na.addEventListener("play",this.h3);this.na.addEventListener("pause",this.g3);}Object.defineProperty(b,"__esModule",{value:!0});b.hDa=void 0;a.prototype.pause=function(){var a;this.paused || (this.pA=!0,null === (a=this.na) || void 0 === a?void 0:a.pause());};a.prototype.play=function(){var a,b;a=this;return this.paused?(this.pA=!1,Promise.resolve(null === (b=this.na) || void 0 === b?void 0:b.play())["catch"](function(b){var c;a.pA=!(null === (c=a.na) || void 0 === c || !c.paused);throw b;})):Promise.resolve();};a.prototype.close=function(){var a,b;null === (a=this.na) || void 0 === a?void 0:a.removeEventListener("play",this.h3);null === (b=this.na) || void 0 === b?void 0:b.removeEventListener("pause",this.g3);this.na=void 0;};ma.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.pA;}}});b.hDa=a;},function(f,b,a){var l,k,r,g,p,d,m,t,h,A,J;function c(a){this.j=a;this.UQb=!1;this.log=g.Ig(this.j,"MediaAppendManager");this.Fb=this.j.Fb;this.na=this.Fb.na;this.VT=this.EO=!1;this.audio={type:r.Qg.audio,lz:[],nk:[],dK:!1};this.video={type:r.Qg.video,lz:[],nk:[],dK:!1};a={};this.gF=(a[l.wc.Wh.VIDEO]=this.video,a[l.wc.Wh.AUDIO]=this.audio,a);this.closed=!1;this.$z=k.config.$z;this.E2=k.config.E2;this.iE=k.LJa(! !this.j.Ta.lk).iE;this.cIa=!0;d.Ya(this.$z > this.E2,"bad config");d.Ya(this.$z > this.iE,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.rya=void 0;l=a(57);k=a(12);r=a(78);g=a(7);p=a(2);d=a(18);m=a(26);t=a(13);h=a(174);A=a(4);J=a(67);c.prototype.f0=function(){var d,c;function a(a,d){return b(a,d.x2);}function b(a,b){var d,c,g,m;g=! !b.response;m=b.response;if(b.bc)return a + (m.byteLength || 0);b=(null !== (d=null === b || void 0 === b?void 0:b.yH) && void 0 !== d?d:0) - (null !== (c=null === b || void 0 === b?void 0:b.zH) && void 0 !== c?c:0);return (g?m.byteLength:b) + a;}d=this.gF[l.wc.Wh.VIDEO];c=this.gF[l.wc.Wh.AUDIO];return {videoToAppend:d.nk.reduce(b,0),videoInBuffer:d.lz.reduce(a,0),audioToAppend:c.nk.reduce(b,0),audioInBuffer:c.lz.reduce(a,0)};};c.prototype.SFb=function(){this.audio.fj && !this.audio.fj.Lh() && this.audio.fj.sHa(new Uint8Array([0,0,0,8,102,114,101,101]));};c.prototype.wOb=function(){this.audio.xqa=!0;this.video.xqa=!0;};c.prototype.BOb=function(a){a === l.wc.Wh.AUDIO?this.EO=!0:a === l.wc.Wh.VIDEO && (this.VT=!0);};c.prototype.Lh=function(){var a,b;return !(null === (a=this.audio.fj) || void 0 === a || !a.Lh()) || !(null === (b=this.video.fj) || void 0 === b || !b.Lh());};c.prototype.P4=function(a){var b,d;null === (b=this.audio.fj) || void 0 === b?void 0:b.P4(a);null === (d=this.video.fj) || void 0 === d?void 0:d.P4(a);};c.prototype.Zgb=function(a){var b;a.I === l.wc.Wh.AUDIO?this.EO=!1:a.I === l.wc.Wh.VIDEO && (this.VT=!1);b=this.gF[a.I];b?b.nk.push(a):d.Ya(!1);};c.prototype.Xgb=function(a,b,c){b={I:a.type,Rz:!1,response:b,jk:function(){return "header";},get bc() {return !this.Rz;},profile:c.profile};(a=this.gF[a.type])?a.nk.push(b):d.Ya(!1);};c.prototype.zOb=function(a){var b;b=this.gF[a.type];if(b)try{b.fj=a;}catch(D){this.vd(p.K.O9,{ja:h.o0(a.type),ub:m.Ye(D)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.vd=function(a,b,d){this.closed || this.j.vd(a,b,d);};c.prototype.ega=function(a){return this.mLa(this.audio,a,this.EZ()) && this.mLa(this.video,a,this.EZ());};c.prototype.EZ=function(){return this.j.Ub.value === t.sb.fg?this.iE:this.E2;};c.prototype.DRb=function(){var a,b;a=this.video.nk.filter(function(a){return !a.bc;}).reduce(function(a,b){return a + b.pw;},0);b=this.audio.nk.filter(function(a){return !a.bc;}).reduce(function(a,b){return a + b.pw;},0);return Math.min(a,b);};c.prototype.mLa=function(a,b,d){var c;c=a.fga;c=c && c.x2;return !a.fj || 0 === a.nk.length && (a.type === r.Qg.audio && this.EO || a.type === r.Qg.video && this.VT)?!0:c && c.wu - b >= d || !1;};c.prototype.Hra=function(a){var b,d;this.UQb || (this.z0a(this.audio,a),this.z0a(this.video,a));!(this.closed || !(0 === this.audio.nk.length && this.EO || 0 === this.video.nk.length && this.VT) || (null === (b=this.audio.fj) || void 0 === b?0:b.Lh()) || (null === (d=this.video.fj) || void 0 === d?0:d.Lh()) || this.Vga) && this.na.readyState > J.om.iwa.HAVE_NOTHING && (this.Vga=!0,this.Fb.endOfStream());};c.prototype.z0a=function(a,b){var d,c,g;if(!this.closed && a.fj){d=a.fj;c=a.lz;!d.Lh() && 0 < c.length && (a.fga=c[c.length - 1]);if(a.xqa){if(d.Lh())return;a.xqa=!1;g=this.Fb.xOa().aWa(A.um);0 < g && d.remove(0,g);}for(g=a.nk[0];g && g.response && (g.bc || g.xx - b <= this.$z);){if((this.Vga=!1,this.oSb(g)))(a.nk.shift(),g=a.nk[0]);else break;}!d.Lh() && 0 < c.length && (a.fga=c[c.length - 1]);}};c.prototype.oSb=function(a){var b,c,g;d.Ya(a && a.response);b=a.response;c=a.I;g=this.gF[c];if(!this.closed && g.fj && !g.fj.Lh()){try{a.bc && a.profile && g.fj.Wjb(a.profile);this.log.trace("Feeding media segment to decoder",{Bytes:b.byteLength});g.fj.sHa(b,a);a.bc || g.lz.push(this.snb(a));k.config.Rpb && !a.bc && a.hJa();}catch(T){"QuotaExceededError" != T.name?(this.log.error("Exception while appending media",a,T),this.vd(p.K.q9a,h.o0(c))):(this.j.GZ=this.j.GZ?this.j.GZ + 1:1,this.cIa=!1,g.dK=!0);return;}return !0;}};c.prototype.jnb=function(a){var b;b=this.j.nyb(a.Rb);b || (this.log.error("Could not find CDN",{cdnId:a.Rb}),b={id:a.Rb,Ila:a.location});return b;};c.prototype.dob=function(a){var b,d;d=a.za;a.I === l.wc.Wh.AUDIO?b=this.j.vPa(d):a.I === l.wc.Wh.VIDEO && (b=this.j.GPa(d));b || this.log.error("Could not find stream",{stream:d});return b;};c.prototype.snb=function(a){var b;b=this.dob(a);return {x2:a,stream:b,Hp:{startTime:Math.floor(a.xx),endTime:Math.floor(a.wu)},vc:this.jnb(a)};};c.prototype.Lea=function(a){this.dJa(a,l.wc.Wh.AUDIO);this.dJa(a,l.wc.Wh.VIDEO);};c.prototype.dJa=function(a,b){var c,g,f,p,t,r,h,x,A;c=this;g=a;this.cIa && (g-=k.config.zS);f=this.gF[b];p=f.lz;h=!1;p.some(function(m,f){var p;p=m.x2;if(a < p.xx)return (d.Ya(!1,"decoder content does not contain media time"),!0);g >= p.wu && (t=f);if(a < p.wu)return (r=f,f=b === l.wc.Wh.AUDIO?c.j.vg:c.j.uf,m !== f.value && (f.set(m),h=!0),!0);});if((f.dK || h) && void 0 !== t && !this.Vga){if(t + 1 === r){if(0 === t)return;t--;}x=p[t].x2.wu - 1;if(0 < x){A=f.fj;A && !A.Lh()?(A.remove(0,x / m.Pj),f.dK=!1,p.splice(0,t + 1)):f.dK=!0;}}};c.prototype.SXa=function(){[this.audio,this.video].forEach(function(a){a.lz=[];a.fga=void 0;a.nk=[];});this.VT=this.EO=!1;this.j.fireEvent(t.W.u2);};c.prototype.vja=function(){return [this.audio,this.video].filter(function(a){return a.fj;});};c.prototype.rub=function(){var a,b;if(this.Lh())d.Ya(!1,"should not be busy while checking buffer ranges");else {a=this.vja().map(function(a){var b,d,c,g,m;g=a.nk.filter(function(a){return a.Rz;});m=a.fj.buffered();a=m.length?Math.ceil(1E3 * m.start(0)):void 0;m=m.length?Math.floor(1E3 * m.end(m.length - 1)):void 0;a=null !== a && void 0 !== a?a:null === (b=g[0]) || void 0 === b?void 0:b.xx;b=null !== (c=null === (d=g[g.length - 1]) || void 0 === d?void 0:d.wu) && void 0 !== c?c:m;if(void 0 !== a && void 0 !== b)return {start:a,end:b};});if(a.every(function(a){return a;})){b=Math.max.apply(Math,[].concat(da(a.map(function(a){return a.start;}))));a=Math.min.apply(Math,[].concat(da(a.map(function(a){return a.end;}))));if(a > b)return {start:A.Lb(b),end:A.Lb(a)};}}};c.prototype.skip=function(a){d.Ya(!this.Lh(),"should not be busy while skipping");this.vja().forEach(function(a){a.dK=!0;});this.Lea(a);this.vja().forEach(function(b){0 < b.lz.length || (b.nk=b.nk.filter(function(b){return b.bc || b.wu > a?!0:!1;}));});};b.rya=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.yWa=void 0;b.yWa=function(a){var b,f;b=!1;f=!1;return function(){if(b)f=!0;else for(f=!0;f;){f=!1;b=!0;a();b=!1;}};};},function(f,b,a){var l,k,r,g,p,d;function c(a){var b,c;b=this;this.j=a;this.xGb=function(){var a;r.Qe.removeListener(r.L0,b.FUa);a=b.$p.Bo();a && a.parentNode && a.parentNode.removeChild(a);};this.Gna=function(a){b.$p.hOb(a.newValue);};this.WGb=function(a){b.$p.nOb(a.newValue?a.newValue.D1:void 0);};this.FUa=function(){b.$p.uK();};this.$p=new p.HCa(g.config.ora,a.Hc.value?a.Hc.value.D1:void 0);c=a.wL;k.Ya(.1 < c.width / c.height);this.$p.XNb(c.width / c.height);a.Pf.appendChild(this.$p.Bo());a.Ju.addListener(this.Gna);a.Hc.addListener(this.WGb);a.addEventListener(d.W.Jf,this.xGb,l.EB);r.Qe.addListener(r.L0,this.FUa);}Object.defineProperty(b,"__esModule",{value:!0});b.JCa=void 0;l=a(11);k=a(18);r=a(55);g=a(12);p=a(305);d=a(13);c.prototype.uqa=function(a){this.$p.uqa(a);};c.prototype.tja=function(){return this.$p.tja();};c.prototype.sqa=function(a){this.$p.sqa(a);};c.prototype.rja=function(){return this.$p.rja();};c.prototype.tqa=function(a){this.$p.tqa(a);};c.prototype.sja=function(){return this.$p.sja();};b.JCa=c;},function(f,b,a){var c,l,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.GCa=void 0;f=a(56);c=a(12);l=a(55);k=a(7);r=a(26);g=a(246);p=a(141);d=a(66);m=a(110);t=a(13);f.v$(f.r$,function(a){var d;function b(b){var c;if(b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == m.Fs.B$a){c=r.createElement("INPUT",void 0,void 0,{type:"file"});c.addEventListener("change",function(){var b,g,m;b=c.files[0];if(b){g=b.name;d.info("Loading file",{FileName:g});m=new FileReader();m.readAsText(b);m.addEventListener("load",function(){return a.ap.hda("nourl",g,{content:m.result});});}});c.click();}}d=k.Ig(a,"TimedTextCustomTrack");c.config.Ufa && (d.info("Loading url",{Url:c.config.Ufa}),a.ap.hda(c.config.Ufa,"custom"));l.Qe.addListener(l.Iz,b);a.addEventListener(t.W.Jf,function(){l.Qe.removeListener(l.Iz,b);});});a=(function(){function a(a,b,d,c,m){var f,k;a=g.QB.call(this,b,a,a,"1",{0:d},[{id:0,name:"custom"}],"xx",c || a,p.Nn.ZF,"primary",null !== (f=null === m || void 0 === m?void 0:m.profile) && void 0 !== f?f:"custom",null !== (k=null === m || void 0 === m?void 0:m.midx) && void 0 !== k?k:{},!1,!1,null === m || void 0 === m?void 0:m.isLanguageLeftToRight) || this;a.j=b;a.url=d;a.options=m;a.rs=null === m || void 0 === m?void 0:m.useRangeHeader;return a;}M(a,g.QB);a.qnb=function(b,d,c,g){var m;m="custom" + a.Pzb++;return new a(m,b,d,c,g);};a.prototype.rLa=function(){var a;a=this;return new Promise(function(b,c){var g,m;if(null === (g=a.options) || void 0 === g?0:g.content)b(a.options.content);else if(a.url){m={responseType:d.cka,url:a.url,track:a,vc:null,cD:"tt-" + a.Kl};a.j.d1.download(m,function(d){d.ia?b(d.content):(d.reason="downloadfailed",d.url=m.url,d.track=a,c(d));});}});};a.Pzb=0;return a;})();b.GCa=a;},function(f,b,a){var k;function c(a,b,c){this.start=a;this.track=b;this.gL=Array.isArray(c)?c:[];}function l(a,b){this.log=a;this.mF=b;this.Moa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.sCa=void 0;k=a(18);l.prototype.Ufb=function(a,b){this.OTa(a,b,"activating");};l.prototype.yob=function(a){this.Wga(a,"de-activating");};l.prototype.OTa=function(a,b,f){var d;this.ek && this.Wga(a,"close current for new");d=[];this.orphans.length && (d.push.apply(d,[].concat(da(this.orphans))),this.orphans=[]);this.ek=new c(a,b,d);this.mF && this.log.trace("new range: " + f,this.ek);};l.prototype.Wga=function(a,b){this.ek && (this.ek.end=a,this.Moa.push(this.ek),this.mF && this.log.trace("end range: " + b,this.ek || ({})),this.ek=void 0);};l.prototype.b1a=function(a){this.ek?this.ek.gL.push(a):this.orphans.push(a);};l.prototype.oja=function(a){var b,f;b=this.Moa.slice(0);if(this.ek && "undefined" !== typeof a){f=new c(this.ek.start,this.ek.track,this.ek.gL);f.end=a;b.push(f);}a=b.reduce(function(a,b){var d,c,g,m;if(!b.track)return a;c=b.track.wd;g=b.track.Fz(b.start,b.end);if(!g)return a;m=new Set(b.gL);a[c]?(b=a[c],b.expected+=g.length,b.missed+=g.length - m.size):a[c]={dlid:c,bcp47:b.track.Kl,profile:b.track.profile,expected:g.length,missed:g.length - m.size,startPts:null !== (d=b.track.gxb()) && void 0 !== d?d:0};return a;},{});a=Object.values(a);this.mF && this.log.trace("subtitleqoe:",JSON.stringify(a,null,"\t"));return a;};l.prototype.Twb=function(a){var b,f,d,m;b=this.Moa.slice(0);f=0;d=0;this.ek && "undefined" != typeof a && (m=new c(this.ek.start,this.ek.track,this.ek.gL),m.end=a,b.push(m));b.forEach(function(a){var b,c;if(a.track){if(a.end < a.start){k.Ya("negative range",a);a.FA=0;return;}b=new Set(a.gL);c=a.track.Fz(a.start,a.end);a.pr=c?c.map(function(a){return a.id;}):[];a.FA=c?0 === c.length?100:100 * b.size / c.length:0;}else a.FA=100;b=a.end - a.start;f+=b;d+=a.FA * b;});m=f?Math.round(d / f):100;this.log.trace("qoe score " + m + ", at pts: " + a);this.mF && (a=b.map(function(a){return {start:a.start,"end  ":a.end,duration:a.end - a.start,score:Math.round(a.FA),lang:a.track?a.track.Kl:"none","actual  ":a.gL.join(" "),expected:(a.pr || []).join(" ")};}),this.log.trace("score for each range: ",JSON.stringify(a,function(a,b){return b;}," ")));return m;};b.sCa=l;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,n;Object.defineProperty(b,"__esModule",{value:!0});b.ICa=void 0;c=a(246);l=a(310);k=a(65);r=a(12);g=a(46);p=a(7);d=a(638);m=a(2);t=a(58);h=a(16);A=a(13);n=a(637);f=(function(){var b;function a(b){var g;g=this;this.j=b;this.Xqa=this.ITa=0;this.Jf=this.fl=!1;this.t4=0;this.nL=function(){var a,b;g.p4();g.oP && (g.log.info("Deactivating",g.oP),g.MA.yob(g.Sd()));g.j.Wj.set(null);g.cF.$Ya(g.entries=void 0);g.iJa();a=g.j.Hc.value;a && a.F1() && !a.z1() && (a=null);if(a && g.j.Ub.value !== A.sb.fg){b=g.Sd();g.MA.Ufb(b,a);}a?(g.log.info("Activating",a),g.j.pl.set(a.$c() === c.QB.aaa.LOADED?A.ze.rd:A.ze.Yd),g.fl || g.j.od("tt_start"),a.getEntries().then(g.nH)["catch"](g.nH)):g.j.pl.set(A.ze.rd);g.oP=a;g.rL();};this.fra=function(){g.fl && (g.cF.start(),g.j.Ub.value !== A.sb.Vc && g.cF.stop());};this.rL=function(){var b;g.j.state.value === A.yb.rd && g.j.Ub.value !== A.sb.fg && (g.entries?b=g.cF.Qtb():g.j.Hc.value && (b=a.WPb[g.j.Hc.value.$c()]));b && h.ec(b.startTime) && (g.ITa++,g.Xqa+=g.cF.yOa() - b.startTime,g.bIa=Math.ceil(g.Xqa / (g.ITa + 0)));g.j.Ju.set(b);};this.Sd=function(){var a;a=g.j.Uia();g.oP && g.oP.Br && (a+=g.oP.Br);return a;};this.SGb=function(b){g.fireEvent(a.oPb,b);b && b.id && g.MA.b1a(b.id);g.log.trace("showsubtitle",g.VOa(b));};this.MGb=function(b){g.fireEvent(a.ILb,b);g.log.trace("removesubtitle",g.VOa(b));};this.bl=function(){g.log.warn("imagesubs buffer underflow",g.j.Hc.value.eh);g.j.pl.set(A.ze.Yd);};this.rGb=function(){g.log.info("imagesubs buffering complete",g.j.Hc.value.eh);g.j.pl.set(A.ze.rd);};this.d3=function(){g.fl && g.nf && g.nf.qs(g.Sd());};this.EUa=function(a){g.fl && g.nf && (g.nf.pause(),g.nf.IA(a.ei));};this.UJ=function(){g.fl && g.nf && g.nf.DWa();};this.BUa=function(a){g.nf && g.nf.Xo(a.Fg,a.IR);};this.GUa=function(a){g.nf && g.nf.kj(a.Ba,a.gTb);};this.i3=function(){g.fl=!0;t.Ec(function(){g.nf?g.nf.qs(g.Sd()):g.fra();g.rL();});};this.GGb=function(){g.entries=void 0;g.iJa();g.cF.stop();g.rL();g.Jf=!0;g.p4();};this.Gna=function(a){(a=a.newValue) && h.ec(a.id) && g.MA.b1a(a.id);};this.JGb=function(a){g.ZSb(a.newValue,a.oldValue);g.fra();};this.nH=function(a){var b;if(!g.Jf){b=a.track;if(b === g.j.Hc.value)try{b.Go?g.Sfb(a):g.Tfb(a);}catch(ba){g.log.error("Error activating track:",ba,b);return;}g.fl || g.j.od(a.ia?"tt_comp":"tt_err");a.ia?(r.config.jYa?setTimeout(function(){g.j.pl.set(A.ze.rd);},r.config.jYa):g.j.pl.set(A.ze.rd),b.Go || g.rL()):a.vt?g.log.warn("aborted timed text track loading"):r.config.isb?g.j.vd(m.K.e7a,{ub:a.track?a.track.eh:{}}):(g.log.error("ignore subtitle initialization error",a),g.j.pl.set(A.ze.rd));}};this.Ib=new k.oj();this.MA=new d.sCa(p.Ig(b,"SubtitleTracker"),r.config.irb);this.log=p.Ig(b,"TimedTextManager");this.cF=new l.KCa(this.Sd,this.rL);this.j.Hc.addListener(this.nL);r.config.YIb?(this.j.addEventListener(A.W.Qo,this.i3),this.nL()):(this.j.pl.set(A.ze.rd),this.j.addEventListener(A.W.Qo,function(){g.fl=!0;g.nL();}));this.j.Ub.addListener(this.JGb);this.j.addEventListener(A.W.kra,this.fra);this.j.Ju.addListener(this.Gna);this.j.addEventListener(A.W.Jf,this.GGb);}a.prototype.addEventListener=function(a,b,d){this.Ib.addListener(a,b,d);};a.prototype.removeEventListener=function(a,b){this.Ib.removeListener(a,b);};a.prototype.fireEvent=function(a,b,d){this.Ib.ac(a,b,d);};a.prototype.hda=function(a,b,d){var c;c=n.GCa.qnb(this.j,a,b,d);this.j.ql.push(c);this.j.ho.forEach(function(a){g.Psa(a.ql,c);});this.j.Hc.set(c);this.j.fireEvent(A.W.dF);};a.prototype.fJb=function(a){this.qpa(a)?a.getEntries().then(function(){}):Promise.resolve();};a.prototype.nxb=function(a){return this.MA.Twb(a);};a.prototype.oja=function(a){return this.MA.oja(a);};a.prototype.D0=function(){var a,b;a=this.j.BT;b=r.config.W_a.characterSize;b={size:r.config.pra.characterSize || b};a && (b.visibility=a.tja(),b.OO=a.rja(),b.jq=a.sja());return b;};a.prototype.COb=function(a){r.config.pra.characterSize=a;a=this.j.Hc.value;this.qpa(a) && !a.Go && a.getEntries().then(this.nH)["catch"](this.nH);};a.prototype.ZSb=function(a,b){var d;a === A.sb.Vc || a == A.sb.qj?b !== A.sb.Vc && b !== A.sb.qj && ((b=this.j.Hc.value) && !this.qpa(b) || this.MA.OTa(this.Sd(),b || void 0,"presentingstate:" + a)):a !== A.sb.fg && a !== A.sb.Ds || this.MA.Wga(null !== (d=this.Sd()) && void 0 !== d?d:void 0,"presentingstate:" + a);};a.prototype.p4=function(){this.t4=0;clearTimeout(this.xMb);};a.prototype.iJa=function(){this.nf && (this.nf.stop(),this.uSa("removeListener"));this.nf=void 0;};a.prototype.uSa=function(a){this.nf && (this.nf[a]("showsubtitle",this.SGb),this.nf[a]("removesubtitle",this.MGb),this.nf[a]("underflow",this.bl),this.nf[a]("bufferingComplete",this.rGb),"addListener" === a?(this.j.addEventListener(A.W.Np,this.d3),this.j.addEventListener(A.W.ll,this.EUa),this.j.addEventListener(A.W.FK,this.UJ),this.j.addEventListener(A.W.V2,this.BUa),this.j.addEventListener(A.W.Vra,this.GUa)):(this.j.removeEventListener(A.W.Np,this.d3),this.j.removeEventListener(A.W.ll,this.EUa),this.j.removeEventListener(A.W.FK,this.UJ),this.j.removeEventListener(A.W.V2,this.BUa),this.j.removeEventListener(A.W.Vra,this.GUa)));};a.prototype.VOa=function(a){return {currentPts:this.Sd(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};a.prototype.Sfb=function(a){var b,d;b=this;d=a.track;if(!d || !d.Go)throw Error("Not an image base subtitle");a.ia?(this.p4(),this.nf=d.nf,this.uSa("addListener"),this.log.info("Activated",d),this.j.Wj.set(d),this.fl?t.Ec(function(){b.nf.qs(b.Sd());}):this.nf.pause()):this.bYa(d,a);};a.prototype.Tfb=function(a){var b,d;b=a.track;d=a.entries;if(!b || b.Go)throw Error("Not a valid text track");d?(this.p4(),this.cF.$Ya(this.entries=d),this.log.info("Activated",b),this.j.Wj.set(b)):this.bYa(b,m.Iq(a));this.rL();};a.prototype.bYa=function(a,b){var d,c;d=this;c=this.t4 < r.config.FDb;c && (this.xMb=setTimeout(function(){d.t4++;a.getEntries().then(d.nH)["catch"](d.nH);},r.config.uRb));this.log.error("Failed to activate" + ((null === a || void 0 === a?0:a.Go)?" img subtitle":""),{retry:c},b,a);};a.prototype.qpa=function(a){return !(!a || a.F1() && !a.z1());};b={};a.WPb=(b[c.QB.aaa.LOADING]={V3b:!0},b[c.QB.aaa.rM]={Tp:!0},b);a.oPb="showsubtitle";a.ILb="removesubtitle";return a;})();b.ICa=f;},function(f,b,a){var p,d,m,t,h,A,n,q,L,D,C,T,P,u,R,V,W,ea,ha,Y,Ia,ia,oa,qa,B,I;function c(){this.A5=[];this.PRb=50;}function l(a){var b;b=this;this.j=a;this.P1a=Promise.resolve();this.C7=O.WebKitMediaKeys || HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.My=[];this.Tq=new h.oj();this.$Da=this.$aa=0;this.VW=[];this.Cg=q.Ig(this.j,"MediaElementASE");this.XFa=u.Af;this.yba=!1;this.Sc=new c();this.Em={};this.GEa={};this.tD=this.XW(function(){var a;if(b.na){a=b.qX();return a?a.totalVideoFrames:b.na.webkitDecodedFrameCount;}});this.sD=this.XW(function(){var a;if(b.na){a=b.qX();return a?a.droppedVideoFrames:b.na.webkitDroppedFrameCount;}});this.aQ=this.XW(function(){var a;if(b.na){a=b.qX();return a && a.corruptedVideoFrames;}});this.p0=this.XW(function(){var a;if(b.na){a=b.qX();return a && V.Yh(a.totalFrameDelay * u.Pj);}});this.$Ea=function(a){return b.Tq.ac(ha.Ei.NRa,{la:a});};this.mk=q.ga.get(ea.H8).create(t.config.xn,this,this.j);t.config.Wz && (this.P1a=new Promise(function(a){b.XFa=a;b.j.addEventListener(ia.W.Jf,a);}));this.Cg.trace("Created Media Element");this.addEventListener=this.Tq.addListener;this.removeEventListener=this.Tq.removeListener;this.na=k(this.j.wL);this.sourceBuffers=this.My;}function k(a){var b,d;b=q.ga.get(Y.Paa).Mwb();a=a.width / a.height * b.height;d=(b.width - a) / 2;return t.config.IOb?u.createElement("VIDEO","position:absolute;width:" + a + "px;height:" + b.height + "px;left:" + d + "px;top:0px"):u.createElement("VIDEO","position:absolute;width:100%;height:100%");}function r(a){a.preventDefault();return !1;}function g(a,b,d){var c,g,m;c=a.target;c=c && c.error;g=a.errorCode;m=c && c.code;u.ec(m) || (m=g && g.code);g=c && c.msExtendedCode;u.ec(g) || (g=c && c.systemCode);u.ec(g) || (g=a.systemCode);a=u.Eb({},{code:m,systemCode:g,trace:JSON.stringify(d)},{jx:!0});b={ja:b(m),ub:R.$la(a)};try{c && c.message && (b.pR=c.message);}catch(eb){}g=u.Ud(g);W.oa(g) && (b.Ie=q.dea(g,4));return b;}Object.defineProperty(b,"__esModule",{value:!0});b.wya=void 0;p=a(57);d=a(199);m=a(11);t=a(12);h=a(65);A=a(55);n=a(46);q=a(7);L=a(2);D=a(18);C=a(96);T=a(492);P=a(24);u=a(26);R=a(197);V=a(9);W=a(16);ea=a(311);ha=a(196);Y=a(334);Ia=a(4);ia=a(13);oa=a(182);qa=a(67);B=! !(V.UF && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);I=B && (HTMLVideoElement.prototype.webkitGenerateKeyRequest || V.TF);l.prototype.bQ=function(a){try{this.na && (this.$Da=this.na.currentTime);}catch(va){this.Cg.error("Exception while getting VIDEO.currentTime",va);a && this.wG(L.K.o9a,va);}return V.Yh(this.$Da * u.Pj);};l.prototype.seek=function(a){var b;D.Ya(!this.Yn);this.SFa();b=this.bQ(!0);if(!t.config.Rgb && V.vB(b - a) <= this.Rpa)(this.Cg.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.Rpa}),this.Sc.trace("smallseek",a));else {this.Sc.trace("seek",a);try{this.Cg.trace("Setting video elements currentTime",{From:C.wh(b),To:C.wh(a)});this.Yn={};this.na.currentTime=a / u.Pj;this.Tq.ac(ha.Ei.Np);}catch(Da){this.Cg.error("Exception while setting VIDEO.currentTime",Da);this.wG(L.K.p9a,Da);}}};l.prototype.LOa=function(){return ! !this.Yn;};l.prototype.addSourceBuffer=function(a){var b,c;b=u.Ud(this.$aa.toString() + this.My.length.toString());b={sourceId:this.$aa,UY:b};try{c=new d.h9(this.j,a,this.If,b,this.Cg);this.My.push(c);a == m.OF && c.Gha && c.Gha.addListener(this.XFa);return c;}catch(N){c=u.Ye(N);this.Cg.error("Unable to add source buffer.",{error:c});this.j.vd(L.K.O9,{ja:a === p.wc.Wh.AUDIO?u.L.aya:u.L.bya,ub:c});}};l.prototype.AY=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.Tq.ac(ha.Ei.IZa);return !0;};l.prototype.removeSourceBuffer=function(a){this.My=this.My.filter(function(b){return !n.BJa(a,b);});this.If.removeSourceBuffer(a);};l.prototype.endOfStream=function(){this.Sc.trace("endofstream");t.config.Bea && this.If.endOfStream();};l.prototype.jr=function(a){this.My=[];a && a.Z4b();return !0;};l.prototype.VNb=function(a){this.$aa=a;};l.prototype.xOa=function(){if(this.If)return Ia.bWa(this.If.duration);};l.prototype.Hpb=function(){var a;if(!this.yba && this.na && this.na.readyState >= qa.om.iwa.HAVE_CURRENT_DATA){a=this.na.webkitDecodedFrameCount;if(void 0 === a || 0 < a || t.config.rUb)this.yba=!0;}return this.yba;};l.prototype.open=function(){var a,b,d;a=this;this.j.addEventListener(ia.W.wZa,function(b){return a.Sdb(b);});if(B){if(this.j.Qw){if(!I){this.vG(L.K.yza);return;}if(V.TF && V.TF.isTypeSupported && this.mk.he)try{if(!V.TF.isTypeSupported(this.mk.he,"video/mp4")){this.tfb(function(b){a.vG(L.K.M9,b);});return;}}catch(N){this.wG(L.K.M9,N);return;}}try{this.If=new V.UF();}catch(N){this.wG(L.K.e9a,N);return;}try{this.Hl=URL.createObjectURL(this.If);}catch(N){this.wG(L.K.f9a,N);return;}try{this.mk.kgb(this.$Ea);this.If.addEventListener("sourceopen",function(b){return a.vFa(b);});this.If.addEventListener(this.C7 + "sourceopen",function(b){return a.vFa(b);});this.na.addEventListener("error",this.Em.error=function(b){return a.XG(b);});this.na.addEventListener("seeking",this.Em.seeking=function(){return a.Rdb();});this.na.addEventListener("seeked",this.Em.seeked=function(){return a.Qdb();});this.na.addEventListener("timeupdate",this.Em.timeupdate=function(){return a.Udb();});this.na.addEventListener("loadstart",this.Em.loadstart=function(){return a.MN();});this.na.addEventListener("volumechange",this.Em.volumechange=function(b){return a.Vdb(b);});this.na.addEventListener(this.mk.bE,this.Em[this.mk.bE]=function(b){return a.Pdb(b);});b=this.j.Pf;d=b.lastChild;d?b.insertBefore(this.na,d):b.appendChild(this.na);t.config.fLa && this.na.addEventListener("contextmenu",r);this.na.src=this.Hl;A.Qe.addListener(A.NI,this.GEa[A.NI]=function(){return a.uFa();});this.uFa();}catch(N){this.wG(L.K.g9a,N);}}else this.vG(L.K.zza);};l.prototype.close=function(){var b;function a(){b.Hl && (b.SFa(),A.Qe.removeListener(A.NI,b.GEa[A.NI]),b.Yab());}b=this;this.Sc.trace("close");this.na.removeEventListener(this.mk.bE,this.Em[this.mk.bE]);this.na.removeEventListener("error",this.Em.error);this.na.removeEventListener("seeking",this.Em.seeking);this.na.removeEventListener("seeked",this.Em.seeked);this.na.removeEventListener("timeupdate",this.Em.timeupdate);this.na.removeEventListener("loadstart",this.Em.loadstart);this.na.removeEventListener("volumechange",this.Em.volumechange);this.mk.zLb(this.$Ea);t.config.xn?this.mk.tVa().then(function(){return a();}):a();this.mk.BXa && clearTimeout(this.mk.BXa);};l.prototype.Cw=function(){return this.Sc.Cw();};l.prototype.Pdb=function(a){return this.mk.Cna(a);};l.prototype.qX=function(){if(this.na)return this.na.getVideoPlaybackQuality && this.na.getVideoPlaybackQuality() || this.na.videoPlaybackQuality || this.na.playbackQuality;};l.prototype.bfb=function(){var a;a=this.j.Cj;return (a=a && a.errorCode) && 0 <= [L.K.OV,L.K.nV].indexOf(a);};l.prototype.Yab=function(){var a;a=!1;t.config.DJb && this.bfb() && (a=!0);t.config.Fkb && !a && (this.na.removeAttribute("src"),this.na.load && this.na.load());URL.revokeObjectURL(this.Hl);t.config.fLa && this.na.removeEventListener("contextmenu",r);!a && this.na && this.j.Pf.removeChild(this.na);this.na=this.If=void 0;this.Hl="";};l.prototype.uFa=function(){!0 === V.Ce.hidden?this.VW.forEach(function(a){a.refresh();a.NPb();}):this.VW.forEach(function(a){a.refresh();a.aQb();});};l.prototype.XW=function(a){var b;b=q.ga.get(T.C9)(a);this.VW.push(b);return function(){b.refresh();return b.Iub();};};l.prototype.wG=function(a,b){var d,c;d={ja:u.L.vh,ub:u.Ye(b)};try{(c=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == c.length && (d.Ie=c);}catch(ka){}this.j.vd(a,d);};l.prototype.SFa=function(){this.VW.forEach(function(a){a.refresh();});};l.prototype.Wbb=function(){return this.na && this.na.msGraphicsTrustStatus;};l.prototype.vG=function(a,b){this.j.vd(a,b,void 0);};l.prototype.tfb=function(a){var d,c,f;function b(d){b=u.Af;c.hj();a(d);}d=this;c=q.ga.get(oa.QM)(500,function(){b();});c.hD();try{f=this.j.zf.value.Yp.E4b.children.filter(function(a){return "pssh" == a.type && a.s2b == m.gva;})[0];new V.TF(this.mk.he).createSession("video/mp4",f.raw,null).addEventListener(this.C7 + "keyerror",function(a){b(g(a,L.H7,d.Cw()));});}catch(La){b();}};l.prototype.Sdb=function(a){var b,c,g,f,p,k,l;if(this.na){a=a.TT;b=this.Wbb();b && (a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState="" + this.na.readyState;a.currentTime="" + this.na.currentTime;a.pbRate="" + this.na.playbackRate;}catch(Ga){}for(var b=this.My.length,d;b--;){d=this.My[b];c="";d.type == m.tV?c="audio":d.type == m.OF && (c="video");u.Eb(a,d.g0(),{prefix:c});t.config.Yqb && this.j.Cj && m.OF == d.type && (c=u.SK(d.k0()),3E3 > (c.data && c.data.length) && (c.data=P.YJa(c.data).join(),u.Eb(a,c,{prefix:d.type})));}this.If && (b=this.If.duration) && !isNaN(b) && (a.duration=b.toFixed(4));if(t.config.CCb)try{g=this.j.Rd;f=g && g.pBb;if(f){p=f.expiration;isNaN(p) || (a.exp=p);k=f.keyStatuses.entries();if(k.next){l=k.next().value;l && (a.keyStatus=l[1]);}}}catch(Ga){}}};l.prototype.vFa=function(a){this.dfb || (this.dfb=!0,this.Tq.ac(ha.Ei.JZa,a));};l.prototype.Rdb=function(){this.Sc.trace("seeking");this.Cg.trace("Video element event: seeking");this.Yn?this.Yn.bGb=!0:(this.Cg.error("unexpected seeking event"),t.config.ksb && this.vG(L.K.u9a,{ub:{Trace:this.Cw()}}));};l.prototype.Qdb=function(){this.Sc.trace("seeked");this.Cg.trace("Video element event: seeked");this.Yn?(D.Ya(this.Yn.bGb),this.Yn.aGb=!0,this.pGa()):(this.Cg.error("unexpected seeked event"),t.config.jsb && this.vG(L.K.t9a,{ub:{Trace:this.Cw()}}));};l.prototype.Udb=function(){var a;this.Sc.trace("timeupdate",null === (a=this.na) || void 0 === a?void 0:a.currentTime);this.Yn && (this.Yn.dGb=!0,this.pGa());this.Tq.ac(ha.Ei.Np);};l.prototype.MN=function(){this.Cg.trace("Video element event: loadstart");};l.prototype.Vdb=function(a){this.Cg.trace("Video element event:",a.type);try{this.j.volume.set(this.na.volume);this.j.muted.set(this.na.muted);}catch(va){this.Cg.error("error updating volume",va);}};l.prototype.XG=function(a){this.vG(L.K.m9a,g(a,L.Mva,this.Cw()));};l.prototype.pGa=function(){this.Yn && this.Yn.aGb && this.Yn.dGb && (this.Sc.trace("seekcomplete"),this.Yn=void 0,this.Tq.ac(ha.Ei.IS));};ma.Object.defineProperties(l.prototype,{Rpa:{configurable:!0,enumerable:!0,get:function(){return t.config.BPb;}}});b.wya=l;c.prototype.trace=function(a,b){this.A5.push([a,b]);this.A5.length > this.PRb && this.A5.shift();};c.prototype.Cw=function(){return this.A5;};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xta=b.Yta=void 0;f=b.Yta || (b.Yta={});f[f.K8a=0]="PAUSE";f[f.N9a=1]="RESUME";f[f.DVb=2]="CAPTIONS_ON";f[f.CVb=3]="CAPTIONS_OFF";f[f.EVb=4]="CAPTION_LANGUAGE_CHANGED";f[f.RUb=5]="AUDIO_LANGUAGE_CHANGED";f[f.vYb=6]="NEXT_EP";f[f.yZb=7]="PREV_EP";f[f.kv=8]="SEEK";f[f.BBa=9]="STOP";b.Xta="CastInteractionTrackerSymbol";},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,n,q,L,D,C,T,P,u,R,V,W,ea,ha,Y;Object.defineProperty(b,"__esModule",{value:!0});b.oAa=void 0;c=a(0);l=a(91);k=a(1);r=a(103);g=a(28);p=a(19);d=a(37);m=a(321);t=a(449);h=a(436);A=a(356);n=a(73);q=a(122);L=a(133);D=a(89);C=a(253);T=a(320);P=a(109);u=a(641);R=a(323);V=a(49);W=a(27);ea=a(319);ha=a(68);Y=a(318);f=(function(){var f;function b(a,b,d,c,g,m,f,p,k,l,t,r,h,x,A,n,J,q,D,E,L,C,R){this.CD=a;this.uH=b;this.wa=d;this.Fa=c;this.nib=g;this.jra=m;this.ema=f;this.fma=p;this.g2=k;this.mc=l;this.bj=t;this.mi=r;this.Et=h;this.boa=x;this.hR=A;this.Era=n;this.dh=J;this.el=q;this.dd=D;this.$na=E;this.ULb=L;this.dZ=C;this.rH=R;}b.prototype.create=function(b,d,c,g,m,f){return new (a(317).pAa)(b,d,m,f,g,this.CD,c,this.wa,this.uH,this.Fa,this.ema,this.nib,this.jra,this.fma,this.g2,this.mc,this.bj,this.mi,this.Et,this.boa,this.hR,this.Era,this.dh,this.dd,this.$na,this.el,this.ULb(),void 0,this.dZ);};f=b;return f=c.__decorate([k.N(),c.__param(0,k.l(l.av)),c.__param(1,k.l(g.Sf)),c.__param(2,k.l(p.qd)),c.__param(3,k.l(d.th)),c.__param(4,k.l(m.y6)),c.__param(5,k.l(r.PB)),c.__param(6,k.l(t.b9)),c.__param(7,k.l(h.d9)),c.__param(8,k.l(A.Q8)),c.__param(9,k.l(n.Us)),c.__param(10,k.l(q.GB)),c.__param(11,k.l(L.cG)),c.__param(12,k.l(C.mU)),c.__param(13,k.l(T.y$)),c.__param(14,k.l(P.TV)),c.__param(15,k.l(R.Caa)),c.__param(16,k.l(V.wl)),c.__param(17,k.l(ha.QF)),c.__param(18,k.l(W.Cf)),c.__param(19,k.l(ea.x$)),c.__param(20,k.l(Y.X$)),c.__param(21,k.l(u.Xta)),c.__param(21,k.optional()),c.__param(22,k.l(D.IL)),c.__param(22,k.optional())],f);})();b.oAa=f;},function(f,b){function a(a){this.j=a;}Object.defineProperty(b,"__esModule",{value:!0});b.uta=void 0;a.prototype.$0a=function(){var a;a=this.j.$o && this.j.$o.Ab.get() || ({});a.Rh && (this.j.Rh=a.Rh.Ga);a.La && (this.j.La=a.La.Ga);};a.prototype.Qm=function(){-1 === this.j.La && this.$0a();return this.j.La;};a.prototype.njb=function(a){-1 !== this.j.Rh && -1 !== this.j.La || this.$0a();return -1 === this.j.Rh || -1 === this.j.La?Number.MAX_VALUE:this.j.Rh + 8 * a / this.j.La;};b.uta=a;},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.TCa=void 0;c=a(0);l=a(13);k=a(322);r=a(19);g=a(1);p=a(4);d=a(14);f=(function(){var b;function a(a,b){this.app=a;this.config=b;}a.prototype.nI=function(a){var b;a.GT={};if(!a.KD() && a.Ox && 0 < a.Ox.length && (a.Nx=this.eOa(a),a.Nx)){b=this.OOb(a);b() || (a.Ub.addListener(b),a.zf.addListener(b));}};a.prototype.OOb=function(a){var d;function b(){var c,g;if(!a.zf.value || a.Ub.value === l.sb.fg)return !1;c=a.Nx;g=c.$c();return g === k.On.LOADING?!1:g !== k.On.LOADED && c.Bx?(c=d.yxb(a))?(a.GT.offset=d.app.zb().aa(p.fa),a.Nx=c,c.download(),!0):!1:(a.Ub.removeListener(b),a.zf.removeListener(b),!1);}d=this;return b;};a.prototype.yxb=function(a){var b,d;b=this.config();d=a.dn.qQ() < b.eSb;b=(a.zf.value?a.zf.value.R:0) > b.dSb;return this.Swb(a,d && b);};a.prototype.Swb=function(a,b){if(b && (b=this.eOa(a),this.KOa(a,b.size)))return (a.GT.QXa="h",b);b=this.Rvb(a);if(this.KOa(a,b.size))return (a.GT.QXa="l",b);};a.prototype.KOa=function(a,b){var d,c;d=this.config();c=Math.min(a.BO(),a.RT());return a.lib.njb(b) * (1 + .01 * d.Dgb[2]) < c * d.hSb;};a.prototype.eOa=function(a){return a.Ox[a.Ox.length - 1];};a.prototype.Rvb=function(a){return a.Ox[0];};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(r.qd)),c.__param(1,g.l(d.Jc))],b);})();b.TCa=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,n,q,L,D,C,T,P,u,R,V,W,ea,ha,Y,Ia,ia,oa,qa,B,I,Ba,va,Da,N,ka;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;f=a(1);c=a(437);l=a(323);k=a(644);r=a(321);g=a(643);p=a(471);d=a(474);m=a(642);t=a(632);h=a(14);A=a(19);n=a(93);q=a(21);L=a(6);D=a(631);C=a(320);T=a(630);P=a(4);u=a(629);R=a(628);V=a(300);W=a(627);ea=a(90);ha=a(319);Y=a(626);Ia=a(103);ia=a(27);oa=a(121);qa=a(75);B=a(352);I=a(297);Ba=a(625);va=a(68);Da=a(34);N=a(318);ka=a(624);b.j=new f.Kc(function(b){b(I.YV).to(Ba.sAa).Z();b(c.Baa).Rf(function(b){var d;d=b.ib;return function(b,c,g,m,f,p,k,l,t){return new (a(623).RCa)(d.get(u.Daa),b,c,g,m,f,p,k,l,t);};});b(u.Daa).to(R.UCa).Z();b(l.Caa).to(k.TCa).Z();b(d.w$).to(m.oAa).Z();b(N.Y$).to(ka.rBa);b(N.X$).b0a(N.Y$);b(p.l7).Rf(function(b){var d;d=b.ib;return function(b){return new (a(622).Vua)(d.get(ea.k7),d.get(n.Bs),d.get(A.qd),b);};});b(r.y6).Rf(function(){return function(a){return new g.uta(a);};});b(D.n$).Rf(function(a){var b;b=a.ib;return function(a){return new t.kAa(a,b.get(L.xb),b.get(h.Jc),b.get(q.Ae),b.get(n.Bs));};});b(C.y$).Rf(function(a){var b;b=a.ib;return function(a,d,c,g,m,f,p,k,l){return new T.tAa(a,d,c,g,m,f,p,k,l,b.get(D.n$),b.get(I.YV));};});b(V.daa).Rf(function(a){return function(b){var d;d=a.ib.get(h.Jc);return new W.MBa(d,b);};});b(ha.x$).Rf(function(a){return function(b){var d,c,g,m;d=a.ib.get(qa.Cs);c=a.ib.get(Ia.PB);g=a.ib.get(ia.Cf);m=a.ib.get(oa.NB);return new Y.qAa(b,d,c(P.ph(1)),g,m);};});b(B.q9).Lx(function(b){return new (a(621).Mya)(b.ib.get(va.QF),b.ib.get(Da.vl));}).Z();});},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.aAa=void 0;c=a(0);l=a(1);k=a(146);f=(function(){var b;function a(){this.kT=new k.Kn();}a.prototype.nK=function(a){this.kT.next(a);};ma.Object.defineProperties(a.prototype,{CA:{configurable:!0,enumerable:!0,get:function(){return this.kT;}}});b=a;return b=c.__decorate([l.N()],b);})();b.aAa=f;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.Oza=void 0;c=a(0);l=a(1);k=a(6);r=a(75);f=(function(){var b;function a(a,b){this.nz=b;this.log=a.ob("Pbo");this.links={};}a.prototype.kda=function(a){a && (this.links=Object.assign(Object.assign({},this.links),a));};a.prototype.fQ=function(a){return this.links[a];};a.prototype.jgb=function(a){var b;b="playbackContextId=" + a.playbackContextId + "&esn=" + this.nz().Kh;a="drmContextId=" + a.drmContextId;this.kda({events:{rel:"events",href:"/events?" + b},license:{rel:"license",href:"/license?licenseType=standard&" + b + "&" + a},ldl:{rel:"ldl",href:"/license?licenseType=limited&" + b + "&" + a}});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.xb)),c.__param(1,l.l(r.Cs))],b);})();b.Oza=f;},function(f,b,a){var l,k,r;function c(a,b,d,c,f,k,l){this.version=a;this.url=b;this.id=d;this.languages=c;this.$a=f;this.Cqb=k;this.ZEb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.cAa=void 0;l=a(0);k=a(1);r=a(74);f=(function(){var b;function a(a){this.aj=a;}a.prototype.create=function(a,b,g,f,p){return new c(this.aj.version,b,a,this.aj.languages,g,f,p);};b=a;return b=l.__decorate([k.N(),l.__param(0,k.l(r.Ns))],b);})();b.cAa=f;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.$a,echo:this.Cqb};};},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.Iza=void 0;c=a(0);l=a(1);k=a(43);r=a(30);g=a(40);p=a(14);d=a(125);f=(function(){var b;function a(a,b,d){a=k.le.call(this,a,"PboConfigImpl") || this;a.config=b;a.Vgb=d;return a;}M(a,k.le);ma.Object.defineProperties(a.prototype,{Px:{configurable:!0,enumerable:!0,get:function(){return this.config().kr.Px || "";}},F5:{configurable:!0,enumerable:!0,get:function(){return this.config().kr.F5 || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},LUa:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().kr.roa;}},E1:{configurable:!0,enumerable:!0,get:function(){return !1;}},PDb:{configurable:!0,enumerable:!0,get:function(){return !0;}},RDb:{configurable:!0,enumerable:!0,get:function(){return !0;}},PYa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Vgb.hIa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.QYa);}},QYa:{configurable:!0,enumerable:!0,get:function(){return {};}},fXa:{configurable:!0,enumerable:!0,get:function(){return !1;}},bka:{configurable:!0,enumerable:!0,get:function(){return 10;}},VGa:{configurable:!0,enumerable:!0,get:function(){return !1;}},xJa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Tga:{configurable:!0,enumerable:!0,get:function(){return !1;}},k1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},s1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},SLa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});b=a;c.__decorate([g.config(g.string,"uiVersion")],b.prototype,"Px",null);c.__decorate([g.config(g.string,"uiPlatform")],b.prototype,"F5",null);c.__decorate([g.config(g.Qx,"pboVersion")],b.prototype,"version",null);c.__decorate([g.config(g.string,"pboOrganization")],b.prototype,"LUa",null);c.__decorate([g.config(g.l5,"pboLanguages")],b.prototype,"languages",null);c.__decorate([g.config(g.Cc,"hasLimitedPlaybackFunctionality")],b.prototype,"E1",null);c.__decorate([g.config(g.Cc,"mdxBindUsingNodeQuark")],b.prototype,"PDb",null);c.__decorate([g.config(g.Cc,"mdxPairUsingNodeQuark")],b.prototype,"RDb",null);c.__decorate([g.config(g.object(),"pboCommands")],b.prototype,"PYa",null);c.__decorate([g.config(g.object(),"pboCommandsOverride")],b.prototype,"QYa",null);c.__decorate([g.config(g.Cc,"pboRecordHistory")],b.prototype,"fXa",null);c.__decorate([g.config(g.Qx,"pboHistorySize")],b.prototype,"bka",null);c.__decorate([g.config(g.Cc,"pboAddXEsnHeader")],b.prototype,"VGa",null);c.__decorate([g.config(g.Cc,"combineManifestAndLicense")],b.prototype,"xJa",null);c.__decorate([g.config(g.Cc,"enableLicensedManifestForPrefetch")],b.prototype,"Tga",null);c.__decorate([g.config(g.Cc,"useLdlForPrefetchLicensedManifest")],b.prototype,"k1a",null);c.__decorate([g.config(g.Cc,"pboUseStudioManifest")],b.prototype,"s1a",null);c.__decorate([g.config(g.Cc,"pboEnableLeanManifest")],b.prototype,"SLa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(r.sj)),c.__param(1,l.l(p.Jc)),c.__param(2,l.l(d.YA))],b);})();b.Iza=f;},function(f,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.U9=void 0;l=a(2);c.RAb=function(a){var b,c;b=a && a.code;c=a && (a.ja || a.ld);a=a.Hg !== l.mV.Cza;c=! !c && c >= l.L.nM && c <= l.L.lM && a;return !("RETRY" !== b && "FAIL" !== b) || c;};c.Uvb=function(a){var b,c;c=null === (b=null === a || void 0 === a?void 0:a.DA) || void 0 === b?void 0:b.maxRetries;return "number" === typeof c?c:"FAIL" === (null === a || void 0 === a?void 0:a.code)?1:void 0;};b.U9=c;},function(f,b,a){var k,r,g,p,d,m,t,h,A,n,q,L,D,C,T,P,u;function c(a){this.config=a;this.ew=[];}function l(a,b,d){this.wa=a;this.pL=b;this.context=d;this.startTime=this.wa.zb();}Object.defineProperty(b,"__esModule",{value:!0});b.Jza=void 0;k=a(0);r=a(1);g=a(4);p=a(326);d=a(6);m=a(31);t=a(19);h=a(34);A=a(145);n=a(39);q=a(325);L=a(74);D=a(90);C=a(13);T=a(45);P=a(650);u={"shakti-":"akira","UI-":"chromecast"};f=(function(){var b;function a(a,b,d,g,m,f,p,k,l){this.u0a=b;this.json=d;this.wa=g;this.Vp=m;this.Koa=f;this.Aa=p;this.config=k;this.Ib=l;this.log=a.ob("Pbo");k.fXa && (this.ew=new c(k));this.pL=this.u0a();}a.prototype.send=function(a,b){var d;d=new l(this.wa,this.pL,a);this.ew && this.ew.append(d);return this.bqa(a,b,d);};a.prototype.bqa=function(a,b,d){var c;c=this;return new Promise(function(g,m){c.Bx(a,b).then(function(a){var b,f;c.ENb(a);b=S(c.RTb(a));f=b.next().value;b=b.next().value;f && (c.Nkb(d),g(a));b && (c.tJa(d,b),m(b));})["catch"](function(a){var b;b=c.tJa(d,a);a.ub && (a.ub=[a.ub," ",b].join(""));m(a);});});};a.prototype.ENb=function(a){(a=a.serverTime) && this.Ib.ac(C.x8.OYa,g.Lb(a));};a.prototype.RTb=function(a){var b;b=a.result;if(("deviceCommand" in a)){a=a.deviceCommand;this.log.trace("Received device command '" + a + "'");switch(a){case "reset":b="RESET_DEVICE";break;case "reload":b="RELOAD_DEVICE";break;case "exit":b="EXIT_DEVICE";break;default:(b="FAIL",this.log.error("Unhandled device command '" + a + "'"));}return [,{code:b,detail:{message:"Server sent device action to '" + a + "' device"}}];}if(b)return [b,void 0];if(a.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}]);this.log.error("Response did not contain a result or an error",a);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};a.prototype.EHb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(ha){throw {lE:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw {lE:!0,code:"FAIL",message:"There is no result property on the response"};}throw {lE:!0,code:"FAIL",message:"There is no body property on the response"};};a.prototype.Ihb=function(a,b,d){var c;c=this;this.bTb(b,a);this.pL=this.u0a(d);return this.pL.send(b,d).then(function(a){return {Bx:!1,result:c.EHb(a.body)};})["catch"](function(d){var g,m;m=(g=P.U9.Uvb(d))?Math.min(g,b.zpa):b.zpa;return c.U4(b,d,a,m)?(g=c.vjb(d,a,m),c.log.warn("Method failed, retrying",Object.assign({Method:b.ck,Attempt:a + 1,WaitTime:g,MaxRetries:m},c.cga(d))),Promise.resolve({Bx:!0,Ll:g,error:d})):Promise.resolve({Bx:!1,error:d});});};a.prototype.Otb=function(a){var b,d;if(!this.bda || this.bda.kHb !== a){b="";d=a;Object.entries(u).find(function(d){var c;c=S(d);d=c.next().value;c=c.next().value;if(0 === a.indexOf(d))return (b=c,a=a.slice(d.length),!0);});this.bda={oJa:b,Px:a,kHb:d};}return this.bda;};a.prototype.bTb=function(a,b){var d,c,g,m;m=a.url.searchParams;m.set(T.Ts.Q9a,(b + 1).toString());m.set(T.Ts.Bg,a.lpa.toString());m.set(T.Ts.R9a,a.kpa);a=this.Otb(null !== (d=this.config.Px) && void 0 !== d?d:"");a.oJa && (m.set(T.Ts.j4a,a.oJa),a.Px && m.set(T.Ts.M$a,encodeURIComponent(a.Px)),d=this.Vp.Pi,(null === d || void 0 === d?0:d.name) && m.set(T.Ts.A3a,encodeURIComponent(d.name)),(null === d || void 0 === d?0:d.version) && m.set(T.Ts.B3a,encodeURIComponent(d.version)),(null === (c=null === d || void 0 === d?void 0:d.os) || void 0 === c?0:c.name) && m.set(T.Ts.E8a,encodeURIComponent(d.os.name)),(null === (g=null === d || void 0 === d?void 0:d.os) || void 0 === g?0:g.version) && m.set(T.Ts.F8a,encodeURIComponent(d.os.version)));};a.prototype.Bx=function(a,b,d){var c;d=void 0 === d?0:d;c=this;return this.Ihb(d++,a,b).then(function(g){if(g.Bx)return c.kUb(g.Ll).then(function(){return c.Bx(a,b,d);});if(g.error)throw g.error;if(void 0 === g.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return g.result;});};a.prototype.U4=function(a,b,d,c){var g;g=this.Vp.cYa || P.U9.RAb(b);if(g && d < c)return !0;g?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.ck,Attempt:d + 1,MaxRetries:c},this.cga(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.ck},this.cga(b)));return !1;};a.prototype.vjb=function(a,b,d){return a && a.DA && void 0 !== a.DA.retryAfterSeconds?g.ph(a.DA.retryAfterSeconds):g.Lb(this.Koa.JWa(1E3 * (0 === b?1:b),1E3 * Math.pow(2,Math.min(b,d))));};a.prototype.kUb=function(a){var b;b=this;return new Promise(function(d){b.Aa.Sh(a || g.rb,d);});};a.prototype.cga=function(a){return q.WQa(a)?a:{message:a.message,subCode:a.ld,extCode:a.Hg,mslCode:a.lu,data:a.data};};a.prototype.Nkb=function(a){a.hL();};a.prototype.tJa=function(a,b){var d;a.Tp(b);if(this.ew)try{d=this.json.stringify(this.ew);this.log.error("PBO command history",d);return d;}catch(Y){}return "";};b=a;return b=k.__decorate([r.N(),k.__param(0,r.l(d.xb)),k.__param(1,r.l(p.Aaa)),k.__param(2,r.l(m.ay)),k.__param(3,r.l(t.qd)),k.__param(4,r.l(h.vl)),k.__param(5,r.l(A.KM)),k.__param(6,r.l(n.Tg)),k.__param(7,r.l(L.Ns)),k.__param(8,r.l(D.QU))],b);})();b.Jza=f;l.prototype.hL=function(){this.ia=!0;this.elapsedTime=this.wa.zb().Oa(this.startTime);};l.prototype.Tp=function(a){this.ia=!1;this.elapsedTime=this.wa.zb().Oa(this.startTime);this.xQb=a.ld || a.subCode;this.Trb=a.Hg || a.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var a;a=Object.assign({success:this.ia,method:this.context.ck,startTime:this.startTime.aa(g.fa),elapsedTime:this.elapsedTime?this.elapsedTime.aa(g.fa):"in progress"},this.pL.tfa());return this.ia?a:Object.assign(Object.assign(Object.assign({},a),this.pL.tfa()),{subcode:this.xQb,extcode:this.Trb});};c.prototype.append=function(a){this.ew.push(a);0 < this.config.bka && this.ew.length > this.config.bka && this.ew.shift();};c.prototype.toJSON=function(){return this.ew;};},function(f,b,a){var c,l,k,r,g,p,d,m,t,h;Object.defineProperty(b,"__esModule",{value:!0});b.pVa=void 0;f=a(1);c=a(327);l=a(651);k=a(74);r=a(649);g=a(324);p=a(648);d=a(434);m=a(647);t=a(154);h=a(646);b.pVa=new f.Kc(function(a){a(k.Ns).to(r.Iza).Z();a(c.T9).to(l.Jza).Z();a(d.Z9).to(m.Oza);a(d.Y9).Rf(function(a){return function(){return a.ib.get(d.Z9);};});a(g.h$).to(p.cAa).Z();a(t.EM).to(h.aAa).Z();});},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Pya=void 0;c=a(0);l=a(40);k=a(43);r=a(1);g=a(30);p=a(4);f=(function(){var b;function a(a){return k.le.call(this,a,"MseConfigImpl") || this;}M(a,k.le);ma.Object.defineProperties(a.prototype,{sTa:{configurable:!0,enumerable:!0,get:function(){return p.Lb(5E3);}},JUa:{configurable:!0,enumerable:!0,get:function(){return p.Lb(1E3);}},KUa:{configurable:!0,enumerable:!0,get:function(){return p.Lb(1E3);}}});b=a;c.__decorate([l.config(l.hh,"minDecoderBufferMilliseconds")],b.prototype,"sTa",null);c.__decorate([l.config(l.hh,"optimalDecoderBufferMilliseconds")],b.prototype,"JUa",null);c.__decorate([l.config(l.hh,"optimalDecoderBufferMillisecondsBranching")],b.prototype,"KUa",null);return b=c.__decorate([r.N(),c.__param(0,r.l(g.sj))],b);})();b.Pya=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.CTa=void 0;f=a(1);c=a(484);l=a(653);b.CTa=new f.Kc(function(a){a(c.s9).to(l.Pya).Z();});},function(f,b,a){var c,l,k,r,g,p,d,m,t,h;Object.defineProperty(b,"__esModule",{value:!0});b.Cya=void 0;c=a(0);l=a(1);k=a(6);r=a(14);g=a(9);p=a(21);d=a(329);m=a(65);t=a(155);h=a(91);f=(function(){function a(a,b,d,c,f,p){function k(g,k){this.track=g;this.label=k;this.Dg=t.Wb.Ac.UNSENT;this.Ne=0;this.qq=[];this.requestId=p.jz().toString();this.Ca=d;this.log=b.ob("MediaRequest");this.config=a;this.Ib=new m.oj();"notification" === this.label?this.config().rz && (this.Wl=c):this.Wl=f;}function l(g,k){this.requestId=p.jz().toString();this.Ca=d;this.log=b.ob("MediaRequest");this.config=a;this.Ib=new m.oj();this.label=k;"notification" === this.label?this.config().rz && (this.Wl=c):this.Wl=f;this.FQ=this.yH=this.zH=void 0;this.track=g;this.WY=this.url=this.responseType=void 0;this.Dg=t.Wb.Ac.UNSENT;this.ki=this.sI=this.kg=this.status=void 0;this.bm=this.Ne=0;this.connect=this.Eha=this.TC=this.Xz=this.lla=this.kd=this.Dha=this.qf=this.bH=void 0;this.qq=[];this.Km=!1;}k.prototype.addEventListener=function(a,b,d){this.Ib.addListener.call(this,a,b,d);};k.prototype.removeEventListener=function(a,b){this.Ib.removeListener.call(this,a,b);};k.prototype.emit=function(a,b,d){this.Ib.ac.call(this,a,b,d);};k.prototype.GFb=function(a){this.Dg === t.Wb.Ac.OPENED && (this.FQ=!0,this.qf=this.kd=a.timestamp,this.Dg=t.Wb.Ac.ky,this.emit(t.Wb.Zd.eza,a));};k.prototype.jna=function(a){var b;if(this.Dg < t.Wb.Ac.IB){this.qq=[];b=a.timestamp - this.qf;!this.bc && 0 < b && (this.connect=!0,this.qq.push(b));!0 === this.config().dzb?this.Dha=a.timestamp:this.Dha=this.kd=a.timestamp;this.Dg=t.Wb.Ac.IB;this.emit(t.Wb.Zd.dza,a);}};k.prototype.JFb=function(a){this.Dg === t.Wb.Ac.IB && (this.lla=this.kd=a.timestamp,a.newBytes=a.bytesLoaded - this.Ne,this.Ne=a.bytesLoaded,this.Ca.de(this.lla) && this.emit(t.Wb.Zd.fza,a));};k.prototype.mu=function(a){-1 < [t.Wb.Ac.ky,t.Wb.Ac.IB].indexOf(this.Dg) && (this.FQ=!1,this.kd=a.timestamp,this.Dg=t.Wb.Ac.DONE,a.newBytes=this.ti - this.Ne,this.Ne=this.ti,this.Ca.de(this.TC) && (this.kd=this.TC,0 === a.newBytes && (this.lla=this.TC)),this.Ca.de(this.Xz) && (this.qf=this.Xz),this.bH=a.response,this.emit(t.Wb.Zd.yM,a));};k.prototype.BFb=function(a){this.FQ=!1;this.emit(t.Wb.Zd.D8a,a);};k.prototype.lna=function(a){this.kd=a.timestamp;this.status=a.httpcode;this.kg=a.errorcode;this.sI=t.Wb.AF.name[this.kg];this.ki=a.nativecode;this.emit(t.Wb.Zd.DB,a);this.FQ=!1;};k.prototype.open=function(a,b,d,c,g,m,f){this.Gu=!1;this.WY=b;this.url=a;this.responseType=d;if(!this.url)return !1;this.Dg=t.Wb.Ac.OPENED;this.Wl.VP(this,b,f);return !0;};k.prototype.pc=function(){-1 !== [t.Wb.Ac.OPENED,t.Wb.Ac.ky,t.Wb.Ac.IB].indexOf(this.Dg) && this.abort();return !0;};k.prototype.hJa=function(){this.bH=void 0;this.KH && (this.KH.response=void 0,this.KH.cadmiumResponse.content=void 0);this.fka=void 0;};k.prototype.sT=function(a){this.url=a;return !0;};k.prototype.abort=function(){this.Dg=t.Wb.Ac.HL;this.Wl.wC(this);return !0;};k.prototype.pause=function(){};k.prototype.getResponseHeader=function(){return null;};k.prototype.getAllResponseHeaders=function(){return "";};k.prototype.uS=function(){};k.prototype.jk=function(){return this.requestId;};k.prototype.toString=function(){var a;a={requestId:this.jk(),segmentId:this.Ba,isHeader:this.bc,ptsStart:this.xx,ptsOffset:this.hn,responseType:this.responseType,duration:this.pw,readystate:this.Dg};this.stream && (a.bitrate=this.stream.R);return JSON.stringify(a);};k.prototype.toJSON=function(){return this.toString();};k.prototype.vxb=function(){var a,b;if(this.config().p1a && g.Ls && g.Ls.getEntriesByType && (!this.Ca.de(this.Xz) || !this.Ca.de(this.TC) && this.Ca.de(this.url))){a="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.zH + "-" + this.yH + "*");b=new RegExp(a);a=g.Ls.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Ca.de(a) && (0 < a.startTime && (this.Xz=a.startTime,0 < a.requestStart && (this.Xz=Math.max(this.Xz,a.requestStart))),0 < a.responseStart && (this.Eha=a.responseStart),0 < a.responseEnd && (this.TC=a.responseEnd));}};k.prototype.QAb=function(){return this.Ca.de(this.Xz) && this.Ca.de(this.TC) && this.Ca.de(this.Eha);};ma.Object.defineProperties(k.prototype,{ti:{configurable:!0,enumerable:!0,get:function(){return this.WY.end - this.WY.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.yH - this.zH + 1;}},APa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},bc:{configurable:!0,enumerable:!0,get:function(){return !this.Rz;}},response:{configurable:!0,enumerable:!0,get:function(){return this.bH;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Dg;},set:function(){}}});Object.getOwnPropertyNames(k.prototype).forEach(function(a){Object.defineProperty(l.prototype,a,Object.getOwnPropertyDescriptor(k.prototype,a));});this.Fk=Object.assign(l,t.Wb);}return a=c.__decorate([l.N(),c.__param(0,l.l(r.Jc)),c.__param(1,l.l(k.xb)),c.__param(2,l.l(p.Ae)),c.__param(3,l.l(d.D9)),c.__param(4,l.l(d.k9)),c.__param(5,l.l(h.av))],a);})();b.Cya=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,n;Object.defineProperty(b,"__esModule",{value:!0});b.Dya=void 0;c=a(0);l=a(57);k=a(1);r=a(6);g=a(97);p=a(330);d=a(78);m=a(155);t=a(19);h=a(4);A=a(34);n=a(14);f=(function(){var b;function a(a,b,d,c,g,m){this.wa=a;this.Vp=b;this.config=d;this.af=g;this.YDb=m;this.log=c.ob("MediaRequestDownloader");}a.prototype.VP=function(a,b,c){var f,p,k;function g(){a.removeEventListener(m.Wb.Zd.DB,g);a.OP?a.OP++:a.OP=1;a.OP >= f.config().sha.length && (a.OP=f.config().sha.length - 1);setTimeout(function(){f.VP(a,b,c);},f.config().sha[a.OP]);}f=this;a.J3b=!0;p=this.YDb.download({url:a.url,responseType:this.af.M9a.U2a,withCredentials:!1,cD:a.I === l.wc.Sa.AUDIO?"audio":"video",offset:b.start,length:a.ti,track:{type:a.I === l.wc.Sa.AUDIO?d.Qg.audio:d.Qg.video},stream:{wd:a.za,R:a.R},vc:a.Rb,lq:a,X4:c,rs:this.Vp.rs},function(b){b.ia && a.readyState !== m.Wb.Ac.DONE && a.readyState !== m.Wb.Ac.HL && (a.readyState !== m.Wb.Ac.bM && a.readyState === m.Wb.Ac.ky && (a.readyState=m.Wb.Ac.IB,a.jna({mediaRequest:a,readyState:a.readyState,timestamp:f.ww(),connect:!1})),a.readyState=m.Wb.Ac.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:f.ww(),cadmiumResponse:b,response:b.content},a.KH=b,a.mu(b));});if(a.bc){k={mediaRequest:a,readyState:a.readyState,timestamp:this.ww(),connect:!1};a.jna(k);}a.addEventListener(m.Wb.Zd.DB,g);a.fka=p.abort;};a.prototype.wC=function(a){try{a.fka();}catch(C){this.log.warn("exception aborting request");}};a.prototype.ww=function(){return this.wa.zb().aa(h.fa);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(t.qd)),c.__param(1,k.l(A.vl)),c.__param(2,k.l(n.Jc)),c.__param(3,k.l(r.xb)),c.__param(4,k.l(g.cy)),c.__param(5,k.l(p.i9))],b);})();b.Dya=f;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.mza=void 0;c=a(0);l=a(1);k=a(6);r=a(97);f=(function(){var b;function a(a,b){this.af=b;this.log=a.ob("OpenConnectSideChannel");}a.prototype.VP=function(a,b,c){this.af.qPb({url:a.url,XMb:c});};a.prototype.wC=function(a){try{a.fka();}catch(m){this.log.warn("exception aborting request");}};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.xb)),c.__param(1,l.l(r.cy))],b);})();b.mza=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A;Object.defineProperty(b,"__esModule",{value:!0});b.xya=void 0;c=a(0);l=a(155);k=a(89);r=a(2);g=a(6);p=a(1);d=a(97);m=a(21);t=a(19);h=a(4);A=a(14);f=(function(){var b;function a(a,b,d,c,g,m){this.rH=a;this.af=d;this.Ca=c;this.wa=g;this.config=m;this.log=b.ob("MediaHttp");}a.prototype.ww=function(){return this.wa.zb().aa(h.fa);};a.prototype.iUa=function(a,b){a.GFb({mediaRequest:a,timestamp:b});};a.prototype.AUa=function(a){var b;b=a.mediaRequest.lq;b.readyState=l.Wb.Ac.IB;a=a.connect?a:{timestamp:this.ww(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.jna(a);};a.prototype.f3=function(a){this.iUa(a.mediaRequest.lq,a.timestamp);};a.prototype.j3=function(a){var b,d;b=a.mediaRequest.lq;d=a.bytes;"undefined" !== typeof b && (b.readyState === l.Wb.Ac.ky && this.AUa(a),this.Ca.Dh(d) && (a.mediaRequest=b,a.timestamp=this.ww(),d > b.Ne && (a.newBytes=d - b.Ne,a.bytesLoaded=d,b.JFb(a))));};a.prototype.fE=function(a){var b,d,c,g;b=a.mediaRequest;d=a.errorcode;c=a.httpcode;g=l.Wb.AF;if("undefined" !== typeof b && (b=b.lq,"undefined" !== typeof b && b.readyState !== l.Wb.Ac.bM))if(d === r.L.Yx)(b.readyState=l.Wb.Ac.HL,a.mediaRequest=b,a.readyState=b.readyState,b.BFb(a));else {b.readyState=l.Wb.Ac.bM;switch(d){case r.L.nM:c=g.L6;break;case r.L.m8:c=g.j8;break;case r.L.kM:c=400 < c && 500 > c?g.l8:500 <= c?g.pwa:g.j8;break;case r.L.lM:c=g.k8;break;case r.L.jM:c=g.Mta;break;case r.L.mM:c=g.kV;break;case r.L.oB:c=g.kV;break;case r.L.owa:c=g.nwa;break;case r.L.kwa:c=g.l8;break;case r.L.i5a:c=g.k8;break;default:c=g.kV;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=c;a.nativecode=d;b.lna(a);}};a.prototype.yna=function(a,b){var d,c;d=b.request.lq;if(d)if(b.ia){if(a.j && d.readyState !== l.Wb.Ac.DONE){switch(d.readyState){case l.Wb.Ac.HL:return;case l.Wb.Ac.ky:this.AUa({mediaRequest:b.request});}d.readyState=l.Wb.Ac.DONE;if(!d.bc){c={mediaRequest:d,readyState:d.readyState,timestamp:this.ww(),cadmiumResponse:b};a.j.vra+=1;d.vxb();d.QAb() && (a.j.wpa+=1,b.Yk.oh=Math.ceil(d.Eha),b.Yk.kn=Math.ceil(d.TC),b.Yk.requestTime=Math.floor(d.Xz));d.KH=c;d.mu(c);}}}else d.readyState !== l.Wb.Ac.HL && (a={mediaRequest:b.request,timestamp:this.ww(),errorcode:b.ja,httpcode:b.Bj},this.fE(a));};a.prototype.download=function(a,b){var d,c;d=this;b=this.af.download(a,b);if(a.lq){c=a.lq;-1 < [l.Wb.Ac.OPENED,l.Wb.Ac.bM].indexOf(c.readyState) && (c.readyState=l.Wb.Ac.ky,this.config().$Db?b.oOb(function(a){d.f3(a);}):this.iUa(c,this.ww()));}b.fda(function(b){d.yna(a,b);});b.vOb(function(a){d.j3(a);});b.iOb(function(a){d.fE(a);});return b;};b=a;return b=c.__decorate([p.N(),c.__param(0,p.l(k.IL)),c.__param(1,p.l(g.xb)),c.__param(2,p.l(d.cy)),c.__param(3,p.l(m.Ae)),c.__param(4,p.l(t.qd)),c.__param(5,p.l(A.Jc))],b);})();b.xya=f;},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.Zua=void 0;c=a(0);l=a(1);k=a(6);r=a(156);g=a(140).EventEmitter;f=(function(){function a(a){function b(b,d){this.H=b;this.Cl=d;this.x_=!1;this.emit=g.prototype.emit;this.addListener=g.prototype.addListener;this.on=g.prototype.on;this.once=g.prototype.once;this.removeListener=g.prototype.removeListener;this.removeAllListeners=g.prototype.removeAllListeners;this.listeners=g.prototype.listeners;this.listenerCount=g.prototype.listenerCount;g.call(this);this.Cg=a.ob("DownloadTrack");}b.prototype.jr=function(){this.lY=void 0;this.emit("destroyed");};b.prototype.toString=function(){return "id:" + this.lY + " config: " + JSON.stringify(this.H);};b.prototype.toJSON=function(){return "Download Track id:" + this.lY + " config: " + JSON.stringify(this.H);};b.prototype.d4=function(a){this.H.connections !== a.connections && (this.H=a);};b.prototype.Ho=function(){return 1 < this.H.connections?!0:!1;};ma.Object.defineProperties(b.prototype,{jb:{configurable:!0,enumerable:!0,get:function(){return this.lY;}},Km:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.lY;}},config:{configurable:!0,enumerable:!0,get:function(){return this.H;}},oE:{configurable:!0,enumerable:!0,get:function(){return this.Cg;}},Wl:{configurable:!0,enumerable:!0,get:function(){return this.Cl.Wl;}}});this.wF=Object.assign(b,new r.$ua());}return a=c.__decorate([l.N(),c.__param(0,l.l(k.xb))],a);})();b.Zua=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.Fh=void 0;f=a(1);c=a(156);l=a(659);k=a(330);r=a(658);g=a(329);p=a(657);d=a(656);m=a(328);t=a(655);b.Fh=new f.Kc(function(a){a(c.p7).to(l.Zua).Z();a(k.i9).to(r.xya).Z();a(g.D9).to(p.mza).Z();a(g.k9).to(d.Dya).Z();a(m.j9).to(t.Cya).Z();});},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A;Object.defineProperty(b,"__esModule",{value:!0});b.Aya=void 0;c=a(0);l=a(1);k=a(6);r=a(253);g=a(4);p=a(21);d=a(84);m=a(72);t=a(132);h=a(176);A=a(247);f=(function(){var b;function a(a,b,d,c){this.Ca=b;this.Et=d;this.RA=c;this.log=a.ob("VideoPreparer");}a.prototype.fetch=function(a,b){var c,f;c=this;this.log.trace("Fetching media",t.Jq(a));f=a.$a;return void 0 === f?Promise.reject("PrepareItemParams is not initialized for Media Prepare"):new Promise(function(p,k){b.wr(a.u,"manifest").then(function(k){var l,r,h;if(void 0 === m.Od.Il)throw (c.log.warn("Failing media prepare: aseManager is not initialized",t.Jq(a)),{status:d.Bf.Tp});k=k.Oc;l=new A.BW(c.log,c.RA).Mna(k.us);l=t.jia(k,l[0].tc,f,a.u);r=k.duration;l.Fc=c.Ca.At(f.T)?f.T:c.Et.bHa({kF:g.Lb(k.Et),u:a.u,aS:g.Lb(r),Ta:f}).aa(g.fa);if(!b.AAb(a.u) || f.Jd || a.force){h=function(b){b.movieId === a.u && b.stats && b.stats.prebuffcomplete && (m.Od.Il.removeEventListener("prebuffstats",h),p({}));};m.Od.Il.addEventListener("prebuffstats",h);m.Od.Il.XY(l);}else throw (c.log.warn("Cancelling media prepare: movie is already started",t.Jq(a)),{status:d.Bf.cZ});})["catch"](function(a){c.log.error("Exception in getMedia",a);if(void 0 !== a.status)throw a;k(a);});});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.xb)),c.__param(1,l.l(p.Ae)),c.__param(2,l.l(r.mU)),c.__param(3,l.l(h.SM))],b);})();b.Aya=f;},function(f,b,a){var c,l,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.swa=void 0;c=a(0);l=a(1);k=a(72);r=a(6);g=a(132);p=a(176);d=a(247);f=(function(){var b;function a(a,b){this.RA=b;this.log=a.ob("VideoPreparer");}a.prototype.fetch=function(a,b){var c,m;c=this;this.log.trace("Fetching headers",g.Jq(a));m=a.$a;return void 0 === m?Promise.reject("PrepareItemParams is not initialized for Headers Prepare"):new Promise(function(f,p){b.wr(a.u,"manifest").then(function(b){var p;p=new d.BW(c.log,c.RA).Mna(b.Oc.us);b=g.jia(b.Oc,p[0].tc,m,a.u);k.Od.Il.XY(b,function(){return f();});})["catch"](function(a){c.log.error("Exception in getHeaders",a);p(a);});});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(r.xb)),c.__param(1,l.l(p.SM))],b);})();b.swa=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A;Object.defineProperty(b,"__esModule",{value:!0});b.lya=void 0;c=a(0);l=a(14);k=a(1);r=a(6);g=a(21);p=a(19);d=a(4);m=a(84);t=a(175);h=a(109);A=a(132);f=(function(){var b;function a(a,b,d,c,g,m){this.dma=d;this.hR=c;this.is=g;this.app=m;this.log=a.ob("VideoPreparer");this.config=b();}a.prototype.fetch=function(a,b){var c,g,f;c=this;this.log.trace("Fetching manifest",A.Jq(a));g=a.$a;if(this.config.Ofb && g && g.qa && !b.Gja(a.u,"manifest") && (!(("clientGenesis" in g.qa) && g.qa.clientGenesis) || Date.now() - g.qa.clientGenesis < this.config.hWa)){f=this.dma.create(g.qa);f.BA=this.app.zb().aa(d.fa);f.DE=this.app.zb().aa(d.fa);b.HA(a.u,"manifest",f);return Promise.resolve(f);}return b.wr(a.u,"manifest")["catch"](function(){var f,p;c.log.trace("Requesting a new manifest",A.Jq(a));if(b.Gja(a.u,"manifest"))throw {status:m.Bf.ak};f=c.app.zb().aa(d.fa);p=c.aDb(a.u,g);b.HA(a.u,"manifest",p);return p.then(function(g){g.BA=f;g.DE=c.app.zb().aa(d.fa);b.HA(a.u,"manifest",g);return g;})["catch"](function(d){b.HA(a.u,"manifest",void 0);throw d;});});};a.prototype.aDb=function(a,b){this.is.AC(b) || (b={trackingId:b});b={Ta:b,la:a,ur:h.pj.CM};this.log.trace("manifest request",{movieId:a});return this.hR.Je(this.log,b);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(r.xb)),c.__param(1,k.l(l.Jc)),c.__param(2,k.l(t.PF)),c.__param(3,k.l(h.TV)),c.__param(4,k.l(g.Ae)),c.__param(5,k.l(p.qd))],b);})();b.lya=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h;Object.defineProperty(b,"__esModule",{value:!0});b.zxa=void 0;c=a(0);l=a(1);k=a(6);r=a(14);g=a(80);p=a(41);d=a(127);m=a(126);t=a(84);h=a(132);f=(function(){var b;function a(a,b,d,c,g){this.dc=d;this.tqb=c;this.dA=g;this.log=a.ob("VideoPreparer");this.config=b();}a.prototype.fetch=function(a,b){var d;d=this;this.log.trace("Fetching LDL",h.Jq(a));this.u=a.u;this.mc=b;return b.wr(a.u,"ldl")["catch"](function(){d.log.trace("Requesting a new license",h.Jq(a));return b.wr(a.u,"manifest").then(function(c){var m,f,p,k;d.Oc=c.Oc;m=d.mc.vZa(a.u,d.Oc,a);if(m)throw {status:m};m=d.Oc.us[0].lK;f=d.Oc.us[0].Iga;p=(m?m:[f]).map(function(a){return d.dc.decode(a.bytes);});k=d.tqb().then(function(m){var f;f={type:g.Ci.by,SI:p,context:{he:d.config.he},tg:{u:a.u,ea:b.tKa(a.u),ug:d.Oc.ug,Sk:d.Oc.Sk,Yi:c.Yi}};return m.vx(f,d.dA());})["catch"](function(a){d.handleError("Unable to prepare an EME session.",a);throw a;});d.mc.HA(a.u,"ldl",k,function(){try{k.then(function(a){a.close().subscribe(void 0,function(a){d.handleError("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){d.handleError("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(V){d.handleError("Unable to cleanup LDL session, unexpected exception.",V);}});return k;})["catch"](function(a){d.log.warn("Manifest not available for ldl request",a);if(void 0 !== a.status)throw a;throw {status:t.Bf.ak};});});};a.prototype.handleError=function(a,b){this.log.warn(a + " LDL is now invalid.",b);this.mc.HA(this.u,"ldl",void 0);this.mc.Yea(this.u);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.xb)),c.__param(1,l.l(r.Jc)),c.__param(2,l.l(p.Ai)),c.__param(3,l.l(d.$L)),c.__param(4,l.l(m.xB))],b);})();b.zxa=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,n,q,L,D,C;Object.defineProperty(b,"__esModule",{value:!0});b.vxa=void 0;c=a(0);l=a(1);k=a(6);r=a(14);g=a(84);p=a(67);d=a(80);m=a(33);t=a(121);h=a(159);A=a(41);n=a(4);q=a(37);L=a(19);D=a(132);C=a(277);f=(function(){var b;function a(a,b,d,c,g,m,f,p,k){this.mq=d;this.dT=c;this.dc=g;this.Fa=m;this.wa=f;this.mJ=p;this.qIb=k;this.log=a.ob("VideoPreparer");this.config=b();}a.prototype.fetch=function(a,b){var c;c=this;this.log.trace("Fetching LDL",D.Jq(a));this.u=a.u;this.mc=b;return b.wr(a.u,"ldl")["catch"](function(){c.log.trace("Requesting a new license",D.Jq(a));return b.wr(a.u,"manifest").then(function(g){var m,f;c.qa=g;c.Oc=g.Oc;if(g=c.mc.vZa(a.u,c.Oc,a))throw {status:g};g=c.Oc.us[0].lK;m=c.Oc.us[0].Iga;f=(g?g:[m]).map(function(a){return c.dc.decode(a.bytes);});c.Rd=c.XC({zka:"cenc",HLa:c.log,gha:function(a){return c.handleError(a);},od:void 0,kna:function(){},Fa:{getTime:function(){return c.wa.zb().aa(n.fa);},Y2b:function(){return c.Fa.Pe.aa(n.um);}}});b.HA(a.u,"ldl",c.Rd,function(){c.Rd.close();});return c.Rd.create(c.config.he).then(function(){return c.Rd.Wi(d.Ci.by,f,!0);}).then(function(){return c.Rd;})["catch"](function(a){c.handleError(a);throw a;});})["catch"](function(a){c.log.warn("Manifest not available for ldl request",a);if(void 0 !== a.status)throw a;throw {status:g.Bf.ak};});});};a.prototype.handleError=function(a){this.log.warn("ldl is now invalid",a);this.Rd.close();this.mc.HA(this.u,"ldl",void 0);this.mc.Yea(this.u);};a.prototype.XC=function(a){var b,d;b=this;if(!this.mq.Xu || !this.mq.Wu){d=this.qIb();this.mq.Xu=d.Cb;this.mq.Wu=d.request;}d=new this.mq.Wu(a.HLa,function(a){var d;d=[];a.Qi.forEach(function(a){d.push({sessionId:a.sessionId,dataBase64:b.dc.encode(a.data)});});a={Qi:d,a_:[b.Oc.Sk],Xi:p.om.WJa(a.Xi),ug:b.Oc.ug,ea:b.mc.tKa(b.u),Yi:b.qa.Yi};b.log.trace("xid created ",{MovieId:b.u,xid:a.ea});return b.mJ.Kv(a);},void 0,{Vl:!1,JQ:!1});return this.mq.Xu(a.HLa,a.zka,a.od,{Vl:!1,JQ:!1,bRa:this.config.Kj,zYa:{gTa:this.config.xYa,YIa:this.config.Ppa},CA:d,wWa:this.config.Foa,na:void 0,mF:this.config.Qga,onerror:a.gha,kna:a.kna,Fa:a.Fa,zIb:!1,NHa:this.dT.iP([]),B1a:this.dT.mP([]),RI:this.config.RI});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.xb)),c.__param(1,l.l(r.Jc)),c.__param(2,l.l(m.Os)),c.__param(3,l.l(t.NB)),c.__param(4,l.l(A.Ai)),c.__param(5,l.l(q.th)),c.__param(6,l.l(L.qd)),c.__param(7,l.l(h.LF)),c.__param(8,l.l(C.GM))],b);})();b.vxa=f;},function(f){f.V={rw:{qa:12E5,WQ:9E5,Gd:12E5},bz:{qa:10,WQ:10,Gd:10},az:{qa:10240,WQ:10240,Gd:10240}};},function(f){function b(a){var b;b=[];return (function k(a){if(a && "object" === typeof a){if(-1 !== b.indexOf(a))return !0;b.push(a);for(var c in a){if(a.hasOwnProperty(c) && k(a[c]))return !0;}}return !1;})(a);}f.V=function(a,c){var k;if(c && b(a))return -1;c=[];a=[a];for(var f=0;a.length;){k=a.pop();if("boolean" === typeof k)f+=4;else if("string" === typeof k)f+=2 * k.length;else if("number" === typeof k)f+=8;else if("object" === typeof k && -1 === c.indexOf(k)){c.push(k);for(var r in k){a.push(k[r]);}}}return f;};},function(f,b,a){var g,p;function c(){return Object.create(null);}function l(a){this.log=a.log;this.Fa=a.Fa;this.jA=c();this.Promise=a.Promise;this.gw=a.gw;this.Lra=a.Lra;this.Vl=a.Vl || !1;this.rw=c();this.bz=c();this.az=c();this.$eb(a);a.xo && (this.xo=a.xo,g(this.xo,l.prototype));}function k(a){return "undefined" !== typeof a;}function r(a){var c;for(var b=0,d=arguments.length;b < d;){c=arguments[b++];if(k(c))return c;}}g=a(60);a(667);p=a(666);l.prototype.$eb=function(a){this.rw.manifest=r(a.Qrb,p.rw.qa);this.rw.ldl=r(a.Prb,p.rw.WQ);this.rw.metadata=r(a.I2b,p.rw.Gd);this.bz.manifest=r(a.ejb,p.bz.qa);this.bz.ldl=r(a.djb,p.bz.WQ);this.bz.metadata=r(a.q1b,p.bz.Gd);this.az.manifest=r(a.o1b,p.az.qa);this.az.ldl=r(a.n1b,p.az.WQ);this.az.metadata=r(a.p1b,p.az.Gd);};l.prototype.Q0=function(a,b){this.po("undefined" !== typeof a);this.po("undefined" !== typeof b);return ! !this.qEa(a,b,void 0).value;};l.prototype.qEa=function(a,b,c){var d,g;d={value:null,reason:"",log:""};g=this.jA[b];if("undefined" === typeof g)return (d.log="cache miss: no data exists for field:" + b,d.reason="unavailable",d);"undefined" === typeof g[a]?(d.log="cache miss: no data exists for movieId:" + a,d.reason="unavailable"):(c=g[a][c?c:"DEFAULTCAPS"]) && c.value?this.x1(b,c.dk)?(d.log="cache miss: " + b + " data expired for movieId:" + a,d.reason="expired"):(d.log=this.Promise && c.value instanceof this.Promise?"cache hit: " + b + " request in flight for movieId:" + a:"cache hit: " + b + " available for movieId:" + a,d.value=c.value):(d.log="cache miss: " + b + " data not available for movieId:" + a,d.reason="unavailable");return d;};l.prototype.getData=function(a,b,c){this.po("undefined" !== typeof a);this.po("undefined" !== typeof b);a=this.qEa(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.Lra?JSON.parse(this.Lra(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};l.prototype.setData=function(a,b,g,f,p){var d;this.po("undefined" !== typeof a);this.po("undefined" !== typeof b);d=this.jA;p=p?p:"DEFAULTCAPS";d[b] || (d[b]=c(),Object.defineProperty(d[b],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(d[b],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));g=this.gw?this.gw(JSON.stringify(g),"gzip",!0):g;d=d[b];this.Lcb(a,b,p,d);b={dk:this.Fa.getTime(),value:g,size:0,type:b,nga:f};d[a]=d[a] || c();d[a][p]=d[a][p] || c();d[a][p]=b;d.size+=0;d.numEntries++;this.xo && this.emit("addedCacheItem",b);return b;};l.prototype.Lcb=function(a,b,c,g){var d,m,f,p,k,l,t,r,h;d=this;m=g.numEntries;f=this.bz[b];l=g[a] && g[a][c];if(l && l.value)(p=a,k="promise_or_expired");else if(m >= f){r=Number.POSITIVE_INFINITY;Object.keys(g).every(function(a){var m;m=g[a] && g[a][c];m && m.value && d.x1(b,m.dk) && (h=a);m && m.value && m.dk < r && (r=m.dk,t=a);return !0;});p=h || t;k="cache_full";}this.Vl && this.log.debug("makespace ",{maxCount:f,currentCount:g.numEntries,field:b,movieId:a,movieToBeRemoved:p});p && (d.clearData(p,b,c,void 0,k),this.log.debug("removed from cache: ",p,b));};l.prototype.Tea=function(a,b){var d,c;d=this;d.po("undefined" !== typeof a);c=a + "";b.forEach(function(a){var b;b=d.jA[a];b && Object.keys(b).forEach(function(b){b != c && d.clearData(b,a,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(a,b,c,g,f){var d;this.po("undefined" !== typeof a);this.po("undefined" !== typeof b);d=this.jA[b];b=d?d[a]:void 0;c=c?c:"DEFAULTCAPS";if(b && b[c]){d.size-=b[c].size;d.numEntries--;if(d=b && b[c])(b[c]=void 0,!g && d.nga && d.nga());this.xo && (a={creationTime:d.dk,destroyFn:d.nga,size:d.size,type:d.type,value:d.value,reason:f,movieId:a},this.emit("deletedCacheItem",a));}};l.prototype.flush=function(a){var b;this.po("undefined" !== typeof a);b=this.jA;b[a]=c();b[a].numEntries=0;b[a].size=0;};l.prototype.gJa=function(a,b){var d,c,g;this.po("undefined" !== typeof a);d=this;c=this.jA;g=b?b:"DEFAULTCAPS";c[a] instanceof Object && (b=Object.keys(c[a]),b.forEach(function(b){var m;m=c[a][b][g];d.Fa.getTime() - m.dk > d.rw[a] && this.clearData(b,a,g,void 0,"clean_up");}));};l.prototype.x1=function(a,b){return this.Fa.getTime() - b > this.rw[a];};l.prototype.getStats=function(a,b,c){var d,g,m,f,p;d={};g=this;m=g.jA;f=k(a) && k(b);p=c || "DEFAULTCAPS";Object.keys(m).forEach(function(c){var l,t;l=Object.keys(m[c]);t=m[c];l.forEach(function(m){!(m=t && t[m] && t[m][p]) || !k(m.value) || m.value instanceof this.Promise || (d[c]=(d[c] | 0) + 1,g.x1(m.type,m.dk) && (d[c + "_expired"]=(d[c + "_expired"] | 0) + 1),f && m.dk >= a && m.dk < b && (d[c + "_delta"]=(d[c + "_delta"] | 0) + 1));});});return d;};l.prototype.$c=function(a){var b,d,c,g;b=[];d=this;c=d.jA;g=a || "DEFAULTCAPS";Object.keys(c).forEach(function(a){var m,f;m=Object.keys(c[a]);f=c[a];m.forEach(function(c){var m,p;m=f && f[c] && f[c][g];m && k(m.value) && (p=d.x1(m.type,m.dk)?"expired":m.value instanceof this.Promise?"loading":"cached",b.push({movieId:c,state:p,type:a,size:m.size}));});});return b;};l.prototype.nqa=function(a,b){this.po("undefined" !== typeof a);this.po("undefined" !== typeof b);this.az[a]=b;};l.prototype.po=function(a){if(!a && (this.log.error("Debug Assert Failed for"),this.Vl))throw Error("Debug Assert Failed ");};f.V=l;},function(f,b,a){var l,k;function c(a,b,c,d,m,f,h,A){this.type=a;this.Km=b;this.cIb=void 0 === c?!1:c;this.gUa=m;this.rsb=f;this.uoa=h;this.mc=A;this.id=++k;this.status=l.Bf.Km;}Object.defineProperty(b,"__esModule",{value:!0});b.dG=void 0;l=a(84);k=0;c.prototype.yr=function(){var a;a={id:this.id,type:this.type,created:this.Km,status:this.status,movieId:this.u};this.startTime && (a.startTime=this.startTime);this.endTime && this.startTime && (a.duration=this.endTime - this.startTime,a.endTime=this.endTime);return a;};c.prototype.mu=function(a){this.gUa && this.gUa(a);};c.prototype.GMb=function(){return this.rsb.fetch(this.uoa,this.mc);};ma.Object.defineProperties(c.prototype,{u:{configurable:!0,enumerable:!0,get:function(){return this.uoa.u;}},ie:{configurable:!0,enumerable:!0,get:function(){return this.uoa.ie;}}});b.dG=c;},function(f,b,a){var l,k,r,g,p,d,m,t,h,A,n,q,L,D,C,T,P,u;function c(a){return void 0 !== a;}Object.defineProperty(b,"__esModule",{value:!0});b.kDa=void 0;l=a(0);k=a(57);r=a(669);g=a(123);p=a(14);d=a(1);m=a(6);t=a(91);h=a(21);A=a(157);n=a(19);q=a(4);L=a(84);D=a(332);C=a(72);T=a(74);P=a(668);u=a(111).EventEmitter;f=(function(){var b;function a(a,b,d,c,g,m,f,p,k,l,t,r){var h;h=this;this.aj=d;this.EUb=c;this.Ca=g;this.app=m;this.ij=f;this.yMa=p;this.osb=k;this.psb=l;this.nsb=t;this.qsb=r;this.log=a.ob("VideoPreparer");this.config=b();this.rsa={};this.N2={};this.zla={};this.Ala={};this.Nb={num_of_calls:0,num_of_movies:0};this.$j=new P({log:this.log,Fa:{getTime:function(){return h.app.zb().aa(q.fa);}},Promise:Promise,Vl:!1,ejb:this.config.rJb,djb:this.config.pJb,Qrb:this.config.hWa,Prb:this.config.qJb,xo:u});}a.prototype.HA=function(a,b,d,c){this.$j.setData(a,b,d,c);};a.prototype.Gja=function(a,b){return this.$j.Q0(a,b);};a.prototype.wr=function(a,b){return this.$j.getData(a,b);};a.prototype.OCb=function(){return this.RD();};a.prototype.xNa=function(a){var b;b=this.$j.getData(a,"ldl");this.$j.clearData(a,"ldl",void 0,!0);return b;};a.prototype.vx=function(a,b){var d,c,g;d=this;a=a.map(function(a){a.$a=a.$a || ({GO:{yVa:!1},vi:0});d.Ca.bD(a.$a.vi) || (a.$a.vi=0);d.Ca.bD(a.Fc) && (a.$a.T=a.Fc);return a;});c=a.map(function(a){return d.oKa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);g=c.map(function(a){return a.u + "-" + a.type;});this.log.trace("prepare tasks",g);this.ij.TGa(c);this.Nb.num_of_calls++;this.Nb.num_of_movies+=a.length;};a.prototype.dJb=function(a,b){var d,c,g;d=this;c=a.map(function(a){return a.u + "";});a=a.map(function(a){a.$a=a.$a || ({GO:{yVa:!1},vi:0});a.$a.Jd=!0;a.$a.ATa=c;return d.oKa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);g=a.map(function(a){return a.u + "-" + a.type;});this.log.trace("predownload tasks",g);this.ij.TGa(a);};a.prototype.getStats=function(a,b,d){return Object.assign(Object.assign({},d && this.N2[d] || ({})),{$E:this.ij.getStats(a,b,d),cache:this.$j.getStats(a,b),Htb:Object.assign(Object.assign({},this.fvb()),this.Nb)});};a.prototype.hyb=function(a){this.hT=a;};a.prototype.gyb=function(a){this.log.trace("task scheduler paused on playback created");this.ij.pause();this.config.lpb && this.$j.Tea(a,["manifest"]);this.config.kpb && this.$j.Tea(a,["ldl"]);this.PH=a;};a.prototype.tPa=function(){this.log.info("track changed, clearing all manifests from cache");this.$j.Tea("none",["manifest"]);};a.prototype.fyb=function(a){var b;b=this;this.config.hpb?this.$j.clearData(a,"manifest"):this.$j.Q0(a,"manifest") && this.$j.getData(a,"manifest").then(function(d){d.Oc.isSupplemental || b.$j.clearData(a,"manifest");},function(d){b.log.warn("Failed to get manifest for movieId [" + a + "] from cacheManager.",d);});this.Yea(a);this.hT=this.PH=void 0;};a.prototype.Yea=function(a){delete this.rsa[a];};a.prototype.H0=function(a){return this.rsa[a];};a.prototype.tKa=function(a){return this.rsa[a]=this.EUb.jz();};a.prototype.hJb=function(){var a;a=[];a=this.$j.$c().map(function(a){return {ms:parseInt(a.movieId,10),state:a.state,Qv:a.type,size:a.size || void 0};});this.Wtb().map(function(b){2 === b.Cr?a.push({ms:b.u,state:"cached",Qv:g.Le.Dk.iM,size:void 0}):b.btb && !b.DBb && a.push({ms:b.u,state:"loading",Qv:g.Le.Dk.iM,size:void 0});b.A1a && 0 < b.A1a && b.MHa && 0 < b.MHa?a.push({ms:b.u,state:"cached",Qv:g.Le.Dk.MEDIA,size:void 0}):b.$Ib && !b.ZIb && a.push({ms:b.u,state:"loading",Qv:g.Le.Dk.MEDIA,size:void 0});});return a;};a.prototype.AAb=function(a){return this.PH === a;};a.prototype.vZa=function(a,b,d){if(this.Gja(a,"ldl"))return L.Bf.ak;if(!b.Ija)return L.Bf.Dea;if(this.config.aqb && this.PH && this.PH !== a && !d.force)return L.Bf.Eea;if(this.config.bqb && this.hT && this.hT !== a && !d.force)return L.Bf.cZ;this.PH && this.PH !== a && (this.zla[a]=(this.zla[a] | 0) + 1);this.hT && this.hT !== a && (this.Ala[a]=(this.Ala[a] | 0) + 1);};a.prototype.oKa=function(a,b){var d,g,m,f;a.ke && a.$a && (a.$a.ke=a.ke);this.WSb(a.u,a.Dj);g=null === (d=this.TEb) || void 0 === d?void 0:d.call(this,a.u);d=this.Mnb(a,b);m=this.Inb(a,null === d || void 0 === d?void 0:d.id,b);f=this.Pnb(a,g,this.config.FP,null === d || void 0 === d?void 0:d.id,b);a=this.Enb(a,g,this.config.FP,null === d || void 0 === d?void 0:d.id,b);return [d,m,f,a].filter(c);};a.prototype.Mnb=function(a,b){if(this.$j.Q0(a.u,"manifest"))this.log.trace("manifest exists in cache for " + a.u);else return new r.dG("manifest",this.app.zb().aa(q.fa),! !a.$a.Jd,void 0,b,this.yMa,a,this);};a.prototype.Inb=function(a,b,d){if(!(!this.config.mI || this.aj.Tga && this.config.xn || this.$j.Q0(a.u,"ldl")))return this.config.xn?new r.dG("ldl",this.app.zb().aa(q.fa),! !a.$a.Jd,b,d,this.osb,a,this):new r.dG("ldl",this.app.zb().aa(q.fa),! !a.$a.Jd,b,d,this.psb,a,this);};a.prototype.Pnb=function(a,b,d,c,g){if(d && !b)return new r.dG("getMedia",this.app.zb().aa(q.fa),! !a.$a.Jd,c,g,this.qsb,a,this);};a.prototype.Enb=function(a,b,d,c,g){if(d && !b)return new r.dG("getHeaders",this.app.zb().aa(q.fa),! !a.$a.Jd,c,g,this.nsb,a,this);};a.prototype.WSb=function(a,b){this.N2[a] || (this.N2[a]={L3:0,Dj:0});a=this.N2[a];a.L3=(void 0 !== a?void 0 !== a.L3?a.L3:0:0) + 1;a.Dj=b;};a.prototype.fvb=function(){return {ldls_after_create:this.zla,ldls_after_start:this.Ala};};a.prototype.Wtb=function(){var a;a=this;return C.Od.Il.VO().map(function(b){var d,c;d=C.Od.Il.Sla(b.u);c=d && d[k.wc.Wh.AUDIO] && d[k.wc.Wh.AUDIO].data || void 0;d=d && d[k.wc.Wh.VIDEO] && d[k.wc.Wh.VIDEO].data || void 0;return {u:b.u,Cr:b.Cr,MHa:c && c.length,A1a:d && d.length,btb:a.Ca.At(b.Nb.K_),DBb:a.Ca.At(b.Nb.X1),$Ib:a.Ca.At(b.Nb.jK),ZIb:a.Ca.At(b.Nb.I3)};});};a.prototype.TEb=function(a){var b;b=!1;C.Od.Il.VO().forEach(function(d){d.u == a && (b=!0);});return b;};a.prototype.RD=function(){return C.Od.Il.RD();};b=a;return b=l.__decorate([d.N(),l.__param(0,d.l(m.xb)),l.__param(1,d.l(p.Jc)),l.__param(2,d.l(T.Ns)),l.__param(3,d.l(t.av)),l.__param(4,d.l(h.Ae)),l.__param(5,d.l(n.qd)),l.__param(6,d.l(A.M$)),l.__param(7,d.l(D.K$)),l.__param(8,d.l(D.J$)),l.__param(9,d.l(D.I$)),l.__param(10,d.l(D.H$)),l.__param(11,d.l(D.L$))],b);})();b.kDa=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A;Object.defineProperty(b,"__esModule",{value:!0});b.VAa=void 0;c=a(0);l=a(1);k=a(157);r=a(6);g=a(14);p=a(84);d=a(21);m=a(19);t=a(4);h=a(65);(function(a){a.vJb="prepend";a.append="append";a.Zyb="ignore";})(A || (A={}));f=(function(){var b;function a(a,b,d,c){this.is=d;this.app=c;this.log=a.ob("TaskScheduler");this.Ib=new h.oj();this.config=b();this.BZ=this.nP=0;this.$E=[];this.paused=!1;this.d5=[];this.GJa=[];this.Nzb=this.config.oJb || A.append;this.addEventListener=this.Ib.addListener;}a.prototype.TGa=function(a){this.log.trace("adding tasks, number of tasks: " + a.length);this.paused=!1;this.$E=this.Ozb(a);this.nP=0;this.BZ+=1;this.Ec();};a.prototype.pause=function(){this.paused=!0;};a.prototype.Ec=function(){var a,b,d,c;a=this;if(this.nP === this.$E.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.nP,numberOfTasks:this.$E.length});else {b=this.iwb();d=this.BZ;b.startTime=this.app.zb().aa(t.fa);b.status=p.Bf.Gu;this.Ib.ac(k.Qs.C_a,{u:b.u,type:b.type});this.d5.push(b);c=function(c){b.endTime=a.app.zb().aa(t.fa);c();a.GJa.push(b);a.d5.splice(a.d5.indexOf(b),1);a.BZ === d && (a.nP++,a.Ec());};b.GMb().then(function(){c(function(){b.status=p.Bf.hL;a.Boa(b,k.Qs.D_a,"task succeeded");});})["catch"](function(d){c(function(){0 <= [p.Bf.ak,p.Bf.Eea,p.Bf.cZ,p.Bf.Dea].indexOf(d.status)?(b.status=d.status,a.Boa(b,k.Qs.A_a,"cancelled task")):(b.status=p.Bf.Tp,a.Boa(b,k.Qs.B_a,"task failed",d));});});}};a.prototype.iwb=function(){return this.$E[this.nP];};a.prototype.getStats=function(a,b,d){var c,g,m,f;c=this.GJa.map(function(a){return a.yr();});g=this.d5.map(function(a){return a.yr();});m=this.is.de(a) && this.is.de(b);f={};if(this.is.de(d))return (f.Ykb=c.filter(function(a){return a.movieId === d;}),f);c.concat(g).forEach(function(d){var c;f[d.type + "_" + d.status]=(f[d.type + "_" + d.status] | 0) + 1;c=d.status == p.Bf.Gu?d.startTime:d.endTime;m && c && c >= a && c < b && (f[d.type + "_" + d.status + "_delta"]=(f[d.type + "_" + d.status + "_delta"] | 0) + 1);});return f;};a.prototype.Boa=function(a,b,d,c){var g;g=a.yr();c?this.log.warn(d,g,c):this.log.trace(d,g);this.Ib.ac(b,{u:a.u,type:a.type,reason:a.status});a.mu(g);};a.prototype.Ozb=function(a){var b,d;b=this.$E.filter(function(a){return a.cIb && a.status === p.Bf.Km;});d=this.Nzb;return d === A.Zyb?[].concat(a):d === A.vJb?b.concat(a):a.concat(b);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(r.xb)),c.__param(1,l.l(g.Jc)),c.__param(2,l.l(d.Ae)),c.__param(3,l.l(m.qd))],b);})();b.VAa=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.QAa=void 0;c=a(0);l=a(1);k=a(43);r=a(30);g=a(40);p=a(4);f=(function(){var b;function a(a){return k.le.call(this,a,"PrefetchEventsConfigImpl") || this;}M(a,k.le);ma.Object.defineProperties(a.prototype,{IYa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Qla:{configurable:!0,enumerable:!0,get:function(){return p.zR(5);}}});b=a;c.__decorate([g.config(g.Cc,"sendPrefetchEventLogs")],b.prototype,"IYa",null);c.__decorate([g.config(g.hh,"logsInterval")],b.prototype,"Qla",null);return b=c.__decorate([l.N(),c.__param(0,l.l(r.sj))],b);})();b.QAa=f;},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.jAa=void 0;c=a(0);l=a(1);k=a(6);r=a(21);f=(function(){var b;function a(a,b){this.Ca=b;this.ma=a.ob("PlayPredictionDeserializer");}a.prototype.vpb=function(a){var b;b=this;try{return {direction:a.direction,LBb:a.layoutHasChanged,DMb:a.rowInteractionIndex,Ia:a.lolomos.map(function(a){return b.rpb(a);})};}catch(t){this.ma.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};a.prototype.rpb=function(a){var b;b=this;return {context:a.context,list:a.list.map(function(a){return b.qpb(a);}),requestId:a.requestId,rowIndex:a.rowIndex,FMb:a.rowSegment};};a.prototype.qpb=function(a){var b,d;b={Fc:a.pts,property:a.property,la:a.viewableId,index:a.index};d=a.preplay;this.Ca.de(d) && (b.kK=this.upb(d));a=a.params;this.Ca.de(a) && (b.$a=this.ZKa(a));return b;};a.prototype.upb=function(a){var b;b={Fc:a.pts,la:a.viewableId,nE:a.pipelineNum,index:a.index};a=a.params;this.Ca.de(a) && (b.$a=this.ZKa(a));return b;};a.prototype.ZKa=function(a){return {ke:a.uiLabel,vi:a.trackingId,gm:a.sessionParams};};a.prototype.$Ka=function(a){var b;b=this;try{return a.map(function(a){return b.spb(a);});}catch(t){this.ma.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};a.prototype.spb=function(a){var b,d;d=a.params;this.Ca.de(d) && (b=this.tpb(d));return {u:a.movieId,ie:a.priority,force:a.force,$a:b,ke:a.uiLabel,v6b:a.uiExpectedStartTime,u6b:a.uiExpectedEndTime,Dj:a.firstTimeAdded};};a.prototype.tpb=function(a){var b,d;b=void 0;d=a.sessionParams;this.Ca.de(d) && (b=d);return {GO:this.ppb(a.authParams),gm:b,vi:a.trackingId,T:a.startPts,qa:a.manifest,lk:a.isBranching};};a.prototype.ppb=function(a){return {yVa:null === a || void 0 === a?void 0:a.pinCapableClient};};a.prototype.HNb=function(a){var b,d;try{b="";this.Ca.de(a.YVa) && (b=JSON.stringify(this.KNb(JSON.parse(a.YVa))));d="";this.Ca.de(a.ZVa) && (d=JSON.stringify(this.LNb(JSON.parse(a.ZVa))));return {dest_id:a.RZ,offset:a.offset,predictions:a.dWa.map(this.NNb,this),ppm_input:b,ppm_output:d,prepare_type:a.q5b};}catch(x){this.ma.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};a.prototype.NNb=function(a){return {title_id:a.ms};};a.prototype.KNb=function(a){return {direction:a.direction,layoutHasChanged:a.LBb,rowInteractionIndex:a.DMb,lolomos:a.Ia.map(this.JNb,this)};};a.prototype.JNb=function(a){return {context:a.context,list:a.list.map(this.INb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.FMb};};a.prototype.INb=function(a){var b,d;this.Ca.de(a.kK) && (b=this.ONb(a.kK));this.Ca.de(a.$a) && (d=this.fqa(a.$a));return {preplay:b,pts:a.Fc,viewableId:a.la,params:d,property:a.property,index:a.index};};a.prototype.ONb=function(a){var b;this.Ca.de(a.$a) && (b=this.fqa(a.$a));return {pts:a.Fc,viewableId:a.la,params:b,pipelineNum:a.nE,index:a.index};};a.prototype.fqa=function(a){return {uiLabel:a.ke,trackingId:a.vi,sessionParams:a.gm};};a.prototype.LNb=function(a){return a.map(this.MNb,this);};a.prototype.MNb=function(a){var b;this.Ca.de(a.$a) && (b=this.fqa(a.$a));return {movieId:a.u,priority:a.ie,params:b,uiLabel:a.ke,firstTimeAdded:a.Dj,viewableId:a.la,pts:a.Fc};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.xb)),c.__param(1,l.l(r.Ae))],b);})();b.jAa=f;},function(f,b,a){var l,k,r,g,p,d,m,t,h,A;function c(a,b,d,c,g,m,f,p){this.dh=a;this.WD=b;this.Aa=d;this.qA=g;this.config=m;this.kia=f;this.Zna=p;this.X3=[];this.jla=[];this.soa={};this.ma=c.ob("PrefetchEvents");}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;l=a(0);k=a(123);r=a(1);g=a(4);p=a(49);d=a(70);m=a(39);t=a(6);h=a(333);A=a(204);f=(function(){var b;function a(a,b,d,c,g,m){this.dh=a;this.WD=b;this.Aa=d;this.rf=c;this.config=g;this.Zna=m;}a.prototype.create=function(a,b){return new c(this.dh,this.WD,this.Aa,this.rf,a,this.config,b,this.Zna);};b=a;return b=l.__decorate([r.N(),l.__param(0,r.l(p.wl)),l.__param(1,r.l(d.Kq)),l.__param(2,r.l(m.Tg)),l.__param(3,r.l(t.xb)),l.__param(4,r.l(h.F$)),l.__param(5,r.l(A.XV))],b);})();b.RAa=f;c.prototype.fjb=function(a,b){this.PD(k.Le.kB.H3a,a,b,void 0,"");};c.prototype.hjb=function(a,b,d){this.PD(k.Le.kB.I3a,a,b,void 0,d);};c.prototype.cjb=function(a,b,d){this.PD(k.Le.kB.G3a,a,b,void 0,d);};c.prototype.ajb=function(a,b,d){this.PD(k.Le.kB.E3a,a,b,void 0,d);};c.prototype.TO=function(a,b,d){this.PD(k.Le.kB.F3a,a,b,void 0,d);};c.prototype.BIb=function(a){this.PD(k.Le.kB.Z8a,void 0,a);};c.prototype.fl=function(a,b,d,c,g,m,f){this.vY() && (this.PD(k.Le.kB.k$a,void 0,a),this.GCb(a,b,d,c,g,m,f),this.QMa(),this.ZRa());this.MAb(a) && this.jMb();};c.prototype.ypb=function(a){a={dest_id:a,cache:this.eqa(this.kia())};this.OS("destiny_start",a);};c.prototype.nJb=function(a){(a=this.Zna.HNb(a))?this.OS("destiny_prepare",a):this.ma.error("failed to serialize prepare event");};c.prototype.QMa=function(){0 < this.X3.length && this.vY() && (this.OS("destiny_events",{dest_id:this.qA.np,events:this.X3}),this.X3=[]);this.A4 && (this.A4.cancel(),this.A4=void 0);this.dMa();};c.prototype.ZRa=function(){var a;if(this.gjb() && this.vY()){a=this.kia();this.jla=a;a={dest_id:this.qA.np,offset:this.qA.m0(),cache:this.eqa(a)};this.OS("destiny_cachestate",a);}this.z4 && (this.z4.cancel(),this.z4=void 0);this.cMa();};c.prototype.update=function(a){var b;b=this;a.Ia.forEach(function(a){a.list.forEach(function(a){b.soa[a.la]=!0;});});};c.prototype.MAb=function(a){return this.soa[a];};c.prototype.gjb=function(){var a,b,d;a=this;b=this.kia();if(b.length !== this.jla.length)return !0;d=!1;b.forEach(function(b,c){try{JSON.stringify(b) !== JSON.stringify(a.jla[c]) && (d=!0);}catch(T){a.ma.error("Failed to stringify cachedTitle",T);}});return d;};c.prototype.PD=function(a,b,d,c,g){this.vY() && (a={offset:this.qA.m0(),event_type:a,title_id:d,asset_type:b,size:c,reason:g},this.X3.push(a),this.dMa(),this.cMa());};c.prototype.dMa=function(){this.A4 || (this.A4=this.Aa.Sh(this.config.Qla,this.QMa.bind(this)));};c.prototype.cMa=function(){this.z4 || (this.z4=this.Aa.Sh(this.config.Qla,this.ZRa.bind(this)));};c.prototype.GCb=function(a,b,d,c,m,f,p){var l;l=[];d && l.push({ms:a,Qv:k.Le.Dk.xsa,state:k.Le.eU.nU});c && l.push({ms:a,Qv:k.Le.Dk.rB,state:k.Le.eU.nU});m && l.push({ms:a,Qv:k.Le.Dk.iM,state:k.Le.eU.nU});(0 < f.aa(g.fa) || 0 < p.aa(g.fa)) && l.push({ms:a,Qv:k.Le.Dk.MEDIA,state:k.Le.eU.nU,Thb:f.aa(g.fa),dUb:p.aa(g.fa)});a={dest_id:this.qA.np,offset:this.qA.m0(),xid:b,cache:this.eqa(l)};this.OS("destiny_playback",a);};c.prototype.OS=function(a,b){this.config.IYa && (a=this.WD.Lp(a,"info",b),this.dh.Qc(a));};c.prototype.eqa=function(a){return a.map(function(a){return {title_id:a.ms,state:a.state,asset_type:a.Qv,size:a.size,audio_ms:a.Thb,video_ms:a.dUb};});};c.prototype.vY=function(){return 0 !== this.qA.np;};c.prototype.jMb=function(){this.qA.iMb();this.soa={};};},function(f,b,a){var c,l,k,r,g,p,d,m,t,h,A,n,q,L,D,C;Object.defineProperty(b,"__esModule",{value:!0});b.mc=void 0;f=a(1);c=a(123);l=a(674);k=a(204);r=a(673);g=a(672);p=a(333);d=a(73);m=a(157);t=a(671);h=a(670);A=a(665);n=a(664);q=a(663);L=a(662);D=a(661);C=a(332);b.mc=new f.Kc(function(a){a(p.F$).to(g.QAa).Z();a(c.G$).to(l.RAa).Z();a(k.XV).to(r.jAa).Z();a(m.M$).to(t.VAa).Z();a(d.Us).to(h.kDa).Z();a(C.K$).to(q.lya).Z();a(C.J$).to(n.zxa).Z();a(C.I$).to(A.vxa).Z();a(C.H$).to(L.swa).Z();a(C.L$).to(D.Aya).Z();});},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.pDa=void 0;c=a(0);l=a(1);k=a(9);r=a(33);g=a(205);p=a(7);f=(function(){var b;function a(){}a.prototype.Mwb=function(){var a;a=O.devicePixelRatio || 1;return {width:this.sca.YVb || k.Ms.width * a,height:this.sca.XVb || k.Ms.height * a};};ma.Object.defineProperties(a.prototype,{sca:{configurable:!0,enumerable:!0,get:function(){return p.ga.get(r.Os);}}});b=a;c.__decorate([g.VQ],b.prototype,"sca",null);return b=c.__decorate([l.N()],b);})();b.pDa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.hza=void 0;c=a(0);l=a(1);k=a(280);f=(function(){var b;function a(){}a.prototype.compare=function(a,b){var d;d=[];this.ffa(a,b,"",d);return d;};a.prototype.ffa=function(a,b,c,g){var d;d=this;if(k.qB.Ov(a))k.qB.Ov(b) && a.length === b.length?a.forEach(function(m,f){d.ffa(a[f],b[f],c + "[" + f + "]",g);}):g.push({a:a,b:b,path:c});else if(k.qB.AC(a) && null != a){if(k.qB.AC(b) && null != b){for(var m in a){this.ffa(a[m],b[m],c + "." + m,g);}for(var f in b){(f in a) || void 0 === b[f] || g.push({a:void 0,b:b[f],path:c + "." + f});}}else g.push({a:a,b:b,path:c});}else a !== b && g.push({a:a,b:b,path:c});};b=a;return b=c.__decorate([l.N()],b);})();b.hza=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.iza=void 0;b.iza="ObjectComparerSymbol";},function(f,b,a){var c,l,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.dBa=void 0;c=a(0);l=a(53);k=a(31);r=a(1);f=(function(){var b,d;function a(a){this.location=a;l.Xm(this,"location");}a.XR=function(a){var d,g,m;d={};if(0 < a.length){a=a.split("&");for(var c=0;c < a.length;c++){g=a[c].trim();m=g.indexOf("=");0 <= m?d[decodeURIComponent(g.substr(0,m).replace(b.Bza,"%20"))]=decodeURIComponent(g.substr(m + 1).replace(b.Bza,"%20")):d[g.toLowerCase()]="";}}return d;};ma.Object.defineProperties(a.prototype,{iKb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=b.XR(this.GWa);}},GWa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0 !== this.oS)return this.oS;this.oS=this.location.search.substr(1);a=this.oS.indexOf("#");0 <= a && (this.oS=this.GWa.substr(0,a));return this.oS;}}});d=b=a;d.Bza=/[+]/g;return d=b=c.__decorate([r.N(),c.__param(0,r.l(k.J8))],d);})();b.dBa=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.YCa=void 0;c=a(0);l=a(1);f=(function(){var b;function a(){}a.prototype.mNa=function(a){var b;b=this;return a?(a ^ 16 * Math.random() >> a / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(a){return b.mNa(a);});};b=a;return b=c.__decorate([l.N()],b);})();b.YCa=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.pCa=void 0;c=a(0);l=a(53);k=a(31);r=a(1);g=a(21);p=a(147);f=(function(){var b,f;function a(a,b){this.is=a;this.json=b;l.Xm(this,"json");}a.prototype.RWa=function(a){var d;d=this;return b.read(a,function(a){return parseInt(a);},function(a){return d.is.zda(a);});};a.prototype.Ooa=function(a){var d;d=this;return b.read(a,function(a){return "true" == a?!0:"false" == a?!1:void 0;},function(a){return d.is.lO(a);});};a.prototype.Vo=function(a){var d;d=this;return b.read(a,function(a){return parseInt(a);},function(a){return d.is.At(a);});};a.prototype.vKb=function(a){var d;d=this;return b.read(a,function(a){return parseFloat(a);},function(a){return d.is.Dh(a);});};a.prototype.QWa=function(a,d){return b.read(a,function(a){return b.Esb(a,d);},function(a){return void 0 !== a;});};a.prototype.Soa=function(a,d){return b.read(a,function(a){return a;},function(a){return d?d.test(a):!0;});};a.prototype.SWa=function(a){var d,c;d=void 0 === d?function(){return !0;}:d;c=this;try{return b.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.AC(a) && d(a);});}catch(E){return new p.Gn();}};a.prototype.dj=function(a,d,c){var g,m;c=void 0 === c?1:c;g=this;a=a.trim();m=d instanceof Function?d:this.Rnb(d,c);d=a.indexOf("[");c=a.lastIndexOf("]");if(0 != d || c != a.length - 1)return new p.Gn();a=a.substring(d + 1,c);try{return b.BHb(a).map(function(a){a=m(g,b.QTb(a));if(a instanceof p.Gn)throw a;return a;});}catch(D){return D instanceof p.Gn?D:new p.Gn();}};a.prototype.Rnb=function(a,d){var c;d=void 0 === d?1:d;c=this;return function(g,m){g=b.pwb(a);return 1 < d?c.dj(m,a,d - 1):g(c,m);};};a.Esb=function(a,b){var c;for(var d in b){c=parseInt(d);if(b[c] == a)return c;}};a.read=function(a,b,d){a=b(a);return void 0 !== a && d(a)?a:new p.Gn();};a.pwb=function(a){switch(a){case "int":return function(a,b){return a.RWa(b);};case "bool":return function(a,b){return a.Ooa(b);};case "uint":return function(a,b){return a.Vo(b);};case "float":return function(a,b){return a.vKb(b);};case "string":return function(a,b){return a.Soa(b);};case "object":return function(a,b){return a.SWa(b);};}};a.BHb=function(a){var l;for(var b=[["[","]"]],d=[],c=0,g=0,m=0,f=[],k={};g < a.length;(k={"char":k["char"]},++g)){k["char"]=a.charAt(g);l=void 0;"," == k["char"] && 0 == m?(d.push(a.substr(c,g - c)),c=g + 1):(l=b.find((function(a){return function(b){return b[0] == a["char"];};})(k)))?(++m,f.push(l)):0 < f.length && f[f.length - 1][1] == k["char"] && (--m,f.pop());}if(c != g)d.push(a.substr(c,g - c));else if(c == g && 0 < c)throw new p.Gn();return d;};a.QTb=function(a){var b;b=a.charAt(0);if('"' == b || "'" == b){if(a.charAt(a.length - 1) != b)throw new p.Gn();return a.substring(1,a.length - 1);}return a;};f=b=a;return f=b=c.__decorate([r.N(),c.__param(0,r.l(g.Ae)),c.__param(1,r.l(k.ay))],f);})();b.pCa=f;},function(f,b,a){var c,l,k,r,g,p,d,m,t,h;Object.defineProperty(b,"__esModule",{value:!0});b.dd=void 0;f=a(1);c=a(681);l=a(680);k=a(679);r=a(147);g=a(517);p=a(358);d=a(678);m=a(677);t=a(334);h=a(676);b.dd=new f.Kc(function(a){a(r.qW).to(c.pCa).Z();a(g.bW).to(k.dBa).Z();a(p.Iaa).to(l.YCa).Z();a(d.iza).to(m.hza).Z();a(t.Paa).to(h.pDa).Z();});},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.uua=void 0;c=a(0);l=a(335);k=a(1);f=(function(){var b;function a(a){this.rFb=a;}a.prototype.MNa=function(){var a;a=this.rFb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.A9))],b);})();b.uua=f;},function(f,b,a){var c,l,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;f=a(1);c=a(335);l=a(364);k=a(365);r=a(683);g=a(9);b.crypto=new f.Kc(function(a){a(k.T6).to(r.uua).Z();a(c.A9).si(g.fv);a(l.U6).si(g.FV);});},function(f,b,a){var c,l,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.u8a=void 0;c=a(0);l=a(1);k=a(27);r=a(21);g=a(90);p=a(161);d=a(338);m=a(110);t=a(207);f=(function(){var b;function a(a,b,c){var g;g=d.PM.call(this,a,b,"network") || this;g.Yfa=c;g.WZ=p.e7.e8a;g.xDb=30;g.YGb=function(a){g.WZ=a.target.value;g.refresh();};g.uGb=function(){g.data={};g.refresh();};g.gYa=function(a){var b,d;b=Number(a.target.id);a=a.target.getAttribute("data-type");b=g.data[g.WZ][b].value;d=JSON.stringify(b,null,4);"copy" === a?t.xU.zfa(d):"log" === a && console.log(b);};return g;}M(a,d.PM);a.prototype.Jb=function(){var a;a=this;if(this.Ul)return Promise.resolve();O.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == m.Fs.k8a && a.toggle();});this.data={};this.Yfa.addListener(p.f7.z9a,function(b){var d;a.data[b.type] || (a.data[b.type]=[]);d=a.data[b.type];d.length === a.xDb && d.shift();d.push(b);b.type === a.WZ && a.refresh();});this.Ul=!0;return Promise.resolve();};a.prototype.Fj=function(){return '<tr class="' + this.prefix + '-display-headerrow">' + ('<th width="30px"><span class="' + this.prefix + '-display-indexheader">#</span></th>') + ('<th width="150px"><span class="' + this.prefix + '-display-keyheader">Name</span></th>') + ('<th style="border-right:solid 0px"><span class="' + this.prefix + '-display-valueheader">Value</span></th>') + ('<th style="border-left:solid 0px" width="30px"><button id="' + this.prefix + '-display-close-btn">X</button></th>') + "</tr>";};a.prototype.dja=function(a,b,d){var c;c=a.toString();b='<font color="#C41A16">"' + b + '"</font>';d=this.CIa.Nk(d);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + c + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + b + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + d + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + a + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + a + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};a.prototype.pja=function(){for(var a='<table class="' + this.prefix + '-display-table" width="100%">' + this.Fj(),b=this.data[this.WZ] || [],d=0;d < b.length;++d){a+=this.dja(d,b[d].name,b[d].value);}return a + "</table>";};a.prototype.GNa=function(){var a;a=this.pd.createElement("button",d.rF,"Clear",{"class":this.prefix + "-display-btn"});a.onclick=this.uGb;return [a,this.hob(),this.aob()];};a.prototype.hob=function(){var a;a=this.pd.createElement("select",d.rF,Object.values(p.e7).reduce(function(a,b){return a + ('<option value="' + b + '">' + b + "</option>");},""),{"class":this.prefix + "-display-select"});a.onchange=this.YGb;return a;};a.prototype.aob=function(){var a,b,d,c;a=this;b=this.pd.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.kS;b.onchange=function(){return a.LRb();};d=this.pd.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});c=this.pd.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});c.appendChild(b);c.appendChild(d);return c;};a.prototype.iXa=function(){return Promise.resolve(this.pja());};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.Cf)),c.__param(1,l.l(r.Ae)),c.__param(2,l.l(g.XL))],b);})();b.u8a=f;},function(f,b,a){var l,k,r,g,p,d,m,t,h,A,n,q,L,D,C,T,u,ba;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gxa=void 0;l=a(0);k=a(1);r=a(27);g=a(103);p=a(477);d=a(39);m=a(37);t=a(4);h=a(19);A=a(75);n=a(6);q=a(102);L=a(206);D=a(336);C=a(71);T=a(110);u=a(207);c.download=function(a,b){return c.ovb(a).then(function(a){return c.rxb(a,b.join("\r\n")).then(function(a){return c.$pb(a.filename,a.text);});});};c.ovb=function(a){return new Promise(function(b,d){var c,g,m,f,p,k,l;try{c=new Date();g=c.getDate().toString();m=(c.getMonth() + 1).toString();f=c.getFullYear().toString();p=c.getHours().toString();k=c.getMinutes().toString();l=c.getSeconds().toString();1 === g.length && (g="0" + g);1 === m.length && (m="0" + m);1 === p.length && (p="0" + p);1 === k.length && (k="0" + k);1 === l.length && (l="0" + l);b(f + m + g + p + k + l + "." + a + ".log");}catch(Aa){d(Aa);}});};c.rxb=function(a,b){return new Promise(function(d,c){try{d({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(ha){c(ha);}});};c.$pb=function(a,b){var d;try{d=document.createElement("a");d.setAttribute("href",b);d.setAttribute("download",a);d.style.display="none";document.body.appendChild(d);d.click();document.body.removeChild(d);return Promise.resolve();}catch(ea){return Promise.reject(ea);}};ba=(function(){function a(b){var d;this.elements=[];d=document.createElementNS(a.rT,"svg");d.setAttribute("viewBox",b);this.elements.push(d);}a.prototype.$K=function(){var b;b=document.createElementNS(a.rT,"g");b.setAttribute("stroke","none");b.setAttribute("stroke-width",(1).toString());b.setAttribute("fill","none");b.setAttribute("fill-rule","evenodd");b.setAttribute("stroke-linecap","round");this.addElement(b);return this;};a.prototype.aL=function(b,d,c){var g;g=document.createElementNS(a.rT,"path");g.setAttribute("d",b);d && g.setAttribute("fill",d);c && g.setAttribute("fill-rule",c);this.addElement(g);return this;};a.prototype.gT=function(b,d,c,g,m){var f;m=void 0 === m?"#000000":m;f=document.createElementNS(a.rT,"rect");f.setAttribute("x",b.toString());f.setAttribute("y",d.toString());f.setAttribute("height",c.toString());f.setAttribute("width",g.toString());m && f.setAttribute("fill",m);this.addElement(f);return this;};a.prototype.SPb=function(){var b;b=document.createElementNS(a.rT,"polygon");b.setAttribute("points","0 0 24 0 24 24 0 24");b.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(b);return this;};a.prototype.end=function(){this.elements.pop();return this;};a.prototype.Nk=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};a.prototype.addElement=function(a){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(a);this.elements.push(a);};ma.Object.defineProperties(a,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},$C:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});a.rT="http://www.w3.org/2000/svg";return a;})();f=(function(){var b;function a(a,b,d,g,m,f,p,k,l,r){var h;h=this;this.Fa=a;this.app=b;this.pd=d;this.Aa=g;this.im=m;this.config=f;this.nz=p;this.jra=k;this.Aob=l;this.Ak=r;this.gRb=function(){h.NT.Rc(function(){h.update();});};this.clear=function(){h.entries=[];h.update();};this.oTa=function(){h.Wd.bJ=!h.Wd.bJ;h.Zz && h.gA && (h.Wd.bJ?(h.Zz.style.display="inline-block",h.gA.style.display="none"):(h.gA.style.display="inline-block",h.Zz.style.display="none"));h.OE(!1);};this.MCb=function(a){var b;h.entries.push(a);b=h.config.oJ;0 <= b && h.entries.length > b && h.entries.shift();void 0 === h.Wd.aw[a.Im] && (h.Wd.aw[a.Im]=!0,h.OE(!1));h.Wd.Io && !h.I_a?h.gRb():h.NT.Rc();};this.dqb=function(){c.download("all",h.entries.map(function(a){return a.v5(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.Ul=!1;this.Wd={Io:!1,bJ:!0,VZ:!0,Ola:n.Di.q8,aw:{}};this.NT=this.jra(t.ph(1));this.ysb=this.Aob(t.Lb(250));this.entries=[];}a.prototype.Jb=function(){var a;a=this;this.Tl || (this.Tl=new Promise(function(b){O.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && (b.keyCode == T.Fs.x7a?a.toggle():b.keyCode == T.Fs.E && u.xU.zfa(a.nz().Kh));});a.im.e4(L.S8.I4a,a.MCb);b();}));return this.Tl;};a.prototype.show=function(){document.body && (this.element || (this.onb(),this.Ul=!0),!this.Wd.Io && this.element && (document.body.appendChild(this.element),this.Wd.Io=!0,this.update(!0)));};a.prototype.Zp=function(){this.Ul && this.Wd.Io && this.element && (document.body.removeChild(this.element),this.Wd.Io=!1);};a.prototype.toggle=function(){this.Wd.Io?this.Zp():this.show();this.OE(!1);};a.prototype.onb=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.un=this.fob());a.appendChild(this.gob());a.appendChild(this.hnb());this.element=a;}catch(ha){console.error("Unable to create the log console",ha);}};a.prototype.fob=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.I_a=!0;a.update();a.un && (a.un.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.I_a=!1;a.update();a.un && (a.un.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};a.prototype.gob=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.Jnb());a.appendChild(this.znb());a.appendChild(this.tnb());a.appendChild(this.iob());a.appendChild(this.lnb());a.appendChild(this.Qnb());a.appendChild(this.Nnb());a.appendChild(this.vnb());a.appendChild(this.mnb());return a;};a.prototype.hnb=function(){var a,b,d,c,g,m;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");d=this.createElement("div","padding:2px");c=this.createElement("select",this.Wt(22,160,1,2),"<option>Select categories</option>");g=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(d);b.appendChild(g);d.appendChild(c);d.addEventListener("mousedown",function(a){a.preventDefault();});m=!1;d.addEventListener("click",function(){m?g.style.display="none":(g.innerHTML="",["all","none"].concat(Object.keys(a.Wd.aw).sort()).forEach(function(b){g.appendChild(a.inb(b,d));}),g.style.display="block");m=!m;});return b;};a.prototype.inb=function(a,b){var d,c,g;d=this;c=this.createElement("label","display: block;margin:1px");c.htmlFor=a;g=this.createElement("input","margin:1px");g.type="checkbox";g.id=a;g.checked=this.Wd.aw[a];g.addEventListener("click",function(){"all" === a || "none" === a?(Object.keys(d.Wd.aw).forEach(function(b){d.Wd.aw[b]="all" === a;}),b.click()):d.Wd.aw[a]=!d.Wd.aw[a];d.OE(!0);});c.appendChild(g);c.insertAdjacentText("beforeend",18 < a.length?a.slice(0,15) + "...":a);return c;};a.prototype.Jnb=function(){var a,b;a=this;b=this.createElement("select",this.Wt(22,NaN,1,2),'<option value="' + n.Di.ERROR + '">Error</option>' + ('<option value="' + n.Di.Maa + '">Warn</option>') + ('<option value="' + n.Di.q8 + '">Info</option>') + ('<option value="' + n.Di.wCa + '">Trace</option>') + ('<option value="' + n.Di.sa + '">Debug</option>'));b.value=this.Wd.Ola.toString();b.addEventListener("change",function(b){a.Wd.Ola=parseInt(b.target.value);a.OE(!0);},!1);return b;};a.prototype.znb=function(){var b,d;function a(a){return b.ysb.Rc(function(){var d;d=a.target.value;b.Wd.filter=d?new RegExp(d):void 0;b.OE(!0);});}b=this;d=this.createElement("input",this.Wt(14,150,1,2));d.value=this.Wd.filter?this.Wd.filter.source:"";d.title="Filter (RegEx)";d.placeholder="Filter (RegEx)";d.addEventListener("keydown",a,!1);d.addEventListener("change",a,!1);return d;};a.prototype.tnb=function(){var a,b,d,c;a=this;b=this.createElement("div",this.Wt(NaN,NaN));d=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");d.id="details";d.type="checkbox";d.title="Details";d.checked=this.Wd.VZ;d.addEventListener("change",function(b){a.Wd.VZ=b.target.checked;a.OE(!0);},!1);c=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");c.setAttribute("for","details");c.innerHTML="View details";b.appendChild(d);b.appendChild(c);return b;};a.prototype.iob=function(){var a,b,d;a=this;b=this.createElement("button",this.Wt());d=new ba("0 0 24 24").$K().SPb().end().aL("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",ba.$C,"nonzero").end().end().Nk();b.appendChild(d);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};a.prototype.lnb=function(){var a,b;a=this.createElement("button",this.Wt());b=new ba("0 0 24 24").$K().gT(0,0,24,24,ba.background).end().aL("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",ba.$C).end().end().Nk();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};a.prototype.Qnb=function(){var a;this.gA=this.createElement("button",this.Wt());this.gA.style.display=this.Wd.bJ?"none":"inline-block";a=new ba("0 0 24 24").$K().gT(0,0,24,24,ba.background).end().aL("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",ba.$C,"nonzero").end().end().Nk();this.gA.addEventListener("click",this.oTa,!1);this.gA.appendChild(a);this.gA.setAttribute("title","Shrink the log console");return this.gA;};a.prototype.Nnb=function(){var a;this.Zz=this.createElement("button",this.Wt());this.Zz.style.display=this.Wd.bJ?"inline-block":"none";a=new ba("0 0 24 24").$K().gT(4,4,16,16,ba.background).end().aL("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",ba.$C,"nonzero").end().end().Nk();this.Zz.addEventListener("click",this.oTa,!1);this.Zz.appendChild(a);this.Zz.setAttribute("title","Expand the log console");return this.Zz;};a.prototype.vnb=function(){var a,b;a=this.createElement("button",this.Wt());b=new ba("0 0 26 26").$K().gT(0,0,24,24,ba.background).end().aL("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",ba.$C,"nonzero").end().end().Nk();a.appendChild(b);a.addEventListener("click",this.dqb,!1);a.setAttribute("title","Download all log messages");return a;};a.prototype.mnb=function(){var a,b,d;a=this;b=this.createElement("button",this.Wt());d=new ba("0 0 24 24").$K().gT(0,0,24,24,ba.background).end().aL("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",ba.$C,"nonzero").end().end().Nk();b.appendChild(d);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};a.prototype.OE=function(a){(void 0 === a?0:a) && this.update(!1);};a.prototype.update=function(a){var b;a=void 0 === a?!1:a;b=this;this.element && this.config.vS && Promise.resolve(this.Xib() + this.pvb().join("\r\n")).then(function(d){b.element && b.un && (b.un.value=d,b.element.style.cssText=b.Wd.bJ?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a && b.Aa.Sh(t.rb,function(){b.un.scrollTop=b.un.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};a.prototype.pvb=function(){var a,b;a=this;b=[];this.entries.forEach(function(d){(d.level || d.level) <= a.Wd.Ola && a.Wd.aw[d.Im] && (d=d.v5(!a.Wd.VZ,!a.Wd.VZ),a.Wd.filter && !a.Wd.filter.test(d) || b.push(d));});return b;};a.prototype.Xib=function(){var a;a=this.nz();return "Version: 0.0026.212.010 \n" + ((a?"Esn: " + a.Kh:"") + "\n") + ("JsSid: " + this.app.id + ", Epoch: " + this.Fa.Pe.aa(t.um) + ", Start: " + this.app.OD.aa(t.um) + ", TimeZone: " + new Date().getTimezoneOffset() + "\n") + ("Href: " + location.href + "\n") + ("UserAgent: " + navigator.userAgent + "\n") + "--------------------------------------------------------------------------------\n";};a.prototype.createElement=function(a,b,d,c){return this.pd.createElement(a,b,d,c);};a.prototype.Wt=function(a,b,d,c){a=void 0 === a?26:a;b=void 0 === b?26:b;return "display:inline-block;border:" + (void 0 === d?0:d) + "px solid " + ba.$C + ";padding:3px;" + (isNaN(a)?"":"height:" + a + "px") + ";" + (isNaN(b)?"":"width:" + b + "px") + ";margin:0px 3px;background-color:transparent;" + (c?"border-radius:" + c + "px;":"");};b=a;b.eQb="logDxDisplay";return b=l.__decorate([k.N(),l.__param(0,k.l(m.th)),l.__param(1,k.l(h.qd)),l.__param(2,k.l(r.Cf)),l.__param(3,k.l(d.Tg)),l.__param(4,k.l(q.tB)),l.__param(5,k.l(D.L8)),l.__param(6,k.l(A.Cs)),l.__param(7,k.l(g.PB)),l.__param(8,k.l(p.c7)),l.__param(9,k.l(C.ws))],b);})();b.Gxa=f;},function(f,b,a){var c,l,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Fxa=void 0;c=a(0);l=a(1);k=a(40);r=a(43);g=a(30);p=a(150);f=(function(){var b;function a(a,b){a=r.le.call(this,a,"LogDisplayConfigImpl") || this;a.Mm=b;return a;}M(a,r.le);ma.Object.defineProperties(a.prototype,{vS:{configurable:!0,enumerable:!0,get:function(){return !0;}},oJ:{configurable:!0,enumerable:!0,get:function(){return this.Mm.oJ;}},aSa:{configurable:!0,enumerable:!0,get:function(){return -1;}}});b=a;c.__decorate([k.config(k.Cc,"renderDomDiagnostics")],b.prototype,"vS",null);c.__decorate([k.config(k.q1,"logDisplayMaxEntryCount")],b.prototype,"oJ",null);c.__decorate([k.config(k.q1,"logDisplayAutoshowLevel")],b.prototype,"aSa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(g.sj)),c.__param(1,l.l(p.$F))],b);})();b.Fxa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Qsa=void 0;c=a(0);l=a(1);a(4);k=a(89);f=(function(){var b;function a(){this.Tpa="";this.J1a=[[],[]];this.ca=[[],[]];}a.prototype.downloadRequest=function(a){var b;"" === this.Tpa && (this.Tpa=a.Ba);if(!a.bc){b=this.ERb(a);this.ca[a.I].push(b);this.J1a[a.I].forEach(function(a){a.R0b(b);});}};a.prototype.ERb=function(a){return {id:a.jk(),Ba:a.Ba,I:a.I,ei:a.ei,startTime:a.xx,endTime:a.wu,offset:a.hn,zH:a.zH,yH:a.yH,duration:a.pw,R:a.R,state:k.r6.uLa,Sr:!1,A3b:!1,APa:!1,o2b:k.q6.waiting};};a.prototype.update=function(a){this.J1a[a.I].forEach(function(b){b.z6b(a);});};ma.Object.defineProperties(a.prototype,{Ba:{configurable:!0,enumerable:!0,get:function(){return this.Tpa;}}});b=a;return b=c.__decorate([l.N()],b);})();b.Qsa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.kva=void 0;c=a(0);l=a(1);k=a(339);f=(function(){var b;function a(a){this.Upb=a;}a.prototype.Jb=function(){var a;a=this;this.Tl || (this.Tl=new Promise(function(b,c){var d;d=[];a.Upb.forEach(function(a){d.push(a.Jb());});Promise.all(d).then(function(){b();})["catch"](function(a){c(a);});}));return this.Tl;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.ZD(k.u7))],b);})();b.kva=f;},function(f,b){function a(a){this.is=a;this.oBb="#881391";this.pQb="#C41A16";this.Gib=this.XFb="#1C00CF";this.Vzb="#D79BDB";this.wSb=this.UFb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;a.prototype.Nk=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Dz=function(a,b){return '<font color="' + ((void 0 === b?0:b)?this.Vzb:this.oBb) + '">' + a + ": </font>";};a.prototype.oNa=function(a,b){b=b || "";a="" + ('<li><a href="#">' + this.Dz(a) + "Array[" + b.length + "]</a>");a+="<ul>";for(var c=0;c < b.length;++c){a+=this.getValue(c.toString(),b[c]);}a+=this.getValue("length",b.length,!0);return a + "</ul></li>";};a.prototype.BOa=function(a,b){var c,f;c=this;if(b instanceof CryptoKey)return this.Kub(a,b);f="";f=f + ('<li><a href="#">' + ("~~NONAME~~" !== a?this.Dz(a):"") + "Object</a>");f=f + "<ul>";Object.entries(b).forEach(function(a){var b;b=S(a);a=b.next().value;b=b.next().value;f=a.startsWith("$")?f + c.getValue(a,"REMOVED"):f + c.getValue(a,b);});f+="</ul>";return f+="</li>";};a.prototype.Kub=function(a,b){a="" + ('<li><a href="#">' + this.Dz(a) + "CryptoKey</a>");a=a + "<ul>" + this.BOa("algorithm",b.algorithm);a+=this.tNa("extractable",b.extractable);a+=this.UOa("type",b.type);a+=this.oNa("usages",b.usages);return a + "</ul></li>";};a.prototype.nwb=function(a,b,f){return '<li><a href="#">' + this.Dz(a,void 0 === f?!1:f) + ('<font color="' + this.XFb + '">' + b.toString() + "</font>") + "</a></li>";};a.prototype.tNa=function(a,b,f){return '<li><a href="#">' + this.Dz(a,void 0 === f?!1:f) + ('<font color="' + this.Gib + '">' + b.toString() + "</font>") + "</a></li>";};a.prototype.UOa=function(a,b,f){128 < b.length && (b=b.substr(0,128) + "...");return '<li><a href="#">' + this.Dz(a,void 0 === f?!1:f) + ('<font color="' + this.pQb + '">"' + b + '"</font>') + "</a></li>";};a.prototype.mwb=function(a){return '<li><a href="#">' + this.Dz(a) + ('<font color="' + this.UFb + '">null</font>') + "</a></li>";};a.prototype.Dxb=function(a,b){b="undefined" === typeof b?"":b.toString();255 < b.length && (b=b.substr(0,255) + "...");return '<li><a href="#">' + this.Dz(a) + ('<font color="' + this.wSb + '">' + b + "</font>") + "</a></li>";};a.prototype.getValue=function(a,b,f){f=void 0 === f?!1:f;return null === b?"" + this.mwb(a):this.is.Ov(b)?"" + this.oNa(a,b):this.is.AC(b)?"" + this.BOa(a,b):this.is.bo(b)?"" + this.UOa(a,b,f):this.is.Dh(b)?"" + this.nwb(a,b,f):this.is.lO(b)?"" + this.tNa(a,b,f):"" + this.Dxb(a,b);};b.QCa=a;},function(f,b,a){var c,l,k,h,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.t7a=void 0;c=a(0);l=a(1);k=a(27);h=a(21);g=a(179);p=a(338);d=a(110);m=a(207);f=(function(){var b;function a(a,b,d){var c;c=p.PM.call(this,a,b,"idb") || this;c.Ak=d;c.gYa=function(a){c.ipb(a.target.id).then(function(){return c.refresh();});};c.vGb=function(){c.Bkb().then(function(){return c.refresh();});};c.LGb=function(){c.refresh();};c.yGb=function(){c.Blb();};return c;}M(a,p.PM);a.prototype.Jb=function(){var a;a=this;if(this.Ul)return Promise.resolve();O.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == d.Fs.t6a && a.toggle();});return this.Ak.create().then(function(b){a.storage=b;a.Ul=!0;});};a.prototype.Fj=function(){return '<tr class="' + this.prefix + '-display-headerrow">' + ('<th width="30px"><span class="' + this.prefix + '-display-indexheader">#</span></th>') + ('<th width="150px"><span class="' + this.prefix + '-display-keyheader">Name</span></th>') + ('<th style="border-right:solid 0px"><span class="' + this.prefix + '-display-valueheader">Value</span></th>') + ('<th style="border-left:solid 0px" width="30px"><button id="' + this.prefix + '-display-close-btn">X</button></th>') + "</tr>";};a.prototype.dja=function(a,b,d){var c;a=a.toString();c='<font color="#C41A16">"' + b + '"</font>';d=this.CIa.Nk({name:b,data:d});return "<tr>" + ('<td><span class="' + this.prefix + '-display-indexvalue">' + a + "</span></td>") + ('<td><span class="' + this.prefix + '-display-keyvalue">' + c + "</span></td>") + ('<td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + d + "</ul></td>") + ('<td style="border-left:solid 0px"><ul class="' + this.prefix + '-display-item-inline"><button id="' + b + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td>') + "</tr>";};a.prototype.pja=function(a){var b,d;b=this;d='<table class="' + this.prefix + '-display-table" width="100%">' + this.Fj();Object.entries(a).forEach(function(a,c){var g;g=S(a);a=g.next().value;g=g.next().value;d+=b.dja(c,a,g);});return d + "</table>";};a.prototype.GNa=function(){var a,b,d;a=this.pd.createElement("button",p.rF,"Clear",{"class":this.prefix + "-display-btn"});b=this.pd.createElement("button",p.rF,"Refresh",{"class":this.prefix + "-display-btn"});d=this.pd.createElement("button",p.rF,"Copy",{"class":this.prefix + "-display-btn"});a.onclick=this.vGb;b.onclick=this.LGb;d.onclick=this.yGb;return [a,b,d];};a.prototype.pCb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.ZPa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.ZPa;});};a.prototype.ipb=function(a){return this.storage.remove(a);};a.prototype.Bkb=function(){return this.storage.removeAll();};a.prototype.iXa=function(){var a;a=this;return this.pCb().then(function(b){return a.pja(b);});};a.prototype.Blb=function(){var a;a=JSON.stringify(this.ZPa,null,4);m.xU.zfa(a);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.Cf)),c.__param(1,l.l(h.Ae)),c.__param(2,l.l(g.pV))],b);})();b.t7a=f;},function(f,b,a){var l,k,h,g,p,d,m,t;function c(a){return function(){return new Promise(function(b,d){var c;c=a.ib.get(k.w7);c.Jb().then(function(){b(c);})["catch"](function(a){d(a);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.ALa=void 0;f=a(1);l=a(339);a(691);k=a(337);h=a(689);g=a(89);p=a(688);d=a(336);m=a(687);t=a(686);a(685);b.ALa=new f.Kc(function(a){a(d.L8).to(m.Fxa).Z();a(l.u7).to(t.Gxa);a(g.IL).to(p.Qsa).Z();a(k.w7).to(h.kva).Z();a(k.v7).CT(c);});},function(f,b,a){var c,l,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.$za=b.Xza=b.Wza=void 0;c=a(0);l=a(1);k=a(208);h=a(44);g=a(2);f=(function(){var b;function a(a){this.THb=a;}a.prototype.ss=function(a){a.map(this.THb.ss);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.f$))],b);})();b.Wza=f;f=(function(){var b;function a(a){this.RHb=a;}a.prototype.ss=function(a){this.RHb.ss(a.data);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.c$))],b);})();b.Xza=f;f=(function(){var b;function a(){}a.prototype.ss=function(a){var b;a.ea && "string" === typeof a.ea?a.href && "string" === typeof a.href?a.profileId && "string" === typeof a.profileId || (b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new h.zc(g.K.Zx,g.L.Vx,void 0,void 0,void 0,b,void 0,a.ea);};b=a;return b=c.__decorate([l.N()],b);})();b.$za=f;},function(f,b,a){var c,l,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Kza=void 0;c=a(0);l=a(79);k=a(6);h=a(1);f=(function(){var b;function a(a,b){this.aP=b;this.log=a.ob("PboEventSenderImpl");}a.prototype.cqa=function(a,b){var d;d=this.aP(l.pm.start);return this.nMa(d,a,b);};a.prototype.LYa=function(a){var b;b=this;return this.aP(l.pm.stop).Je(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};a.prototype.NS=function(a,b,c){a=this.aP(a);return this.nMa(a,b,c);};a.prototype.nMa=function(a,b,c){var d;d=this;return a.zo(this.log,b.qa.Yi,c).then(function(){})["catch"](function(a){d.log.error("PBO event failed",a);throw a;});};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.xb)),c.__param(1,h.l(l.MU))],b);})();b.Kza=f;},function(f,b,a){var c,l,k,h,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.vAa=void 0;c=a(0);l=a(1);k=a(43);h=a(30);g=a(40);p=a(4);d=a(34);f=(function(){var b;function a(a,b){a=k.le.call(this,a,"PlaydataConfigImpl") || this;a.config=b;return a;}M(a,k.le);ma.Object.defineProperties(a.prototype,{fK:{configurable:!0,enumerable:!0,get:function(){return this.config.Qt?"unsentplaydatatest":"unsentplaydata";}},$pa:{configurable:!0,enumerable:!0,get:function(){return !0;}},GYa:{configurable:!0,enumerable:!0,get:function(){return p.Lb(1E4);}},Vna:{configurable:!0,enumerable:!0,get:function(){return p.Lb(4E3);}},sRa:{configurable:!0,enumerable:!0,get:function(){return p.zR(1);}},tRa:{configurable:!0,enumerable:!0,get:function(){return p.ph(30);}}});b=a;c.__decorate([g.config(g.string,"playdataPersistKey")],b.prototype,"fK",null);c.__decorate([g.config(g.Cc,"sendPersistedPlaydata")],b.prototype,"$pa",null);c.__decorate([g.config(g.hh,"playdataSendDelayMilliseconds")],b.prototype,"GYa",null);c.__decorate([g.config(g.hh,"playdataPersistIntervalMilliseconds")],b.prototype,"Vna",null);c.__decorate([g.config(g.hh,"heartbeatCooldown")],b.prototype,"sRa",null);c.__decorate([g.config(g.hh,"keepAliveWindow")],b.prototype,"tRa",null);return b=c.__decorate([l.N(),c.__param(0,l.l(h.sj)),c.__param(1,l.l(d.vl))],b);})();b.vAa=f;},function(f,b,a){var k,h,g,p,d,m,t,x,A,n,q,L,D,C,T;function c(a,b){this.config=a;this.Fa=b;}function l(a,b,d,c,g,f){this.log=a;this.Aa=b;this.Ph=d;this.Pr=c;this.Nu=g;this.uIb=f;this.tMa=this.ak=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Zza=b.A9a=void 0;k=a(0);h=a(1);g=a(4);p=a(6);d=a(39);m=a(259);t=a(342);x=a(13);A=a(341);n=a(2);q=a(209);L=a(340);D=a(120);C=a(37);T=a(122);l.prototype.M2=function(a,b){var c;function d(){var a;a=c.Pr.create(c.Ph);c.Nu.Xra(a)["catch"](function(a){var b;b=c.tMa?p.Di.Maa:p.Di.ERROR;c.tMa=!0;c.log.write(b,"Unable to save playdata changes to IDB",a);});}c=this;this.log.trace("Adding initial playdata",b);this.Nu.sgb(b).then(function(){c.log.trace("Scheduling monitor",{interval:a});c.sq=c.Aa.Kpa(a,d);})["catch"](function(g){c.log.error("Unable to add playdata",{error:g,playdata:new q.UV().encode(b)});c.sq=c.Aa.Kpa(a,d);});};l.prototype.stop=function(a){var b,d;b=this;if(this.ak)return Promise.resolve();this.sq && this.sq.cancel();d=this.Pr.create(this.Ph);return this.Nu.Xra(d)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.Ph.background)return (b.log.trace("Playback is currently in the background and never played, not sending the playdata",d),Promise.resolve());b.log.trace("Sending final playdata to the server",d);return b.uIb.LYa(d);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return (b.log.trace("Removing playdata from the persisted store",d),b.Nu.uXa(d));b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",d.u);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};l.prototype.cancel=function(){this.ak=!0;this.sq && this.sq.cancel();this.Nu.Xra(this.Pr.create(this.Ph));};ma.Object.defineProperties(c.prototype,{Djb:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Fa.Pe;return !this.MD || 0 <= a.Oa(this.MD).zj(this.config.tRa)?(this.MD=a,!0):!1;}}});b.A9a=c;f=(function(){var b;function a(a,b,d,g,f,m,p,k){this.config=a;this.Aa=d;this.Nu=g;this.Pr=f;this.D3=m;this.bj=p;this.MD=Promise.resolve();this.closed=!1;this.log=b.ob("PlaydataServices");this.pE=[];this.active=new Set();this.vMb=new c(a,k);}a.prototype.Jb=function(){var a;a=this;this.Tl || (this.log.trace("Starting playdata services"),this.Tl=this.Nu.yKb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.Tl;};a.prototype.close=function(){this.closed=!0;this.pE.forEach(function(a){a.M2.cancel();});};a.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.fK && b.$pa?this.xNb(a):Promise.resolve();};a.prototype.fT=function(a){this.closed || this.QPb(a);};a.prototype.ZZa=function(a){var b,d,c;b=this;if(this.closed)return Promise.resolve();d=this.Pr.create(a);this.active["delete"](d.ea);a=S(D.pu(function(a){return a.key === d.ea;},this.pE));c=a.next().value;this.pE=a.next().value;return Promise.all(c.map(function(a){a.$Za=!0;return a.M2.stop(b.config.$pa);})).then(function(){});};a.prototype.i3=function(a,b){var d,c;d=this;c=a.ha;this.QZa(c,b);this.cqa(c,a.gP)["catch"](function(a){d.log.error("Start command failed",{playdata:a.qE,error:a.jD});});this.OPb(a);};a.prototype.QPb=function(a){var b;b=this;a.addEventListener(x.W.hq,function(d){var c;if(void 0 !== d.N3){c=a.Rl(d.N3);b.ZZa(c);d.JD || new Promise(function(b){var d;if(a.Sr.value)b();else {d=function(c){c.newValue && (b(),a.Sr.removeListener(d));};a.Sr.addListener(d);}}).then(function(){return b.i3(a,"online");});}});a.addEventListener(x.W.Qo,function(){b.i3(a,"online");});a.background || a.addEventListener(x.W.nJ,function(d){d=a.Rl(d.u);b.QZa(d,"online");});a.addEventListener(x.W.Jf,function(){b.bQb();});a.addEventListener(x.W.t1a,function(){b.DNb(a.ha)["catch"](function(b){(b=b.doa) && a.SC(b);});});a.Hc.addListener(function(){a.Ta.wga?b.log.trace("stickiness is disabled for timedtext"):b.KYa(a.ha);});a.ud.addListener(function(){a.Ta.wga?b.log.trace("stickiness is disabled for audio"):b.KYa(a.ha)["catch"](function(b){(b=b.doa) && a.SC(b);});});};a.prototype.QZa=function(a,b){var d,c;a.od("pdb");if(this.config.Vna.KAb()){d=this.Pr.create(a);c=d.ea;this.pE.some(function(a){return a.key === c;})?this.log.trace("Already collecting " + b + " playdata, ignoring",d):(this.log.info("Starting to collect " + b + " playdata",d),this.active.add(c),this.pE.push({key:c,M2:this.bwb(a,d),Gu:!1,$Za:!1}));}};a.prototype.xNb=function(a){var b,d,c,g;b=this;d=this.Nu.qE.filter(function(a){return !b.active.has(a.ea);});c=void 0;g=void 0;a && Infinity === a?c=d:(d=S(D.pu(function(b){return b.u === a;},d)),c=d.next().value,g=d.next().value);g && 0 < g.length && this.Aa.Sh(this.config.GYa,function(){b.JYa(g);});return c && 0 !== c.length?this.JYa(c):Promise.resolve();};a.prototype.JYa=function(a){var d;function b(a){return d.D3.LYa(a).then(function(){return d.BLb(a);});}d=this;return a.reduce(function(a,d){return a.then(function(){return b(d);});},Promise.resolve());};a.prototype.BLb=function(a){var b;b=this;return this.Nu.uXa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};a.prototype.bwb=function(a,b){a=new l(this.log,this.Aa,a,this.Pr,this.Nu,this.D3);a.M2(this.config.Vna,b);return a;};a.prototype.cqa=function(a,b){var d,c;d=this;c=this.Pr.Bnb(a,b);return this.D3.cqa(a,c).then(function(){d.pE.filter(function(b){return b.key === a.ea.toString();}).forEach(function(a){a.Gu=!0;});})["catch"](function(a){throw {qE:c,jD:a};});};a.prototype.DNb=function(a){return this.vMb.Djb?this.NS(L.RV.PQ,a,n.K.C8):Promise.resolve();};a.prototype.KYa=function(a){return this.NS(L.RV.splice,a,n.K.zBa);};a.prototype.NS=function(a,b,d){var g;function c(a){var b;b=g.pE.filter(function(b){return b.key === a.ea.toString();});return 0 === b.length?!0:b.reduce(function(a,b){return a || b.$Za || !b.Gu;},!1);}g=this;return c(b)?this.MD:this.MD=this.MD["catch"](function(){return Promise.resolve();}).then(function(){var d;if(c(b))return Promise.resolve();d=g.Pr.create(b);return g.D3.NS(a,b,d);}).then(function(a){return a;})["catch"](function(c){var f;g.log.error("Failed to send event",{eventKey:a,xid:b.ea,error:c});c.eha?f=g.bj(d,c):c.lu === n.AV.Faa && (f=g.bj(d,c));throw {jD:c,doa:f};});};a.prototype.OPb=function(a){this.gPb(a) && this.Oqa(this.Kvb(a.ha),a);};a.prototype.Oqa=function(a,b){var d;d=this;this.Xea();this.ela=this.Aa.Sh(a,function(){d.Xea();d.NS(L.RV.PQ,b.ha,n.K.C8).then(function(){d.Oqa(a,b);})["catch"](function(c){var g;g=c.jD;(c=c.doa) && b.SC(c);g.lu === n.AV.Faa && d.Oqa(a,b);});});};a.prototype.bQb=function(){this.Xea();};a.prototype.gPb=function(a){return a.state.value == x.yb.rd;};a.prototype.Xea=function(){this.ela && (this.ela.cancel(),this.ela=void 0);};a.prototype.Kvb=function(a){return a.Ta.Sja?g.Lb(a.Ta.Sja):this.config.sRa;};b=a;return b=k.__decorate([h.N(),k.__param(0,h.l(A.z$)),k.__param(1,h.l(p.xb)),k.__param(2,h.l(d.Tg)),k.__param(3,h.l(t.S9)),k.__param(4,h.l(m.VV)),k.__param(5,h.l(L.V9)),k.__param(6,h.l(T.GB)),k.__param(7,h.l(C.th))],b);})();b.Zza=f;},function(f,b,a){var k,h,g,p,d,m,t,x,A,n,q;function c(){}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gza=void 0;k=a(0);h=a(1);g=a(14);p=a(2);d=a(21);m=a(44);t=a(518);x=a(71);A=a(75);n=a(209);q=a(208);f=(function(){var b;function a(a,b,d,g,f){var k;k=this;this.is=a;this.Ak=b;this.config=d;this.nz=g;this.SHb=f;this.Lu=function(){return new c().encode({version:k.version,data:k.qE});};this.iTb=function(a){a=k.hTb(a);k.SHb.ss(a);return a;};this.hTb=function(a){var b;if(k.is.Fm(a))return k.lTb(a);b=a.version;if(void 0 != b && k.is.Dh(b) && 1 == b)return k.mTb(a);b=a.version;if(void 0 != b && k.is.Dh(b) && 2 == b)return new c().decode(a);if(a.version && k.is.Dh(a.version))throw new m.zc(p.K.Zx,p.L.Jta,void 0,void 0,void 0,"Version number is not supported. Version: " + a.version,void 0,a);throw new m.zc(p.K.Zx,p.L.Vx,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.vq=new t.t8(2,this.config().OVa,"" !== this.config().OVa && 0 < this.config().EIb,this.Ak,this.Lu);}a.prototype.yKb=function(){return this.vq.load(this.iTb)["catch"](function(a){throw new m.zc(p.K.Zx,a.ja || a.ld,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};a.prototype.sgb=function(a){return this.vq.add(a);};a.prototype.uXa=function(a){return this.vq.remove(a,function(a,b){return a.ea === b.ea;});};a.prototype.Xra=function(a){return this.vq.update(a,function(a,b){return a.ea === b.ea;});};a.prototype.toString=function(){return JSON.stringify(this.Lu(),null,"  ");};a.prototype.d1a=function(a){return a?"/events?playbackContextId=" + a + "&esn=" + this.nz().Kh:"";};a.prototype.$ra=function(a){return a.map(function(a){return {wd:a.downloadableId,duration:a.duration};});};a.prototype.e1a=function(a){var b;return a?{total:a.playTimes.total,fF:null !== (b=a.playTimes.totalContentTime) && void 0 !== b?b:a.playTimes.total,audio:this.$ra(a.playTimes.audio || []),video:this.$ra(a.playTimes.video || []),text:this.$ra(a.playTimes.timedtext || [])}:{total:0,fF:0,audio:[],video:[],text:[]};};a.prototype.lTb=function(a){var b,d,c;b=this;a=JSON.parse(a);d={type:"online",href:this.d1a(a.playbackContextId),ea:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,$O:a.timestamp,PS:a.playback?1E3 * a.playback.startEpoch:-1,xJ:a.mediaId,$R:this.e1a(a.playback),jb:"",gm:{},profileId:a.accountKey};c=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Ak.create().then(function(a){a.save(b.config().yP,c,!1);});if("" === d.href || "" === d.ea)throw new m.zc(p.K.Zx,p.L.Vx);return {version:2,data:[d]};};a.prototype.mTb=function(a){var b;b=this;if(!a.playdata || !this.is.Ov(a.playdata))throw new m.zc(p.K.Zx,p.L.Vx,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return {version:2,data:(function(a){return a.map(function(a){return {type:a.type,href:b.d1a(a.playbackContextId),ea:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,$O:a.timestamp,PS:a.playback?1E3 * a.playback.startEpoch:-1,xJ:a.mediaId,$R:b.e1a(a.playback),jb:"",gm:{},profileId:a.profileId};});})(a.playdata)};};ma.Object.defineProperties(a.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.vq.version;}},qE:{configurable:!0,enumerable:!0,get:function(){return this.vq.Ft;}}});b=a;return b=k.__decorate([h.N(),k.__param(0,h.l(d.Ae)),k.__param(1,h.l(x.ws)),k.__param(2,h.l(g.Jc)),k.__param(3,h.l(A.Cs)),k.__param(4,h.l(q.d$))],b);})();b.Gza=f;l.prototype.encode=function(a){var b;b=new n.UV();return a.map(b.encode);};l.prototype.decode=function(a){var b;b=new n.UV();return a.map(b.decode);};c.prototype.encode=function(a){return {version:a.version,data:new l().encode(a.data)};};c.prototype.decode=function(a){return {version:a.version,data:new l().decode(a.data)};};},function(f,b,a){var l,k,h,g,p,d,m,t,x,A,n,q;function c(a){return function(){return a.ib.get(l.e$).Jb();};}Object.defineProperty(b,"__esModule",{value:!0});b.qE=void 0;f=a(1);l=a(158);k=a(259);h=a(209);g=a(342);p=a(697);d=a(696);m=a(341);t=a(695);x=a(340);A=a(694);n=a(208);q=a(693);b.qE=new f.Kc(function(a){a(m.z$).to(t.vAa).Z();a(k.VV).to(h.Yza).Z();a(g.S9).to(p.Gza).Z();a(l.e$).to(d.Zza).Z();a(l.DM).CT(c);a(x.V9).to(A.Kza).Z().$T();a(n.f$).to(q.$za).Z();a(n.c$).to(q.Wza).Z();a(n.d$).to(q.Xza).Z();});},function(f,b,a){var c,l,k,h,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.Axa=void 0;c=a(0);l=a(1);k=a(6);h=a(346);a(345);g=a(344);p=a(343);d=a(210);f=(function(){var b;function a(a,b,d,c,g){this.Rfb=a;this.oLb=b;this.NXa=c;this.$Xa=g;this.ma=d.ob("LicenseProviderImpl");}a.prototype.Kv=function(a){var b,d;b=this;d=this.NXa.URb(a);return this.Rfb.zo(this.ma,a.Yi,d).then(function(a){a.map(function(a){return a.NBb;});return b.$Xa.o0a(a);})["catch"](function(a){b.ma.error("PBO license failed",a);return Promise.reject(a);});};a.prototype.release=function(a){var b;b=this;a=this.NXa.XRb(a);return this.oLb.Je(this.ma,a).then(function(a){return b.$Xa.YRb(a);})["catch"](function(a){b.ma.error("PBO release license failed",a);return Promise.reject(a);});};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(h.Q9)),c.__param(1,l.l(g.g$)),c.__param(2,l.l(k.xb)),c.__param(3,l.l(p.X9)),c.__param(4,l.l(d.SV))],b);})();b.Axa=f;},function(f,b,a){var c,l,k,h,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.dva=void 0;c=a(0);l=a(1);k=a(27);h=a(41);g=a(105);p=a(148);d=a(80);m=a(183);t=a(159);f=(function(){var b;function a(a,b,d,c){this.pd=a;this.Uv=b;this.KTb=d;this.mJ=c;}a.prototype.Wi=function(a){var b;b=this;return this.pd.It(a.Qi[0].data[0],[8,4])?Promise.resolve({gc:[{id:"ddd",Vz:"cert",lJ:void 0}],Um:[{sessionId:"ddd",data:new Uint8Array(this.Uv.decode(m.nDa))}]}):this.pd.It(a.Qi[0].data[0],this.KTb.decode("certificate"))?Promise.resolve({gc:[{id:"ddd",Vz:"cert",lJ:void 0}],Um:[{sessionId:"ddd",data:new Uint8Array(this.Uv.decode(m.L7))}]}):this.mJ.Kv(this.xtb(a)).then(function(a){return b.ytb(a);});};a.prototype.release=function(a){var b;b=this;return this.mJ.release(this.Btb(a)).then(function(d){return b.Ctb(d,a);});};a.prototype.xtb=function(a){var b,c;b=this;c=a.Qi.map(function(a){return a.data.map(function(d){return {sessionId:a.sessionId,dataBase64:b.Uv.encode(d)};});});return {ea:a.ea,ug:a.ug,a_:a.a_,Xi:d.Dla(a.Xi),Pt:p.Cn[a.Pt],Qi:c.reduce(function(a,b){return a.concat(b);},[]),nR:a.nR,Yi:a.Yi};};a.prototype.Btb=function(a){var b;b={};a.Qi && a.gc[0].id && (b[a.gc[0].id]=this.Uv.encode(a.Qi[0]));return a && a.Qi?{ea:a.ea,gc:a.gc,dNb:b}:{ea:a.ea,gc:a.gc};};a.prototype.ytb=function(a){return {gc:a.gc,Um:a.Um};};a.prototype.Ctb=function(a,b){return a && a.response && a.response.data && b.gc[0].id && (a=a.response.data[b.gc[0].id])?{response:this.Uv.decode(a)}:{};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.Cf)),c.__param(1,l.l(h.Ai)),c.__param(2,l.l(g.py)),c.__param(3,l.l(t.LF))],b);})();b.dva=f;},function(f,b,a){var c,l,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.AWa=void 0;f=a(1);c=a(498);l=a(700);k=a(159);h=a(699);b.AWa=new f.Kc(function(a){a(c.r7).to(l.dva).Z();a(k.LF).to(h.Axa).Z();});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.YCb=b.sSa=b.WCb=void 0;b.WCb=function(a){return a;};b.sSa=function(a){return a;};b.YCb=function(a){return Object.assign({},a);};},function(f,b,a){var c,l,k,h,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.xwa=void 0;c=a(0);l=a(53);k=a(702);h=a(50);g=a(31);p=a(37);d=a(1);m=a(350);t=a(4);f=(function(){var b,f;function a(a,b,d){this.Fa=a;this.DUb=b;this.performance=d;l.Xm(this,"performance");}a.prototype.get=function(a,d,c){var g;g=this;return new Promise(function(f,m){var k,p,l;try{k=g.DUb.create();("withCredentials" in k) || m(Error("Missing CORS support"));k.open("GET",a,!0);d && (k.withCredentials=!0);c && (k.timeout=c.aa(t.fa));p=g.Fa.Pe;l=void 0;k.onreadystatechange=function(){var d;switch(k.readyState){case XMLHttpRequest.HEADERS_RECEIVED:l=g.Fa.Pe.Oa(p);break;case XMLHttpRequest.DONE:(d=g.Fa.Pe.Oa(p),d={body:k.responseText,status:k.status,headers:b.xHb(k.getAllResponseHeaders()),yd:g.Nia(a,h.$(k.responseText.length),d,l)});f(d);}};k.send();}catch(W){m(W);}});};a.xHb=function(a){var b,c,g;b={};a=a.split("\r\n");for(var d=0;d < a.length;d++){c=a[d];g=c.indexOf(": ");0 < g && (b[c.substring(0,g).toLowerCase()]=c.substring(g + 2));}return b;};a.prototype.Nia=function(a,b,d,c){b={size:b,duration:d,nra:c};if(!this.performance || !this.performance.getEntriesByName)return b;d=this.performance.getEntriesByName(a);if(0 == d.length && (d=this.performance.getEntriesByName(a + "/"),0 == d.length))return b;a=d[d.length - 1];b=k.sSa(b);a.Sob && (b.size=h.$(a.Sob));0 < a.duration?b.duration=t.timestamp(a.duration):0 < a.startTime && 0 < a.responseEnd && (b.duration=t.timestamp(a.responseEnd - a.startTime));0 < a.requestStart && (b.kLa=t.timestamp(a.domainLookupEnd - a.domainLookupStart),b.hra=t.timestamp(a.connectEnd - a.connectStart),b.nra=t.timestamp(a.responseStart - a.startTime),0 === a.secureConnectionStart?b.rra=t.timestamp(0):void 0 !== a.secureConnectionStart && (d=a.connectEnd - a.secureConnectionStart,b.rra=t.timestamp(d),b.hra=t.timestamp(a.connectEnd - a.connectStart - d)));return b;};f=b=a;return f=b=c.__decorate([d.N(),c.__param(0,d.l(p.th)),c.__param(1,d.l(m.Raa)),c.__param(2,d.l(g.WV)),c.__param(2,d.optional())],f);})();b.xwa=f;},function(f,b,a){var c,l,k,h,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Yva=void 0;c=a(0);l=a(1);k=a(53);h=a(31);g=a(4);p=a(21);f=(function(){var b;function a(a,b){this.is=a;this.json=b;k.Xm(this,"json");}a.prototype.parse=function(a){var d;a=this.json.parse(a);if(!this.is.ada(a))throw Error("FtlProbe: param: not an object");if(a.next && !this.is.mO(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.mO(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays && !this.is.Ov(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.mO(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Ov(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Fm(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.AC(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b < a.urls.length;++b){d=a.urls[b];if(!this.is.ada(d))throw Error("FtlProbe: param.urls[" + b + "]: not an object");if(!this.is.bo(d.name))throw Error("FtlProbe: param.urls[" + b + "].name: not a string");if(!this.is.bo(d.url))throw Error("FtlProbe: param.urls[" + b + "].url: not a string");}return {eKb:a.pulses,EWa:a.pulse_delays?a.pulse_delays.map(g.Lb):[],dKb:g.Lb(a.pulse_timeout),rRa:a.next?g.Lb(a.next):void 0,ye:a.urls,Pla:a.logblob,context:a.ctx};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(p.Ae)),c.__param(1,l.l(h.ay))],b);})();b.Yva=f;},function(f,b,a){var c,l,k,h,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;c=a(0);l=a(1);k=a(50);h=a(4);g=a(49);p=a(70);f=(function(){var b,f;function a(a,b){this.dh=a;this.WD=b;}a.prototype.xS=function(a){a=this.WD.Lp("ftlProbeError","info",b.yUb({url:a.url,sc:a.status,pf_err:a.Xna},a));this.dh.Qc(a);};a.yUb=function(a,d){d.yd && (d=d.yd,b.yt(a,"d",d.duration),b.yt(a,"dns",d.kLa),b.yt(a,"tcp",d.hra),b.yt(a,"tls",d.rra),b.yt(a,"ttfb",d.nra),a.sz=d.size.aa(k.As));return a;};a.yt=function(a,b,d){d && (a[b]=d.aa(h.fa));return a;};f=b=a;return f=b=c.__decorate([l.N(),c.__param(0,l.l(g.wl)),c.__param(1,l.l(p.Kq))],f);})();b.nBa=f;},function(f,b,a){var c,l,k,h,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.oBa=void 0;c=a(0);l=a(1);k=a(50);h=a(4);g=a(49);p=a(70);f=(function(){var b,f;function a(a,b){this.dh=a;this.WD=b;}a.prototype.xS=function(a){var d;d={ctx:a.context,data:a.data.map(function(a){return {name:a.name,url:a.url,data:a.data.map(function(a){return b.zUb({d:a.yd.duration.aa(h.fa),sc:a.status,sz:a.yd.size.aa(k.As),via:a.WTb,cip:a.skb,err:a.jD},a);})};})};a=this.WD.Lp(a.Pla,"info",d);this.dh.Qc(a);};a.zUb=function(a,d){b.yt(a,"dns",d.yd.kLa);b.yt(a,"tcp",d.yd.hra);b.yt(a,"tls",d.yd.rra);b.yt(a,"ttfb",d.yd.nra);return a;};a.yt=function(a,b,d){d && (a[b]=d.aa(h.fa));return a;};f=b=a;return f=b=c.__decorate([l.N(),c.__param(0,l.l(g.wl)),c.__param(1,l.l(p.Kq))],f);})();b.oBa=f;},function(f,b,a){var c,l,k,h,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.$va=void 0;c=a(0);l=a(1);k=a(4);h=a(39);g=a(6);p=a(348);d=a(347);m=a(188);f=(function(){var b,f;function a(a,b,d,c,g,f,m){this.config=a;this.WPa=b;this.Aa=d;this.Oh=c;this.RLb=g;this.fpa=f;this.iBb=0;this.ma=m.ob("FTL");}a.prototype.start=function(){this.config.enabled && !this.sq && (this.sq=this.Aa.Sh(this.config.NZa,this.EA.bind(this)));};a.prototype.stop=function(){this.sq && (this.sq.cancel(),this.sq=void 0);};a.prototype.EA=function(){var a,b;a=this;b="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.iBb++;this.oxb(b).then(function(b){return Promise.all(b.ye.map(function(d){return a.myb(b,d.url,d.name);})).then(function(d){0 < d.length && a.RLb.xS({data:d,context:b.context,Pla:b.Pla});}).then(function(){return b;});}).then(function(b){a.sq && (b.rRa?a.sq=a.Aa.Sh(b.rRa,a.EA.bind(a)):a.stop());})["catch"](function(b){return a.ma.error("FTL run failed",b);});};a.prototype.oxb=function(a){var b;b=this;return this.WPa.get(a,!1).then(function(d){var c;if(200 != d.status || null == d.body)return (b.fpa.xS({url:a,status:d.status,Xna:"FTL API request failed",yd:d.yd}),Promise.reject(Error("FTL API request failed: " + d.status)));c=b.Oh.parse(d.body);return c instanceof Error?(b.fpa.xS({url:a,status:4,Xna:"FTL Probe API JSON parsing error",yd:d.yd}),Promise.reject(c)):Promise.resolve(c);})["catch"](function(d){d instanceof Error && (b.fpa.xS({url:a,status:0,Xna:d.message}),b.ma.error("FTL API call failed",d.message));return Promise.reject(d);});};a.prototype.myb=function(a,d,c){var g;g=this;return new Promise(function(f,m){var A;for(var p,l,t,h=[],r={},x=0;x < a.eKb;(r={Ll:r.Ll,Hoa:r.Hoa},++x)){r.Ll=x < a.EWa.length?a.EWa[x]:k.rb;r.Hoa="" + d + (-1 === d.indexOf("?")?"?":"&") + "pulse=" + (x + 1);A=(function(d){return function(){return new Promise(function(c,f){g.Aa.Sh(d.Ll,function(){b.KJb(g.WPa,d.Hoa,a.dKb).then(function(a){function b(a,b,d){a || (a=d.headers[b]);return a;}p=b(p,"via",a);l=b(l,"x-ftl-probe-data",a);t=b(t,"x-ftl-error",a);c({status:a.status,yd:a.yd,WTb:p || "",skb:l || "",jD:t || ""});})["catch"](function(a){f(a);});});});};})(r);h.push(0 < x?h[x - 1].then(A):A());}Promise.all(h).then(function(a){f({url:d,name:c,data:a});})["catch"](function(a){m(a);});});};a.KJb=function(a,b,d){return a.get(b,!1,d).then(function(a){return Object.assign({},a);});};f=b=a;return f=b=c.__decorate([l.N(),c.__param(0,l.l(m.P7)),c.__param(1,l.l(d.n8)),c.__param(2,l.l(h.Tg)),c.__param(3,l.l(p.O7)),c.__param(4,l.l(m.W$)),c.__param(5,l.l(m.V$)),c.__param(6,l.l(g.xb))],f);})();b.$va=f;},function(f,b,a){var c,l,k,h,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.hNa=void 0;f=a(1);c=a(707);l=a(706);k=a(705);h=a(704);g=a(703);p=a(348);d=a(347);m=a(188);b.hNa=new f.Kc(function(a){a(m.Q7).to(c.$va).Z();a(m.W$).to(l.oBa).Z();a(m.V$).to(k.nBa).Z();a(p.O7).to(h.Yva).Z();a(d.n8).to(g.xwa).Z();});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});f=(function(){function a(a){this.Bt=a;}a.prototype.LR=function(){var a,b,f;a=this.Bt.Hvb();b=this.Bt.Ivb();f=this.Bt.Jvb();if("number" === typeof a && "number" === typeof b && "number" === typeof f)return (f - a) / b;};return a;})();b.w8a=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});f=(function(){function a(a,b){this.Bt=a;this.LR=b;}a.prototype.kqa=function(a){return this.Bt.kqa(a);};a.prototype.Qm=function(){return this.Bt.Qm();};a.prototype.jwb=function(){return this.LR.LR();};return a;})();b.v8a=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});f=(function(){function a(a){this.VRa=a;}a.prototype.kqa=function(a){try{this.VRa.setItem("gtp",JSON.stringify(a));}catch(l){return !1;}return !0;};a.prototype.cOa=function(){var a;try{a=this.VRa.getItem("gtp");if(a)return JSON.parse(a);}catch(l){}};a.prototype.Qm=function(){var a;a=this.cOa();if(a && a.tp)return a.tp.a;};a.prototype.Hvb=function(){var a;a=this.Dia();if(a)return a.p25;};a.prototype.Ivb=function(){var a;a=this.Dia();if(a)return a.p50;};a.prototype.Jvb=function(){var a;a=this.Dia();if(a)return a.p75;};a.prototype.Dia=function(){var a;a=this.cOa();if(a && (a=a.iqr))return a;};return a;})();b.m6=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(711);l=a(710);k=a(709);b["default"]=function(a){var b;a=new c.m6(a);b=new k.w8a(a);return new l.v8a(a,b);};},function(f,b,a){var c,l,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.Yya=void 0;c=a(0);l=a(516);k=a(1);h=a(180);g=a(349);f=(function(){var b;function a(a,b,d){this.config=a;this.xCb=b;this.Ab=d;}a.prototype.Dfa=function(){if(this.config.l1a)return this.Ab(this.xCb());};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.y9)),c.__param(1,k.l(h.x9)),c.__param(2,k.l(g.z9))],b);})();b.Yya=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.rDa=void 0;c=a(0);l=a(1);f=(function(){var b;function a(){}a.prototype.create=function(){return new XMLHttpRequest();};b=a;return b=c.__decorate([l.N()],b);})();b.rDa=f;},function(f,b,a){var c,l,k,h,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.NTa=void 0;f=a(1);c=a(714);l=a(97);k=a(350);h=a(713);g=a(212);p=a(349);d=a(712);b.NTa=new f.Kc(function(a){a(k.Raa).to(c.rDa).Z();a(l.cy).Lx(function(){return O._cad_global.http;});a(g.wM).to(h.Yya).Z();a(p.z9).si(d["default"]);});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.HSa=void 0;b.HSa=function(a,b){var g,p;if(0 !== a.length){if(1 === a.length)return a[0];for(var c=a[0],f=b(c),h=1;h < a.length;h++){g=a[h];p=b(g);p > f && (c=g,f=p);}return c;}};},function(f,b,a){var l;function c(a,b,c){a=l.FU.call(this,a,b) || this;a.fz=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.$ta=void 0;l=a(354);M(c,l.FU);b.$ta=c;},function(f,b,a){var c,l,k,h,g,p,d,m,t,x,A,n,q,L,D,C,T,u,ba,R,V;Object.defineProperty(b,"__esModule",{value:!0});b.Mxa=void 0;c=a(0);l=a(258);k=a(468);h=a(49);g=a(27);p=a(460);d=a(254);m=a(1);t=a(355);x=a(353);A=a(97);n=a(14);q=a(37);L=a(19);D=a(33);C=a(70);T=a(73);u=a(133);ba=a(31);R=a(34);V=a(352);f=(function(){var b;function a(a,b,d,c,g,f,m,p,k,l,t,h,r,x,A,n,q,J){this.P_a=a;this.eZ=b;this.dh=d;this.Bma=c;this.qha=g;this.dd=f;this.$Z=m;this.af=p;this.config=k;this.mc=l;this.Fa=t;this.wa=h;this.platform=r;this.cn=x;this.QD=A;this.mi=n;this.Vp=q;this.A2=J;}a.prototype.create=function(a,b,d){return new t.Nxa(a,b,d,this.P_a,this.eZ,this.dh,this.Bma,this.qha,this.dd,this.$Z,this.af,this.config,this.mc,this.Fa,this.wa,this.platform,this.cn,this.QD,this.mi,this.Vp,this.A2);};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(l.uW)),c.__param(1,m.l(k.P6)),c.__param(2,m.l(h.wl)),c.__param(3,m.l(p.f9)),c.__param(4,m.l(d.J7)),c.__param(5,m.l(g.Cf)),c.__param(6,m.l(x.o7)),c.__param(7,m.l(A.cy)),c.__param(8,m.l(n.Jc)),c.__param(9,m.l(T.Us)),c.__param(10,m.l(q.th)),c.__param(11,m.l(L.qd)),c.__param(12,m.l(D.rj)),c.__param(13,m.l(ba.aG)),c.__param(14,m.l(C.Kq)),c.__param(15,m.l(u.cG)),c.__param(16,m.l(R.vl)),c.__param(17,m.l(V.q9))],b);})();b.Mxa=f;},function(f,b,a){var c,l,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Kxa=void 0;c=a(0);l=a(1);k=a(50);h=a(75);f=(function(){var b;function a(a){this.Jh=a;}a.prototype.ECb=function(){var a;a=this.Jh()?this.Jh().Kh.length:40;return k.$(a + 33);};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(h.Cs))],b);})();b.Kxa=f;},function(f,b,a){var l,k,h,g,p,d,m,t,x,A;function c(a,b,d,c,g,f,m,k,l,t){this.platform=b;this.Ofa=d;this.type=c;this.severity=g;this.timestamp=f;this.wa=k;this.data=m;this.data.type=c;this.data.sev=g;this.data.devmod=this.platform.pga;this.data.clver=this.platform.version;a && a.Pi && (a.Pi.os && (this.data.osplatform=a.Pi.os.name,this.data.osver=a.Pi.os.version),this.data.browsername=a.Pi.name,this.data.browserver=a.Pi.version);a.Zka && (this.data.tester=!0);a.Jz && !this.data.groupname && (this.data.groupname=a.Jz);a.CH && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + a.CH:a.CH);a.iF && (this.data.uigroupname=a.iF);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.wa.Qvb();this.data.uniqueLogId=l.mNa();this.data.appId=this.wa.id;t && (a=this.wa.zb(),this.data.soffms=a.Oa(t.uk).aa(p.fa),this.data.mid=this.data.mid || t.u,this.data.lvpi=t.f2,this.data.uiLabel=t.ke,this.data.uxLabels=t.R5,c="startup" === c?"playbackxid":"xid",this.data[c]="xid" === c && this.data.xid || t.ea,t.KE && (c=t.KE,(t=t.KE.split(".")) && 1 < t.length && "S" !== t[0][0] && (c="SABTest" + t[0] + ".Cell" + t[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + c:c));}Object.defineProperty(b,"__esModule",{value:!0});b.Jxa=void 0;l=a(0);k=a(50);h=a(1);g=a(37);p=a(4);d=a(486);m=a(34);t=a(19);x=a(358);A=a(33);f=(function(){var b;function a(a,b,d,c,g,f){this.Fa=a;this.Ofa=b;this.config=d;this.wa=c;this.MTb=g;this.platform=f;}a.prototype.Lp=function(a,b,d,g){return new c(this.config,this.platform,this.Ofa,a,b,this.Fa.Pe,d,this.wa,this.MTb,g);};b=a;return b=l.__decorate([h.N(),l.__param(0,h.l(g.th)),l.__param(1,h.l(d.V6)),l.__param(2,h.l(m.vl)),l.__param(3,h.l(t.qd)),l.__param(4,h.l(x.Iaa)),l.__param(5,h.l(A.rj))],b);})();b.Jxa=f;ma.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.GIa || (this.GIa=k.$(this.Ofa.encode(this.data).length));return this.GIa;}}});},function(f,b,a){var c,l,k,h,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.Dxa=void 0;c=a(0);l=a(50);k=a(4);h=a(1);g=a(14);p=a(40);d=a(43);m=a(30);f=(function(){var b;function a(a,b){a=d.le.call(this,a,"PboConfigImpl") || this;a.config=b;a.yDb=l.$(5E5);a.zNb=k.zR(1);a.NSa=l.$(1E6);return a;}M(a,d.le);ma.Object.defineProperties(a.prototype,{jda:{configurable:!0,enumerable:!0,get:function(){return this.config().jda;}},uZa:{configurable:!0,enumerable:!0,get:function(){return [];}},tZa:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});b=a;c.__decorate([p.config(p.object(),"shedLogblobTypes")],b.prototype,"uZa",null);c.__decorate([p.config(p.fo("string"),"shedDebugTypes")],b.prototype,"tZa",null);return b=c.__decorate([h.N(),c.__param(0,h.l(m.sj)),c.__param(1,h.l(g.Jc))],b);})();b.Dxa=f;},function(f,b,a){var c,l,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Lxa=void 0;c=a(0);l=a(1);k=a(213);h=a(50);f=(function(){var b;function a(a){this.config=a;}a.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.ECb());}).reduce(function(a,b){return a.add(b);},h.$(0));};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.O8))],b);})();b.Lxa=f;},function(f,b,a){var l,k,h,g,p,d,m,t,x,A,n,q;function c(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Oxa=void 0;l=a(0);k=a(1);h=a(53);g=a(31);p=a(4);d=a(27);m=a(19);t=a(33);x=a(75);A=a(6);n=a(359);q=a(74);f=(function(){var b;function a(a,b,d,c,g,f,m,k){this.wa=a;this.platform=d;this.Jh=c;this.json=g;this.pd=f;this.aj=m;this.LCb=k;h.Xm(this,"json");this.ma=b.ob("LogblobSender");}a.prototype.send=function(a){var b;b=this;return new Promise(function(d,g){var f;try{f=a.reduce(function(a,d){a.entries.push(b.Knb(d));return a;},new c());d(b.Ktb(f));}catch(V){b.ma.error(V.message);g(V);}}).then(function(a){return b.bqa(a);});};a.prototype.Knb=function(a){return this.pd.AR(this.pd.AR({},a.data),{esn:this.Jh().Kh,sev:a.severity,type:a.type,lver:this.platform.KCb,jssid:this.wa.id,devmod:this.platform.pga,jsoffms:a.timestamp.Oa(this.wa.OD).aa(p.fa),clienttime:a.timestamp.aa(p.fa),client_utc:a.timestamp.aa(p.um),uiver:this.aj.Px});};a.prototype.Ktb=function(a){var b;b=this;try{return this.json.stringify(a);}catch(R){for(var d={},c=0;c < a.entries.length;(d={jT:d.jT,He:d.He},++c)){d.He=Object.assign({},a.entries[c]);try{this.json.stringify(d.He);}catch(V){d.jT=void 0;this.pd.tz(d.He,(function(a){return function(d,c){try{b.json.stringify(c);}catch(Y){a.jT=Y.message;a.He[d]=a.jT;}};})(d));d.He.stringifyException=d.jT;d.He.originalType=d.He.type;d.He.type="debug";d.He.sev="error";}}return this.json.stringify(a);}};a.prototype.bqa=function(a){var b;b=this;return this.LCb.Je(this.ma,{logblobs:a}).then(function(){})["catch"](function(a){b.ma.error("PBO logblob failed",a);return Promise.reject(a);});};b=a;return b=l.__decorate([k.N(),l.__param(0,k.l(m.qd)),l.__param(1,k.l(A.xb)),l.__param(2,k.l(t.rj)),l.__param(3,k.l(x.Cs)),l.__param(4,k.l(g.ay)),l.__param(5,k.l(d.Cf)),l.__param(6,k.l(q.Ns)),l.__param(7,k.l(n.a$))],b);})();b.Oxa=f;},function(f,b,a){var l,k,h,g,p,d,m,t;function c(a){this.dH=g.rb;this.ica=[];this.zN=this.sX=!1;this.FDa=0;a && (this.dH=a.size,this.ica=a.ex,a instanceof c && (this.FDa=a.Jhb + 1));}Object.defineProperty(b,"__esModule",{value:!0});b.Kya=void 0;l=a(0);k=a(1);h=a(53);g=a(50);p=a(213);d=a(6);m=a(31);t=a(49);f=(function(){var b;function a(a,b,d,c){this.hEb=a;this.config=b;this.rf=d;this.json=c;h.Xm(this,"json");this.ma=this.rf.ob("MessageQueue");this.Yq=[];}a.prototype.lda=function(a){var b,d;0 === this.Yq.length && this.Yq.push(this.tia());if(a=this.Rwb(a)){b=this.hEb.measure([a]);d=this.Yq[this.Yq.length - 1];0 < d.size.add(b).zj(this.config.NSa) && (d=this.tia(),this.Yq.push(d));d.lda(a);}};a.prototype.jub=function(){var a;a=this.Yq.filter(function(a){return a.Gjb;});this.Yq.push(this.tia());a.forEach(function(a){return a.mDb();});return a;};a.prototype.Xfb=function(a){a.Mw || this.Yq.unshift(new c(a));};a.prototype.xLb=function(a){a=this.Yq.indexOf(a);0 <= a && this.Yq.splice(a,1);};a.prototype.Rwb=function(a){try{return {data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(D){var b,d;b={};a=a.data;d=a.debugMessage;d && "string" === typeof d && (b.originalDebugMessage=d);(a=a.debugCategory) && "string" === typeof a && (b.originalDebugCategory=a);this.ma.error("JSON.stringify error: " + D.message,b);}};a.prototype.tia=function(){return new c();};ma.Object.defineProperties(a.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Yq.reduce(function(a,b){return a.add(b.size);},g.rb);}}});b=a;return b=l.__decorate([k.N(),l.__param(0,k.l(p.P8)),l.__param(1,k.l(t.sV)),l.__param(2,k.l(d.xb)),l.__param(3,k.l(m.ay))],b);})();b.Kya=f;c.prototype.hL=function(){this.sX=!1;this.zN=!0;};c.prototype.Tp=function(){this.sX=!1;};c.prototype.lda=function(a){this.ica.push(a);this.dH=this.dH.add(a.size);};c.prototype.mDb=function(){this.sX=!0;};ma.Object.defineProperties(c.prototype,{Jhb:{configurable:!0,enumerable:!0,get:function(){return this.FDa;}},size:{configurable:!0,enumerable:!0,get:function(){return this.dH;}},ex:{configurable:!0,enumerable:!0,get:function(){return this.ica;}},Gjb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.ex.length && !1 === this.sX;}},Mw:{configurable:!0,enumerable:!0,get:function(){return this.zN;}}});},function(f,b,a){var c,l,k,h,g,p,d,m,t,x,A,n;Object.defineProperty(b,"__esModule",{value:!0});b.Exa=void 0;c=a(0);l=a(1);k=a(53);h=a(31);g=a(362);p=a(39);d=a(6);m=a(49);t=a(361);x=a(2);A=a(90);a(161);n=a(360);f=(function(){var b;function a(a,b,d,c,g,f,m){this.config=a;this.json=b;this.Aa=d;this.BCb=c;this.rR=f;this.Yfa=m;this.C1=this.Ul=!1;this.listeners=[];k.Xm(this,"json");this.ma=g.ob("LogBatcher");}a.prototype.Jb=function(){this.Ul=!0;};a.prototype.Qc=function(a){var b;b=this;this.iPb(a) || (0 < a.size.zj(this.config.yDb)?this.ma.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.gEb(a);}),this.rR.lda(a),this.Aa.Rc(function(){b.Vsb();})));};a.prototype.flush=function(a){var b;a=void 0 === a?!1:a;b=this;return this.C1?(this.ma.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,g){b.ma.trace("Flushing",d.ZL);b.hj();b.Aa.Rc(function(){b.Zpa(a).then(function(){c();})["catch"](function(a){g(a);});});});};a.prototype.addListener=function(a){this.listeners.push(a);};a.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0 <= a && this.listeners.splice(a,1);};a.prototype.Zpa=function(a){var b,d;a=void 0 === a?!1:a;b=this;if(!this.Ul)return (this.ma.trace("LogBatcher is not initialized"),Promise.resolve());if(this.C1)return (this.ma.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());d=this.rR.jub();if(0 === d.length && !a)return (this.ma.trace("No logblobs to send"),Promise.resolve());this.hj();this.listeners.forEach(function(){});a=Promise.resolve();for(var c={},g=S(d),f=g.next();!f.done;(c={eea:c.eea},f=g.next())){c.eea=f.value;a=a.then((function(a){return function(){return b.yNb(a.eea);};})(c));}return a.then(function(){return b.hD();})["catch"](function(a){d.filter(function(a){return !a.Mw;}).forEach(function(a){return a.Tp();});b.hD();throw Error("Send failure. " + a);});};a.prototype.yNb=function(a){var b;b=this;this.ma.trace("Sending batch: " + a.size,d.ZL);return Promise.resolve(this.rR.xLb(a)).then(function(){return b.BCb.send(a.ex);}).then(function(){return a.hL();})["catch"](function(c){b.ma.warn("Failed to send batch of logblobs.",c,d.ZL);a.Tp();b.VOb(c) && b.rR.Xfb(a);b.jPb(c) && (b.C1=!0);throw c;});};a.prototype.VOb=function(a){return a.Hg === x.mV.Cza?!1:this.config.jda;};a.prototype.jPb=function(a){return a.ld === x.L.bwa || a.ld === x.L.jM || a.ld === x.L.nM?!0:!1;};a.prototype.Vsb=function(){var a;a=this;0 < this.rR.size.zj(this.config.NSa)?this.Zpa()["catch"](function(b){return a.ma.warn("Failed to send log messages on size threshold. " + b);}):this.hD();};a.prototype.hj=function(){this.LD && (this.LD.cancel(),this.LD=void 0);};a.prototype.hD=function(){this.LD || (this.LD=this.Aa.Sh(this.config.zNb,this.ix.bind(this)));};a.prototype.ix=function(){var a;a=this;this.C1=!1;this.hj();this.Zpa()["catch"](function(b){return a.ma.warn("Failed to send log messages on timer. " + b);});};a.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(T){}return b;};a.prototype.iPb=function(a){return 0 <= this.config.uZa.indexOf(a.type)?!0:a.type === n.Be.debug?0 <= this.config.tZa.indexOf(a.data.debugCategory):!1;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(m.sV)),c.__param(1,l.l(h.ay)),c.__param(2,l.l(p.Tg)),c.__param(3,l.l(g.R8)),c.__param(4,l.l(d.xb)),c.__param(5,l.l(t.n9)),c.__param(6,l.l(A.XL))],b);})();b.Exa=f;},function(f,b,a){var c,l,k,h,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.Msa=void 0;c=a(0);l=a(1);k=a(14);h=a(102);g=a(49);p=a(70);d=a(6);f=(function(){var b,f;function a(a,c,g,f){var m;m=this;this.NCb=a;this.QD=c;this.config=f;this.Woa=[];this.NCb.e4(b.k2a,this.cyb.bind(this));g().then(function(a){var b;b=f().kr.jtb;m.BDb=b?d.Di[b.toUpperCase()]:d.Di.ERROR;m.dh=a;m.CNb();});}a.prototype.cyb=function(a,b){this.dh?this.HWa(a,b):this.Woa.push([a,b]);};a.prototype.CNb=function(){var a,b;a=this;b=this.Woa;this.Woa=[];b.forEach(function(b){a.HWa(b[0],b[1]);});};a.prototype.HWa=function(a,b){var c;if(this.dh && this.ZOb(a)){c={debugMessage:a.message,debugCategory:a.Im};a.jd.forEach(function(a){return c=Object.assign(Object.assign({},c),a.value);});c=Object.assign(Object.assign({},c),{prefix:"debug"});a=this.QD.Lp("debug",d.Di[a.level].toLowerCase(),c,b);this.dh.Qc(a);}};a.prototype.ZOb=function(a){var b;b=this.BDb;return void 0 !== b && a.level <= b && !a.jd.find(function(a){return a.LP(d.ZL);});};f=b=a;f.k2a="adaptorAll";return f=b=c.__decorate([l.N(),c.__param(0,l.l(h.tB)),c.__param(1,l.l(p.Kq)),c.__param(2,l.l(g.K8)),c.__param(3,l.l(k.Jc))],f);})();b.Msa=f;},function(f,b,a){var c,l,k,h,g,p,d,m,t,x,n,q,E,L,D,C,u,P,ba,R,V,W;Object.defineProperty(b,"__esModule",{value:!0});b.cSa=void 0;f=a(1);c=a(142);l=a(726);k=a(725);h=a(724);g=a(723);p=a(722);d=a(14);m=a(721);t=a(720);x=a(719);n=a(39);q=a(75);E=a(357);L=a(361);D=a(362);C=a(70);u=a(213);P=a(49);ba=a(356);R=a(718);V=a(353);W=a(351);b.cSa=new f.Kc(function(a){a(P.wl).to(k.Exa).Z();a(L.n9).to(h.Kya).Z();a(D.R8).to(g.Oxa).Z();a(u.P8).to(p.Lxa).Z();a(P.sV).to(m.Dxa).Z();a(C.Kq).to(t.Jxa).Z();a(u.O8).to(x.Kxa).Z();a(ba.Q8).to(R.Mxa).Z();a(V.o7).to(W.Yua).Z();a(E.l6).to(l.Msa).Z();a(P.K8).CT(function(a){return function(){return a.ib.get(c.RF)().then(function(b){return new Promise(function(c){var f,m,k;function g(){m() && k() && b.CR?c(a.ib.get(P.wl)):f.Rc(g);}f=a.ib.get(n.Tg);m=a.ib.get(d.Jc);k=a.ib.get(q.Cs);f.Rc(g);});});};});});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tua=void 0;b.Tua=function(a,b,f,k){this.Kh=a;this.vz=b;this.jha=k;};},function(f,b,a){var c,l,k,h,g,p,d,m,t,x,n,q,E,L;Object.defineProperty(b,"__esModule",{value:!0});b.Uua=void 0;c=a(0);l=a(2);k=a(21);h=a(728);g=a(6);p=a(368);d=a(41);m=a(93);t=a(27);x=a(1);n=a(71);q=a(365);E=a(364);L=a(363);f=(function(){var b;function a(a,b,d,c,g,f,m,k,p,l){this.bLa=a;this.Ak=b;this.Ca=c;this.Nfa=g;this.dc=f;this.debug=m;this.LTb=k;this.Mfa=p;this.QHb=l;this.B7=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=d.ob("Device");}a.prototype.qMa=function(a){try{return a.match(this.B7)[2];}catch(P){}};a.prototype.sMa=function(a){try{return a.match(this.B7)[1];}catch(P){}};a.prototype.create=function(a){var b;b=this;return new Promise(function(d,c){b.Ak.create().then(function(g){var m,k,p,t,r,x;function f(g){b.Ca.Fm(g) && b.Ca.Fm(m)?(k=new h.Tua(g,m,void 0,p,a.qga || "cadmium"),d(k)):c({ja:l.L.Aua});}m=a.vz;if(a.qia)(p="bind_device",b.QHb.Je(b.log,{}).then(function(a){f(a.esn);})["catch"](function(a){c(a);}));else if(a.X_){r=a.Kh;if(b.Ca.Fm(r)){x=b.sMa(r);x != a.vz && b.log.error("esn prefix from ui is different",{ui:x,cad:a.vz,ua:a.userAgent});}else a.Mla && b.log.error("esn from ui is missing");g.load(a.cLa).then(function(a){t=a.value;b.Ca.Fm(t) && (b.Ca.Fm(r)?(a=b.qMa(r),p=a === t?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):p="storage_esn_not_in_config",f(m + t));})["catch"](function(d){var t;function k(){g.save(a.cLa,t,!1).then(function(){f(m + t);})["catch"](function(a){c(a);});}d.ja === l.L.ly?(b.Ca.Fm(a.Kh)?(t=b.qMa(a.Kh),b.Ca.Fm(t)?p="config_since_not_in_storage":(p="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Kh),t=b.bLa.jNa())):(p="generated_since_not_in_config_and_storage",t=b.bLa.jNa()),k()):c(d);});}else a.Fpb && b.Nfa && b.Nfa.getKeyByName?b.Nfa.getKeyByName(a.Whb).then(function(a){a=a.id;if(b.Ca.bo(a))(a=String.fromCharCode.apply(void 0,b.dc.decode(a)),b.debug.assert("" != a),m=b.sMa(a),f(a));else throw "ESN from getKeyByName is not a string";})["catch"](function(a){c({ja:l.L.Y6,ub:b.LTb.Ye(a)});}):a.Epb && b.Mfa && b.Mfa.MNa?b.Mfa.MNa().then(function(a){var d;a=String.fromCharCode.apply(void 0,a);d=m + a;b.debug.assert(b.B7.test(a));f(d);})["catch"](function(){c({ja:l.L.Y6});}):f();})["catch"](function(a){c(a);});});};b=a;return b=c.__decorate([x.N(),c.__param(0,x.l(p.i7)),c.__param(1,x.l(n.ws)),c.__param(2,x.l(g.xb)),c.__param(3,x.l(k.Ae)),c.__param(4,x.l(E.U6)),c.__param(5,x.l(d.Ai)),c.__param(6,x.l(m.Bs)),c.__param(7,x.l(t.Cf)),c.__param(8,x.l(q.T6)),c.__param(9,x.l(L.R9))],b);})();b.Uua=f;},function(f,b,a){var c,l,k,h,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.Sua=void 0;c=a(0);l=a(37);k=a(4);h=a(145);g=a(367);p=a(53);d=a(1);f=(function(){var b;function a(a,b){this.Fa=a;this.Koa=b;}a.prototype.jNa=function(){for(var a="",b=this.Fa.Pe.aa(k.fa),d=6;d--;){a=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[b % 32] + a;b=Math.floor(b / 32);}for(;30 > a.length;){a+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Koa.JWa(new g.U$(0,31,p.uUa))];}return a;};b=a;return b=c.__decorate([d.N(),c.__param(0,d.l(l.th)),c.__param(1,d.l(h.KM))],b);})();b.Sua=f;},function(f,b,a){var c,l,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.Jh=void 0;f=a(1);c=a(75);l=a(368);k=a(730);h=a(366);g=a(729);b.Jh=new f.Kc(function(a){a(c.Cs).Rf(function(){return function(){return O._cad_global.device;};});a(h.j7).to(g.Uua).Z();a(l.i7).to(k.Sua).Z();});},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Qya=void 0;c=a(0);l=a(1);f=(function(){var b;function a(){var a;a=this;this.ready=!1;this.aFb=new Promise(function(b){a.nMb=b;});}a.prototype.bFb=function(a){this.ready || (this.nMb(a),this.ready=!0);};a.prototype.isReady=function(){return this.ready;};b=a;return b=c.__decorate([l.N()],b);})();b.Qya=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.kA=void 0;f=a(1);c=a(369);l=a(732);k=a(142);b.kA=new f.Kc(function(a){a(c.zV).to(l.Qya).Z();a(k.RF).CT(function(a){return function(){return a.ib.get(c.zV).aFb;};});});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;b.mKa=function(a,b,f,k){return {IOa:function(){var b;b=a.Uia();k.Br && (b+=k.Br);return b;},ma:b,request:f,Vl:!1};};},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.gy=b.tM=b.hy=b.gR=b.ZBa=void 0;c=a(0);l=a(99);Object.defineProperty(b,"Mp4FragmentParser",{enumerable:!0,get:function(){return l.tM;}});Object.defineProperty(b,"Mp4FragmentSlicer",{enumerable:!0,get:function(){return l.gy;}});Object.defineProperty(b,"makeMdatHeader",{enumerable:!0,get:function(){return l.gR;}});Object.defineProperty(b,"SidxBox",{enumerable:!0,get:function(){return l.ZBa;}});k=a(3);f=(function(a){function b(c,d,g,f,k){return a.call(this,b.console,c,d,g,f,k) || this;}c.__extends(b,a);Object.defineProperties(b,{console:{get:function(){return this.G || (this.G=new k.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return b;})(l.hy);b.hy=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mm=b.QJa=void 0;b.QJa={ku:["minInitVideoBitrate",-Infinity],Nma:["minHCInitVideoBitrate",-Infinity],bx:["maxInitVideoBitrate",Infinity],wR:["minInitAudioBitrate",-Infinity],vR:["minHCInitAudioBitrate",-Infinity],jR:["maxInitAudioBitrate",Infinity],B2:["minAcceptableVideoBitrate",-Infinity],tR:["minAcceptableVMAF",0],xEb:["minAcceptableVMAFRebufferScalingFactor",0],Lma:["minAllowedVideoBitrate",-Infinity],sDb:["maxAllowedVideoBitrate",Infinity],XD:["minAllowedVmaf",-Infinity],ESa:["maxAllowedVmaf",Infinity],eL:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],k_:["enableResolutionVMAFStreamFilter",!1],Tna:["percentCapTitlesForResolutionVMAFStreamFilter",100],r4:["resolutionVMAFCappingRuleList",[]],$Pa:["ignoreUserFilterOnEmptyResult",!0],xR:["minRequiredBuffer",2E4],G2:["minRequiredAudioBuffer",0],Zi:["minPrebufSize",5800],Mma:["minCheckBufferingCompleteInterval",200],ULa:["enableMoreFrequentBufferingCompleteCheck",!1],rTa:["minimumBufferingCompleteInterval",1E4],m4:["requireDownloadDataAtBuffering",!1],jQa:["indicatorForDownloadDataAtBuffering","oncomplete"],n4:["requireSetupConnectionDuringBuffering",!1],Uoa:["rebufferingFactor",1],kq:["maxBufferingTime",2E3],dsa:["useMaxPrebufSize",!0],bA:["maxPrebufSize",4E4],sma:["maxRebufSize",Infinity],gsb:["fastRebufferRecoveryThreshold",Infinity],fsb:["fastRebufferRecoverBwThrehold",3E3],k1:["initialBitrateSelectionCurve",null],mQa:["initSelectionLowerBound",-Infinity],nQa:["initSelectionUpperBound",Infinity],r5:["throughputPercentForAudio",15],aea:["bandwidthMargin",0],cea:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],jib:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,cw:76376,scale:18862.4,gamma:3.0569}],bea:["bandwidthMarginContinuous",!1],kib:["bandwidthMarginForAudio",!0],bra:["switchConfigBasedOnInSessionTput",!0],qfa:["conservBandwidthMargin",20],cP:["conservBandwidthMarginTputThreshold",6E3],rfa:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],u_a:["switchAlgoBasedOnHistIQR",!1],OA:["switchConfigBasedOnThroughputHistory","iqr"],rma:["maxPlayerStateToSwitchConfig",-1],Tla:["lowEndMarkingCriteria","iqr"],s8:["IQRThreshold",.5],aka:["histIQRCalcToUse","simple"],Xq:["bandwidthManifold",{curves:[{min:.05,max:.82,cw:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,cw:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Lo:["maxTotalBufferLevelPerSession",0],SPa:["highWatermarkLevel",3E4],e0a:["toStableThreshold",3E4],w5:["toUnstableThreshold",0],Hqa:["skipBitrateInUpswitch",!1],msa:["watermarkLevelForSkipStart",8E3],Uja:["highStreamRetentionWindow",9E4],Ula:["lowStreamTransitionWindow",51E4],Wja:["highStreamRetentionWindowUp",5E5],Wla:["lowStreamTransitionWindowUp",1E5],Vja:["highStreamRetentionWindowDown",6E5],Vla:["lowStreamTransitionWindowDown",0],Tja:["highStreamInfeasibleBitrateFactor",.5],Vw:["lowestBufForUpswitch",9E3],c2:["lockPeriodAfterDownswitch",15E3],Yla:["lowWatermarkLevel",15E3],Ww:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Zla:["lowestWaterMarkLevelBufferRelaxed",!1],Dma:["mediaRate",1.5],q2:["maxTrailingBufferLen",15E3],CO:["audioBufferTargetAvailableSize",262144],ST:["videoBufferTargetAvailableSize",1048576],WSa:["maxVideoTrailingBufferSize",8388608],GSa:["maxAudioTrailingBufferSize",393216],z_:["fastUpswitchFactor",3],hsb:["fastUpswitchFactorWithoutHeaders",3],uha:["fastDownswitchFactor",3],cx:["maxMediaBufferAllowed",27E4],B4b:["minMediaBufferLen",1E4],Dqa:["simulatePartialBlocks",!0],zZa:["simulateBufferFull",!0],sfa:["considerConnectTime",!0],pfa:["connectTimeMultiplier",1],iSa:["lowGradeModeEnterThreshold",12E4],jSa:["lowGradeModeExitThreshold",9E4],JSa:["maxDomainFailureWaitDuration",3E4],FSa:["maxAttemptsOnFailure",18],oMa:["exhaustAllLocationsForFailure",!0],PSa:["maxNetworkErrorsDuringBuffering",20],iR:["maxBufferingTimeAllowedWithNetworkError",6E4],yda:["alwaysRunUnderflowTimer",!0],vMa:["fastDomainSelectionBwThreshold",2E3],M_a:["throughputProbingEnterThreshold",4E4],N_a:["throughputProbingExitThreshold",34E3],WRa:["locationProbingTimeout",1E4],zMa:["finalLocationSelectionBwThreshold",1E4],K_a:["throughputHighConfidenceLevel",.75],L_a:["throughputLowConfidenceLevel",.4],Jla:["locationStatisticsUpdateInterval",6E4],zCb:["locationSelectorPersistFailures",!0],VLa:["enablePerfBasedLocationSwitch",!1],j4b:["maxRateMaxFragmentGroups",4500],Yna:["pipelineScheduleTimeoutMs",2],dx:["maxPartialBuffersAtBufferingStart",2],Oma:["minPendingBufferLen",3E3],aA:["maxPendingBufferLen",6E3],arb:["enableNginxRateLimit",!1],X2:["nginxSendingRate",4E4],erb:["enableRequestPacingToken",!1],aEb:["mediaRequestPacingSpeed",2],Bka:["initialMediaRequestToken",2E4],i2:["maxActiveRequestsSABCell100",2],m2:["maxPendingBufferLenSABCell100",500],RXa:["resetActiveRequestsAtSessionInit",!0],Pqb:["enableCprAudio",!1],Qqb:["enableCprVideo",!1],Zea:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3]}],tma:["maxStreamingSkew",2E3],vDb:["maxBufferOccupancyForSkewCheck",Infinity],pTb:["useBufferOccupancySkipBack",!0],qma:["maxPendingBufferPercentage",10],uJ:["maxRequestsInBuffer",120],V0:["headerRequestSize",4096],Byb:["headerCacheEstimateHeaderSize",!1],LJ:["neverWipeHeaderCache",!1],q1a:["useSidxInfoFromManifestForHeaderRequestSize",!1],y_:["fastPlayHeaderRequestSize",0],TD:["maxRequestSize",0],FJ:["minRequestSize",65536],uR:["minBufferLenForHeaderDownloading",1E4],EZa:["smartHeaderPreDownloading",!1],Nqb:["enableAllHeadersPreDownloading",!1],$4b:["onlyAllowPtsUpdatePolling",!1],EEb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],zS:["reserveForSkipbackBufferMs",15E3],pna:["numExtraFragmentsAllowed",2],Po:["pipelineEnabled",!0],tJ:["maxParallelConnections",3],xTb:["usePipelineForAudio",!1],wTb:["usePipelineDetectionForAudio",!1],FZa:["socketReceiveBufferSize",0],OY:["audioSocketReceiveBufferSize",32768],xL:["videoSocketReceiveBufferSize",65536],o1a:["usePipelineDetectionForVideo",!1],IEb:["minVideoSocketReceiveBufferSize",65536],Rja:["headersSocketReceiveBufferSize",32768],SOb:["shareDownloadTracks",!0],TOb:["shareOpenRangeTracks",!1],w3:["perPipelineRequestQueues",!1],Pma:["minTimeBetweenHeaderRequests",void 0],K5:["updatePtsIntervalMs",1E3],nea:["bufferTraceDenominator",0],MC:["bufferLevelNotifyIntervalMs",2E3],MLa:["enableAbortTesting",!1],AGa:["abortRequestFrequency",8],Vqa:["streamingStatusIntervalMs",2E3],tx:["prebufferTimeLimit",6E4],D2:["minBufferLevelForTrackSwitch",2E3],crb:["enablePenaltyForLongConnectTime",!1],Rna:["penaltyFactorForLongConnectTime",2],Rla:["longConnectTimeThreshold",200],pda:["additionalBufferingLongConnectTime",2E3],qda:["additionalBufferingPerFailure",8E3],sS:["rebufferCheckDuration",6E4],TLa:["enableLookaheadHints",!1],eSa:["lookaheadFragments",2],rz:["enableOCSideChannel",!0],zoa:["probeRequestTimeoutMilliseconds",3E4],t5b:["probeRequestConnectTimeoutMilliseconds",8E3],KV:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],frb:["enableSCByteRangeHints",!1],S0a:["updateDrmRequestOnNetworkFailure",!0],ISa:["maxDiffAudioVideoEndPtsMs",1E3],d4b:["maxAudioFragmentOverlapMs",80],fpb:["deferAseHeaderCache",!1],TKa:["deferAseScheduling",!1],pRb:["timeBeforeEndOfStreamBufferMark",6E3],mma:["maxFastPlayBufferInMs",2E4],lma:["maxFastPlayBitThreshold",2E8],wDb:["maxBufferingCompleteBufferInMs",Infinity],C2:["minAudioMediaRequestSizeBytes",0],J2:["minVideoMediaRequestSizeBytes",0],uDb:["maxAudioMediaRequestSizeBytes",Infinity],JDb:["maxVideoMediaRequestSizeBytes",Infinity],CJ:["minAudioMediaRequestDuration",0],HJ:["minVideoMediaRequestDuration",0],EJ:["minMediaRequestDuration",0],tDb:["maxAudioMediaRequestDuration",Infinity],IDb:["maxVideoMediaRequestDuration",Infinity],kR:["maxMediaRequestDuration",Infinity],vda:["allowFirstRequestAggregation",!1],zEb:["minAudioMediaRequestDurationCache",0],HEb:["minVideoMediaRequestDurationCache",0],$qb:["enableMultiFragmentRequest",!1],tL:[["useHeaderCache","usehc"],!0],N5:[["useHeaderCacheData","usehcd"],!0],sP:["defaultHeaderCacheSize",4],hga:["defaultHeaderCacheDataCount",4],JZ:["defaultHeaderCacheDataPrefetchMs",0],Nja:["headerCacheMaxPendingData",6],Oja:["headerCachePriorityLimit",5],MPa:["headerCacheAdoptBothAV",!1],yTb:["usePipelineForBranchedAudio",!0],pkb:["childBranchBatchedAmount",1E4],hA:["minimumTimeBeforeBranchDecision",2E3],EDb:["maxRequestsToAttachOnBranchActivation",void 0],tTa:["minimumJustInTimeBufferLevel",3E3],Wqb:["enableJustInTimeAppends",!1],PLa:["enableDelayedSeamless",!1],h1b:["branchEndPtsIntervalMs",250],ezb:["ignorePtsJustBeforeCurrentSegment",!1],LSa:["maxFragsForFittableOnBranching",300],MHb:["pausePlaylistAtEnd",!0],Wfb:["adaptiveParallelTimeoutMs",1E3],lI:["enableAdaptiveParallelStreaming",!1],mea:["bufferThresholdToSwitchToSingleConnMs",45E3],lea:["bufferThresholdToSwitchToParallelConnMs",35E3],Lqb:["enableAPSForBranching",!1],c6:["waitForPendingConnAdaptation",!1],Yma:["networkFailureResetWaitMs",2E3],Xma:["networkFailureAbandonMs",6E4],p2:["maxThrottledNetworkFailures",5],q5:["throttledNetworkFailureThresholdMs",200],Xla:["lowThroughputThreshold",400],nha:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],oRb:["timeAtEachBitrateRoundRobin",1E4],CMb:["roundRobinDirection","forward"],Vxb:["hackForHttpsErrorCodes",!1],Vyb:["httpsConnectErrorAsPerm",!1],BTa:["mp4ParsingInNative",!1],ah:["enableManagerDebugTraces",!1],wSa:["managerDebugMessageInterval",1E3],vSa:["managerDebugMessageCount",20],kUa:["notifyManifestCacheEom",!0],JP:["enableUsingHeaderCount",!1],HZa:["sourceBufferInOrderAppend",!0],cs:["requireAudioStreamToEncompassVideo",!1],fHa:["allowAudioToStreamPastVideo",!1],ZJa:["countGapInBuffer",!1],gHa:["allowCallToStreamSelector",!1],tIa:["bufferThresholdForAbort",2E4],i5:["ase_stream_selector","optimized"],Uda:["audiostreamSelectorAlgorithm","selectaudioadaptive"],yka:["initBitrateSelectorAlgorithm","default"],rea:["bufferingSelectorAlgorithm","default"],mQb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],XLa:["enableThroughputTraceResearchData",!1],O_a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Cu:["researchEnvironmentEnabled",!1],hrb:["enableStreamSelectionAugmentData",!1],Vhb:["augmentDataNumOfChunks",30],FKa:["ase_ls_failure_simulation",""],Xfa:["ase_dump_fragments",!1],Zfa:["ase_location_history",0],$fa:["ase_throughput",0],HKa:["ase_simulate_verbose",!1],Kg:["stallAtFrameCount",void 0],MZa:["stallAtFrameCountAudio",void 0],hma:["marginPredictor","simple"],i1a:["useBackupUnderflowTimer",!0],C6b:["useManifestDrmHeader",!0],D6b:["useOnlyManifestDrmHeader",!0],Zma:["networkMeasurementGranularity","video_location"],kFb:["netIntrStoreWindow",36E3],K4b:["minNetIntrDuration",8E3],Lbb:["fastHistoricBandwidthExpirationTime",10368E3],ocb:["bandwidthExpirationTime",5184E3],Kbb:["failureExpirationTime",86400],AFa:["historyTimeOfDayGranularity",4],Gbb:["expandDownloadTime",!0],Ycb:["minimumMeasurementTime",500],Xcb:["minimumMeasurementBytes",131072],jeb:["throughputMeasurementTimeout",2E3],ieb:["initThroughputMeasureDataSize",262144],Icb:["historicBandwidthUpdateInterval",2E3],Wcb:["minimumBufferToStopProbing",1E4],O0b:["throughputPredictor","ewma"],Npa:["secondThroughputEstimator","slidingwindow"],uYa:["secondThroughputMeasureWindowInMs",3E5],N0b:["throughputMeasureWindow",5E3],P0b:["throughputWarmupTime",5E3],M0b:["throughputIQRMeasureWindow",1E3],s0b:["IQRBucketizerWindow",15E3],MSa:["maxIQRSamples",100],nTa:["minIQRSamples",5],J0b:["connectTimeHalflife",10],C0b:["responseTimeHalflife",10],B0b:["historicThroughputHalflife",14400],A0b:["historicResponseTimeHalflife",100],z0b:["historicHttpResponseTimeHalflife",100],uwa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],nFa:["minReportedNetIntrDuration",4E3],L0b:["throughputBucketMs",500],v0b:["bucketHoltWintersWindow",2E3],xbb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],Hbb:["experimentalFilter",["throughput-wssl"]],Iba:["filterDefinitionOverrides",{}],lbb:["defaultFilter","throughput-ewma"],Teb:["secondaryFilter","throughput-sw"],CG:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],i_:["enableHudsonFieldTest",!1],l_:["enableWsslEstimate",!1],vma:["maxWsslRequestSize",131072],uma:["maxWsslRequestRatio",.2],$1a:["wsslAggregationMethod","max"],yQ:["hudsonTitles",["81127954","70125931","80158148"]],hka:["hudsonStreams",("2076313785 2076314053 2076314493 2076314871 2076314922 2076315208 2076315730 2076316089 2076316293 2076316728").split(" ")],pma:["maxPartialBuffersAtHudson",1],NR:["numberOfChunksPerSegment",4],p5:["targetContentLatency",1E4],gra:["targetLongContentLatency",3E4],K2:["minimumTimeDelay",1],IP:["enableSessionHistoryReport",!0],Nga:["earlyStageEstimatePeriod",1E4],HRa:["lateStageEstimatePeriod",3E4],l2:["maxNumSessionHistoryStored",10],H2:["minSessionHistoryDuration",3E5],Eyb:["highAndStableModelName","baseline"],Sga:["enableHighAndStablePredictor",!1],F2:["minNumSessionHistory",5],c1b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],X0:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],Fyb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],xY:["addHeaderDataToNetworkMonitor",!0],Pqa:["startMonitorOnLoadStart",!1],gpa:["reportFailedRequestsToNetworkMonitor",!1],z3:["periodicHistoryPersistMs",0],y4:["saveVideoBitrateMs",0],FR:["needMinimumNetworkConfidence",!0],gea:["biasTowardHistoricalThroughput",!1],DCb:["logMemoryUsage",!1],NPa:["headerCacheTruncateHeaderAfterParsing",!0],Wr:["probeServerWhenError",!0],Nv:["allowSwitchback",!0],uE:["probeDetailDenominator",100],k2:["maxDelayToReportFailure",300],Vy:["allowParallelStreaming",!1],ZDb:["mediaPrefetchDisabled",!1],mTa:["minBufferLevelToAllowPrefetch",5E3],jI:["editVideoFragments",!1],y2b:["editAudioFragments",!0],YMb:["seamlessAudio",!1],mFb:["newSeamlessAudio",!1],ZMb:["seamlessAudioProfiles",[]],$Mb:["seamlessAudioProfilesAndTitles",{}],CK:["seamlessAudioMaximumSyncError",void 0],DK:["seamlessAudioMinimumSyncError",void 0],GQ:["insertSilentFrames",0],zQa:["insertSilentFramesOnExit",void 0],yQa:["insertSilentFramesOnEntry",void 0],xQa:["insertSilentFramesForProfile",void 0],Lzb:["insertSilentFramesOnSeek",!1],AQa:["insertSilentFramesOnSeekForTitles",[]],Mzb:["insertSilentFramesOnSeekCount",3],ltb:["forceDiscontinuityAtTransition",!0],Yqa:["supportAudioResetOnDiscontinuity",void 0],o5:["supportAudioEasingOnDiscontinuity",void 0],Fqb:["editCompleteFragments",!0],KEb:["minimumAudioFramesPerFragment",1],Wy:["applyProfileTimestampOffset",!1],Yj:["applyProfileStreamingOffset",!0],vWa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],rTb:["useDpiAssumedAacEncoderDelay",!0],y2:["mediaSourceSupportsNegativePts",!1],DJ:["minAudioPtsGap",void 0],Ohb:["audioOverlapGuardSampleCount",2],WLa:["enableRecordJSBridgePerf",!1],A8:["JSBridgeTDigestConfig",{maxc:25,c:.5}],lRb:["throughputThresholdSelectorParam",0],nTb:["upswitchDuringBufferingFactor",2],Sgb:["allowUpswitchDuringBuffering",!1],UJa:["contentOverrides",void 0],wfa:["contentProfileOverrides",void 0],$ja:["hindsightDenominator",0],Zja:["hindsightDebugDenominator",0],Y0:["hindsightAlgorithmsEnabled",["htwbr"]],Z0:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],tHa:["appendMediaRequestOnComplete",!1],AL:["waitForDrmToAppendMedia",!1],M_:["forceAppendHeadersAfterDrm",!1],rK:["reappendRequestsOnSkip",!1],bga:["declareBufferingCompleteAtSegmentEnd",!1],hu:["maxActiveRequestsPerSession",void 0],Ela:["limitAudioDiscountByMaxAudioBitrate",!1],Cda:["appendFirstHeaderOnComplete",!0],k5:["strictBufferCapacityCheck",!1],zO:["aseReportDenominator",0],Lda:["aseReportIntervalMs",3E5],Cra:["translateToVp9Draft",!1],iL:["switchableAudioProfiles",[]],Phb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],v_a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Rhb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],VSa:["maxStartingVideoVMAF",110],GJ:["minStartingVideoVMAF",1],pO:["activateSelectStartingVMAF",!1],G4:["selectStartingVMAFTDigest",-1],HK:["selectStartingVMAFMethod","fallback"],CYa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],eK:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],Opb:["disablePtsStartsEvent",!0],Voa:["recordFirstFragmentOnSubBranchCreate",!0],ZSa:["mediaCacheConvertToBinaryData",!1],zma:["mediaCacheSaveOneObject",!1],DSa:["markRequestActiveOnFirstByte",!1],d_:["earlyAppendSingleChildBranch",!0],uL:["useNativeDataViewMethods",!0],xda:["alwaysNotifyEOSForPlaygraph",!1],qTb:["useCorrectDrainingAmounts",!0],j_:["enableNewAse",!1],Cq:["useNewApi",!1],rga:["aseDiagnostics",[{Ip:"queue-audit",enabled:!0},{Ip:"task-audit",enabled:!0},{Ip:"trace-ShimSession",enabled:!0},{Ip:"trace-engine",enabled:!0},{Ip:"trace-RequestPacer",enabled:!0}]],KIb:["playgraphImmediateTransitionDistance",3E3],Jib:["branchDistanceThreshold",6E4],j2:["maxAllowedOutstandingRequests",4],I2:["minStreamableConcurrencyWindow",3E3],j5:["streamableConcurrencyFactor",.3],RO:["bufferingConcurrencyWindow",7800],Eqa:["singleStreamablePerBranch",!0],gJb:["prefetchBudgetInBytes",0],ATb:["useRebufferRiskPriority",!0],FKb:["rebufferRiskHalfLife",1E4],csa:["useBufferSizeLimiter",!1],kJb:["prefetchWeightBudget",32]};b.Mm=b.QJa;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.VHa=void 0;c=a(15);l=a(100);k=a(10);b.VHa=function(a){if(a.cab)return a;l(c.EventEmitter.prototype,a);Object.defineProperties(a,{cab:{value:!0},md:{get:function(){return new k.U(this.Sd(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.Pm?this.Pm():1,.01);}}});return a;};},function(f,b,a){var l,k,h;function c(a,b,d){var c,g;c=Array.isArray(d)?d[0]:d;g=Array.isArray(d)?d[1]:d;b.on(c,function(b){a.emit(g,l.__assign(l.__assign({},b),{type:g}));});}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=b.g_=b.BSa=b.CSa=void 0;l=a(0);k=a(5);h=a(25);b.CSa=function(a,b,d,f){var g;["buffering",["debug","managerdebugevent"],"endOfStream","initialAudioTrack","locationSelected","openComplete","startEvent",["streamerEnd","streamerend"],["transportReport","transportreport"]].forEach(function(a){c(d,f.events,a);});f.events.on("logdata",function(a){d.emit("logdata",l.__assign(l.__assign({},a),{fields:l.__assign(l.__assign({},a.fields),{aseApiVersion:d.wO})}));});g=!0;f.events.on("bufferingStarted",function(a){d.i0a && g?g=!1:(d.B5.BY("bufferingStarted",{}),d.emit("bufferingStarted",a));});f.events.on("bufferingComplete",function(a){d.i0a?g=!0:d.$Nb(a);});f.events.on("error",function(a){a=l.__assign(l.__assign({},a),{manifestIndex:0});d.emit("error",a);});f.events.on("segmentComplete",function(a){d.emit("segmentComplete",{type:"segmentComplete",mediaType:a.mediaType,manifestIndex:0,segmentId:a.segmentId});});f.events.on("segmentNormalized",function(a){var b;a=f.Ywb(a.segmentId);k.assert(a,"Segment should be normalized");b=Math.floor(a.fUb.ka);d.emit("maxPosition",{type:"maxPosition",index:0,endPts:b,maxPts:b,maxSeekPts:Math.floor(a.gUb.ka)});d.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:b,maxPts:b});});f.events.on("segmentStarting",function(a){d.emit("maxBitrates",{type:"maxBitrates",audio:a.maxBitrates.audio,video:a.maxBitrates.video});d.emit("segmentStarting",a);});f.events.on("serverSwitch",function(a){d.emit("serverSwitch",{type:"serverSwitch",manifestIndex:0,segmentId:a.segmentId,mediatype:a.mediatype,server:a.server,reason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});});f.events.on("streamSelected",function(a){var b;b=f.rQ(a.position);d.emit("streamSelected",{type:"streamSelected",nativetime:a.nativetime,mediaType:a.mediaType,streamId:a.streamId,manifestIndex:0,trackIndex:a.trackIndex,streamIndex:a.streamIndex,movieTime:b.dP.ka,bandwidth:a.bandwidth,longtermBw:a.longtermBw,rebuffer:a.rebuffer});});f.events.on("updateStreamingPts",function(b){var c;c=d.u;h.sa && a.trace("converting updateStreamingPts, movieId:",c);d.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:b.mediaType,manifestIndex:0,trackIndex:b.trackIndex,segmentId:b.position.Ba,movieTime:Math.floor(b.completePlayerStreamingTimestamp.ka)});});};b.BSa=function(a,b,d,f){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(a){return c(b,d.events,a);});d.events.on("streamPresenting",function(a){var d,c;d=a.playerTimestamp.ka;c=b.mb.rQ(a.position);void 0 === c?f.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(a)):b.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(d),contentStartPts:Math.floor(c.dP.ka),mediaType:a.mediaType,manifestIndex:0,trackIndex:a.trackIndex,streamIndex:a.streamIndex});});d.events.on("segmentPresenting",function(a){var d,c,g;d=b.mb.rQ(a.position);c=a.playerTimestamp.Oa(d.dP);g=a.position.Ba;b.eLa || (b.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:a.playerTimestamp.ka,movieId:d.la.toString(),replace:!1,contentOffset:c.ka}),b.eLa=!0);b.emit("segmentPresenting",{type:"segmentPresenting",segmentId:g,contentOffset:c.ka,metrics:a.metrics});});d.events.on("ptsChanged",function(a){b.emit("ptschanged",a.initialTimestamp.ka);b.Zk.emit("skipped");});};b.g_=function(a,b,d,c){var g;d=d.ka;a.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:b.reason,actualbw:c,initSelReason:null !== (g=b.initSelReason) && void 0 !== g?g:"unknown",bcVBufferLevelMs:b.vBufferLevelMs,bcABufferLevelMs:b.aBufferLevelMs}});a.emit("ptschanged",d);a.emit("bufferingComplete",{type:"bufferingComplete",time:b.time,actualStartPts:d,aBufferLevelMs:b.aBufferLevelMs,vBufferLevelMs:b.vBufferLevelMs,selector:b.selector,initBitrate:b.initBitrate,skipbackBufferSizeBytes:b.skipbackBufferSizeBytes});};b.JLa=function(a,b,d){a.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:b.track_id,trackIndex:d});};},function(f,b,a){var c,l,k,h,g,p,d,m,t,x,n,q,E,L,D,C,u;Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;c=a(0);l=a(15);k=a(17);h=a(377);g=a(17);p=a(10);d=a(5);m=a(20);t=a(384);x=a(8);n=a(98);q=a(114);E=a(217);L=a(374);D=a(738);C=a(737);u=0;f=(function(a){function b(b,c,f,m,k,t,h,r,x,A,J,C){var T,R,P,N,W;N=a.call(this) || this;N.console=b;N.qJ=c;N.HN=f;N.mb=m;N.jH=k;N.Gx=t;N.Pfa=r;N.S=A;N.Gzb=J;N.config=C;N.AN=!1;N.Zg=function(){var a,b,c,g;null === (a=N.MW) || void 0 === a?void 0:a.clear();a=N.Hab;d.assert(a);g=null === (c=null === (b=N.qJ.Fh.Ab.get()) || void 0 === b?void 0:b.La) || void 0 === c?void 0:c.Ga;N.mb.x0a("startplay",n.jv.fT);N.B5.BY("emitBufferingComplete",{});D.g_(N,a,N.gd.Kf,g);};N.QHa=function(){var a,b,c;N.B5.BY("audioTrackSwitchComplete",{});d.assert(void 0 !== N.Cv);b=N.HN.audio_tracks[N.Cv];c=N.Cv;N.Cv=void 0;D.JLa(N,b,c);null === (a=N.xUa) || void 0 === a?void 0:a.call(N);N.xUa=void 0;};N.Wf=new l.Pg();N.la=m.Pb.Va[N.Gzb].la;N.fC=new p.hv(g.ta.Sg);N.yL=new q.Kaa(N.console);b=N.mb.NH(N.yL);f=N.mb.MH();N.mb.rqa(f,b);m.XS({IK:function(){return N.jH[0];}},{IK:function(){return N.jH[1];}});N.j2b=!1;N.eLa=!1;D.CSa(N.console,c,N,N.mb);W=u++;N.B5=new E.wW({$J:N,source:"ShimSession",console:N.console,o2:50,XGa:function(){return {shimId:W};}});N.mb.zt(new L.vW(N.B5));N.fsa=void 0 !== (null === (P=null === (R=(T=N.S).gQ) || void 0 === R?void 0:R.call(T)) || void 0 === P?void 0:P.na);c=N.enb(N.S);N.gd=c;return N;}c.__extends(b,a);Object.defineProperties(b.prototype,{u:{get:function(){return this.la;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ea:{get:function(){return this.Pfa.ea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zf:{get:function(){return this.Wf;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pd:{get:function(){return {Ezb:{1:{ca:{pa:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{i0a:{get:function(){return void 0 !== this.Cv;},enumerable:!1,configurable:!0}});b.prototype.hCb=function(){var a,b,c,g,f;a=this;f=null === (g=null === (c=(b=this.S).gQ) || void 0 === c?void 0:c.call(b)) || void 0 === g?void 0:g.na;d.assert(f,"video element is not defined");f.addEventListener("play",function(){return a.Tca();});f.addEventListener("pause",function(){return a.Jk();});};b.prototype.LT=function(a,b){var d;this.mb.kj((d={},d[a]=b,d));};b.prototype.open=function(){this.AN || (this.AN=!0,this.mb.open(),this.emit("openComplete",{type:"openComplete"}),this.mb.C4(this.Gx),d.assert(this.gd,"asePlayer should be defined on session.open"),D.BSa(this.qJ,this,this.gd,this.console),this.b6(this.Zg),this.mb.Ehb(this.gd),this.fsa && this.hCb());};b.prototype.enb=function(a){this.Zk=C.VHa(a);return this.qJ.Fh.tgb(this.Zk,{hA:this.config.hA});};b.prototype.close=function(){this.AN && (this.AN=!1);};Object.defineProperties(b.prototype,{wO:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});b.prototype.flush=function(){this.mb.x0a("endplay",n.jv.m_);this.mb.ig();this.qJ.Nf.save();this.qJ.$m.save();};b.prototype.paused=function(){this.fsa || this.Jk();};b.prototype.KT=function(){this.fsa || this.Tca();};b.prototype.Jk=function(){this.fC.value === g.ta.Vc && (this.fC.set(g.ta.qj),this.Zk.emit("paused",{type:"paused",Fc:this.Zk.md}));};b.prototype.Tca=function(){this.fC.value === g.ta.qj && (this.fC.set(g.ta.Vc),this.Zk.emit("playing",{type:"playing",Fc:this.Zk.md}));};b.prototype.pc=function(){var a;this.qJ.ELb(this);this.AN && this.close();this.pv && (clearInterval(this.pv),this.pv=void 0);null === (a=this.gd) || void 0 === a?void 0:a.Qb();};b.prototype.suspend=function(){d.assert(!1,"Not supported");};b.prototype.resume=function(){d.assert(!1,"Not supported");};b.prototype.play=function(){var a;a=this;this.mb.state !== h.An.CLOSED && (d.assert(this.gd),this.gd.resume(),this.fC.set(g.ta.Vc),this.Zk.emit("playing",{type:"playing",Fc:this.Zk.md}),this.emit("play"),this.pv || (this.pv=setInterval(function(){return a.CFb();},this.config.MC)));};b.prototype.stop=function(){this.fC.set(g.ta.gG);d.assert(this.gd);this.gd.pause();this.Zk.emit("paused",{type:"paused",Fc:this.Zk.md});this.emit("stop");};b.prototype.zP=function(a,b){void 0 === b && (b=!0);if(!this.gd)return this.fail("Must call open prior to drmReady");a=parseInt(a);x.isFinite(a) && (b?this.gd.jqa(a):this.gd.gOb(a));};b.prototype.Lja=function(){var a;return this.mb && null !== (a=this.gd) && void 0 !== a && a.position?this.gd.Nw(this.mb.Pb.Va[this.gd.position.Ba].la):!1;};b.prototype.Mra=function(){this.fC.set(g.ta.ff);this.Zk.emit("underflow",{type:"underflow",Fc:this.Zk.md});this.b6(this.Zg);};b.prototype.LVa=function(){this.Zk.emit("playbackRateChanged",{type:"playbackRateChanged",Fc:this.Zk.md});};b.prototype.ml=function(){var a;a=this.Zk.Sd();a={type:"skipped",pts:m.U.Pc(a)};this.Zk.emit(a.type,a);return new t.yaa(Promise.resolve()).aYa;};b.prototype.MIa=function(a,b){var d;b=this.fja(b || 0,a);return null === (d=this.mb.Nm(b,a)) || void 0 === d?void 0:d.kc;};b.prototype.Mt=function(a,b){var d;d=new m.U(b,1E3);return (d=this.mb.Rr(d,{EPb:!0,DPb:!0}))?this.mb.Pb.Va[d.Ba].Xd + d.offset.ka:this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + a + ", playerPts: " + b);};b.prototype.hP=function(a,b){a=this.fja(a || 0,b);a={Ba:a,offset:new m.U(b - this.mb.Pb.Va[a].Xd,1E3)};return (a=this.mb.M0(a))?a.ka:b;};b.prototype.r1=function(){var a,b,d;b={};d=null === (a=this.mb) || void 0 === a?void 0:a.hia();d && (b.vbuflmsec=d.totalvbuflmsecs,b.abuflmsec=d.totalabuflmsecs,b.vbuflbytes=d.vbuflbytes,b.abuflbytes=d.abuflbytes);return b;};b.prototype.A3=function(){return this.fA("pipeliningDisabled");};b.prototype.h0=function(){return {};};b.prototype.Bw=function(){var a,b,d,c;b=(null === (a=this.gd) || void 0 === a?void 0:a.DPa()) && this.gd.Bw() || ({});a=b.ba;d=b.$q;c=b.RVa;b=b.goa;return {id:a?a.id:this.Gx.Ba,pe:(null === d || void 0 === d?void 0:d.ka) || 0,Tb:(null === a || void 0 === a?void 0:a.Mj.ka) || Infinity,kc:(null === a || void 0 === a?void 0:a.nr.ka) || 0,Vd:(null === c || void 0 === c?void 0:c.ka) || Infinity,ad:(null === b || void 0 === b?void 0:b.ka) || 0};};b.prototype.xXa=function(){return this.fA("removeSession");};b.prototype.Dx=function(a,b,c){void 0 === b && (b=0);b=null !== c && void 0 !== c?c:this.fja(b,a);a={Ba:b,offset:m.U.Pc(a - this.mb.Pb.Va[b].Xd)};this.mb.C4(a);d.assert(this.gd);this.gd.resume();this.b6(this.Zg);a=this.mb.nYa(a);d.assert(a,"Valid position must be provided for seek");return a.offset.ka;};b.prototype.seek=function(a,b){a=this.Mt(b,a);return this.Dx(a,b);};b.prototype.Ht=function(a,b){var d;if(!b)return (this.fail("chooseNextSegment non-seamless - not implemented"),!1);b=this.Bw();d=b.Vd;this.mb.Xo(b.id,a);return this.bi(d);};b.prototype.sO=function(){return this.fA("addManifest");};b.prototype.oO=function(){return this.fA("activateManifest");};b.prototype.wna=function(){this.SDa();};b.prototype.era=function(a){var b,d,c,g,f,m;c=a.FC;if(void 0 !== this.Cv)return !1;a=this.HN.audio_tracks;if(!a.some(function(a,b){if(a.track_id === c)return (g=a,f=b,!0);}))return !1;a=a[this.jH[0]];this.Cv=f;m=null === (b=this.gd) || void 0 === b?void 0:b.NA;m?this.SDa():(null === (d=this.gd) || void 0 === d?void 0:d.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:g.language,newNumChannels:g.channels,sourceBufferReset:m}));return !0;};b.prototype.Ex=function(a,b){this.yL.Ex(a,b);};b.prototype.bi=function(a){return this.gd?this.gd.bi(m.U.Pc(a)):!1;};b.prototype.r_=function(){return this.fA("evaluateQoE");};b.prototype.Rqa=function(){return this.fA("stopBuffering");};b.prototype.SE=function(){return this.fA("startBuffering");};b.prototype.SOa=function(){return this.fA("getStreamingStatistics");};b.prototype.fail=function(a){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:a,manifestIndex:0});};b.prototype.fja=function(a,b){return 0 !== a?this.fail("Unexpected manifestIndex: " + a + ", single viewable playback only supports manifestIndex: 0"):this.Nsb(b);};b.prototype.Nsb=function(a){var b,c,g,m,k;b=this.mb.Pb;c=[];d.assert(0 <= a,"contentPts must be 0 or greater for segmentId lookup");for(var f in b.Va){m=b.Va[f];k=m.Ge;k=a < Number(null !== k && void 0 !== k?k:Infinity);m.Xd <= a && k?c.push(f):g=f;}d.assert(1 >= c.length,"Overlapped segments detected in branching, this is not supported");a=c[0] || g;d.assert(void 0 !== a,"segmentId from contentPts lookup failed");return a;};b.prototype.CFb=function(){var a,b;b=null === (a=this.mb) || void 0 === a?void 0:a.hia();b && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:b.vbuflbytes,vbuflbytes:b.abuflbytes,totalabuflmsecs:b.totalabuflmsecs,totalvbuflmsecs:b.totalvbuflmsecs,currentBandwidth:b.currentBandwidth});};b.prototype.fA=function(a){return this.fail("Method not implemented " + a);};b.prototype.SDa=function(){var a;a=this;d.assert(void 0 !== this.Cv);this.jH[0]=this.Cv;this.mb.XS({IK:function(){return a.jH[0];}},{IK:function(){return a.jH[1];}});this.b6(this.QHa);};b.prototype.$Nb=function(a){this.Hab=a;};b.prototype.b6=function(a){var b,d;b=this;a !== this.QHa && void 0 !== this.Cv?this.xUa=a:(null === (d=this.MW) || void 0 === d?void 0:d.clear(),this.MW=p.hv.pUb([this.mb.Hm,this.gd.vJ],[k.Tc.In,!0],function(d){var c;d && (null === (c=b.MW) || void 0 === c?void 0:c.clear(),b.MW=void 0,setTimeout(a,0));}));};c.__decorate([E.Sc()],b.prototype,"LT",null);c.__decorate([E.Sc({df:"open"})],b.prototype,"open",null);c.__decorate([E.Sc({df:"close"})],b.prototype,"close",null);c.__decorate([E.Sc({df:"paused"})],b.prototype,"Jk",null);c.__decorate([E.Sc({df:"unpaused"})],b.prototype,"Tca",null);c.__decorate([E.Sc({df:"cleanup"})],b.prototype,"pc",null);c.__decorate([E.Sc({df:"suspend"})],b.prototype,"suspend",null);c.__decorate([E.Sc({df:"resume"})],b.prototype,"resume",null);c.__decorate([E.Sc({df:"play"})],b.prototype,"play",null);c.__decorate([E.Sc({df:"stop"})],b.prototype,"stop",null);c.__decorate([E.Sc({Xy:!0,df:"drmReady"})],b.prototype,"zP",null);c.__decorate([E.Sc({df:"underflow"})],b.prototype,"Mra",null);c.__decorate([E.Sc({df:"skipped"})],b.prototype,"ml",null);c.__decorate([E.Sc({df:"seekByContentPts"})],b.prototype,"Dx",null);c.__decorate([E.Sc({df:"seek"})],b.prototype,"seek",null);c.__decorate([E.Sc({df:"chooseNextSegment"})],b.prototype,"Ht",null);c.__decorate([E.Sc({df:"onAudioTrackSwitchStarted"})],b.prototype,"wna",null);c.__decorate([E.Sc({df:"switchTracks"})],b.prototype,"era",null);return b;})(l.EventEmitter);b.XBa=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.JAa=void 0;f=(function(){function a(a){var b;b=this;a=a.lo;this.zD=function(){b.lo();};this.lo=a;}a.prototype.uO=function(a){a.events.on("requestsPruned",this.zD);};a.prototype.Bu=function(a){a.events.removeListener("requestsPruned",this.zD);};return a;})();b.JAa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;c=a(15);l=a(25);k=a(3);f=(function(){function a(a){this.ij=a;this.KW=[];this.reset();}Object.defineProperties(a.prototype,{Ip:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{DR:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return l.sa;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a,b;a=this;null === (b=this.DG) || void 0 === b?void 0:b.clear();this.DG=new c.Pg();this.DG.on(this.ij,"clockChanged",function(){a.reset();a.WP("initial");});this.DG.on(this.ij,"stopping",function(){a.WP("stopping");});this.DG.on(this.ij.Fa,"clockReset",function(){a.WP("clockReset");});this.DG.on(this.ij.Fa,"stopStart",function(){a.WP("stopStart");});this.DG.on(this.ij.Fa,"speedChanged",function(){a.WP("speedChanged");});};a.prototype.WP=function(a){this.KW.push({reason:a,audit:this.ij.aub(),time:k.time.da()});5 < this.KW.length && this.KW.shift();};a.prototype.zz=function(){return this.KW;};return a;})();b.zCa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;c=a(98);f=(function(){function a(a){a.events.on("streamSelection",this.UGb.bind(this));}a.prototype.UGb=function(a){0 === a.mediaType && void 0 === this.pQa?this.pQa=a:1 === a.mediaType && void 0 === this.sQa && (this.sQa=a);};Object.defineProperties(a.prototype,{Ip:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.zz=function(a){var b;if(a.Vm === c.jv.fT)return (a=null !== (b=this.sQa) && void 0 !== b?b:this.pQa,{histdiscbw:null === a || void 0 === a?void 0:a.selDiscBw,histage:null === a || void 0 === a?void 0:a.histAge});};return a;})();b.iCa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Eva=void 0;c=a(98);f=(function(){function a(a){this.Ab=a;}Object.defineProperties(a.prototype,{Ip:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.zz=function(a){var b,g;if(a.Vm === c.jv.m_ && this.Ab){a={};b=this.Ab.get();b && b.avtp && b.avtp.Ga && (a.avtp=b.avtp.Ga,a.dltm=b.avtp.XZ);b && b.cdnavtp && (a.cdnavtp=b.cdnavtp,a.activecdnavtp=b.activecdnavtp);this.Ab.flush();b=this.Ab.XNa();g=this.Ab.BGa;if(b)for(var f in b){b.hasOwnProperty(f) && (a["ne" + f]=Number(b[f]).toFixed(6));}g && g.length && (a.activeRequests=JSON.stringify(g));return a;}};return a;})();b.Eva=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.UBa=void 0;f=(function(){function a(a){this.config=a;}a.prototype.KIa=function(a,b){var c,f;c=this;a=b(a);f=a.am.map(function(a){return a.Vh.ie;});a.am.forEach(function(a){a.H3=c.config.kJb / (2 << f.lastIndexOf(a.Vh.ie));});return a;};return a;})();b.UBa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;c=a(25);f=(function(){function a(){}a.PLb=function(a,b,g){var f;f=a.open;a.open=function(){c.sa && g.log("Replaying " + b.length + " events from prefetched playgraph");b.epa();b.Qb();a.open=f;return f.call(a);};};return a;})();b.SAa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.maa=void 0;c=a(17);f=(function(){function a(){}a.prototype.Ol=function(a,b){return b === c.Tc.In?[]:a;};return a;})();b.maa=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.tua=b.wua=void 0;c=a(114);l=a(746);b.wua=625E3;f=(function(){function a(a){this.config=a;}a.prototype.KIa=function(a){var g,f,d,m;g=this;f=this.config.sP;d=(this.config.oR || this.config.JZ) * b.wua / 1E3;m=Math.floor(a.Pxb.CQ / d);return {am:a.wUb.sort(function(a,b){return a.ie - b.ie;}).slice(0,f).map(function(a,b){var f;f=a.key.Pb && a.key.config || g.config;return {qRa:{CQ:b > m - 1?0:d},Vh:a,H3:1,mi:f,jQb:{audio:[c.MH(f),new l.maa()],video:[c.NH(f),new l.maa()]}};})};};return a;})();b.tua=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Pua=void 0;c=a(0);l=a(5);k=a(216);f=(function(){function a(){}a.Zt=function(a){var b,d;b=a.Va;a=a.rg;d=b[a].la;Object.keys(b).forEach(function(a){return l.assert(b[a].la === d);});return b[a].la;};a.prototype.Lsb=function(b,f){return c.__read(b.filter(function(b){return a.Zt(f.Pb) === k.Zt(b.context.Vh.key);}),1)[0];};return a;})();b.Pua=f;},function(f,b,a){var c,l,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Oua=void 0;c=a(0);l=a(375);k=a(216);h=a(3);f=(function(){function a(){}a.prototype.jDb=function(a){return c.__awaiter(this,void 0,void 0,function(){var b,g,f,p,r;return c.__generator(this,function(d){switch(d.label){case 0:b=a.Vh.key;if(!k.NQ(b))return [3,2];g=b.la;f=a.Vh.eUb.dia(g);return [4,h.Promise.resolve(f.jsa)];case 1:return (p=d.yk(),r=p.qa,r.dr?[2,l.Rea(r.dr)]:[2,l.Fqa(g,"ps0")]);case 2:return [2,b.Pb];}});});};return a;})();b.Oua=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Nva=void 0;c=a(0);f=(function(){function a(a,b){void 0 === b && (b={});this.xo=a;this.options=b;this.lD=[];this.IQ=new l(a,this.igb.bind(this));}a.prototype.igb=function(a){for(var b,c,d,f,k,l,h=[],r=1;r < arguments.length;r++){h[r - 1]=arguments[r];}h={MP:a,Xy:h};(null !== (d=null === (c=(b=this.options).ePb) || void 0 === c?void 0:c.call(b,h,this.lD)) && void 0 !== d?d:1) && this.lD.push(h);return null !== (l=null === (k=(f=this.options).R5b) || void 0 === k?void 0:k.call(f,h)) && void 0 !== l?l:!0;};a.prototype.pXa=function(a){this.lD=this.lD.filter(function(b,c){return !a(b,c);});};a.prototype.epa=function(){var a;a=this;this.IQ.K0a();this.lD.forEach(function(b){var g;(g=a.xo).emit.apply(g,c.__spread([b.MP],b.Xy));});this.IQ.install();};Object.defineProperties(a.prototype,{length:{get:function(){return this.lD.length;},enumerable:!1,configurable:!0}});a.prototype.clear=function(){this.lD=[];};a.prototype.Qb=function(){this.IQ.K0a();};return a;})();b.Nva=f;l=(function(){function a(a,b){var g;g=this;this.xo=a;this.WO=b;this.IQ=function(a){for(var b,d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}return g.WO.apply(g,c.__spread([a],d))?(b=g.MUa).call.apply(b,c.__spread([g.xo,a],d)):!1;};this.MUa=this.xo.emit;this.install();}a.prototype.install=function(){this.xo.emit=this.IQ;};a.prototype.K0a=function(){this.xo.emit=this.MUa;};return a;})();},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;c=a(3);l=a(98);f=(function(){function a(){this.dk=c.time.da();this.jd={NAb:!0,iJb:0,mJb:0,lJb:0};}a.prototype.Ghb=function(a){this.Pb=a;};a.prototype.OMb=function(a){var b;a=null === (b=this.Pb) || void 0 === b?void 0:b.Ti(a);this.jd={NAb:!0,mJb:a.y5,lJb:a.x5,iJb:c.time.da() - this.dk};};Object.defineProperties(a.prototype,{Ip:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.zz=function(a){if(a.Vm === l.jv.fT)return this.jd;};return a;})();b.TAa=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.cua=void 0;f=(function(){function a(){}a.Yzb=function(a,b){var g;function c(a){return f(g++)(a,c);}function f(a){return a >= b.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + a);}:b[a];}g=0;return c(a);};return a;})();b.cua=f;},function(f,b,a){var c,l,k,h,g,p,d,m,t,x,n,q,E,L,D,C,u;Object.defineProperty(b,"__esModule",{value:!0});b.UAa=void 0;c=a(0);l=a(15);k=a(10);h=a(752);g=a(38);p=a(5);d=a(751);m=a(25);t=a(114);x=a(750);n=a(749);q=a(748);E=a(747);L=a(3);D=a(216);C=a(745);u=a(744);f=(function(){function a(a,b,d,c,g){void 0 === d && (d=new q.Pua());void 0 === c && (c=new n.Oua());this.bMa=a;this.config=b;this.LKb=d;this.NIb=c;this.am=[];this.gWa=[];this.DL=[];this.G=k.Yw(L,g,"PREFETCH");this.OGa(new E.tua(b));this.OGa(new u.UBa(b));this.ZNb({CQ:b.gJb});}Object.defineProperties(a.prototype,{fWa:{get:function(){return this.am.map(function(a){return a.context;});},enumerable:!1,configurable:!0}});a.prototype.OGa=function(a){this.gWa.unshift(a);};a.prototype.reset=function(){var a,b,f,m,k,p,l;try{for(var d=c.__values(this.am),g=d.next();!g.done;g=d.next()){f=g.value;m=f.Pb;k=f.N1;p=f.context;if(m){m.ig();k.clear();l=D.x0(p.Vh,m.Pb);m.C4(l);}}}catch(oa){a={error:oa};}finally{try{g && !g.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.ZNb=function(a){m.sa && this.G.debug("Budget changed",{V4b:this.KC,L4b:a});this.KC=a;this.uWa();};a.prototype.vkb=function(a,b){var d,c,g,f;if(b=this.LKb.Lsb(this.am,{Pb:a,mi:b}))if((m.sa && this.G.debug("Claiming item: " + D.Zt(b.context.Vh.key),{Xj:L.time.da() - b.t5,buffer:null === (d=b.Pb) || void 0 === d?void 0:d.Ti(k.U.rb)}),this.xLa(b.context,!1),b.Pb)){d=b.Pb;g=b.context;f=b.pq;C.SAa.PLb(d,b.N1,this.G);a=D.x0(g.Vh,a);f.OMb(null !== (c=d.M0(a)) && void 0 !== c?c:k.U.rb);d.rqa(void 0,void 0);d.Rra({CQ:this.config.Lo || Infinity});}this.config.Ogb || this.reset();return null === b || void 0 === b?void 0:b.Pb;};a.prototype.ukb=function(){};a.prototype.getStats=function(){var a;a=L.time.da();return {Q6b:this.DL.length,fWa:this.fWa.length,L1b:this.am.map(function(b){var d,c;return {id:D.Zt(b.context.Vh.key),buffer:null === (d=b.Pb) || void 0 === d?void 0:d.Ti(k.U.rb),KC:b.context.qRa,weight:b.context.H3,Xj:a - b.t5,S_a:a - (null !== (c=b.S_a) && void 0 !== c?c:0)};})};};a.prototype.xLa=function(a,b){var d,c;void 0 === b && (b=!0);c=g.Eh(this.am,function(b){return b.context === a;});c && (this.am.splice(this.am.indexOf(c),1),this.DL=this.DL.filter(function(b){return b !== a.Vh;}),m.sa && this.G.debug("Dropping playgraph",{Xj:L.time.da() - c.t5,buffer:null === (d=c.Pb) || void 0 === d?void 0:d.Ti(k.U.rb),y5b:b}),b && this.Bu(c),this.DL=this.DL.filter(function(a){return a.key !== c.context.Vh.key;}),this.uWa());};a.prototype.uWa=function(){var a,b,d,f,k,l;a=this;b=h.cua.Yzb({wUb:this.DL,Pxb:this.KC},this.gWa.map(function(a){return a.KIa.bind(a);})).am;d=g.Yy(b,this.am,function(a,b){return D.isEqual(a.Vh.key,b.context.Vh.key);});f=g.Yy(this.am,b,function(a,b){return D.isEqual(a.context.Vh.key,b.Vh.key);});k=g.Yy(this.am,f);m.sa && this.G.debug("Re-evaluated prefetch items. new:" + d.length + ", evict: " + f.length + ", update: " + d.length);f=f.map(function(b){var d;d=b.context.Vh.key;m.sa && a.G.debug("Releasing playgraph",D.Zt(d));return a.Bu(b);});l=k.map(function(d){return c.__awaiter(a,void 0,void 0,function(){var a,f;return c.__generator(this,function(c){switch(c.label){case 0:return (a=g.Eh(b,function(a){return D.isEqual(a.Vh.key,d.context.Vh.key);}),p.assert(a,"Couldn't find the requested item context"),[4,d.G3]);case 1:return (f=c.yk(),this.yHa(d.context,f),[2]);}});});});d=d.map(function(b){return a.$nb(b);});this.am=c.__spread(k,d);k=d.map(function(a){return a.G3;});k=f.concat(l).concat(k);Promise.all(k);};a.prototype.Bu=function(a){var b;b=this;return a.G3.then(function(d){m.sa && b.G.debug("Removing prefetch playgraph",{size:d.Ti(k.U.rb)});a.mMa.clear();b.bMa.Bu(d);});};a.prototype.Xnb=function(a){return c.__awaiter(this,void 0,void 0,function(){var b,d,g,f;f=this;return c.__generator(this,function(c){switch(c.label){case 0:return (b=a.context,m.sa && this.G.debug("Creating playgraph",D.Zt(b.Vh.key)),[4,this.NIb.jDb(b)]);case 1:return (d=c.yk(),g=this.bMa.uO(d,b.H3,b.mi,b.Vh.eUb,!1),a.mMa.addListener(g.events,"error",function(a){m.sa && f.G.debug("Prefetch playgraph resulted in error",a.E2b);f.xLa(b,!0);}),[2,g]);}});});};a.prototype.cHb=function(a,b){return c.__awaiter(this,void 0,void 0,function(){var d;return c.__generator(this,function(){d=a.context;this.yHa(d,b);b.open();b.XS({IK:function(a,b){var d;d=a.defaultTrackOrderList[0].audioTrackId;return g.DC(b,function(a){return a.track_id === d;});}},{IK:function(a,b){var d;d=a.defaultTrackOrderList[0].videoTrackId;return g.DC(b,function(a){return a.track_id === d;});}});b.C4(D.x0(d.Vh,b.Pb));return [2,b];});});};a.prototype.yHa=function(a,b){var d;b.a1a(a.H3);b.Rra(a.qRa);a=a.jQb;d=a.video;b.rqa(new t.OB(a.audio,!0),new t.OB(d,!0));};a.prototype.$nb=function(a){var b,g,f;b=this;g=new d.TAa();f={context:a,t5:L.time.da(),mMa:new l.Pg(),pq:g};f.G3=this.Xnb(f);f.G3.then(function(a){return c.__awaiter(b,void 0,void 0,function(){var b;return c.__generator(this,function(d){switch(d.label){case 0:return (d.SA.push([0,2,,3]),f.Pb=a,a.zt(g),g.Ghb(a),f.N1=new x.Nva(a.events,{ePb:function(a){var b;b=a.MP;switch(b){case "buffering":return !1;case "bufferingStarted":f.N1.pXa(function(a){return "bufferingComplete" === a.MP || "updateStreamingPts" === a.MP;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":f.N1.pXa(function(a){return a.MP === b;});default:return !0;}}}),[4,this.cHb(f,a)]);case 1:return (d.yk(),f.S_a=L.time.da(),[2,a]);case 2:throw (b=d.yk(),m.sa && this.G.error("Exception occurred creating playgraph",b),this.Bu(f),b);case 3:return [2];}});});});return f;};return a;})();b.UAa=f;},function(f,b,a){var c,l,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.uBa=void 0;c=a(0);l=a(5);k=a(3);h=a(217);f=(function(){var x00;x00=2;for(;x00 !== 8;){switch(x00){case 2:var L51="V";L51+="q";var e51="addReq";e51+="ues";e51+="t";a.prototype.Vq=function(){var A00;A00=2;for(;A00 !== 5;){switch(A00){case 2:var N51="More than maxAllowedOutstandin";N51+="gR";N51+="equests are outstanding";this.RJ++;l.assert(this.RJ <= this.config.j2,N51);A00=5;break;}}};a.prototype.zx=function(){var B00,a;B00=2;for(;B00 !== 3;){switch(B00){case 2:var g51="Received remove req";g51+="uest ";g51+="when t";g51+="here are no ";g51+="requests outstanding";a=this;this.RJ--;l.assert(0 <= this.RJ,g51);setTimeout(function(){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:return a.lo();break;case 4:return a.lo();break;C00=1;break;}}},0);B00=3;break;}}};a.prototype.lo=function(){var D00,a;D00=2;for(;D00 !== 5;){switch(D00){case 1:D00=this.RJ < a && this.K1()?1:5;break;case 2:a=this.config.j2;D00=1;break;}}};c.__decorate([h.Sc({df:e51,gga:!0})],a.prototype,L51,null);x00=3;break;case 3:var W51="z";W51+="x";var l51="r";l51+="emoveRe";l51+="qu";l51+="es";l51+="t";c.__decorate([h.Sc({df:l51,gga:!0})],a.prototype,W51,null);return a;break;}}function a(a,b){var y00,d;y00=2;for(;y00 !== 7;){switch(y00){case 2:var c51="med";c51+="i";c51+="a";c51+="|a";c51+="sejs";var d51="AS";d51+="EJS";d51+="_REQUE";d51+="ST_PACE";d51+="R";d=this;this.K1=a;this.config=b;this.RJ=0;this.console=new k.Console(d51,c51);y00=9;break;case 9:var f51="Re";f51+="quest";f51+="P";f51+="ac";f51+="er";var D51="1S";D51+="IYbZrN";D51+="JC";D51+="p9";D51;this.du=new h.wW({$J:this,source:f51,XGa:function(){var z00;z00=2;for(;z00 !== 1;){switch(z00){case 2:return {numOutstanding:d.RJ};break;}}},o2:5});y00=7;break;}}}})();b.uBa=f;},function(f,b){function a(a,b){return a.reduce(function(a,c){return a + c.Mub(b).ka;},0);}Object.defineProperty(b,"__esModule",{value:!0});b.Rka=void 0;b.Rka=function(b,f,k){return a(b,k) > f.cx;};},function(f,b){function a(a){return a.reduce(function(a,b){return a + b.Uy;},0);}Object.defineProperty(b,"__esModule",{value:!0});b.VQa=void 0;b.VQa=function(b){var c;c=b.KC;return a(b.Hb) >= c.CQ;};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Bta=void 0;c=a(115);f=(function(){function a(a,b,c){this.ij=a;this.DEb=b;this.pGb=c;}a.oub=function(a){var b;return null !== (b=a.en) && void 0 !== b?b:a.RVa;};a.svb=function(a){var b,c;b=a.ba;c=a.mA;a=a.JR;if(b.Ri)return b.Ri;if(1 === c.length)return c[0];if(1 === a.length)return a[0];};a.prototype.QRb=function(b){var f,g,k;f=this;null === (g=this.aga) || void 0 === g?void 0:g.Qb();g=a.oub(b).Oa(this.DEb);k=b.ba;k.ls || (this.aga=this.ij.jKa(c.Mq.ZT(g),function(){f.pGb(k.id,a.svb(k),!0);}));};a.prototype.reset=function(){var a;null === (a=this.aga) || void 0 === a?void 0:a.Qb();this.aga=void 0;};return a;})();b.Bta=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.QBa=void 0;c=a(0);l=a(20);k=a(5);f=(function(){function a(){}a.Lxb=function(a){var b,d,g;if(a.Sz){a=c.__read(a.Th,2);g=a[1];a=null === (b=a[0].jm) || void 0 === b?void 0:b.nr;b=null === (d=null === g || void 0 === g?void 0:g.jm) || void 0 === d?void 0:d.nr;k.assert(a);d=b?l.U.min(a,b):a;return {fUb:a,gUb:d};}};return a;})();b.QBa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.lMa=void 0;c=a(38);b.lMa=function(a,b){var f;f=[];a=a.map(function(a){var g,d;g=b(a.O);d=c.Yy(g,a.Th).map(function(a){return a.I;});f=c.DHa(f,d);return {Dc:a,Th:g};});return {Xjb:f,Lib:a};};},function(f,b,a){var c,l,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ita=void 0;c=a(3);l=a(17);k=a(10);h=a(5);f=(function(){function a(a,b,g,f,h,r){var d;d=this;void 0 === r && (r=500);this.G=a;this.config=b;this.Ab=g;this.events=f;this.gha=h;this.Uib=r;this.mWa=this.Zj=0;this.Rt={Mp:0};this.l3=function(){var a,b;a=d.config.iR;b=d.Ab.R1 || 0;b=c.time.da() - b;b >= a?(d.G.trace("Forcing streaming failure, ${elapsed}ms since data received"),d.Aq=void 0,d.gha.l3("Temporary failure while buffering","NFErr_MC_StreamingFailure",d.Sw)):(d.G.trace("BufferingStateTracker: Resetting underflow timeout in in ${ms - elapsed}ms"),d.Aq=setTimeout(d.l3,a - b));};this.state=new k.hv(l.Tc.ip);this.rA=new k.hv(l.ta.Sg);}Object.defineProperties(a.prototype,{Mp:{get:function(){return this.Rt.Mp;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mh:{get:function(){return l.WI(this.state.value);},enumerable:!1,configurable:!0}});a.prototype.OGb=function(){this.SE(void 0,l.Tc.Yd);};a.prototype.zGb=function(){this.Rt.Mp++;};a.prototype.VGb=function(a){this.config.yda || void 0 === this.Sw && this.Mh && this.pKa();this.Sw={BD:a.httpCode,kg:a.errorCode,ki:a.nativeCode};};a.prototype.ZGb=function(){this.Sw=void 0;this.config.yda || this.HH();};a.prototype.bl=function(a){this.SE(a,l.Tc.ff);(this.Sw || this.config.yda) && this.pKa();};a.prototype.XGb=function(a){this.SE(a,l.Tc.OM);};a.prototype.aOb=function(a,b){h.assert(this.state.value === l.Tc.Yd && void 0 === this.Gx);this.Gx=a;b && this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:b.jb,trackIndex:b.DT});};a.prototype.mOb=function(a,b,c){h.assert(this.Mh);this.Dka=null !== a && void 0 !== a?a:this.Dka;this.Aka=null !== b && void 0 !== b?b:this.Aka;void 0 === this.n1?this.n1=c:void 0 !== (null === c || void 0 === c?void 0:c.reason) && (this.n1.reason=c.reason);};a.prototype.Zg=function(a,b,g){h.assert(this.Mh && void 0 !== this.Gx && void 0 === this.OC && void 0 === this.T5 && void 0 === this.rY);this.OC=a;this.T5=b;this.rY=g;this.Dp=100;this.kJa();this.HH();this.state.value === l.Tc.ff && (this.mWa=c.time.da());this.g_();this.set(l.Tc.In);this.rY=this.T5=this.OC=this.n1=this.Aka=this.Dka=this.Gx=void 0;};a.prototype.stop=function(){this.set(l.Tc.ip);this.kJa();this.HH();};a.prototype.mkb=function(a,b,g,f){var d,m,k,p,t,r;h.assert(this.Mh);if(!(this.state.value === l.Tc.ff && c.time.da() < this.mWa + this.config.rTa)){p=g.Mia(0);g=g.Mia(1);t=c.time.da() - this.Zj;if(p || g){r=p?f.gZ(this.state.value,a,t,b,p,this.Mp):{complete:!0};a=g?f.gZ(this.state.value,a,t,b,g,this.Mp):{complete:!0};b=g?a:r;b.XTb=g?a.LC:0;b.Lhb=p?r.LC:0;r.complete && a.complete?(b.complete=!0,this.Zg(null !== (d=b.reason) && void 0 !== d?d:"unknown",null !== (m=b.XTb) && void 0 !== m?m:0,null !== (k=b.Lhb) && void 0 !== k?k:0)):(b.complete=!1,this.kjb(b));}}};a.prototype.kjb=function(a){var b,g,f;f=a.ni;a.Yz?f=(c.time.da() - this.Zj) / this.config.tx:f || (f=(null !== (b=a.LC) && void 0 !== b?b:0) / this.config.Zi);a=Math.min(Math.max(Math.round(100 * f),null !== (g=this.Dp) && void 0 !== g?g:0),99);a != this.Dp && (this.Dp=a);};a.prototype.SE=function(a,b){h.assert(b === l.Tc.Yd || void 0 !== a);this.Gx=a;this.Dp=0;this.Y2=void 0;this.Rt.Mp=0;a=this.state.value === l.Tc.Yd || this.state.value === l.Tc.ff;this.Zj=c.time.da();this.set(b);a || (this.Hqb(),this.GOb());};a.prototype.set=function(a){this.state.set(a);switch(a){case l.Tc.ip:this.rA.set(l.ta.ip);break;case l.Tc.Yd:case l.Tc.OM:this.rA.set(l.ta.Yd);break;case l.Tc.ff:this.rA.set(l.ta.ff);break;case l.Tc.In:this.rA.set(l.ta.Vc);}};a.prototype.Hqb=function(){h.assert(this.events && void 0 !== this.Dp);this.Y2=this.Dp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:c.time.da(),percentage:this.Dp});};a.prototype.GOb=function(){var a;a=this;this.hna=setInterval(function(){return a.Gqb();},this.Uib);};a.prototype.kJa=function(){this.hna && (clearInterval(this.hna),this.hna=void 0);};a.prototype.Gqb=function(){this.Mh && this.events && void 0 !== this.Dp && this.Dp !== this.Y2 && this.events.emit("buffering",{type:"buffering",time:c.time.da(),percentage:this.Dp}) && (this.Y2=this.Dp);};a.prototype.g_=function(){var a;h.assert(this.events && this.Gx && void 0 !== this.OC && void 0 !== this.rY && void 0 !== this.T5);this.Y2=this.Dp;this.events.emit("bufferingComplete",{type:"bufferingComplete",time:c.time.da(),actualStartPosition:this.Gx,reason:this.OC,aBufferLevelMs:this.rY,vBufferLevelMs:this.T5,selector:this.Dka,initBitrate:this.Aka,initSelReason:null === (a=this.n1) || void 0 === a?void 0:a.reason,skipbackBufferSizeBytes:this.V5b});};a.prototype.pKa=function(){var a;if(this.config.i1a && !this.Aq){a=this.config.iR;this.G.trace("BufferingStateTracker: Setting underflow timeout in in ${ms}ms");this.Aq=setTimeout(this.l3,a);}};a.prototype.HH=function(){this.Aq && (clearTimeout(this.Aq),this.Aq=void 0);};return a;})();b.Ita=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.AAa=void 0;c=a(10);l=a(38);k=a(5);f=(function(){function a(){this.Hb=new c.Sya();}Object.defineProperties(a.prototype,{size:{get:function(){return this.Hb.size;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a;a=this.Hb.values();this.Hb.clear();a.forEach(function(a){return a.ig();});};a.prototype.Az=function(a){return this.Hb.get(a);};a.prototype.Yfb=function(a){this.Hb.set(a.ba.id,a);};a.prototype.f4=function(a){return this.Hb["delete"](a.ba.id,a);};a.prototype.forEach=function(a){var b;b=this;this.Hb.forEach(function(d,c){return a(d,c,b);});};a.prototype.reduce=function(a,b){var d;d=this;return this.Hb.reduce(function(b,c,g){return a(b,c,g,d);},b);};a.prototype.map=function(a){var b;b=this;return this.Hb.map(function(d,c){return a(d,c,b);});};a.prototype.filter=function(a){var b;b=this;return this.Hb.filter(function(d,c){return a(d,c,b);});};a.prototype.CSb=function(a,b){var d,c,g;d=this;b=this.qDb(a,b);c=b.cRb;a=b.CY;b=b.bn;g=l.sr(this.Hb.keys().map(function(a){return l.Yy(d.Hb.get(a),c);}));g.forEach(function(a){return d.f4(a);});a.forEach(function(a){return d.Yfb(a);});return {CY:a,dpa:g,bn:b};};a.prototype.qDb=function(a,b){var c,g,f;function d(a,d){(a=b(a.Ba,d)) && g.push(a);return a;}c=this;g=[];f=[];return {cRb:a.reduce(function(a,b,g){var m,p;k.assert(0 === g || b.uA);if(b.uA && (m=l.AHa(a,function(a){return a.ba.id === b.uA;}),!m))return (k.assert(void 0 !== l.Eh(f,function(a){return a.Ba === b.uA;}),"predecessorSegmentId " + b.uA + " specified without previously specifying predessor requiredBranch."),f.push(b),a);p=l.Eh(c.Az(b.Ba),function(a){return a.parent === m || 0 === g;}) || d(b,m);p?(p.Qh=b.Qh,a.push(p)):f.push(b);return a;},[]),CY:g,bn:f};};return a;})();b.AAa=f;},function(f,b){var l,k,h;function a(a){return void 0 !== (null === a || void 0 === a?void 0:a.uDa);}function c(b){return (a(b)?b:Object.defineProperties(b,{uDa:{value:{},configurable:!1,enumerable:!1}})).uDa;}Object.defineProperty(b,"__esModule",{value:!0});b.eBa=void 0;k=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;h=Date.now() % k;f=(function(){function b(){this.id=h=(h + 1) % k;}b.prototype.get=function(b){return a(b)?c(b)[this.id]:void 0;};b.prototype.set=function(a,b){c(a)[this.id]=b;return this;};b.prototype.has=function(b){return a(b) && void 0 !== c(b)[this.id];};b.prototype["delete"]=function(a){if(!this.has(a))return !1;c(a)[this.id]=void 0;return !0;};return b;})();b.eBa=f;},function(f,b){var l,k,h;function a(a){return void 0 !== (null === a || void 0 === a?void 0:a.vDa);}function c(b){return (a(b)?b:Object.defineProperties(b,{vDa:{value:{},configurable:!1,enumerable:!1}})).vDa;}Object.defineProperty(b,"__esModule",{value:!0});b.S$=void 0;k=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;h=Date.now() % k;f=(function(){function b(){this.K4=0;this.id=h=(h + 1) % k;}b.prototype.add=function(a){c(a)[this.id]=this.K4;return this;};b.prototype.has=function(b){return a(b) && c(b)[this.id] === this.K4;};b.prototype["delete"]=function(a){if(!this.has(a))return !1;c(a)[this.id]=void 0;return !0;};b.prototype.clear=function(){this.K4=(this.K4 + 1) % k;return this;};return b;})();b.S$=f;},function(f,b,a){var c,l,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Wua=void 0;c=a(5);l=a(224);k=a(763);h=a(762);f=(function(){function a(a){this.Eqb=a;this.ksa=!1;this.Z5=new k.S$();this.xu=new k.S$();this.qH=new h.eBa();}a.prototype.hUb=function(a,b){var g,f;function d(){var a,d,c;a=k.pop();d=p.qH.get(a);if(!p.Z5.has(a)){p.Z5.add(a);c=b(a,d.lw,d.cWa).Y5;f(a).forEach(function(b){var f,m;f=b.VTb;if(!g.Z5.has(f))if((b=d.lw + b.weight,g.xu.has(f))){m=g.qH.get(f);b < m.lw && (m.lw=b,m.cWa=a,k.EJb(f));}else c && (g.xu.add(f),g.qH.set(f,{lw:b,cWa:a}),k.push(f));});}}g=this;f=this.Eqb;c.assert(!this.ksa);this.ksa=!0;this.Z5.clear();this.xu.clear();this.qH.set(a,{lw:0});for(var k=new l.xV([a],function(a,b){return g.qH.get(a).lw - g.qH.get(b).lw;}),p=this;!k.empty;){d();}this.ksa=!1;};return a;})();b.Wua=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ujb=b.RJa=void 0;c=a(764);b.RJa=function(a,b){return new c.Wua(function(c){return Object.keys(c.ba.next || ({})).map(function(g){return {VTb:a.og(g),weight:a.yPa(c,g)?b:c.nr?c.nr.Oa(c.Mj).ka:Infinity};});});};b.ujb=function(a,b){var c,g,f,d,m;c=Object.keys(a.Va);g=Object.keys(b.Va);f=g.filter(function(a){return -1 === c.indexOf(a);});d=c.filter(function(a){return -1 === g.indexOf(a);});m=c.filter(function(d){return -1 === g.indexOf(d)?!1:a.Va[d].Ge !== b.Va[d].Ge;});return {CY:f,dpa:d,w1b:m};};},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;c=a(10);l=a(5);f=(function(){function a(a,b,f){var d;d=this;this.id=a;this.ba=b;this.xe=f;this.oFa=!1;this.E0=function(a){var b,c,g;return null !== (g=null === (c=null === (b=d.ba.next) || void 0 === b?void 0:b[a]) || void 0 === c?void 0:c.xe) && void 0 !== g?g:d.xe;};this.bY=new c.U(b.Xd,1E3);this.iX=void 0 !== b.Ge && null !== b.Ge?new c.U(b.Ge,1E3):c.U.au;this.Jzb(b);}Object.defineProperties(a.prototype,{la:{get:function(){return this.ba.la;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{OJ:{get:function(){return this.oFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mj:{get:function(){return this.bY;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nr:{get:function(){return this.iX;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.iX.Oa(this.bY);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.bY.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pa:{get:function(){return this.iX.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tA:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ls:{get:function(){return this.mA.length?!this.ba.Ri && 0 === this.JR.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{STa:{get:function(){return this.KN;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mA:{get:function(){var a,b;return Object.keys(null !== (b=null === (a=this.ba) || void 0 === a?void 0:a.next) && void 0 !== b?b:{});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JR:{get:function(){var a;a=this;return this.mA.filter(function(b){return ! !a.KN[b];});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qh:{get:function(){return this.ZG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{IQb:{get:function(){return this.mfb;},enumerable:!1,configurable:!0}});a.prototype.normalize=function(a,b){this.bY=a;this.iX=b;this.oFa=!0;};a.prototype.KNa=function(){var a;return this.JR.length?null !== (a=this.JR.map(this.E0).reduce(function(a,b){return a === b?b:void 0;})) && void 0 !== a?a:this.xe:this.xe;};a.prototype.kj=function(a){void 0 !== this.ba.next && (this.KN=Object.keys(this.ba.next).reduce(function(b,c){b[c]=a[c] || 0;return b;},{}));};a.prototype.fTb=function(){var a;a=this;this.mfb=this.JR.reduce(function(b,c){return b + a.KN[c];},0);};a.prototype.SSb=function(a,b,c){a?(l.assert(void 0 !== a.Qh),this.ZG=void 0 !== a.GR?this.id === a.GR?1:0:b?void 0 !== c?a.Qh * c / b:0:a.Qh / a.mA.length):this.ZG=1;};a.prototype.Jzb=function(a){var b;if(void 0 === a.next)this.KN={};else {b=a.next;this.KN=Object.keys(b).reduce(function(a,d){var c;c=b[d].weight;void 0 !== c && null !== c && (a[d]=c);return a;},{});}};return a;})();b.KAa=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.GAa=void 0;c=a(0);l=a(766);f=(function(){function a(a){this.Pb=a;this.Va={};}a.uAb=function(a){return "immediate" === a || "delayedSeamless" === a;};a.prototype.og=function(a){var b,c,d;c=this.Va[a];if(void 0 === c){c=this.Pb.Va[a];if(void 0 === c)throw Error("Segment not found (" + a + ")");d=null !== (b=c.xe) && void 0 !== b?b:this.Pb.xe;c=new l.KAa(a,c,d);this.Va[a]=c;}return c;};a.prototype.Xub=function(a){var b;b=this;return a.ba.next?Object.keys(a.ba.next).map(function(a){return b.og(a);}):[];};a.prototype.hBb=function(a){var b;return c.__generator(this,function(c){switch(c.label){case 0:return [4,a];case 1:(c.yk(),b=a,c.label=2);case 2:if(!b.ba.Ri)return [3,4];b=this.og(b.ba.Ri);return [4,b];case 3:return (c.yk(),[3,2]);case 4:return [2];}});};a.prototype.wxb=function(a,b){return a.STa[b];};a.prototype.yPa=function(b,c){return a.uAb(b.E0(c));};a.prototype.kj=function(a){var b;b=this;Object.keys(a).forEach(function(c){var d;return null === (d=b.og(c)) || void 0 === d?void 0:d.kj(a[c]);});};return a;})();b.GAa=f;},function(f,b,a){var l;function c(a,b,c,f,d,m,h){if(h && -1 === b.indexOf(h.id) && !a.yPa(h,d.id))return {Y5:!1};a=h && a.wxb(h,d.id);if(0 === a || -1 === b.indexOf(d.id) && m >= c)return {Y5:!1};d.SSb(h,null === h || void 0 === h?void 0:h.IQb,a);l.assert(void 0 !== d.Qh);if(0 === d.Qh)return {Y5:!1};b={Ba:d.id,Qh:d.Qh};h && (b.uA=h.id);f.push(b);d.fTb();return {Y5:!0};}Object.defineProperty(b,"__esModule",{value:!0});b.Aqb=b.iUb=b.zE=void 0;l=a(5);b.zE=function(a,b,g,f,d){var m,k,l;k=[];l=(null === (m=g.nr) || void 0 === m?void 0:m.Oa(g.Mj).ka) || 0;b.hUb(g,function(b,g,m){return c(a,f,d.ka + l,k,b,g,m);});return k;};b.iUb=c;b.Aqb=function(a){function b(){var b,d;d=[];a=a.filter(function(a){return void 0 === b || a.uA === b.Ba?(b=a,d.push(a),!1):!0;});c.push(d);}a=a.slice();for(var c=[];a.length;){b();}return c.map(function(a){return (a[0].uA?a[0].uA + " --\x3e":"") + a.map(function(a){return a.Ba + " (" + a.Qh + ") ";}).join("--\x3e");}).join(", ");};},function(f,b,a){var c,l,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.ewa=void 0;c=a(17);l=a(101);k=a(3);h=a(163);g=a(38);f=(function(){function a(a,b,c){this.config=a;this.xPb=b;this.navigator=c;a=h["default"](this.config);this.eWa=[a.ux,a.gS];}a.prototype.uNb=function(a,b,f,k,l){var d,m,p,h,t;p=[];if(!this.sVa(k.track))return {stream:m,YK:p};m=k.cg.Tw;h=l?l.Ol(k.track.cd,a):k.track.cd;if(0 === h.length && (null === l || void 0 === l?0:l.Ejb))return {stream:void 0,YK:p};m && !m.track.equals(k.track) && (m=this.Ksb(m,h));if(0 === k.I && m && !this.cPb(k,m))return {stream:m,YK:p};a=this.Wnb(a === c.Tc.Yd?c.ta.Yd:a === c.Tc.ff?c.ta.ff:a === c.Tc.OM?c.ta.Yd:a === c.Tc.In?c.ta.Vc:c.ta.Sg,b,f,k);a=k.Ix.H4(a,h,void 0,this.eWa[k.I],!0,k.track.O.wo);if(!a)return {stream:m,YK:p};a.reason && (t={reason:a.reason,MS:a.$t,Jw:a.Jw,Tk:a.Tk,Uk:a.Uk});m=h[a.bd];k.cg.hZa(m);if(null === (d=a.kw) || void 0 === d?0:d.length)p=a.kw.map(function(a){return g.Eh(h,function(b){return b.id === a;});}).filter(g.fna);return void 0 !== t?{stream:m,YK:p,wNb:t}:{stream:m,YK:p};};a.prototype.gZ=function(a,b,g,f,k,l,p){var d,m;if(!c.WI(b))return {complete:!0};if(!l.yJb)return {complete:!1};if(l.oHb)return l.pHb;d=this.uNa(l,g);m=l.cg.Tw;g=d.Pk - d.md;if(g < this.config.Zi || void 0 === m)return {complete:!1,LC:g};if(0 === l.I)return {complete:!0,LC:g};if(a(l.I))return {complete:!0,LC:g,reason:"mediaDurationLimit"};this.sVa(l.track);l.Ix.qoa([m],!1,d,this.eWa[l.I]);a=l.Ix.dw(d,b,k,m,{Mp:p});if(!a.complete && f >= this.config.tx)return {complete:!0,reason:"prebufferTimeLimit",LC:g};a.LC=g;return a;};a.prototype.Ksb=function(a,b){var d;d=b[0];b.filter(function(a){return a.Gr;}).every(function(b){return b.R <= a.R?d=b:!1;});return d;};a.prototype.cPb=function(a,b){return 0 < this.config.iL.length?!0:(a=a.cg.fJ) && a === b.location?!1:!0;};a.prototype.sVa=function(a){return a.O.Wk.sL(a.O.la,a.cd);};a.prototype.uNa=function(a,b){var n;for(var d,c=b.Oa(this.xPb),g=[],f=a,m=b,l,p,h=0,r=!0;f;){n=f.tvb(c);if(0 === n.ca.length)break;if(!r && !f.zC)break;m=n.ca[0].gn;void 0 === l && (l=n.ca[n.ca.length - 1].en,p=n.Pna >= n.ca.length?l:n.ca[n.Pna].gn);g=n.ca.concat(g);h+=n.tk;f=this.navigator.parent(f);r=!1;}return {Fp:k.Ql()[a.I],T:Math.floor(m.ka),md:b.ka,Vb:Math.floor(null !== (d=null === l || void 0 === l?void 0:l.ka) && void 0 !== d?d:b.ka),Pk:Math.floor(p?p.ka:b.ka),ti:g.reduce(function(a,b){return a + b.$;},0),tk:h,Sha:g.length,ca:g};};a.prototype.Wnb=function(a,b,g,f){var d,m,k;d=this.uNa(f,b);m=1 === f.I?this.config.ST:this.config.CO;k=l.pf();return {state:a,Tz:a === c.ta.Vc,mg:f.$k,playbackRate:g,buffer:d,Fga:m,gSa:!1,DP:!1,xp:null === k || void 0 === k?void 0:k.xp,I:f.I,md:b.ka,bq:!1,A1:!1,tS:0};};return a;})();b.ewa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.sBa=void 0;c=a(0);l=a(25);k=a(98);f=(function(){function a(a){this.gd=a;}Object.defineProperties(a.prototype,{Ip:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{DR:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return l.sa;},enumerable:!1,configurable:!0}});a.prototype.zz=function(a){var b,d,g,h;if(a.Vm === k.jv.m_ && (a=this.gd.eia())){g={};try{for(var f=c.__values(a.GIb),l=f.next();!l.done;l=f.next()){h=l.value;g[h.I]=this.iDb(h);}}catch(J){b={error:J};}finally{try{l && !l.done && (d=f["return"]) && d.call(f);}finally{if(b)throw b.error;}}return {branchQueue:this.gDb(a.oKb),playerIterator:g};}};a.prototype.iDb=function(a){return null === a || void 0 === a?void 0:a.iOa();};a.prototype.fDb=function(a){var b,d,c;b=this;if(a){d=a.ba;c={};a.jQ().forEach(function(a){c[a.I]=b.hDb(a);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:a.ak,RM:c};}return a;};a.prototype.hDb=function(a){if(a && a.Ra)return a.Ra.$ia();};a.prototype.gDb=function(a){var b;b=this;return a.map(function(a){return b.fDb(a);});};return a;})();b.sBa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Jsa=void 0;c=a(0);f=(function(a){function b(c,g){c=a.call(this,b.Jtb(c,g)) || this;c.Cbb=g;c.name="AggregateError";return c;}c.__extends(b,a);b.Jtb=function(a,b){return b.reduce(function(a,b){return a + "\n" + b;},a);};Object.defineProperties(b.prototype,{Rt:{get:function(){return this.Cbb;},enumerable:!1,configurable:!0}});return b;})(Error);b.Jsa=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.eTa=void 0;b.eTa=function(a){var b;b={};return function(c){(c in b) || (b[c]=a(c));return b[c];};};},function(f,b,a){var c,l,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.j$=void 0;c=a(0);l=a(5);k=a(25);h=a(376);f=(function(a){function b(b){var d;d=a.call(this) || this;d.mb=b;d.Hb=[];d.kN=new h.faa({Rm:!1,currentTime:function(){return d.Kf;},speed:1});return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{Fa:{get:function(){return this.kN;},enumerable:!1,configurable:!0}});b.prototype.MY=function(a,b){var d;d=!this.mb;d && (this.mb=a,this.wba=null === b || void 0 === b?void 0:b.Kf);return d;};b.prototype.GH=function(){this.Hb=[];this.wba=void 0;};b.prototype.oga=function(a){k.sa && l.assert(this.mb === a);this.mb=void 0;this.GH();};b.prototype.bha=function(){for(var a,b=[],g=0;g < arguments.length;g++){b[g]=arguments[g];}(a=this.Hb).push.apply(a,c.__spread(b));};b.prototype.BI=function(){return this.wba?this.wba:a.prototype.BI.call(this);};b.prototype.bL=function(){};return b;})(a(379).A$);b.j$=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.nCa=void 0;f=(function(){function a(a,b){this.G=a;this.Uf=b;this.Uqa=!1;}a.prototype.xg=function(a,b,f,h,g,p){this.Uqa || (this.Uqa=!0,a={type:"error",error:null !== f && void 0 !== f?f:"NFErr_MC_StreamingFailure",errormsg:a,networkErrorCode:h,httpCode:g,nativeCode:p,viewableId:b},this.G.error("notifyStreamingError: " + JSON.stringify(a)),this.Uf.emit("error",a));};a.prototype.Sm=function(){return this.Uqa;};return a;})();b.nCa=f;},function(f,b,a){var c,l,k,h,g,p,d,m,t,x,n,q,E,L,D,C,u,P,ba,R,V,W,ea,ha,Y,Ia,ia,oa,qa,B,I,O;Object.defineProperty(b,"__esModule",{value:!0});b.ata=void 0;c=a(0);l=a(15);k=a(377);h=a(17);g=a(10);p=a(401);d=a(774);m=a(3);t=a(5);x=a(116);n=a(773);q=a(38);E=a(115);L=a(114);D=a(772);C=a(98);u=a(770);P=a(395);ba=a(376);R=a(378);V=a(769);W=a(768);ea=a(767);ha=a(765);Y=a(761);Ia=a(760);ia=a(759);oa=a(758);qa=a(757);B=a(756);I=a(755);O=a(101);f=(function(){function a(a,b,c,f,p,h,t,r,x,q){this.G=a;this.Pb=b;this.xGa=c;this.config=f;this.sIa=h;this.Keb=t;this.Mbb=r;this.lo=x;this.wkb=q;this.dX=!1;this.jc=k.An.CLOSED;this.Lba=!0;this.jea=new l.Pg();this.tl=void 0;this.XT=new l.Pg();this.navigator=new ea.GAa(b);this.Sxb=ha.RJa(this.navigator,f.KIb);this.Hb=new Y.AAa();this.Aja=new V.ewa(this.config,g.U.Pc(this.config.q2),{parent:this.lxb.bind(this)});this.events=new l.EventEmitter();this.g_a=new d.nCa(a,this.events);this.Hh=new Ia.Ita(a,f,p,this.events,this);this.wK=[];this.Rra({CQ:f.Lo || Infinity});this.console=new m.Console("ASEJS_PLAYGRAPH","asejs");this.S=new n.j$(this);this.sA=new E.tW(this.S.Fa,this.console);this.R1a=new E.tW(new ba.faa({Rm:!0,currentTime:function(){return g.U.Pc(m.time.da());},speed:1}),this.console);this.pIa=new qa.Bta(this.sA,g.U.Pc(f.hA),this.Xo.bind(this));this.FXa=new C.qBa(f);}Object.defineProperties(a.prototype,{state:{get:function(){return this.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{CPa:{get:function(){return !(this.S instanceof n.j$);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{weight:{get:function(){return this.xGa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mj:{get:function(){var a,b;t.assert(this.dX,"AsePlaygraph.startTimestamp accessed before seekStreaming");b=null === (a=this.qC) || void 0 === a?void 0:a.position;return b?this.rQ(b).dP:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hm:{get:function(){return this.Hh.state;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rA:{get:function(){return this.Hh.rA;},enumerable:!1,configurable:!0}});a.prototype.open=function(){this.Lba=!0;if(this.jc !== k.An.CLOSED)return !1;this.jc=k.An.OPEN;return !0;};a.prototype.Qb=function(){var a;this.jc !== k.An.CLOSED && (this.ig(),null === (a=this.tl) || void 0 === a?void 0:a.hJ.release(),this.tl=void 0,this.XT.clear(),this.Hh.stop(),this.jc=k.An.CLOSED);};a.prototype.XS=function(a,b){var d,c,g;d=this;this.PHa=a;this.F1a=b;b=ia.lMa(this.Hb,this.DYa.bind(this));a=b.Xjb;b=b.Lib;if(0 === a.length)return !0;if(1 !== a.length || 0 !== a[0])return !1;c=this.S.position;this.S.pause(a);a.forEach(function(a){return d.S.AS(a);});g=this.rQ(c).dP;b.forEach(function(a){var b;b=a.Dc;b.XS(a.Th,c.Ba === b.ba.id?g:void 0);});this.Hh.XGb(c);this.S.resume(a);return !0;};a.prototype.MH=function(a){return L.MH(this.config,a);};a.prototype.NH=function(a){return L.NH(this.config,a);};a.prototype.Xo=function(a,b,d){var c;if(!b)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");a=this.navigator.og(a);if(-1 === a.mA.indexOf(b))throw Error("AsePlaygraph.setNextSegment - invalid destination for current segment");null === (c=this.S.Mx) || void 0 === c?void 0:c.TE(a,!0,d);a.GR=b;this.zE();};a.prototype.kj=function(a){this.navigator.kj(a);};a.prototype.rqa=function(a,b){this.Tda=a;this.yL=b;this.lo();};a.prototype.C4=function(a){var b,d;if(R.jRa(this.Pb,a)){if((a=this.nYa(a),void 0 === a))this.xg("Invalid seekPosition");else if(void 0 === this.PHa || void 0 === this.F1a)this.xg("No track selectors available");else {if(this.CPa && this.S.Fja || !R.oPa(null === (b=this.qC) || void 0 === b?void 0:b.position,a))(this.dX && (b=this.navigator.og(this.S.position.Ba),null === (d=this.S.Mx) || void 0 === d?void 0:d.TE(b,!1)),this.ig(!0),this.Akb(),this.qC={position:a,Sz:!1},this.dX=!0,this.Hh.OGb(),this.jc=k.An.In,this.zE());}}else this.xg("Invalid seekPosition");};a.prototype.ig=function(a){var b,d;d=this.lPa();this.Hb.reset();this.wK.forEach(function(b,c){d && (c=d.tY(h.Ue[c],b),a && c.length && d.s4(c));x.Bn.pf.dI(b);});this.wK=[];this.sA.reset();this.R1a.reset();this.S.reset();this.qC=void 0;null === (b=this.jea) || void 0 === b?void 0:b.clear();this.jc === k.An.In && (this.jc=k.An.OPEN);};a.prototype.pub=function(a){return this.Hb.Az(a);};a.prototype.bl=function(a){var b,d;b=this;this.Hh.bl(a);null === (d=this.XIb) || void 0 === d?void 0:d.Qb();this.XIb=this.R1a.jKa(E.Mq.Q1a(g.U.Pc(this.config.tx)),function(){!b.S.cj || b.Hh.state.value !== h.Tc.ff && b.Hh.state.value !== h.Tc.Yd || b.cC(b.S.cj);});this.lo();};a.prototype.zt=function(a){this.FXa.zt(a);};a.prototype.Ehb=function(a){this.zt(new u.sBa(a));this.Fhb(a);};a.prototype.Fhb=function(a){this.S.Ara(a)?(this.S=a,this.sA.HHa(this.S.Fa)):this.xg("player in use");};a.prototype.rQ=function(a){var b;b=this.navigator.og(a.Ba);a=b.Mj.add(a.offset);return {la:b.la,dP:a};};a.prototype.Rr=function(a){return this.S.Rr(a);};a.prototype.M0=function(a){return this.S.M0(a);};a.prototype.nYa=function(a){var b;b=this.Pb.Va[a.Ba];if(void 0 !== b)return null === b.Ge || void 0 === b.Ge?{Ba:a.Ba,offset:g.U.max(g.U.rb,a.offset)}:{Ba:a.Ba,offset:g.U.max(g.U.rb,g.U.min(a.offset,g.U.Pc(b.Ge - b.Xd)))};};a.prototype.Nm=function(a,b){return this.Mbb(this.Pb.Va[a].la,b);};a.prototype.Ti=function(a){var b,d;this.Hb.forEach(function(a){var c;if(!a.zC || a.ba.ls){c=a.ROa(0);a=a.ROa(1);if(!b || c < b)b=c;if(!d || a < d)d=a;}});return {x5:b?Math.max(b - a.ka,0):0,y5:d?Math.max(d - a.ka,0):0};};a.prototype.hia=function(){var a,b,d,c;d=this.dX?this.Ti(this.Kf):{x5:0,y5:0};c=O.pf().get();return {totalabuflmsecs:d.x5,totalvbuflmsecs:d.y5,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (b=Number(0 < c.Cd) && (null === (a=c.La) || void 0 === a?void 0:a.Ga)) && void 0 !== b?b:0};};a.prototype.pQ=function(){var a,b;a=this;if(this.Sm() || B.VQa({Hb:this.Hb,KC:this.KC}))return [];b=D.eTa(I.Rka.bind(void 0,this.Hb,this.config));return this.Hb.reduce(function(d,g){var f,m;try{for(var k=c.__values(g.Yvb(b)),l=k.next();!l.done;l=k.next()){d.push(a.eob(l.value));}}catch(gb){f={error:gb};}finally{try{l && !l.done && (m=k["return"]) && m.call(k);}finally{if(f)throw f.error;}}return d;},[]);};a.prototype.Ywb=function(a){if(a=c.__read(this.Hb.Az(a),1)[0])return oa.QBa.Lxb(a);};a.prototype.lxb=function(a){var b,d;d=a.I;return null === (b=a.Dc.parent) || void 0 === b?void 0:b.Mia(d);};a.prototype.l3=function(a,b,d){var c,g;g=this.S.position;g && (c=this.navigator.og(g.Ba).la);this.xg(a,c,b,null === d || void 0 === d?void 0:d.kg,null === d || void 0 === d?void 0:d.BD,null === d || void 0 === d?void 0:d.ki);};a.prototype.xg=function(a,b,d,c,g,f){this.g_a.xg(a,b,d,c,g,f);};a.prototype.x0a=function(a,b){var d;b=this.FXa.zz(b);if("endplay" === a){d=this.hia();b.vbuflmsec=d.totalvbuflmsecs;b.abuflmsec=d.totalabuflmsecs;b.vbuflbytes=d.vbuflbytes;b.abuflbytes=d.abuflbytes;}this.events.emit("logdata",{type:"logdata",target:a,fields:b});};a.prototype.Rra=function(a){this.KC=a;this.lo();};a.prototype.Sm=function(){return this.g_a.Sm();};a.prototype.a1a=function(a){a !== this.weight && (this.xGa=a,this.events.emit("weightUpdated"));};a.prototype.opa=function(a){var b,d,c,g;b=this;d=this.Keb(a);c=d.YT;g=d.hJ;this.tl?(t.assert(this.tl.la === a,"Multi-viewable playgraphs not supported"),this.tl.hJ.release(),this.tl.hJ=g):this.tl={la:a,hJ:g};c.then(function(a){b.tl && b.tl.hJ === g && (b.tl.O=a,b.XT.clear(),b.XT.addListener(b.tl.O.dha,"criticalNetworkError",b.Hh.zGb.bind(b.Hh)),b.XT.addListener(b.tl.O.dha,"temporaryNetworkError",b.Hh.VGb.bind(b.Hh)),b.XT.addListener(b.tl.O.dha,"updatingLastSuccessEvent",b.Hh.ZGb.bind(b.Hh)),b.jc === k.An.In && b.zE());});};a.prototype.CGa=function(a){var b,d;b=this;if(null === (d=this.qC) || void 0 === d || !d.Sz)if(void 0 !== a.$g)this.LMa(a);else this.jea.on(a.events,"branchNormalized",this.LMa.bind(this,a));!this.S.Fja && this.config.w3 && (this.uj("createDlTracksStart"),a.events.once("requestQueuesCreated",function(){return b.uj("createDlTracksEnd");}));this.pIa.QRb(a);this.S.bha(a);a.parent && (a.parent.ba.GR=void 0);};a.prototype.LMa=function(a){t.assert(a.$g);this.qC={position:{Ba:a.ba.id,offset:a.$g.Oa(a.ba.Mj)},Sz:!0};this.Hh.aOb(this.qC.position,a.Th.filter(function(a){return 0 === a.I;})[0]);};a.prototype.Akb=function(){var a;this.pIa.reset();this.S.GH();this.qC=void 0;null === (a=this.jea) || void 0 === a?void 0:a.clear();};a.prototype.Iqb=function(a,b){this.events.emit("streamSelection",{type:"streamSelection",mediaType:a.I,selDiscBw:null === b || void 0 === b?void 0:b.MS,histAge:null === b || void 0 === b?void 0:b.Tk});};a.prototype.eob=function(a){var b;b=this;return {Qh:a.Qh,Hm:this.Hm.value,Jt:a.Jt,yq:a.yq,Kf:this.Kf,pRa:function(){var d,c,g,f,m,k;c=a.I;g=b.Aja.uNb(b.Hm.value,b.Kf,b.S.playbackRate,a,0 === c?b.Tda:b.yL);f=g.stream;m=g.YK;g=g.wNb;if(!f)return !1;b.Iqb(f,g);k=1;if(null === (d=a.Dc) || void 0 === d?0:d.Th.every(function(a){return 0 === a.I;}))k=0;b.Hh.Mh && c === k && b.Hh.mOb(a.Ix.LK,f.R,g);b.RK(m);(d=a.nSb(f,b.wK[c])) && b.Lba && (b.uj("firstDriveStreaming"),b.Lba=!1);return d;}};};a.prototype.RK=function(a){var b;b=this;a.forEach(function(a){a.O.fOb(a,function(){var a,d,c;a=b.Hh.state.value;d=b.Kf;c=d.add(g.U.Pc(b.config.uR));return {Qh:1,Hm:a,Jt:c,yq:c,Kf:d};});});};Object.defineProperties(a.prototype,{Kf:{get:function(){return this.S.Kf;},enumerable:!1,configurable:!0}});a.prototype.zE=function(){var a,b,d,c,f;a=this;t.assert(this.jc === k.An.In);b=this.S.position;d=this.navigator.og(b.Ba);c=this.Fub();d=W.zE(this.navigator,this.Sxb,d,c,g.U.Pc(this.config.Jib));c=this.Hb.CSb(d,function(d,c){var g;g=a.navigator.og(d);d=d === b.Ba?g.Mj.add(b.offset):g.Mj;return a.kSb(g,d,c);});f=c.CY;d=c.bn;c.dpa.forEach(function(a){return a.ig();});f.forEach(function(b){return a.wzb(b);});this.OKb(f);!this.config.w3 && 0 === this.wK.length && 0 < this.Hb.size && (c=this.lPa()) && this.NKb(c);0 === d.length && this.dkb();this.lo();};a.prototype.lPa=function(){var a;this.Hb.forEach(function(b){a=a || b.O;t.assert(b.O === a,"Multi-viewable playgraphs not supported");});return a;};a.prototype.OKb=function(a){var b,d;!this.S.QQ && 0 < a.length && this.CGa(a[0]);if(this.S.QQ){do {b=void 0;a=!1;if(void 0 !== this.S.QQ.ba.GR)(b=c.__read(this.Hb.Az(this.S.QQ.ba.GR),1),b=b[0]);else {d=this.navigator.Xub(this.S.QQ.ba);1 === d.length && (b=c.__read(this.Hb.Az(d[0].id),1),b=b[0]);}b && (this.CGa(b),a=!0);}while(a);}};a.prototype.dkb=function(){var a;if(0 === this.Ptb()){if(this.Hh.Mh){a=this.Ti(this.Kf);this.Hh.Zg("complete",a.x5,a.y5);}this.Edb();}};a.prototype.Fub=function(){return this.Hb.filter(function(a){return a.zC;}).map(function(a){return a.ba.id;});};a.prototype.Ptb=function(){return this.Hb.filter(function(a){return !a.zC;}).length;};a.prototype.cC=function(a){var b;b=I.Rka.bind(void 0,this.Hb,this.config);this.Hh.mkb(this.Kf,this.S.playbackRate,a,{gZ:this.Aja.gZ.bind(this.Aja,b)});};a.prototype.qGb=function(a,b){b.didNormalizeSegment && this.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:a.ba.id,normalizedStart:b.segmentContentStart,normalizedEnd:b.branchContentEnd});};a.prototype.Kdb=function(){this.zE();};a.prototype.kSb=function(a,b,d){var c,f,m,k,l;c=this;m=g.U.rb;d && d.en && (m=d.en.Oa(a.Mj));if(this.wkb(a,b))throw Error("Not implemented");k=a.la;t.assert(!this.tl || this.tl.la === k,"Multi-viewable playgraphs not supported");l=null === (f=this.tl) || void 0 === f?void 0:f.O;if(l)return new p.H6(this.config,this.console,l,this.events,a,this.DYa(l),b,m,function(){return c.Kf.ka;},d,[],this.Hm,this.sA,this.sIa);this.opa(k);};a.prototype.wzb=function(a){a.events.once("branchNormalized",this.qGb.bind(this,a));a.events.on("branchStreamingComplete",this.Kdb.bind(this,a));a.events.on("checkBufferingProgress",this.cC.bind(this,a));a.Jb();this.FX(a.ba.id,a.O,a.$q);};a.prototype.NKb=function(a){var b,d,c,g;b=this;d=a.u;t.assert(0 === this.wK.length);c=0;g=new l.Pg();this.uj("createDlTracksStart");this.wK=h.Ue.map(function(f){f=b.gr(f,d,a);++c;g.on(f,"created",function(){--c;0 === c && (b.uj("createDlTracksEnd"),g.clear());});return f;});};a.prototype.Jqb=function(a){this.events.emit("transportReport",a);};a.prototype.gr=function(a,b,d){var c;c=this;return P.gr(a,d,this.config,this.G,this.Jqb.bind(this),function(a,b){return c.xg("DownloadTrack fatal error",void 0,"NFErr_MC_StreamingFailure",a,0,b);});};a.prototype.DYa=function(a){return [[0,this.PHa,"audio_tracks"],[1,this.F1a,"video_tracks"]].map(function(b){var d,g;d=c.__read(b,3);b=d[0];g=d[1];d=d[2];t.assert(g,"Expected mediaType " + b + " track selector to be defined");g=g.IK(a.qa,a.qa[d]);return void 0 !== g?a.hPa(b,g):void 0;}).filter(q.fna);};a.prototype.FX=function(a,b,d){a={type:"segmentStarting",segmentId:a,contentOffset:d.ka,maxBitrates:{audio:b.Lr[0],video:b.Lr[1]}};this.events.emit(a.type,a);};a.prototype.Edb=function(){var a;a={type:"streamerEnd",time:m.time.da()};this.events.emit(a.type,a);};a.prototype.uj=function(a){a={type:"startEvent",event:a,time:m.time.da()};this.events.emit(a.type,a);};return a;})();b.ata=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;c=a(15);f=a(35);a=(function(){function a(a,b){var g;g=this;this.S=a;this.gd=b;this.UEa=!1;this.UG=new c.Pg();this.UG.on(a,"paused",function(){return g.k3();});this.UG.on(a,"playing",function(){return g.k3(!0);});this.UG.on(a,"underflow",function(){return g.k3();});this.UG.on(a,"skipped",function(){return g.Fna();});this.UG.on(a,"playbackRateChanged",function(){return g.HGb();});}Object.defineProperties(a.prototype,{currentTime:{get:function(){return this.gd.Kf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rm:{get:function(){return this.UEa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{speed:{get:function(){var a;return null !== (a=this.S.playbackRate) && void 0 !== a?a:1;},enumerable:!1,configurable:!0}});a.prototype.k3=function(a){void 0 === a && (a=!1);this.UEa=a;this.emit("stopStart",{type:"stopStart"});};a.prototype.Fna=function(){this.emit("clockReset",{type:"clockReset"});};a.prototype.HGb=function(){this.emit("speedChanged",{type:"speedChanged"});};a.prototype.Qb=function(){this.k3();this.UG.clear();};return a;})();b.xAa=a;f.Se(c.EventEmitter,a);},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.OCa=void 0;c=a(3);f=(function(){function a(a,b,c){this.G=a;this.IX=b;this.feb=c;}a.prototype.TE=function(a,b,g){var f,d,m;f=this.IX.position.offset;b || g?(d=a.duration.ka,g || (m=a.duration.Oa(f).ka)):(d=f.ka,m=0);g=this.Tbb(a);this.Qca={startTime:c.time.da(),IPb:a.id,JPb:a.duration.ka,HPb:d,ZH:m,GA:b,Pea:g};};a.prototype.Nia=function(a){var b,g,f,d,m,k;if(this.Qca){b=this.Qca;this.Qca=void 0;g=b.Pea[a];if(g){f=g.Nt.weight;d=this.xEa(a).Cp;f=this.cFa(f,d);d={};for(m in b.Pea){m !== a && (d[m]=b.Pea[m].Nt);}m=b.GA?g.Kz?"seamless":"long":g.Kz?"skip":"long";k=b.GA?0:c.time.da() - b.startTime;return {segment:a,srcsegment:b.IPb,srcsegmentduration:b.JPb,srcoffset:b.HPb,seamlessRequested:b.GA,atRequest:g.Nt,atTransition:f,discard:d,transitionType:m,delayToTransition:b.ZH,durationOfTransition:k};}}};a.prototype.Tbb=function(a){var b,c;b=this;c={};a.mA.forEach(function(g){var d,f;d=a.STa[g];f=b.xEa(g);c[g]={Nt:b.cFa(d,f.Cp),Kz:f.Kz};});return c;};a.prototype.xEa=function(a){var b,c;a=this.feb.pub(a);if(0 === a.length)return {Kz:!1,Cp:{cp:0,xt:0,Pu:0,uY:0}};a=a[0];b=a.iia();c=a.bb(1) && 0 === b.cp;return {Kz:!(a.bb(0) && 0 === b.xt) && !c,Cp:b};};a.prototype.cFa=function(a,b){return {weight:a,vbuflmsec:b.cp,abuflmsec:b.xt,vbuflbytes:b.Pu,abuflbytes:b.uY};};return a;})();b.OCa=f;},function(f,b,a){var c,l,k,h,g,p,d,m,t,x,n;Object.defineProperty(b,"__esModule",{value:!0});b.nta=void 0;c=a(0);l=a(15);k=a(393);h=a(3);g=a(225);a(17);p=a(168);d=a(10);m=a(38);t=a(115);x=a(5);n=a(777);f=(function(){function a(a,b,c,f,m,k,p,h,t){var r;r=this;this.mb=a;this.S=b;this.G=c;this.H=f;this.RN=m;this.Uf=k;this.eA=p;this.sA=h;this.Ey=t;this.fba=!1;this.tEa=new d.aCa();this.Bab=new l.Pg();this.Gi=new g.kU(this.G);this.Mx=new n.OCa(this.G,b,a);this.Vnb(this.Mx);this.vm && (this.Ocb=d.hv.S1a(this.vm.map(function(a){return a.vJ;}),function(a){return a.every(function(a){return a;});},function(a){return r.Ey.set(a);}));this.ot=h.uZ(function(){return r.Kib();});}a.prototype.Kib=function(){var a,b,g,f,m,k;return c.__generator(this,function(l){switch(l.label){case 0:if(!this.Gi.FJa)return [3,2];a=c.__read(this.Gi.ura(),1);b=a[0];g=null !== (k=null === (m=this.RN.bT) || void 0 === m?void 0:m.ka) && void 0 !== k?k:0;f=b.en.add(d.U.Pc(g));return [4,t.Mq.ZT(f)];case 1:return (l.yk(),this.Gi.remove(b),b.ig(),[3,0]);case 2:return [2];}});};Object.defineProperties(a.prototype,{NA:{get:function(){var a;return !(null === (a=this.vm[0]) || void 0 === a || !a.NA);},enumerable:!1,configurable:!0}});a.prototype.wrb=function(a){this.Gi.enqueue(a);this.ot.state === t.Nq.complete && this.ot.rq();a.ba.ls && this.Gi.o_();this.fba || this.Ysb(a);};a.prototype.zna=function(a){this.vm.forEach(function(b){b.zna(a);});};a.prototype.reset=function(){this.vm.forEach(function(a){a.reset();});this.fba=!1;this.tEa.removeAllListeners();};a.prototype.AS=function(a){a=this.pNa(a);null === a || void 0 === a?void 0:a.reset();};a.prototype.GH=function(){this.Gi.clear();this.Bab.clear();this.ot.rq();};a.prototype.resume=function(a){this.vm.forEach(function(b){void 0 !== a && -1 === a.indexOf(b.I) || b.resume();});};a.prototype.bL=function(a){this.vm.forEach(function(b){return (void 0 === a || -1 !== a.indexOf(b.I)) && b.stop();});};a.prototype.bl=function(){this.G.trace("attached-player: onUnderflow");};a.prototype.NOa=function(){return this.Gi.hOa();};a.prototype.Dvb=function(){return this.Az()[0];};a.prototype.Az=function(){return this.Gi.ura();};a.prototype.Vnb=function(a){var b,d;b=this;this.uj("createMediaSourceStart");d=new h.MediaSource(this.S.S);d.Zb || (d.Zb=h.MediaSource.Zb);if(1 !== d.readyState)this.Wn("exception in init","NFErr_MC_StreamingInitFailure");else {this.uj("createMediaSourceEnd");this.If=d;if(!d.AY(this.eA))throw (this.G.trace("Error:",d.error),this.Wn("error creating source buffers","NFErr_MC_StreamingInitFailure"),d.error);this.vm=d.sourceBuffers.map(function(c){var g;g=new p.J6(b.G,c.I,d,c,b.H,{Sd:function(){return b.S.Kf.ka;},Nw:function(a){return b.S.Nw(a.la);}});g.addListener("error",function(a){return b.Wn(a.errorstr);});g.addListener("logdata",function(a){return b.Uf.emit("logdata",a);});return new k.t6(g,c.I,b,b.H,b.G,b.S,b.RN,b.sA,a);});}};a.prototype.Qb=function(){this.Ocb.clear();this.vm.forEach(function(a){return a.Qb();});this.If.jr();this.GH();this.ot.Qb();};a.prototype.bi=function(a){return this.vm.every(function(b){return b.bi(a);});};a.prototype.eia=function(){return {oKb:this.Gi.ura(),GIb:this.vm};};a.prototype.Ysb=function(a){var b;b=this;this.fba=!0;a.Th.forEach(function(a){var d;d=b.pNa(a.I);if(void 0 !== d)b.tEa.once(a.Hha,function(a){return d.Zsb(a);});});if(a.$g)this.LLa();else a.events.once("branchNormalized",function(){return b.LLa();});};a.prototype.LLa=function(){var a;a=this.Dvb();a && (x.assert(a.$g),this.Uf.emit("ptsChanged",{initialTimestamp:a.$g}));};a.prototype.pNa=function(a){return m.Eh(this.vm,function(b){return b.I === a;});};a.prototype.uj=function(a){a={type:"startEvent",event:a,time:h.time.da()};this.Uf.emit(a.type,a);};a.prototype.Wn=function(a,b){this.mb.xg(a,void 0,b);};return a;})();b.nta=f;},function(f,b,a){var c,l,k,h,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.$sa=void 0;c=a(0);l=a(15);k=a(10);h=a(5);g=a(3);p=a(115);d=a(38);m=a(778);f=a(379);t=a(776);a=(function(a){function b(b,d,c){var f;f=a.call(this) || this;f.S=b;f.eA=d;f.RN=c;f.AP=[];f.lEa=new l.Pg();f.G=new g.Console("ASEJS","media|asejs");f.lEa.on(f.S,"underflow",function(){return f.bl();});f.kN=new t.xAa(b,f);f.gC=new p.tW(f.kN,f.G);return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{Mx:{get:function(){var a;return null === (a=this.Gh) || void 0 === a?void 0:a.Mx;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sA:{get:function(){return this.gC;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hb:{get:function(){var a,b;return null !== (b=null === (a=this.Gh) || void 0 === a?void 0:a.Az()) && void 0 !== b?b:[];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mb:{get:function(){var a;return null === (a=this.Gh) || void 0 === a?void 0:a.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fa:{get:function(){return this.kN;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{NA:{get:function(){var a;return !(null === (a=this.Gh) || void 0 === a || !a.NA);},enumerable:!1,configurable:!0}});b.prototype.jqa=function(a){-1 === this.AP.indexOf(a) && this.AP.push(a);this.Gh && this.Gh.zna(a);};b.prototype.gOb=function(a){a=this.AP.indexOf(a);-1 !== a && this.AP.splice(a,1);};b.prototype.Nw=function(a){var b;return -1 !== this.AP.indexOf(a) || !(null === (b=d.Eh(this.Hb,function(b){return b.O.la === a;})) || void 0 === b || !b.O.ci);};b.prototype.reset=function(){var b;a.prototype.reset.call(this);null === (b=this.Gh) || void 0 === b?void 0:b.reset();};b.prototype.AS=function(b){var d;a.prototype.AS.call(this,b);null === (d=this.Gh) || void 0 === d?void 0:d.AS(b);};b.prototype.GH=function(){var a;null === (a=this.Gh) || void 0 === a?void 0:a.GH();};b.prototype.pause=function(b){this.bL(b);a.prototype.pause.call(this,null !== b && void 0 !== b?b:this.eA);};b.prototype.resume=function(b){var d;null === (d=this.Gh) || void 0 === d?void 0:d.resume(b);a.prototype.resume.call(this,null !== b && void 0 !== b?b:this.eA);};b.prototype.Qb=function(){this.xX=this.DPa()?this.Bw():void 0;this.Gh && this.oga(this.Gh.mb);this.kN.Qb();this.gC.Qb();this.lEa.clear();a.prototype.Qb.call(this);};b.prototype.BI=function(){var b;b=this.S.md;void 0 === b && (b=a.prototype.BI.call(this));return b;};b.prototype.Pm=function(){var b;b=this.S.playbackRate;void 0 === b && (b=a.prototype.Pm.call(this));return b;};b.prototype.DPa=function(){return ! !this.xX || 0 < this.Hb.length;};b.prototype.Bw=function(){if(this.xX)return this.xX;h.assert(0 < this.Hb.length,"Could not find presenting branch. Player has no branches.");return this.cj;};b.prototype.oga=function(a){var b;h.assert(a === this.mb);null === (b=this.Gh) || void 0 === b?void 0:b.Qb();this.Gh=void 0;};b.prototype.MY=function(b,d){this.xX=void 0;if(d=a.prototype.MY.call(this,b,d))(this.Gh=new m.nta(b,this,this.G,b.config,this.RN,this.events,this.eA,this.gC,this.Ey),this.bL(this.bK));return d;};b.prototype.bha=function(){var d;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}d=this.Gh;h.assert(d);a.forEach(function(a){return d.wrb(a);});};b.prototype.bi=function(a){var b;if(!this.Gh)return !1;b=this.d0(a);return b?b.ba.nr.Oa(k.U.Pc(this.RN.hA)).lessThan(a) || !b.ufa(a)?!1:this.Gh.bi(a):!1;};b.prototype.bl=function(){var a,b,d;b=this.Kf;h.assert(this.mb);d=this.Rr(b);h.assert(d);null === (a=this.Gh) || void 0 === a?void 0:a.bl();a=this.d0(b);null === a || void 0 === a?void 0:a.O.bl();this.mb.bl(d);};b.prototype.eia=function(){var a;return null === (a=this.Gh) || void 0 === a?void 0:a.eia();};b.prototype.bL=function(a){var b;null === (b=this.Gh) || void 0 === b?void 0:b.bL(a);};b.prototype.Ara=function(b){h.assert(this.mb && this.Gh);return a.prototype.Ara.call(this,b);};return b;})(f.A$);b.$sa=a;},function(f,b){function a(a){return a.yq.Oa(a.Kf).ka;}Object.defineProperty(b,"__esModule",{value:!0});b.NIa=b.zjb=void 0;b.zjb=a;b.NIa=function(b,f){return b.ATb?f.Qh * Math.exp(-(Math.log(2) / b.FKb) * a(f)):-a(f);};},function(f,b,a){var c,l,k,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.fwa=void 0;c=a(0);l=a(38);k=a(17);h=a(10);g=a(780);f=(function(){function a(a,b){this.G=a;this.config=b;}a.prototype.NGb=function(a){var b;b=this;return 0 < a.length?c.__spread(a).sort(l.AJa(function(a){return -g.NIa(b.config,a);})).some(function(a){return b.jkb(a)?a.pRa():!1;}):!1;};a.prototype.jkb=function(a){return a.yq.equal(a.Jt) || (this.config.RO && k.WI(a.Hm)?this.kkb(a):this.lkb(a));};a.prototype.lkb=function(a){var b;if(!this.config.I2 || void 0 === this.config.j5)return !0;b=a.Jt.Oa(a.Kf).ka;b=Math.max(this.config.I2,b * this.config.j5);return a.yq.Oa(a.Jt).ka <= b;};a.prototype.kkb=function(a){var b;if(void 0 === this.config.RO)return !0;b=a.Kf.add(h.U.Pc(this.config.RO));return a.yq.iJ(b);};return a;})();b.fwa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Hta=void 0;c=a(5);f=(function(){function a(a,b,c){this.G=a;this.H=b;this.Rbb=c;this.ut=this.Vs=this.ao=0;}a.prototype.Vq=function(a){var b;if(!a.bc){b=a.$;c.assert(0 < b);this.ao+=b;0 === a.I?this.Vs+=b:this.ut+=b;c.assert(this.ao === this.Vs + this.ut);c.assert(0 < this.ao);c.assert(0 <= this.Vs);c.assert(0 <= this.ut);}};a.prototype.zx=function(a){var b;if(!a.bc){b=a.$;c.assert(0 < b);this.ao-=b;0 === a.I?this.Vs-=b:this.ut-=b;c.assert(this.ao === this.Vs + this.ut);c.assert(0 <= this.ao);c.assert(0 <= this.Vs);c.assert(0 <= this.ut);}};a.prototype.ekb=function(a,b){var g,f;c.assert(this.ao === this.Vs + this.ut);g=this.ao + b;if(0 < this.H.Lo && g > this.H.Lo)return !1;if(this.H.csa){f=this.Rbb();if(void 0 !== f.total && g > f.total)return !1;g=0 === a?f.audio:f.video;a=0 === a?this.Vs:this.ut;if(void 0 !== g && a + b > g)return !1;}return !0;};return a;})();b.Hta=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.ys=void 0;f=b.ys || (b.ys={});f[f.CLOSED=0]="CLOSED";f[f.OPEN=1]="OPEN";},function(f,b,a){var c,l,k,h,g,p,d,m,t,x,n,q,E,L,D,C,u,P,ba,R,V;Object.defineProperty(b,"__esModule",{value:!0});b.Hsa=void 0;c=a(0);l=a(15);k=a(783);h=a(782);g=a(239);p=a(781);d=a(244);m=a(779);t=a(775);x=a(754);n=a(386);q=a(38);E=a(5);L=a(753);D=a(404);C=a(743);u=a(742);P=a(741);ba=a(217);R=a(374);V=a(740);f=(function(){function a(a){this.G=a;this.events=new l.EventEmitter();this.jc=k.ys.CLOSED;this.Qy=[];this.ZS=[];this.SN=[];this.mt=[];this.KDa={};this.Kca={};this.qfb=new ba.wW({$J:this,source:"engine",o2:10});}Object.defineProperties(a.prototype,{K3:{get:function(){E.assert(this.EFa);return this.EFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{state:{get:function(){return this.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JIb:{get:function(){return this.SN;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{UVa:{get:function(){return this.mt.map(function(a){return a.Pb;});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ab:{get:function(){this.bF();return this.fw.Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$m:{get:function(){this.bF();return this.fw.$m;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nf:{get:function(){this.bF();return this.fw.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sib:{get:function(){return this.KDa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sIa:{get:function(){return this.Ws;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yPb:{get:function(){return this.Kca;},enumerable:!1,configurable:!0}});a.prototype.open=function(a,b,c,g){var f;f=this;if(this.jc === k.ys.OPEN)return !1;this.fcb=new p.fwa(this.G,a);this.Jy=new x.uBa(this.K1.bind(this),a);this.Ws=new h.Hta(this.G,a,this.qub.bind(this));this.fw=d.sF.COa(a,b);this.jc=k.ys.OPEN;a=Object.create(a,{Ogb:{value:a.LJ || a.Vy}});this.EFa=new L.UAa(this,a,c,g,this.G);this.SVa=new V.JAa({lo:function(){f.jc !== k.ys.CLOSED && setTimeout(function(){return f.Jy.lo();},0);}});return !0;};a.prototype.uO=function(a,b,d,c,g){var f,m;f=this;void 0 === g && (g=!0);this.bF();m=Object.create(d,{bT:{value:this.yPb}});if(g && (d=this.K3.vkb(a,m)))return (d.a1a(b),d);a=new t.ata(this.G,a,b,m,this.Ab,this.Ws,this.opa.bind(this,c),function(a,b){var d,g;g=c.dia(a);a=null === (d=q.Eh(f.Qy,function(a){return a.ofa.equals(g);})) || void 0 === d?void 0:d.O;return null === a || void 0 === a?void 0:a.Nm(m,b);},this.Jy.lo.bind(this.Jy),g?this.K3.ukb.bind(this.K3):function(){});a.zt(new C.Eva(this.Ab));a.zt(new u.iCa(a));a.zt(new P.zCa(a.sA));a.zt(new R.vW(this.qfb));a.zt(new R.vW(this.Jy.du));this.SVa.uO(a);b=new l.Pg();b.on(a.events,"requestsPruned",this.cMb.bind(this));b.on(a.events,"weightUpdated",this.Hna.bind(this));this.mt.push({Pb:a,Zf:b,kXa:0});this.Hna();return a;};a.prototype.Bu=function(a){this.SVa.Bu(a);this.mt=this.mt.filter(function(b){return b.Pb === a?(b.Zf.clear(),!1):!0;});a.Qb();this.Hna();};a.prototype.tgb=function(a,b){var d,g,f;this.bF();f=b.eA;a=new m.$sa(a,void 0 === f?[0,1]:f,c.__assign({bT:null !== (g=null !== (d=b.bT) && void 0 !== d?d:this.Kca) && void 0 !== g?g:{}},b));this.SN.push(a);return a;};a.prototype.vXa=function(a){this.bF();this.SN=this.SN.filter(function(b){return b !== a;});a.Qb();};a.prototype.VYa=function(a,b){this.KDa=a;this.Kca=b;};a.prototype.ME=function(a,b){var d,g;g=null === (d=q.Eh(this.Qy,function(b){return b.ofa.equals(a);})) || void 0 === d?void 0:d.O;g?g.ME(c.__assign(c.__assign({},b),{Zl:this.ina.bind(this)})):this.ZS.push({H1a:a,pPb:b});};a.prototype.yXa=function(a){this.ZS=this.ZS.filter(function(b){return !b.H1a.equals(a);});};a.prototype.close=function(){this.jc !== k.ys.CLOSED && (this.wLb(),E.assert(0 === this.Qy.length,"Unexpected viewable lease after Playgraph destruction."),this.vLb(),this.ZS=[],delete this.fw,this.jc=k.ys.CLOSED);};a.prototype.ina=function(){};a.prototype.opa=function(a,b){var d,g,f;d=this;g=a.dia(b);f=q.Eh(this.Qy,function(a){return a.ofa.equals(g);});f?f.YT.then(function(a){return c.__awaiter(d,void 0,void 0,function(){var b,d;return c.__generator(this,function(c){switch(c.label){case 0:return (d=(b=a).eTb,[4,g.jsa]);case 1:return (d.apply(b,[c.yk()]),[2]);}});});}):(f={ofa:g,YT:(function(){return c.__awaiter(d,void 0,void 0,function(){var a,d;return c.__generator(this,function(c){switch(c.label){case 0:return [4,g.jsa];case 1:return (a=c.yk(),d=this.sKa(b,g,a),f.O=d,[2,d]);}});});})(),O:void 0,MBb:new D.qxa(function(){f.YT.then(function(a){a.Qb();});d.Qy=d.Qy.filter(function(a){return a !== f;});})},this.Qy.push(f));return {YT:f.YT,hJ:f.MBb.Kv()};};a.prototype.sKa=function(a,b,d){var m,k,l,p,h;function f(a){m.events.emit("logdata",a);}m=this;this.bF();l=d.qa;p=d.ci;d=d.config;h=[new n.o9(0),new n.o9(1)];l={qa:l,config:d,lb:function(){return !0;},ci:p,XP:void 0,Ab:this.fw.Ab,Nf:this.fw.Nf,hha:{aJ:function(){return !1;},Xp:this.Jy.lo.bind(this.Jy),xg:this.xg.bind(this,a),Sm:this.Sm.bind(this,a),$l:f},Qja:{$l:f,oQ:void 0,Ez:function(a){return h[a];},u1:function(){return !0;},Ze:void 0,Rc:void 0,ng:void 0,Nz:void 0},FE:{Vq:this.Vq.bind(this),zx:this.zx.bind(this)},eb:0,gl:void 0,wma:{y1:!1,Vka:!1},Zq:[],PJ:function(){}};a=new g.jU(a,l);d.rz && (d=(null === (k=q.Eh(this.ZS,function(a){return a.H1a.equals(b);})) || void 0 === k?void 0:k.pPb) || ({}),this.yXa(b),a.ME(c.__assign(c.__assign({},d),{Zl:this.ina.bind(this)})));return a;};a.prototype.K1=function(){var a;E.assert(this.state === k.ys.OPEN);a=this.pQ();return this.fcb.NGb(a);};a.prototype.pQ=function(){var a,b;a=this.mt.map(function(a){return a.Pb.pQ().map(function(b){a.Pb.CPa || (b.Qh*=a.kXa);return b;});});b=this.Qy.reduce(function(a,b){return b.O?c.__spread(a,b.O.pQ()):a;},[]);return q.sr(c.__spread(a,b));};a.prototype.bF=function(){if(this.jc === k.ys.CLOSED)throw Error("Engine CLOSED");};a.prototype.wLb=function(){var a,b,f;try{for(var d=c.__values(this.mt),g=d.next();!g.done;g=d.next()){f=g.value;f.Zf.clear();this.Bu(f.Pb);}}catch(oa){a={error:oa};}finally{try{g && !g.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.vLb=function(){var a,b;try{for(var d=c.__values(this.SN),g=d.next();!g.done;g=d.next()){this.vXa(g.value);}}catch(ia){a={error:ia};}finally{try{g && !g.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.xg=function(a,b,d,c,g,f){this.GOa().forEach(function(m){return m.xg(b,a,d,c,g,f);});};a.prototype.Sm=function(){return this.GOa().some(function(a){return a.Sm();});};a.prototype.GOa=function(){return this.mt.map(function(a){return a.Pb;});};a.prototype.qub=function(){return this.Sib;};a.prototype.Vq=function(a){var b;this.Jy.Vq();null === (b=this.Ws) || void 0 === b?void 0:b.Vq(a);};a.prototype.zx=function(){this.Jy.zx();};a.prototype.Hna=function(){var a;a=this.UVa.reduce(function(a,b){return Math.max(b.weight,0) + a;},0);this.mt.forEach(function(b){b.kXa=0 >= b.Pb.weight?0:b.Pb.weight / a;});};a.prototype.cMb=function(a){var b;b=this;this.Ws && a.requests.forEach(function(a){return b.Ws.zx(a);});};c.__decorate([ba.Sc({df:"open"})],a.prototype,"open",null);c.__decorate([ba.Sc({df:"addPlaygraph",context:function(a){var b,d;return {playgraphCount:null !== (d=null === (b=a.vUa.mt) || void 0 === b?void 0:b.length) && void 0 !== d?d:0};}})],a.prototype,"uO",null);c.__decorate([ba.Sc({df:"removePlaygraph",context:function(a){return {playgraphCount:a.vUa.mt.length};}})],a.prototype,"Bu",null);c.__decorate([ba.Sc({df:"close"})],a.prototype,"close",null);c.__decorate([ba.Sc({df:"notifyAseException",Xy:!0})],a.prototype,"ina",null);c.__decorate([ba.Sc({df:"createViewable"})],a.prototype,"sKa",null);c.__decorate([ba.Sc({df:"issueRequestOpportunity",gga:!0,"return":!0})],a.prototype,"K1",null);c.__decorate([ba.Sc({df:"reportStreamingFailure",Xy:!0})],a.prototype,"xg",null);return a;})();b.Hsa=f;},function(f,b,a){var c,l,k,h,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;c=a(0);f=a(15);l=a(3);k=a(380);h=a(10);g=a(5);p=a(739);d=a(375);m=new l.Console("ASEJS","media|asejs");m.trace.bind(m);f=(function(b){var E00;E00=2;for(;E00 !== 19;){switch(E00){case 3:f.prototype.Jb=function(a,b,d,c,g){var J00;J00=2;for(;J00 !== 5;){switch(J00){case 1:this.Fh.open(this.config,this.Jx);J00=5;break;case 2:this.Fh.VYa({audio:a,video:b},{ka:c,$:g});J00=1;break;}}};f.prototype.TS=function(a,b,d){var K00;K00=2;for(;K00 !== 1;){switch(K00){case 2:this.Fh.VYa({total:a},{ka:b,$:d});K00=1;break;}}};E00=8;break;case 7:f.prototype.Jm=function(a,b,d,c,m,k,l,t,r,x){var L00,n;L00=2;for(;L00 !== 12;){switch(L00){case 4:var x51="en";x51+="dPts is ";x51+="not sup";x51+="ported";r=this.xja(n,m.ea);this.PK[r]={s1b:function(){},ea:m.ea,equals:function(a){var M00;M00=2;for(;M00 !== 1;){switch(M00){case 2:return a.la === n && (m.ea === a.ea || !a.ea || !m.ea);break;}}},jsa:Promise.resolve({qa:a,ci:! !c.ci,config:t}),la:n};t.rz && this.Fh.ME(this.PK[r],{kE:m.kE,ea:m.ea,nw:m.nw});x=this.Ynb(n,a,t,m,x || f.Zob);r=x.Pb.rg;d={Ba:r,offset:h.U.max(h.U.Pc(d).Oa(h.U.Pc(x.Pb.Va[r].Xd)),h.U.rb)};g.assert(void 0 === c.pa,x51);L00=13;break;case 2:var U51="cre";U51+="a";U51+="tin";U51+="g sessio";U51+="n";this.console.trace(U51);this.Fh.Ab.reset();n=Number(a.movieId);L00=4;break;case 13:return this.Y1=new p.XBa(this.console,this,a,x,b,d,c,m,k,l,r,t);break;}}};f.prototype.Ynb=function(a,b,c,g,f){var N00,m;N00=2;for(;N00 !== 3;){switch(N00){case 2:m=this;a=b.choiceMap?d.Rea(b.choiceMap):d.Fqa(a,f);c=Object.create(c,{QLa:{value:g.nw}});return this.Fh.uO(a,100,c,{dia:function(a){var O00;O00=2;for(;O00 !== 1;){switch(O00){case 4:return m.PK[m.xja(a,g.ea)];break;O00=1;break;case 2:return m.PK[m.xja(a,g.ea)];break;}}}});break;}}};f.prototype.Ckb=function(){var P00;P00=2;for(;P00 !== 1;){switch(P00){case 2:this.Ab.SS(null);P00=1;break;}}};E00=13;break;case 2:c.__extends(f,b);Object.defineProperties(f.prototype,{Ab:{get:function(){var G00;G00=2;for(;G00 !== 1;){switch(G00){case 2:return this.Fh.Ab;break;}}},enumerable:!1,configurable:!0}});E00=5;break;case 13:f.prototype.ELb=function(a){var Q00;Q00=2;for(;Q00 !== 7;){switch(Q00){case 2:this.Ckb();this.Fh.Bu(a.mb);a.gd && this.Fh.vXa(a.gd);a === this.Y1 && delete this.Y1;a=this.xja(a.la,a.ea);this.Fh.yXa(this.PK[a]);delete this.PK[a];Q00=7;break;}}};f.prototype.Qb=function(){var R00;R00=2;for(;R00 !== 9;){switch(R00){case 2:var v41="Attempt to destruct ShimManager with";v41+=" latest ses";v41+="sion still defined";var Z41="A";Z41+="ttempted to destruct Shim";Z41+="Manager with session config active";var q51="Attempt";q51+="ed to destru";q51+="ct S";q51+="himManager with players present in ASE";var Q51="Attempted to ";Q51+="destr";Q51+="uct ";Q51+="ShimManager with p";Q51+="laygraphs present in ASE";g.assert(0 === this.Fh.UVa.length,Q51);g.assert(0 === this.Fh.JIb.length,q51);g.assert(0 === Object.keys(this.PK).length,Z41);g.assert(void 0 === this.Y1,v41);R00=3;break;case 3:this.Fh.close();R00=9;break;}}};f.prototype.xja=function(a,b){var S00;S00=2;for(;S00 !== 1;){switch(S00){case 2:a000.z51(1);return a000.n51(b,a,"-");break;}}};E00=10;break;case 5:Object.defineProperties(f.prototype,{$m:{get:function(){var H00;H00=2;for(;H00 !== 1;){switch(H00){case 2:return this.Fh.$m;break;case 4:return this.Fh.$m;break;H00=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Nf:{get:function(){var I00;I00=2;for(;I00 !== 1;){switch(I00){case 2:return this.Fh.Nf;break;}}},enumerable:!1,configurable:!0}});E00=3;break;case 8:f.prototype.A3=function(){};E00=7;break;case 10:var B41="s";B41+="0";f.Zob=B41;return f;break;}}function f(d,c){var F00,g;F00=2;for(;F00 !== 13;){switch(F00){case 8:var Y41="1SI";Y41+="Y";Y41+="bZrN";Y41+="J";Y41+="Cp9";var R41="DE";R41+="B";R41+="UG:";var X41="nf-as";X41+="e ";X41+="shim versi";X41+="on";X41+=":";g.console.trace(X41,d,R41,!1);g.Fh=k.hQ();Y41;return g;break;case 2:g=b.call(this) || this;g.config=d;g.Jx=c;g.PK={};d=a(381);g.console=m;F00=8;break;}}}})(f.EventEmitter);b.WBa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ssa=void 0;c=a(0);l=a(10);f=a(35);k=a(64);a=(function(a){function b(b,d,c,g,f,l){g=a.call(this,b,d,g,f,l) || this;d.$=c.byteLength;k.rh.call(g,b,d);g.bH=c;g.Iab=d.$;return g;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ho:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kd:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ki:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kg:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{response:{get:function(){return this.bH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uCb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ne:{get:function(){return this.Iab;},enumerable:!1,configurable:!0}});b.prototype.Kw=function(){return !0;};b.prototype.CC=function(a){this.Fe=a.appendBuffer(this.response,l.Xk(this));return {ia:this.Fe};};b.prototype.jk=function(){return -1;};b.prototype.abort=function(){return !0;};b.prototype.pc=function(){};b.prototype.sT=function(){return !1;};return b;})(a(169).bB);b.Ssa=a;f.Se(k.rh,a);},function(f,b,a){var l,k,h,g,p;function c(a){return {mediaType:a.I,streamId:a.za,movieId:a.u,bitrate:a.R,location:a.location,serverId:a.Rb,saveToDisk:!0,offset:a.offset,bytes:a.$,timescale:a.P,frameDuration:a.stream.xa && a.stream.xa.tb,encrypted:a.gk,initSegments:1 < a.bh.length?a.bh.map(function(a){return {fi:a.mg,s:a.data.byteLength,e:! !a.gk};}):void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.Mka=b.Nka=b.MQa=b.Qia=b.bOa=b.dOa=b.Lia=b.Ria=b.Pia=b.bia=b.cia=b.Wxa=void 0;l=a(8);k=a(786);h=a(409);g=a(10);p=a(20);b.Wxa={uV:"movieEntry",k6a:"header",X8:"metadata",K6a:"headerData",sXb:"headerMetadata",W5a:"sizes",V5a:"durations",Tva:"fragments",S7a:"response",Ek:"billboard",dy:{lifespan:259200}};b.cia=function(a,b,c){var d,g;d=b.headerData;c && b.sizes instanceof ArrayBuffer && b.durations instanceof ArrayBuffer && (g={zk:c.startTicks,offset:c.offset,P:c.timescale,sizes:new Uint32Array(b.sizes),Qd:new Uint32Array(b.durations)});return {bc:!0,I:a.mediaType,u:a.movieId,za:a.streamId,R:a.bitrate,location:a.location,Rb:a.serverId,$:a.bytes,offset:a.offset,Pja:d,j1:a.initSegments,gk:a.encrypted,P:a.timescale,xa:a.frameDuration,Jd:a.saveToDisk,ca:g};};b.bia=function(a,b){var d,c,g;b=b.response;d=a.startTicks;c=a.durationTicks;void 0 !== d && void 0 !== c && (g=d + c);return {bc:!1,I:a.mediaType,u:a.movieId,za:a.streamId,R:a.bitrate,location:a.location,Rb:a.serverId,$:a.bytes,offset:a.offset,response:b,P:a.timescale,Xa:a.startTicks,Qp:c,Jd:a.saveToDisk,nb:g};};b.Pia=function(a){return {ie:a.priority,u:a.movieId,headers:{},Cr:0,VH:0,U0:0,Jd:a.saveToDisk,Nb:a.stats,Up:a.firstSelectedStreamBitrate,aq:a.initSelectionReason,Dr:a.histDiscountedThroughputValue,Uk:a.histTdigest,Tk:a.histAge,Gm:void 0};};b.Ria=function(a,b,c,g,f){var d,m;d={headers:{},data:{}};g.forEach(function(g){var m,l,x;m=g.I;m=f && f.zr(m,g.za);l=[];if(g.bc)if(!Array.isArray(g.j1) || 2 > g.j1.length)l.push({mg:0,data:g.Pja});else for(var t=0,r=0;r < g.j1.length;++r){x=g.j1[r];l.push({mg:x.fi,data:g.Pja.slice(t,t + x.s),gk:x.e});t+=x.s;}m?(g.ca && m.e3(l,g.P,g.xa?new p.U(g.xa,g.P):void 0,g.ca),g.bc && m && m.ge?(void 0 === d.headers && (d.headers={}),d.headers[g.za]=new h.iU(m,{$:g.$,offset:g.offset,bh:l,gk:g.gk},b)):g.response instanceof ArrayBuffer && void 0 !== m.ca && void 0 !== g.Xa && void 0 !== g.P && void 0 !== g.nb && (l=m.ca.D_(new p.U(g.Xa,g.P).ka),void 0 !== l && (m=new k.Ssa(m,{P:g.P,Xa:g.Xa,nb:g.nb,index:l.index,offset:g.offset,$:g.$},g.response,c,a,b),void 0 === d.data && (d.data={}),d.data[g.za] || (d.data[g.za]=[]),d.data[g.za].push(m)))):b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + g.za + " movieId: " + g.u);});if(!l.X(d.data)){m=d.data;Object.keys(m).forEach(function(a){m[a].sort(function(a,b){return a.Xa - b.Xa;});});}return d;};b.Lia=function(a){return {mediaType:a.I,streamId:a.za,movieId:a.u,bitrate:a.R,location:a.location,serverId:a.Rb,saveToDisk:!0,offset:a.offset,bytes:a.$,timescale:a.P,startTicks:a.Xa,durationTicks:a.Qp};};b.dOa=c;b.bOa=function(a){var b,d,f,l;b=c(a);a.stream.ge && a.stream && a.stream.ca && (d={timescale:a.stream.ca.P,startTicks:a.stream.ca.zk,offset:a.stream.ca.ih(0)},l=a.stream.ca.UK,f=l.sizes.buffer,l=l.Qd.buffer);return {mediaType:b.mediaType,streamId:b.streamId,movieId:b.movieId,bitrate:b.bitrate,location:b.location,serverId:b.serverId,saveToDisk:!0,offset:b.offset,bytes:b.bytes,timescale:b.timescale,frameDuration:b.frameDuration,headerData:g.Kt(a.bh.map(function(a){return a.data;})),initSegments:b.initSegments,encrypted:a.gk,fragments:d,sizes:f,durations:l};};b.Qia=function(a){return {priority:a.ie,movieId:a.u,saveToDisk:a.Jd,firstSelectedStreamBitrate:a.Up,initSelectionReason:a.aq,histDiscountedThroughputValue:a.Dr,histTdigest:a.Uk,histAge:a.Tk};};b.MQa=function(a){return !l.has(a,"startTicks");};b.Nka=function(a){return !a.Pja || !a.P || !a.ca || void 0 === a.ca.zk || void 0 === a.ca.offset || void 0 === a.ca.Qd || !a.ca.Qd.length || void 0 === a.ca.sizes || !a.ca.sizes.length;};b.Mka=function(a){return void 0 === a.$ || void 0 === a.offset || void 0 === a.P || void 0 === a.Xa || void 0 === a.Qp;};},function(f,b,a){var h,g;function c(a,b,g){Object.keys(a).forEach(function(d){var f,m;if(h.bf(a[d]))if(a[d].t1){f=a[d];m=g + f.offset;a[d]=b.slice(m,m + f.byteLength);}else a[d]=c(a[d],b,g);});return a;}function l(a,b,c){Object.keys(a).forEach(function(d){var g;if(h.t1(a[d])){g=a[d];b.push(g);a[d]={t1:!0,offset:c.Qfa,byteLength:g.byteLength};c.Qfa+=g.byteLength;}else h.bf(a[d]) && l(a[d],b,c);});return a;}function k(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a + b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a + b.byteLength;},0);return c.buffer;}h=a(112);g=a(60);f.V={ylb:function(a){var b,c,f;b=g(a,{});a=[];b=l(b,a,{Qfa:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length + 4);f=new DataView(c);f.setUint32(0,b.length);for(var p=4,h=0,r=b.length;h < r;h++){f.setUint8(p,b.charCodeAt(h));p++;}a=[c].concat(a);return k.apply(null,a);},xlb:function(a){var b;b=new DataView(a,0,4).getInt32(0);for(var g=new Uint8Array(a,4,b),f="",l=0;l < g.byteLength;l++){f+=String.fromCharCode(g[l]);}b=4 + b;f=JSON.parse(f);return c(f,a,b);}};},function(f,b,a){var k;function c(a,b){return a.length > b.length?1:b.length > a.length?-1:0;}function l(a,b){var c,d,g;c=[];if(k.bf(b)){d={};g={};g[a]=d;c.push(g);c=Object.keys(b).reduce(function(c,g){var f,m,p;f=b[g];p={};k.t1(f)?(m=a + ".__embed__." + g,p[m]=f,c.push(p)):k.bf(f)?(m=a + ".__sub__." + g,f=l(m,f),d[g]=f[0][m],c=c.concat(f.slice(1))):d[g]=f;return c;},c);}else (g={},g[a]=b,c.push(g));return c;}k=a(112);f.V={Spb:l,Qzb:function(a){var b,n;b=Object.keys(a).map(function(a){return a.split(".");});b.sort(c);for(var f=b[0],d=f.length,f=a[f.join(".")],m=1;m < b.length;m++){for(var l=!1,k=!1,h=f,r=d;r < b[m].length;r++){n=b[m][r];switch(n){case "__metadata__":break;case "__sub__":k=!0;break;case "__embed__":l=!0;break;default:k?(h=h[n],k=!1):l && (h[n]=a[b[m].join(".")],l=!1);}}}return f;},vAb:function(a){return a && (0 <= a.indexOf("__sub__") || 0 <= a.indexOf("__embed__"));}};},function(f,b,a){function c(a){return a;}function l(){return c;}a(8);f.V={cQ:l,hja:l};},function(f,b,a){var c,l,k,h;c=a(8);l=a(112);k={};k[l.hp.iB]=function(a){return a;};k[l.hp.kW]=function(a){a=a || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};k[l.hp.OBJECT]=function(a){var b;b=a || new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),d=0;d < b.byteLength;d++){a+=String.fromCharCode(b[d]);}return JSON.parse(a);};h={};h[l.hp.iB]=function(a){return a;};h[l.hp.kW]=function(a){for(var b=new ArrayBuffer(a.length),d=new Uint8Array(b),c=0,g=a.length;c < g;c++){d[c]=a.charCodeAt(c);}return b;};h[l.hp.OBJECT]=function(a){return c.X(a) || c.Ua(a)?a:h[l.hp.kW](JSON.stringify(a));};f.V={cQ:function(a){return k[a] || k[l.hp.iB];},hja:function(a){return h[a] || h[l.hp.iB];}};},function(f){function b(a,b,f,h){a.trace(":",f,":",h);b(h);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,f,k,h){k=h?k.bind(h):k;h=!1;if(a){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof a.addEventListener)h=a.addEventListener(f,k);else if("function" === typeof a.addListener)h=a.addListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([a,f,k]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};f.V=a;},function(f){function b(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Vn)return (this.Vn={},this.Vn[a]=[b],!0);c=this.Vn[a];return void 0 === c?(this.Vn[a]=[b],!0):0 > c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.Vn?this.Vn[a]:void 0;if(!a)return !1;a.forEach(function(a){a(b);});return !0;}f.V={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Vn)return !1;c=this.Vn[a];if(void 0 === c)return !1;b=c.indexOf(b);if(0 > b)return !1;if(1 === c.length)return (delete this.Vn[a],!0);c.splice(b,1);return !0;},Pa:a,emit:a,removeAllListeners:function(a){this.Vn && (void 0 === a?delete this.Vn:delete this.Vn[a]);return this;}};},function(f){function b(a){if(!(this instanceof b))return new b(a);if("undefined" === typeof a)this.Bl=function(a,b){return a <= b;};else {if("function" !== typeof a)throw Error("heap comparator must be a function");this.Bl=a;}this.Tn=[];}function a(b,f){var l,g,k,d,m,h,x;l=b.Tn;g=b.Bl;k=2 * f + 1;d=2 * f + 2;m=l[f];h=l[k];x=l[d];h && g(h.ie,m.ie) && (!x || g(h.ie,x.ie))?(c(l,f,k),a(b,k)):x && g(x.ie,m.ie) && (c(l,f,d),a(b,d));}function c(a,b,c){var g;g=a[b];a[b]=a[c];a[c]=g;}b.prototype.clear=function(){this.Tn=[];};b.prototype.Eo=function(a,b){this.Tn.push({ie:a,value:b});a=this.Tn;b=this.Bl;for(var f=a.length - 1,g=0 === f?null:Math.floor((f - 1) / 2);null !== g && b(a[f].ie,a[g].ie);){c(a,f,g);f=g;g=0 === f?null:Math.floor((f - 1) / 2);}};b.prototype.remove=function(){var b;if(0 !== this.Tn.length){b=this.Tn[0];c(this.Tn,0,this.Tn.length - 1);this.Tn.pop();a(this,0);return b.value;}};b.prototype.qu=function(){if(0 !== this.Tn.length)return this.Tn[0].value;};b.prototype.enqueue=b.prototype.Eo;b.prototype.aI=b.prototype.remove;b.prototype.w1=function(){return 0 === this.Tn.length;};b.prototype.vn=function(){return this.Tn.map(function(a){return a.value;});};f.V=b;},function(f,b,a){var l,k,h,g,p,d,m,t;function c(a,b,f){var u,R;function r(a,b,d,c){a.info.call(a,(function(a,g){var f;if(a)c(a);else {try{f=g.values[this.context].entries[b][d].size;}catch(oa){f=-1;}-1 < f?c(null,f):this.ss(function(a,b){a?c(a):(b[d] && (f=b[d].size),c(null,f));});}}).bind(a));}function x(a,b,d,g,f,l,h){var t;l?l.co || (l.co={}):l={co:{}};u(g);t=k.time.now();g=new m(function(c,g){a.create(k.storage.WF,b,d,function(a,b){a?g(a):c(b);});}).then(function(d){d.ia?r(a,k.storage.WF,b,function(a,g){a?h(a):(R(g),u(g),l.co[c.dU.z8]={ia:!0,time:f,xj:g,Uz:b,KWa:d,duration:k.time.now() - t},l.ik=d.ik,h(null,l));}):(l.co[c.dU.z8]={ia:!1,Uz:b,error:d.error},h(null,l));},function(a){h(a);});p.uu(g);}function n(a,b,d,c,g,f){c.Eo(d.time,d);for(var m=d.time - 864E5,l=c.qu();l && !isNaN(l.time) && l.time < m;){l=c.aI();u(0 - (l.$ || 0));l=c.qu();}c=c.vn().map(function(a){return a.time + ";" + a.$;});x(a,b,Array.prototype.join.call(c,"|"),d.$,d.time,g,f);}function q(a,b,g,f,m,l,p,t,x){var q;q=k.time.now();a.create(g,f,m,function(m,A){var D;if(m)d.error("Failed to replace item",f,m);else if(A.ia){D=A.ik;r(a,g,f,function(d,g){var m,h;if(d)x(d);else {d={time:t,$:g || 0};m={ik:D,co:{}};h=k.time.now() - q;m.co[c.dU.REPLACE]={ia:!0,time:t,xj:g,Uz:f,KWa:A,duration:h};l?n(a,b,d,p,m,x):(u(g),x(null,m));}});}else x(h.DW.ep(A.error || "Failed to create item"));});}function A(a,b,g,f,m,l,p,t,x){var q;q=k.time.now();a.append(g,f,m,function(m,A){var D;if(m)(d.error("Failed to save item " + f,m),x(m));else if(A.ia){D=A.ik;r(a,g,f,function(d,g){var m,h;if(d)x(d);else {d={time:t,$:g || 0};m={ik:D,co:{}};h=k.time.now() - q;m.co[c.dU.T9a]={ia:!0,time:t,xj:g,Uz:f,KWa:A,duration:h};l?n(a,b,d,p,m,x):(u(g),x(null,m));}});}else x(h.DW.ep(A.error || "Failed to save item"));});}function J(a,b){a && l.Yb(a.remove) && a.Rj.valid && a.remove(k.storage.WF,b.MG,function(c,g){if(c)d.error("Failed to delete old journal key",c);else try{g && (l.X(g.error) || g.error.some(function(a){return "NFErr_FileNotFound" === a.D2b;})) && n(a,b.MG,{time:0,$:0},b.ZN,0,function(){});}catch(Y){}});}if(!a.Rj.valid)return t;this.aEa=l.X(b) || l.Ua(b)?0:b;this.Aba=a;this.Xba=this.iN=0;this.ZN=new g();this.beb=f || "default";this.MG=this.beb + ".NRDCACHEJOURNALKEY";u=(function(a){isNaN(a) || (this.iN+=a);return this.iN;}).bind(this);R=(function(a){isNaN(a) || (this.Xba+=a);return this.Xba;}).bind(this);this.Eia=function(){return this.MG;};this.save=function(a,b,d,c){var g;g=k.time.now();A(this.Aba,this.MG,a,b,d,0 <= this.aEa,this.ZN,g,c);};this.replace=function(a,b,d,c){var g;g=k.time.now();q(this.Aba,this.MG,a,b,d,0 <= this.aEa,this.ZN,g,c);};this.wNa=function(a){var b,g;b=this.iN;a-=864E5;for(var d=this.ZN.vn(),c=0;c < d.length;c++){g=d[c];g.time < a && !isNaN(g.$) && (b-=g.$);}return b;};(function(a){var b;b=a.Aba;a.iN=0;b.read(k.storage.WF,a.MG,0,-1,function(c,g){var f,m,l,h;f=[];m=0;l=!0;if(c)d.error("Failed to compile records",c);else if(g.ia){c=String.fromCharCode.apply(null,new Uint8Array(g.value));c=String.prototype.split.call(c,"|");g=c.reduce(function(a,b){return a + (b.length + 40);},0);u(g);f=c.map(function(a){a=a.split(";");return {time:Number(a[0]),$:Number(a[1])};});try{if(!isNaN(f.reduce(function(a,b){return a + b.$;},0)))for(var l=!1,p=k.time.now() - 864E5;m < f.length;m++){h=f[m];h.time < p || (a.ZN.Eo(h.time,h),u(h.$));}}catch(Aa){}}l && J(b,a);});})(this);}l=a(8);k=a(113);h=a(219);g=a(794);b=a(60);p=a(218);d=new k.Console("DISKWRITEMANAGER","media|asejs");m=k.Promise;b({dU:{T9a:"saveitem",REPLACE:"replaceitem",z8:"journalupdate"}},c);t={save:function(a,b,d,c){c(h.Xxa);},replace:function(a,b,d,c){c(h.Xxa);},Eia:function(){return "";},wNa:function(){return 0;}};c.prototype.constructor=c;f.V={create:function(a,b,d){return new c(a,b,d);},IYb:t};},function(f,b,a){var p,d,m,t,x,n,q,E,L;function c(){}function l(b,g,f,m,t){var r;r=p.Yb(m)?m:c;this.Fy=b;this.Gf=f.Fp;this.Hv=0;this.Ebb=f.Jrb || "NONE";this.tv=p.X(t) || p.Ua(t)?0:t;this.Nd={};this.Qq=f.s4b || d.storage.WF;this.Zs=g;this.mH=x.create(this.Zs,f.wob * this.tv,this.Fy);this.on=this.addEventListener=L.addEventListener;this.removeEventListener=L.removeEventListener;this.emit=this.Pa=L.Pa;this.IEa=h(this,l.Zd.REPLACE);this.lcb=h(this,l.Zd.oDa);this.mC;this.mC=f.m1a?a(791):a(790);this.Zs.query(this.Qq,this.No(""),(function(a,b){var d;if(a)r(a);else {d=this.mH.Eia();a=Object.keys(b).filter(function(a){return a !== d && n.ZI(a);}).map(this.Gra.bind(this));this.a4(a,(function(a,d){Object.keys(d).map((function(a){var c,g;c=d[a];this.Nd[n.w_(a)]=c;if(c.vpa && 1 < Object.keys(c.vpa).length){g=0;Object.keys(c.vpa).forEach((function(a){b[this.No(a)] && p.oa(b[this.No(a)].size) && (g+=b[this.No(a)].size);}).bind(this));a=n.w_(a);this.Nd[a].size=g;}else (a=n.w_(a),b[this.No(a)] && (this.Nd[a].size=b[this.No(a)].size));}).bind(this));k(this.Zs,this.Qq,this.Fy,(function(a,b){this.Hv=b;a?r(a):r(null,this);}).bind(this));}).bind(this));}}).bind(this));}function k(a,b,d,g){var f;f=p.Yb(g)?g:c;a.query(b,d,function(a,b){a?f(a):(a=Object.keys(b).reduce(function(a,d){return a + (b[d].size || 0);},0),f(null,a));});}function h(a,b){return function(c,g,f,m,h){return function(t,r){var x;if(t)(g || a.Pa(l.Zd.ERROR,{itemKey:c,error:t}),f(t));else {x={xj:0,duration:0,items:[],time:d.time.now()};Object.keys(r.co).map(function(b){var d;d=r.co[b];b={key:a.Gra(d.Uz),Nh:b};d.ia?(x.xj+=d.xj,b.L1=d.xj,p.oa(d.duration) && (x.duration+=d.duration)):b.error=d.error;x.items.push(b);});t=p.Yb(m)?m():0;0 < h && (x.UH=h - t);k(a.Zs,a.Qq,a.Fy,function(d,c){d?f(d):(a.Hv=c,x.ik=a.Gf - c,g || a.Pa(b,E.DNa(x)),f(null,x));});}};};}function g(a,b){return 0 < b && a >= b?!0:!1;}p=a(8);d=a(113);m=a(219);b=a(60);t=new d.Console("MEDIACACHE","media|asejs");x=a(795);n=a(382);q=a(112);E=a(218);L=a(111).EventEmitter;b({Zd:{oDa:"writeitem",REPLACE:"replaceitem",z8:"journalupdate",ERROR:"mediacache-error"}},l);l.prototype.getName=function(){return this.Fy;};l.prototype.Gra=function(a){return a.slice(this.Fy.length + 1);};l.prototype.wia=function(){return Object.keys(this.Nd).filter((function(a){a=n.Vha(this.Nd[a]);return void 0 === a || 0 >= a.JJa();}).bind(this));};l.prototype.owb=function(){return Object.keys(this.Nd).reduce((function(a,b){var d;d=this.Nd[b];return d && d.creationTime < a.creationTime?{resourceKey:b,creationTime:d.creationTime}:a;}).bind(this),{resourceKey:null,creationTime:d.time.now()}).B5b;};l.prototype.kvb=function(){var a;switch(this.Ebb){case "FIFO":a=this.owb();}return a;};l.prototype.jpb=function(a){var b;b=p.Yb(a)?a:c;this.jOa((function(c){var g,f,m;g=this.Nd;f=Object.keys(g).reduce(function(a,b){b=g[b];b.resourceIndex && Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((c=c.filter(function(a){return !n.ZI(a) && 0 > f.indexOf(a);})) && 0 < c.length){m=this;c=d.Promise.all(c.map(function(a){return new d.Promise(function(b,d){m["delete"](a,function(a){a?d(a):b();});});})).then(function(){b(void 0,{Xoa:!0});},function(a){b(a,{Xoa:!1});});E.uu(c);}else a(void 0,{Xoa:!1});}).bind(this));};l.prototype.zKb=function(a,b,g){var f,l;f=p.Yb(b)?b:c;b=this.No(a);l=d.time.now();this.Zs.read(this.Qq,b,0,-1,(function(b,c){var k;if(b)f(b);else if(c && c.ia && c.value){p.Yb(g) || (g=this.mC.cQ(q.hp.iB),n.ZI(a)?g=this.mC.cQ(q.hp.OBJECT):(b=this.Nd[a],!p.X(b) && p.oa(b.resourceIndex[a])?(b=b.resourceIndex[a],p.X(b) && (b=q.hp.iB),g=this.mC.cQ(b)):t.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{k=g(c.value);}catch(ea){return f(m.fG.ep(ea.message));}c={duration:d.time.now() - l};this.Nd[a] && p.oa(this.Nd[a].size) && (c.Yv=p.oa(this.Nd[a].size)?this.Nd[a].size:0);f(null,k,c);}else f(m.fG.ep(c.error));}).bind(this));};l.prototype.read=function(a,b,d){this.zKb(a,b,d);};l.prototype.a4=function(a,b,g){var f,l,k;f=p.Yb(b)?b:c;if("[object Array]" !== Object.prototype.toString.call(a))f(m.fG.ep("item keys must be an array"));else {l={};k=[];a=d.Promise.all(a.map((function(a){return new d.Promise((function(b,d){var c;g && !p.X(g[a]) && (c=this.mC.cQ(g[a]));this.read(a,function(c,g,f){c?(g={},g[a]=c,d(g)):(l[a]=g,k.push({duration:f.duration,Yv:f.Yv}),b());},c);}).bind(this));}).bind(this))).then(function(){var a;a={};0 < k.length && (a=k.reduce(function(a,b){p.oa(b.duration) && (a.duration+=b.duration);p.oa(b.Yv) && (a.Yv+=b.Yv);return a;},{duration:0,Yv:0}));f(null,l,a);},function(a){f(a);});E.uu(a);}};l.prototype.write=function(a,b,d,f,l){var k,h,t;d=p.Yb(d)?d:c;k=this.No(a);h="function" === typeof l?l():0;t=q.uja(b);t=this.mC.hja(t)(b);t.byteLength + this.Hv >= this.Gf?d(m.qF):g(t.byteLength + h,this.tv)?d(m.EW):this.mH.save(this.Qq,k,b,this.lcb(a,f,d,l,this.tv),t.byteLength);};l.prototype.replace=function(a,b,d,f,l){var k,h,r,x;k=p.Yb(d)?d:c;h=this.No(a);r=0;"function" === typeof l && (r=l());d=q.uja(b);x=this.mC.hja(d)(b);d=(this.Nd[a] || ({})).size || 0;0 >= d && this.Nd[a]?this.DOa([a],(function(d){t.trace("Replacing key",a,"which exists:",! !this.Nd[a],this.Nd[a]?this.Nd[a]:void 0,"and has size",d,"with",b,"with size",x.byteLength,"plus _used",this.Hv,"vs capacity",this.Gf);x.byteLength - d + this.Hv >= this.Gf?k(m.qF):g(x.byteLength - d + r,this.tv)?k(m.EW):this.mH.replace(this.Qq,h,b,this.IEa(a,f,k,l,this.tv),x.byteLength);}).bind(this)):(t.trace("Replacing key",a,"which exists:",! !this.Nd[a],this.Nd[a]?this.Nd[a]:void 0,"and has size",d,"with",b,"with size",x.byteLength,"plus _used",this.Hv,"vs capacity",this.Gf),x.byteLength - d + this.Hv >= this.Gf?k(m.qF):g(x.byteLength - d + r,this.tv)?k(m.EW):this.mH.replace(this.Qq,h,b,this.IEa(a,f,k,l,this.tv),x.byteLength));};l.prototype.NLb=function(a,b,g,f){var k;k=p.Yb(b)?b:c;"[object Object]" !== Object.prototype.toString.call(a)?k(m.DW.ep("items must be a map of keys to objects")):(b=d.Promise.all(Object.keys(a).map((function(b){return new d.Promise((function(d){this.replace(b,a[b],function(a,c){a?d({error:a,Wo:b}):d(c);},!0,f);}).bind(this));}).bind(this))).then((function(a){var b,c,m,h;try{b=Number.MAX_VALUE;c=a.reduce(function(a,d){d.error || (a.xj+=d.xj,p.oa(d.duration) && (a.duration+=d.duration),!p.X(d.ik) && d.ik < b && (b=d.ik),d.items.map(function(b){a.items.push({key:b.key,Nh:b.Nh,L1:b.L1,ICb:b.ICb,duration:b.duration});}),b < Number.MAX_VALUE && (a.ik=b));return a;},{xj:0,items:[],time:d.time.now(),duration:0});0 < this.tv && (c.UH=this.tv - f());m=a.filter(function(a){return !p.X(a.error);});h=E.pPa(m);g || (h?h.forEach((function(a){this.Pa(l.Zd.ERROR,a);}).bind(this)):this.Pa(l.Zd.REPLACE,E.DNa(c)));k(h,c);}catch(Y){k(Y);}}).bind(this),(function(a){g || this.Pa(l.Zd.ERROR,a);k(a);}).bind(this)),E.uu(b));};l.prototype["delete"]=function(a,b){var d;d=p.Yb(b)?b:c;this.Zs.remove(this.Qq,this.No(a),(function(a,b){a?d(a):b && b.ia?k(this.Zs,this.Qq,this.No(""),(function(a,b){a?d(a):(this.Hv=b,d());}).bind(this)):d(m.F4a.ep(b.error));}).bind(this));};l.prototype.jOa=function(a){this.query("",function(b,d){b?(t.error("Failed to get keys",b),a([])):a(d);});};l.prototype.query=function(a,b){var d,g;d=p.Yb(b)?b:c;g=this.mH.Eia();this.Zs.query(this.Qq,this.No(a),(function(a,b){a?d(a):d(null,Object.keys(b).filter(function(a){return a !== g;}).map(this.Gra.bind(this)));}).bind(this));};l.prototype.No=function(a){return this.Fy + "." + a;};l.prototype.clear=function(a){var b;b=p.Yb(a)?a:c;this.jOa((function(a){var c;c=d.Promise.all(a.map((function(a){return new d.Promise((function(b){a && this["delete"](a,function(){b();});}).bind(this));}).bind(this))).then(function(){b(a);},(function(a){this.Pa(l.Zd.ERROR,a);b([],a);}).bind(this));E.uu(c);}).bind(this));};l.prototype.DOa=function(a,b){var d,g;d=p.Yb(b)?b:c;g=(a || []).map((function(a){return this.No(a);}).bind(this));this.Zs.query(this.Qq,this.Fy,(function(b,c){b?(t.error("failed to get persisted size for keyset ",a,b),d(0)):(b=Object.keys(c).filter(function(a){return 0 <= g.indexOf(a);}).reduce(function(a,b){return a + (c[b].size || 0);},0),d(b));}).bind(this));};l.prototype.vub=function(a){return this.mH.wNa(a);};l.prototype.constructor=l;f.V=l;},function(f,b,a){var l,k,h,g,p;function c(a){this.Rj=a;this.context=a.context;this.fUa="NULLCONTEXT" === a.context?!0:!1;}l=a(8);k=a(113);h=new k.Console("DISKCACHE","media|asejs");g={context:"NULLCONTEXT",read:function(a,b,c,g,f){f("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,g){g("MediaCache is not supported");},append:function(a,b,c,g){g("MediaCache is not supported");},query:function(a,b,c){c([]);}};c.prototype.uC=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length - 1];a=a.slice(1,a.length - 1);a.push(function(a){c(null,a);});try{if(this.fUa)throw Error("Media Cache not supported");b.apply(this.Rj,a);}catch(x){c(x);}};c.prototype.query=function(a,b,c,g){try{if(this.fUa)throw Error("Media Cache not supported");this.Rj.query(a,b,function(a){c(null,a);},g);}catch(A){c(A);}};c.prototype.read=function(a,b,c,g,f){this.uC(this.Rj.read,a,b,c,g,f);};c.prototype.remove=function(a,b,c){this.uC(this.Rj.remove,a,b,c);};c.prototype.create=function(a,b,c,g){this.uC(this.Rj.create,a,b,c,g);};c.prototype.append=function(a,b,c,g){this.uC(this.Rj.append,a,b,c,g);};c.prototype.info=function(a){this.uC(this.Rj.info,a);};c.prototype.ss=function(a){this.uC(this.Rj.ss,a);};c.prototype.flush=function(a){this.uC(this.Rj.flush,a);};c.prototype.clear=function(){this.Rj.clear();};f.V={unb:function(a){var b,d,f,r,n;b=a.m2b || "NRDMEDIADISKCACHE";p=a.oz || 0;0 !== p || l.X(k.options) || l.X(k.options.zJ) || (p=k.options.zJ);a=p;try{r=k.storage.fI;if(!r || !l.bf(r))throw (h.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(f=r[b])(h.warn("Disk store exists, returning"),d=new c(f));else {if(l.X(k.storage) || !l.Yb(k.storage.tZ) || k.options && 0 === k.options.zJ)throw (h.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");h.warn("Disk store context doesn't exist, creating with size " + a);n=k.storage.tZ({context:b,size:a,encrypted:!0,signed:!0});if(!n || !n.valid)throw "Failed to create disk store context";d=new c(n);}}catch(E){h.warn("Exception creating disk store context - returning NullContext (noops)",E);d=new c(g);}return d;},Yub:function(){return p;},jWb:c};},function(f,b,a){var c,l,k,h,g;c=a(8);k=[];g=!1;f.V={VI:function(b,d,f){var m;if(g)c.Yb(f) && (l.Ul || l.GD?setTimeout(function(){f(l);},0):k.push(f));else {g=!0;m=a(113);m.h1(b);h=new m.Console("MEDIACACHE","media|asejs");l=new (a(383))(d,function(a){a && h.warn("Failed to initialize MediaCache",a);c.Yb(f) && setTimeout(function(){f(l);},0);k.map(function(a){setTimeout(function(){a(l);},0);});});}return l;},R2b:function(b,d){l=new (a(383))(b,function(a,b){a && h.warn("Failed to initialize MediaCache",a);c.Yb(d) && setTimeout(function(){d(b);},0);});}};},function(f,b,a){var c,l,k,h,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.uya=void 0;c=a(0);l=a(15);a(5);k=a(798);h=a(8);g=a(227);p=a(10);f=a(35);d=a(787);m=d.Wxa;a=(function(){function a(a,b,d){var U00;U00=2;for(;U00 !== 12;){switch(U00){case 7:var o41="1S";o41+="I";o41+="YbZ";o41+="rNJCp9";var T41="c";T41+="a";T41+="t";T41+="c";T41+="h";var C41="Media cache has n";C41+="ot be";C41+="en initiaize";C41+="d";this.Me=d;this.Un=Promise.reject(C41);this.Un[T41](function(){});o41;U00=12;break;case 5:this.zbb=a.Zqb?a.Zqb:!1;this.pp=a.zma?a.zma:!1;this.Pcb=a.ZSa?a.ZSa:!1;U00=9;break;case 9:this.H=a;this.Cm=b;U00=7;break;case 2:var r41="media";r41+="|as";r41+="ejs";var V41="M";V41+="ED";V41+="IA";V41+="CAC";V41+="HE";this.G=new b.Console(V41,r41);this.Wca=(a.TA || a.esa) && 0 < (a.oz || (b.options || ({})).zJ || 0);U00=5;break;}}}var T00;T00=2;for(;T00 !== 27;){switch(T00){case 20:a.prototype.rnb=function(a){var k20,b,c,g,f;k20=2;for(;k20 !== 5;){switch(k20){case 2:(b=this,f={});return new Promise(function(l,k){var l20,h;l20=2;for(;l20 !== 5;){switch(l20){case 2:b.Ji.a4(m.Ek,a,function(a,b){var m20,n20,p;m20=2;for(;m20 !== 1;){switch(m20){case 2:try{n20=2;for(;n20 !== 19;){switch(n20){case 5:Object.keys(b).map(function(a){var o20,d,p20,l;o20=2;for(;o20 !== 3;){switch(o20){case 2:d=a.substr(a.lastIndexOf(".") + 1);o20=1;break;case 7:o20=d == m.X8?3:0;break;o20=d === m.X8?5:4;break;case 1:o20=d === m.X8?5:4;break;case 5:try{p20=2;for(;p20 !== 5;){switch(p20){case 2:l=new Uint8Array(b[a]);g=JSON.parse(String.fromCharCode.apply(null,l));p20=5;break;}}}catch(ha){g=b[a];}o20=3;break;case 4:d === m.Tva?c=b[a]:f[d]=b[a];o20=3;break;}}});n20=4;break;case 11:n20=d.Mka(h)?10:12;break;case 3:n20=c instanceof ArrayBuffer?9:7;break;case 12:l(h);n20=19;break;case 8:return k(p);break;case 7:h=d.cia(g,f,c);n20=6;break;case 2:n20=a || void 0 === b?1:5;break;case 6:n20=h.bc?14:11;break;case 1:return k(a);break;case 14:n20=d.Nka(h)?13:12;break;case 13:var J41="Missing or";J41+=" invalid header";J41+=" data ";J41+="parts for stream ";return (p=J41 + h.za,k(p));break;case 9:var H41="Header ";H41+="frag";H41+="ments was an array buffer, is i";H41+="nvalid t";H41+="ype ";p=H41 + h.za;n20=8;break;case 10:var M41="Missing or ";M41+="invalid media data";M41+=" parts for stream ";return (p=M41 + h.za,k(p));break;case 4:n20=d.MQa(g)?3:20;break;case 20:h=d.bia(g,{response:f.response});n20=6;break;}}}catch(V){k(V);}m20=1;break;}}});l20=5;break;}}});break;}}};a.prototype.seb=function(a,b,g){var q20,f;q20=2;for(;q20 !== 5;){switch(q20){case 2:f=this;return new Promise(function(l,k){var r20,p;r20=2;for(;r20 !== 5;){switch(r20){case 2:f.Ji.read(m.Ek,a,function(m,t){var s20,r,n,x,q,A,J,t20,B,P,L,T,E,u,u20,v20,w20,x20,va,Da,N,y20,ka,La,O,M,z20,A20,B20,C20,D20,E20,C,D;s20=2;for(;s20 !== 4;){switch(s20){case 5:k(m);s20=4;break;case 16:void 0 !== p && (p.pk=m);s20=15;break;case 9:l();s20=4;break;case 2:s20=1;break;case 11:try{t20=2;for(;t20 !== 12;){switch(t20){case 9:return k(P);break;case 8:B=d.cia(T,T,T.fragments);t20=7;break;case 14:t.push(B);t20=13;break;case 13:u=E.next();t20=1;break;case 3:var I41="Header fragments ";I41+="was an array buffer, is invalid typ";I41+="e ";P=I41 + T.streamId;t20=9;break;case 1:t20=!u.done?5:12;break;case 7:t20=d.Nka(B)?6:14;break;case 5:(L=u.value,T=D.headers[L]);t20=4;break;case 6:var s41="Missing or i";s41+="nvalid header data parts fo";s41+="r stream ";return (P=s41 + B.za,k(P));break;case 2:(E=c.__values(C),u=E.next());t20=1;break;case 4:t20=T.fragments instanceof ArrayBuffer?3:8;break;}}}catch(ib){r={error:ib};}finally{u20=2;for(;u20 !== 1;){switch(u20){case 2:try{v20=2;for(;v20 !== 1;){switch(v20){case 2:var O41="r";O41+="e";O41+="tu";O41+="rn";u && !u.done && (n=E[O41]) && n.call(E);v20=1;break;}}}finally{w20=2;for(;w20 !== 5;){switch(w20){case 3:w20=r?3:6;break;w20=r?1:5;break;case 2:w20=r?1:5;break;case 1:throw r.error;w20=5;break;}}}u20=1;break;}}}s20=10;break;case 18:try{x20=2;for(;x20 !== 9;){switch(x20){case 2:(va=c.__values(n),Da=va.next());x20=1;break;case 3:Da=va.next();x20=1;break;case 1:x20=!Da.done?5:9;break;case 5:(L=Da.value,N=Object.keys(r[L]));try{y20=2;for(;y20 !== 7;){switch(y20){case 3:var y41="Miss";y41+="ing or invalid media da";y41+="ta part";y41+="s f";y41+="or stream ";return (P=y41 + M.za,k(P));break;case 1:y20=!La.done?5:7;break;case 2:(ka=(A=void 0,c.__values(N)),La=ka.next());y20=1;break;case 4:y20=d.Mka(M)?3:9;break;case 5:(O=r[L][La.value],M=d.bia(O,O));y20=4;break;case 9:t.push(M);y20=8;break;case 8:La=ka.next();y20=1;break;}}}catch(ib){A={error:ib};}finally{z20=2;for(;z20 !== 1;){switch(z20){case 2:try{A20=2;for(;A20 !== 1;){switch(A20){case 2:var z41="r";z41+="et";z41+="urn";La && !La.done && (J=ka[z41]) && J.call(ka);A20=1;break;}}}finally{B20=2;for(;B20 !== 5;){switch(B20){case 3:B20=A?5:7;break;B20=A?1:5;break;case 2:B20=A?1:5;break;case 1:throw A.error;B20=5;break;case 9:throw A.error;B20=6;break;B20=5;break;}}}z20=1;break;}}}x20=3;break;}}}catch(ib){x={error:ib};}finally{C20=2;for(;C20 !== 1;){switch(C20){case 2:try{D20=2;for(;D20 !== 1;){switch(D20){case 2:var u41="ret";u41+="u";u41+="r";u41+="n";Da && !Da.done && (q=va[u41]) && q.call(va);D20=1;break;}}}finally{E20=2;for(;E20 !== 5;){switch(E20){case 1:throw x.error;E20=5;break;case 2:E20=x?1:5;break;case 3:E20=x?0:6;break;E20=x?1:5;break;case 9:throw x.error;E20=0;break;E20=5;break;}}}C20=1;break;}}}s20=17;break;case 12:C=Object.keys(D.headers);s20=11;break;case 13:s20=D.headers?12:10;break;case 7:s20=D.movieEntry?6:15;break;case 10:s20=D.data?20:17;break;case 8:D=t[a];s20=7;break;case 6:m=d.Pia(D.movieEntry);t=[];s20=13;break;case 1:s20=m?5:3;break;case 17:p=d.Ria(f.H,f.G,f.Me,t,b);s20=16;break;case 3:s20=h.X(t)?9:8;break;case 20:r=D.data;n=Object.keys(r);s20=18;break;case 15:var A41="m";A41+="ediacac";A41+="helo";A41+="okup";f.MK(A41,{h2:f.Cm.time.da() - g,CZ:!0});l(p);s20=4;break;}}});r20=5;break;}}});break;}}};a.prototype.SEa=function(a){var F20,b;F20=2;for(;F20 !== 5;){switch(F20){case 2:var t41="Media cach";t41+="e is not ";t41+="enab";t41+="led";b=this;return this.Un?this.Un.then(function(){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 2:return new Promise(function(d){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:b.Ji.xE(m.Ek,a.toString(),function(b){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 2:b && 0 !== b.length?1 === b.length && b[0] === a.toString()?d(!0):d(!1):d(!1);I20=1;break;}}});H20=1;break;}}});break;}}}):Promise.reject(t41);break;}}};T00=17;break;case 2:a.prototype.Jb=function(a,b){var V00,d;V00=2;for(;V00 !== 4;){switch(V00){case 2:var E41="c";E41+="a";E41+="tch";var p41="M";p41+="edia cache is";p41+=" di";p41+="sable";p41+="d";d=this;this.Wca?this.Un=new Promise(function(c,g){var W00;W00=2;for(;W00 !== 1;){switch(W00){case 2:(void 0 !== b && null !== b?b.VI:function(a){var X00;X00=2;for(;X00 !== 1;){switch(X00){case 2:return k.VI(d.Cm,d.H,a);break;}}})(function(b){var Y00,f;Y00=2;for(;Y00 !== 4;){switch(Y00){case 2:var w41="Media cache di";w41+="d no";w41+="t initiali";w41+="ze";d.Ji=b;f=b.Ul;(b=b.GD)?g(b):f?(d.ROb(a),c()):g(Error(w41));Y00=4;break;}}});W00=1;break;}}}):(this.Un=Promise.reject(p41),this.Un[E41](function(){}));return this.Un;break;}}};a.prototype.rCb=function(a){var Z00,b,c,g;Z00=2;for(;Z00 !== 5;){switch(Z00){case 2:(b=this,c=[m.uV,a].join("."),g=this.Cm.time.da());return this.Un.then(function(){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:return new Promise(function(f){var b10;b10=2;for(;b10 !== 1;){switch(b10){case 2:b.Ji.xE(m.Ek,c,function(c){var c10,l;c10=2;for(;c10 !== 3;){switch(c10){case 8:c10=~c && 3 <= c.length?6:4;break;c10=!c || 0 >= c.length?1:5;break;case 2:c10=!c || 0 >= c.length?1:5;break;case 5:l=c[0];b.Ji.read(m.Ek,l,function(c,g){var d10,m,e10,k;d10=2;for(;d10 !== 13;){switch(d10){case 5:d10=!h.X(g)?4:8;break;case 2:var S41=" ";S41+="faile";S41+="d";var K41="Readin";K41+="g";K41+=" movie ent";K41+="ry ";c && b.G.warn(K41 + l + S41,c);d10=5;break;case 4:d10=g instanceof ArrayBuffer?3:9;break;case 9:m={priority:g.priority,movieId:g.movieId,saveToDisk:g.saveToDisk,firstSelectedStreamBitrate:g.firstSelectedStreamBitrate,initSelectionReason:g.initSelectionReason,histDiscountedThroughputValue:g.histDiscountedThroughput,histTdigest:g.histTdigest,histAge:g.histAge,headerCount:g.headerCount,dataRequestCount:g.dataRequestCount,headerRequestCount:g.headerRequestCount,stats:g.stats};d10=8;break;case 3:try{e10=2;for(;e10 !== 1;){switch(e10){case 2:m=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g)));e10=1;break;}}}catch(V){}d10=8;break;case 8:h.X(m) || (k=d.Pia(m));h.X(k) || h.Ua(k) || (k.Nb=k.Nb || ({}),k.headers=k.headers || ({}));b.RQa(k)?f(k):(b.Qeb(a),f());d10=13;break;}}});c10=3;break;case 1:var P41="me";P41+="diaca";P41+="chelooku";P41+="p";(f(),b.MK(P41,{h2:b.Cm.time.da() - g,CZ:!1}));c10=3;break;}}});b10=1;break;}}});break;}}});break;}}};T00=5;break;case 5:a.prototype.mCb=function(a,b,d){var f10,c,g;f10=2;for(;f10 !== 9;){switch(f10){case 2:c=this;f10=1;break;case 1:f10=!this.Un?5:4;break;case 5:var F41="Medi";F41+="a cache is not e";F41+="na";F41+="bled";return Promise.reject(F41);break;case 7:c=this;f10=2;break;f10=1;break;case 4:g=this.Cm.time.da();return this.Un.then(function(){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 2:return new Promise(function(f){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:c.Ji.xE(m.Ek,a,function(m){var i10;i10=2;for(;i10 !== 5;){switch(i10){case 2:m=m.reduce(function(a,b){var j10,d;j10=2;for(;j10 !== 9;){switch(j10){case 1:var G41="drmHead";G41+="e";G41+="r.__e";G41+="mbe";G41+="d__";j10=-1 !== d.indexOf(G41)?5:4;break;case 2:d=b.substr(0,b.lastIndexOf("."));j10=1;break;case 5:return a;break;case 14:return a;break;j10=4;break;case 4:a[d]?a[d].push(b):a[d]=[b];return a;break;case 6:var N41="drmH";N41+="eader.";N41+="__";N41+="embe";N41+="d__";j10=~2 === d.indexOf("")?7:0;break;j10=-1 !== d.indexOf(N41)?5:4;break;}}},{});c.fKb(m,b).then(function(b){var k10,m,l;k10=2;for(;k10 !== 8;){switch(k10){case 2:k10=void 0 === d || void 0 === b?1:5;break;case 1:return f();break;case 5:var W41="media";W41+="cachelo";W41+="okup";var L41="No ";L41+="content data fo";L41+="un";L41+="d f";L41+="or ";(m=c.Cm.time.da() - g,l=!1);h.X(b) || h.X(b.data) || !h.bf(b.data)?c.G.trace(L41 + a,d):l=!0;c.MK(W41,{h2:m,CZ:l});f(b);k10=8;break;}}},function(){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 4:f();l10=4;break;l10=1;break;case 2:f();l10=1;break;}}});i10=5;break;}}});h10=1;break;}}});break;}}});break;}}};a.prototype.nCb=function(a,b){var m10,d,c;m10=2;for(;m10 !== 5;){switch(m10){case 2:(d=this,c=this.Cm.time.da());return this.Un.then(function(){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 2:return d.SEa(a);break;}}}).then(function(g){var o10;o10=2;for(;o10 !== 5;){switch(o10){case 2:o10=g?1:4;break;case 1:return d.seb(a.toString(),b,c);break;case 8:return d.seb(a.toString(),b,c);break;o10=4;break;case 4:var D41="me";D41+="diacache";D41+="lookup";d.MK(D41,{h2:d.Cm.time.da() - c,CZ:!1});o10=5;break;}}});break;}}};a.prototype.RMb=function(a,b){var q10,c;q10=2;for(;q10 !== 5;){switch(q10){case 2:c=d.Qia(a);q10=1;break;case 1:this.Ji.save(m.Ek,[m.uV,a.u].join("."),c,m.dy,function(){var r10;r10=2;for(;r10 !== 1;){switch(r10){case 4:b();r10=4;break;r10=1;break;case 2:b();r10=1;break;}}});q10=5;break;case 3:c=d.Qia(a);q10=6;break;q10=1;break;}}};T00=9;break;case 9:a.prototype.QMb=function(a,b){var s10,l,t,c,g,f,k;s10=2;for(;s10 !== 14;){switch(s10){case 3:(l={timescale:a.stream.ca.P,startTicks:a.stream.ca.zk,offset:a.stream.ca.ih(0)},t=a.stream.ca.UK);k[g + "." + m.Tva]={Wo:l,Gd:m.dy};k[g + "." + m.W5a]={Wo:t.sizes.buffer,Gd:m.dy};s10=7;break;case 2:(c=this,g=[a.u,a.za,m.k6a].join("."),f=this.Cm.time.da(),l=d.dOa(a),k={});k[g + "." + m.X8]={Wo:l,Gd:m.dy};k[g + "." + m.K6a]={Wo:p.Kt(a.bh.map(function(a){var t10;t10=2;for(;t10 !== 1;){switch(t10){case 2:return a.data;break;case 4:return a.data;break;t10=1;break;}}})),Gd:m.dy};s10=4;break;case 4:s10=a.stream.ge && !h.X(a.stream.ca)?3:6;break;case 7:k[g + "." + m.V5a]={Wo:t.Qd.buffer,Gd:m.dy};s10=6;break;case 6:this.Ji.oYa(m.Ek,k,function(d){var u10;u10=2;for(;u10 !== 5;){switch(u10){case 2:d || (d=c.Cm.time.da() - f,a.pk && (h.X(a.pk.Nb.bp) && (a.pk.Nb.bp=0),a.pk.Nb.bp+=d));b();u10=5;break;}}});s10=14;break;}}};a.prototype.PMb=function(a,b,c){var v10,l,k,p,g,f;v10=2;for(;v10 !== 14;){switch(v10){case 5:(l=this.Cm.time.da(),k=[a.u,a.za,a.kc].join("."));a=d.Lia(a);p={};p[k + "." + m.X8]={Wo:a,Gd:m.dy};v10=8;break;case 6:var x41="Unable";x41+=" to save fragment because resp";x41+="onse is not an";x41+=" ArrayBuffer";c(Error(x41));v10=14;break;case 8:h.X(f) || (p[k + "." + m.S7a]={Wo:f,Gd:m.dy});this.Ji.oYa(m.Ek,p,function(a){var w10;w10=2;for(;w10 !== 5;){switch(w10){case 2:var U41="Fai";U41+="led";U41+=" ";U41+="to save ";U41+="fragment";a?g.G.warn(U41,a):(a=g.Cm.time.da() - l,h.X(b.Nb.bp) && (b.Nb.bp=0),b.Nb.bp+=a);c();w10=5;break;}}});v10=14;break;case 2:(g=this,f=a.response);v10=1;break;case 1:v10=f instanceof ArrayBuffer?5:6;break;}}};a.prototype.SMb=function(a){var x10,b,f,l,k,p,t,r,n,x,q,u,z10,ha,Y,A10,oa,B,ia,qa,B10,C10,D10,W,ea,E10,F10,G10;x10=2;for(;x10 !== 10;){switch(x10){case 2:(p=this,t=this.Cm.time.da(),r={},n=d.Qia(a));r.movieEntry=n;x10=5;break;case 4:x={};Object.keys(a.headers).forEach(function(b){var y10,c;y10=2;for(;y10 !== 5;){switch(y10){case 2:c=d.bOa(a.headers[b]);x[b]=c;y10=5;break;}}});x10=9;break;case 8:x10=a && a.data?7:13;break;case 9:r.headers=x;x10=8;break;case 7:(n={},q=a.data,u=Object.keys(a.data));try{z10=2;for(;z10 !== 7;){switch(z10){case 4:z10=Y?3:8;break;case 5:(ha=ea.value,Y=q[ha],u={});z10=4;break;case 3:try{A10=2;for(;A10 !== 7;){switch(A10){case 8:ia=B.next();A10=1;break;case 5:oa=ia.value;A10=4;break;case 1:A10=!ia.done?5:7;break;case 2:(B=(l=void 0,c.__values(Y)),ia=B.next());A10=1;break;case 9:u[oa.kc]={mediaType:qa.mediaType,streamId:qa.streamId,movieId:qa.movieId,bitrate:qa.bitrate,location:qa.location,serverId:qa.serverId,saveToDisk:qa.saveToDisk,offset:qa.offset,bytes:qa.bytes,timescale:qa.timescale,startTicks:qa.startTicks,durationTicks:qa.durationTicks,response:oa.response};A10=8;break;case 3:qa=d.Lia(oa);A10=9;break;case 4:A10=oa instanceof g.hU && oa.response instanceof ArrayBuffer && !h.X(oa.kc)?3:8;break;}}}catch(Aa){l={error:Aa};}finally{B10=2;for(;B10 !== 1;){switch(B10){case 2:try{C10=2;for(;C10 !== 1;){switch(C10){case 2:var Q41="re";Q41+="t";Q41+="u";Q41+="rn";ia && !ia.done && (k=B[Q41]) && k.call(B);C10=1;break;}}}finally{D10=2;for(;D10 !== 5;){switch(D10){case 1:throw l.error;D10=5;break;case 3:D10=l?3:7;break;D10=l?1:5;break;case 2:D10=l?1:5;break;}}}B10=1;break;}}}z10=9;break;case 2:(W=c.__values(u),ea=W.next());z10=1;break;case 1:z10=!ea.done?5:7;break;case 9:n[ha]=u;z10=8;break;case 8:ea=W.next();z10=1;break;}}}catch(Aa){b={error:Aa};}finally{E10=2;for(;E10 !== 1;){switch(E10){case 2:try{F10=2;for(;F10 !== 1;){switch(F10){case 2:var q41="r";q41+="e";q41+="t";q41+="ur";q41+="n";ea && !ea.done && (f=W[q41]) && f.call(W);F10=1;break;}}}finally{G10=2;for(;G10 !== 5;){switch(G10){case 1:throw b.error;G10=5;break;case 2:G10=b?1:5;break;}}}E10=1;break;}}}x10=14;break;case 5:x10=a.headers?4:8;break;case 14:r.data=n;x10=13;break;case 13:b={lifespan:259200};this.Pcb && (b.convertToBinaryData=!0);this.Ji.save(m.Ek,a.u,r,b,function(a){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 2:var Z91="sa";Z91+="veto";Z91+="disk";a || p.MK(Z91,{pYa:p.Cm.time.da() - t});H10=1;break;}}});x10=10;break;}}};a.prototype.RQa=function(a){var I10;I10=2;for(;I10 !== 1;){switch(I10){case 2:return !(h.X(a) || h.Ua(a) || h.X(a.Nb) || h.Ua(a.Nb) || h.X(a.u) || h.Ua(a.u) || h.X(a.ie) || h.Ua(a.ie));break;}}};a.prototype.QCb=function(a){var J10,b,d;J10=2;for(;J10 !== 5;){switch(J10){case 2:(b=this,d=h.X(a)?"":a.toString());return new Promise(function(a){var K10,L10;K10=2;for(;K10 !== 4;){switch(K10){case 5:try{L10=2;for(;L10 !== 1;){switch(L10){case 2:b.Ji.xE(m.Ek,"",function(b){var M10;M10=2;for(;M10 !== 5;){switch(M10){case 2:b=b.filter(function(a){var N10;N10=2;for(;N10 !== 5;){switch(N10){case 2:var a91="mov";a91+="ie";a91+="E";a91+="ntr";a91+="y";a=a.split(".");return d && (d === a[0] || a91 === a[0] && d === a[1]);break;}}}).reduce(function(a,b){var O10,d;O10=2;for(;O10 !== 4;){switch(O10){case 2:var v91="mo";v91+="vi";v91+="eEntr";v91+="y";d=b.split(".");v91 !== d[0] && (b=d[1],d=d[2],h.X(a[b]) && (a[b]={}),h.X(a[b][d]) && (a[b][d]=!0));return a;break;}}},{});a(b);M10=5;break;}}});L10=1;break;}}}catch(L){a();}K10=4;break;case 2:K10=h.X(b.Ji)?1:5;break;case 1:a();K10=4;break;}}});break;}}};a.prototype.qCb=function(a,b){var P10,d;P10=2;for(;P10 !== 5;){switch(P10){case 2:d=this;return b && b.headers && b.headers && 0 < Object.keys(b.headers).length && b.data?new Promise(function(a){var Q10,d,c;Q10=2;for(;Q10 !== 8;){switch(Q10){case 2:d={};b.headers && Object.keys(b.headers).forEach(function(a){var R10;R10=2;for(;R10 !== 5;){switch(R10){case 2:d[a] || (d[a]={});d[a].header=!0;R10=5;break;}}});Q10=5;break;case 5:Q10=b.data?4:9;break;case 4:c=b.data;Q10=3;break;case 9:return a(d);break;case 3:Object.keys(c).forEach(function(a){var S10;S10=2;for(;S10 !== 5;){switch(S10){case 2:d[a] || (d[a]={});c[a].forEach(function(b){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:h.X(b.kc) || (d[a][b.kc]=!0);T10=1;break;}}});S10=5;break;}}});Q10=9;break;}}}):this.SEa(a).then(function(b){var U10;U10=2;for(;U10 !== 5;){switch(U10){case 3:U10=b?2:2;break;U10=b?1:5;break;case 2:U10=b?1:5;break;case 1:return new Promise(function(b){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:d.Ji.read(m.Ek,a,function(d,c){var W10,g,f;W10=2;for(;W10 !== 5;){switch(W10){case 1:b();W10=5;break;case 2:W10=d?1:4;break;case 4:W10=h.X(c)?3:9;break;case 7:g.data && Object.keys(g.data).forEach(function(a){var Y10;Y10=2;for(;Y10 !== 5;){switch(Y10){case 2:f[a] || (f[a]={});Object.keys(g.data[a]).forEach(function(b){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:f[a][b]=!0;Z10=1;break;}}});Y10=5;break;}}});b(f);W10=5;break;case 3:b(void 0);W10=5;break;case 9:(g=c[a],f={});g.headers && Object.keys(g.headers).forEach(function(a){var X10;X10=2;for(;X10 !== 5;){switch(X10){case 2:f[a] || (f[a]={});f[a].header=!0;X10=5;break;}}});W10=7;break;}}});V10=1;break;}}});break;}}});break;}}};T00=12;break;case 17:a.prototype.Qeb=function(a){function d(a){var L20;L20=2;for(;L20 !== 1;){switch(L20){case 2:a.map(b);L20=1;break;}}}var J20,c,g;function b(a){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:var B91="d";B91+="el";B91+="e";B91+="t";B91+="e";c.Ji[B91](m.Ek,a);K20=1;break;}}}J20=2;for(;J20 !== 4;){switch(J20){case 2:(c=this,g=a.toString());this.Ji.xE(m.Ek,[m.uV,a].join("."),d);this.Ji.xE(m.Ek,g,d);J20=4;break;}}};a.prototype.ROb=function(a){var M20,b;M20=2;for(;M20 !== 4;){switch(M20){case 2:var i91="me";i91+="diacache-er";i91+="r";i91+="or";var X91="medi";X91+="acach";X91+="e";b=new l.Pg();b.on(this.Ji,X91,function(b){var N20;N20=2;for(;N20 !== 4;){switch(N20){case 2:N20=b.keys || b.items?1:5;break;case 1:b.keys || b.items.map(function(a){var O20;O20=2;for(;O20 !== 1;){switch(O20){case 2:return a.key;break;case 4:return a.key;break;O20=1;break;}}});N20=5;break;case 7:a.emit("",b);N20=3;break;N20=4;break;case 5:var R91="med";R91+="iacach";R91+="e";a.emit(R91,b);N20=4;break;}}});b.on(this.Ji,i91,function(b){var P20;P20=2;for(;P20 !== 5;){switch(P20){case 2:var C91="med";C91+="i";C91+="acache";var Y91="err";Y91+="o";Y91+="r";b.type=Y91;a.emit(C91,b);P20=5;break;}}});M20=4;break;}}};return a;break;case 12:a.prototype.dwb=function(){var a20,a;a20=2;for(;a20 !== 5;){switch(a20){case 2:var T91="Media c";T91+="ache is not enabl";T91+="ed";a=this;return this.Un?this.Un.then(function(){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:return new Promise(function(b){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:a.Ji.xE(m.Ek,m.uV,function(a){var d20,d;d20=2;for(;d20 !== 9;){switch(d20){case 5:d=[];d20=4;break;case 1:b([]);d20=9;break;case 2:d20=!a || 0 >= a.length?1:5;break;case 7:d20=+a && 1 > a.length?9:3;break;d20=!a || 0 >= a.length?1:5;break;case 14:d=[];d20=3;break;d20=4;break;case 4:a.forEach(function(a){var e20;e20=2;for(;e20 !== 1;){switch(e20){case 2:a && a.length && (a=a.split(".")) && 1 < a.length && d.push(a[1]);e20=1;break;}}});b(d);d20=9;break;}}});c20=1;break;}}});break;}}}):Promise.reject(T91);break;}}};a.prototype.MK=function(a,b){var f20,d;f20=2;for(;f20 !== 9;){switch(f20){case 4:var o91="me";o91+="dia";o91+="ca";o91+="ch";o91+="e";d.oneObject=this.pp;this.zbb && this.emit(o91,d);f20=9;break;case 2:var r91="medi";r91+="aca";r91+="che";r91+="lookup";var b91="savetodi";b91+="s";b91+="k";var V91="mediac";V91+="a";V91+="che";V91+="stat";V91+="s";d={type:V91,operation:a};b91 === a && (d.saveTime=b.pYa);r91 === a && (d.lookupTime=b.h2,d.dataFound=b.CZ);f20=4;break;}}};a.prototype.fKb=function(a,b){var g20,c,g;g20=2;for(;g20 !== 5;){switch(g20){case 2:(c=this,g=Object.keys(a).map(function(b){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 4:return c.rnb(a[b]);break;h20=1;break;case 2:return c.rnb(a[b]);break;}}}));return Promise.all(g).then(function(a){var i20;i20=2;for(;i20 !== 5;){switch(i20){case 2:a.sort(function(a,b){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:return a.bc === b.bc?0:a.bc?-1:1;break;}}});return d.Ria(c.H,c.G,c.Me,a,b);break;}}});break;}}};T00=20;break;}}})();b.uya=a;f.Se(l.EventEmitter,a);},function(f,b,a){var c,l,k,h,g,p,d,m,t,n,q,J,E,u,D,C,T,P,ba,R,V,W,ea,ha,Y;Object.defineProperty(b,"__esModule",{value:!0});b.qwa=void 0;c=a(0);f=a(15);l=a(5);k=a(8);h=a(239);g=a(227);p=a(410);d=a(88);a(421);m=a(405);t=a(116);n=a(22);q=a(228);J=a(799);E=a(100);u=a(17);D=a(3);C=a(163);T=a(398);P=a(399);ba=D.Promise;R=new D.Console("HEADERCACHE","media|asejs");a=new D.Console("MEDIACACHE","media|asejs");V=D.wF;W=R.trace.bind(R);a.trace.bind(a);ea=R.warn.bind(R);ha=R.error.bind(R);Y=R.info.bind(R);a=(function(a){var Q20;Q20=2;function b(b,d,c,g){var R20;R20=2;for(;R20 !== 25;){switch(R20){case 3:b.D0b=Y;b.xN=Object.create(null);b.Am=d;b.De=Object.create(null);b.vy=0;b.wj=[];b.IN=d.sP;R20=12;break;case 2:b=a.call(this) || this;b.Vj=W;b.gf=ha;b.kb=ea;R20=3;break;case 12:b.pt=[];b.cX=!1;b.AG=[];b.oC={};R20=19;break;case 19:var H91="c";H91+="at";H91+="c";H91+="h";b.Wca=(b.Am.TA || b.Am.esa) && 0 < (b.Am.oz || (D.options || ({})).zJ || 0);b.pp=b.Am.zma;b.hf=void 0;b.Wca && (b.Am.oz || (d=(D.options || ({})).zJ || 0,b.Am.set?b.Am.set({oz:d}):b.Am.oz=(D.options || ({})).zJ || 0),b.hf=new J.uya(b.Am,D,b),b.hf.Jb(b,g).then(function(){var S20;S20=2;for(;S20 !== 1;){switch(S20){case 2:var J91="Media cac";J91+="he in";J91+="it";J91+="ialized";W(J91);S20=1;break;case 4:W("");S20=4;break;S20=1;break;}}})[H91](function(a){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:var M91="Me";M91+="di";M91+="a cache did not initialize";ha(M91,a);T20=1;break;case 4:ha("",a);T20=2;break;T20=1;break;}}}));b.Cl=c;R20=27;break;case 27:var I91="1SIYb";I91+="Z";I91+="rNJCp9";I91;return b;break;}}}for(;Q20 !== 49;){switch(Q20){case 41:b.prototype.Gcb=function(a,b){var Z30,d;Z30=2;for(;Z30 !== 5;){switch(Z30){case 2:var s91="Media ca";s91+="che is not";s91+=" e";s91+="nabl";s91+="ed";d=this;return this.hf?this.hf.nCb(a,b).then(function(b){var a40;a40=2;for(;a40 !== 5;){switch(a40){case 2:a40=b && b.pk?1:5;break;case 1:return (d.De[a]=b.pk,++d.vy,d.PW(),d.wj.push(b.pk),d.wj.sort(d.Q3),d.zDa(a,b),d.cache[a]);break;case 3:a40=b || b.pk?2:3;break;a40=b && b.pk?1:5;break;}}}):ba.reject(s91);break;}}};b.prototype.Fcb=function(a,b){var b40,c,g,d;b40=2;for(;b40 !== 8;){switch(b40){case 5:(c=void 0,g=!1);this.hf.RQa(this.De[a])?(c=ba.resolve(this.De[a]),g=!0):c=this.hf.rCb(a);b40=3;break;case 1:b40=this.hf?5:9;break;case 2:d=this;b40=1;break;case 9:var O91="Media";O91+=" ";O91+="cache is ";O91+="not en";O91+="abled";return ba.reject(O91);break;case 3:return c.then(function(c){var c40;c40=2;for(;c40 !== 1;){switch(c40){case 2:return !k.X(c) && d.hf?d.hf.mCb(a,b,c).then(function(b){var d40;d40=2;for(;d40 !== 5;){switch(d40){case 2:b && (g || (d.De[a]=c,++d.vy,d.PW(),d.wj.push(c),d.wj.sort(d.Q3)),d.zDa(a,b));return d.De[a];break;}}}):ba.resolve(void 0);break;}}});break;}}};Q20=39;break;case 22:b.prototype.SW=function(a){var I30,b;I30=2;for(;I30 !== 9;){switch(I30){case 5:var m91="savet";m91+="o";m91+="disk";a.pc();b=this.De[a.u] || a.pk;b && 0 === b.U0 && 0 === b.VH && (this.Veb(b,a.kd),b.Jd && this.hf && (b.Nb.WDb || (this.pp?this.hf.SMb(b):this.hf.MK(m91,{pYa:b.Nb.bp}))));I30=9;break;case 2:this.bc(a) && delete this.xN[a.za];this.bc(a) || delete a.response;I30=5;break;}}};b.prototype.Ieb=function(a,b,d,c){var J30,g;J30=2;for(;J30 !== 12;){switch(J30){case 3:J30=!g.ou()?9:8;break;case 6:J30=a.uQ?14:13;break;case 9:return ba.reject();break;case 2:g=this.uba(a,c);g.LXa=b;g.pk=d;g.cA=a.cA;J30=3;break;case 8:d.U0++;this.xN[g.za]=g;J30=6;break;case 14:g.uQ=a.uQ;J30=12;break;case 13:return new ba(function(a){var K30;K30=2;for(;K30 !== 1;){switch(K30){case 2:g.uQ=a;K30=1;break;}}});break;}}};b.prototype.Qcb=function(a,b,d){var L30,g,c;L30=2;for(;L30 !== 8;){switch(L30){case 3:g=d && d.length < a.hga?d.length:a.hga;return function(a){var N30;N30=2;for(;N30 !== 1;){switch(N30){case 2:a000.z51(2);return a000.y51(a,g);break;}}};break;case 2:c=a.JZ;b.Jd && this.hf && (a.oR?c=a.oR:a.OSa && 0 < a.OSa && (c=2E3 * a.OSa));L30=5;break;case 5:L30=0 < c?4:3;break;case 4:return function(a,b){var M30;M30=2;for(;M30 !== 1;){switch(M30){case 2:a000.z51(2);return a000.n51(b,c);break;}}};break;}}};b.prototype.OX=function(a,b){var O30,t,x,f,l,h,m,d,c,g,p,r;O30=2;for(;O30 !== 51;){switch(O30){case 16:p.Jd=a.Jd;O30=15;break;case 33:r=p && p.I;O30=32;break;case 14:m.OZ=a;O30=13;break;case 3:this.AG.shift();O30=4;break;case 1:O30=this.cX?5:9;break;case 17:O30=!k.X(p)?16:24;break;case 30:O30=(void 0 === p && (p=a.stream.Ui(h)),void 0 !== p)?29:53;break;case 5:this.AG.push({Cyb:a,Fc:b});O30=4;break;case 42:(p.tda(l.get(r)),p.HR=r + 1,h=r);O30=41;break;case 27:t=p.E_(b);O30=26;break;case 25:var A91="ma";A91+="nager";A91+="debu";A91+="gevent";var u91=",";u91+=" s";u91+="tar";u91+="tPts";u91+=": ";var z91=", p";z91+="ts";z91+=":";z91+=" ";var y91=", s";y91+="tream";y91+="I";y91+="d";y91+=": ";var n91=", head";n91+="erCache re";n91+="quest";n91+="Da";n91+="ta: movieId: ";f.ah && (b="@" + D.time.da() + n91 + d + y91 + c + z91 + b + u91 + p.T,this.emit(A91,{message:b}));O30=24;break;case 7:O30=a.I === n.Sa.AUDIO?6:11;break;case 15:O30=this.vqa(a.I,f)?27:25;break;case 53:++h;O30=31;break;case 52:m.OZ && !k.X(m.Gm) && (a=m.OZ,delete m.OZ,this.OX(a,m.Gm));O30=51;break;case 26:t && (p.I === n.Sa.AUDIO && !f.y2 && t.Fc < (f.Yj && !f.Wy && g.Hd?Math.floor(g.Hd.ka):0) && (++t.ln,t.Fc+=p.xa.ka),0 < t.ln && p.Lj({start:t.ln}));O30=25;break;case 32:(x=r === n.Sa.VIDEO?f.J2:f.C2,f=r === n.Sa.VIDEO?f.HEb:f.zEb);O30=31;break;case 8:O30=m?7:51;break;case 4:O30=this.AG.length > f.Nja?3:51;break;case 6:O30=void 0 === m.Gm?14:12;break;case 13:return;break;case 11:a.I === n.Sa.AUDIO && f.Yj && !f.Wy && g.Hd && (b=Math.max(g.ca && g.ca.gj(0) || 0,b + g.Hd.ka));(l=a.stream.ca,h=l && l.Om(b));O30=20;break;case 9:m=this.De[d] || a.pk;O30=8;break;case 20:O30=-1 === h || void 0 === h?19:18;break;case 31:O30=h < (l && l.length || 0) && !d(t,g)?30:52;break;case 44:a000.u51(3);r=a000.n51(1,h);O30=43;break;case 2:(d=a.u,c=a.za,g=a.stream,f=a.Xc);O30=1;break;case 54:p=void 0;O30=53;break;case 12:b=m.Gm;O30=11;break;case 18:p=a.stream.Ui(h);O30=17;break;case 36:g+=p.duration;O30=54;break;case 43:O30=r < l.length && (p.$ < x || p.duration < f)?42:40;break;case 24:void 0 === m.data && (m.data={});void 0 === m.data[c] && (m.data[c]=[]);b=m.data[c];d=this.Qcb(f,a,l);t=g=0;O30=33;break;case 29:p.Jd=a.Jd;O30=28;break;case 28:O30=!k.X(l) && !p.Ka?44:40;break;case 19:var t91="no proper fragment found to req";t91+="ues";t91+="t data at pts";ha(t91,b);O30=51;break;case 40:var w91="u";w91+="ndefi";w91+="n";w91+="ed";k.X(m.Gm) && (m.Gm=p.T);p.Jd && (p.responseType=0);a.Jd && this.hf && a.cA && a.cA[c] && w91 !== typeof p.T && a.cA[c][p.T] || (r=this.abb(p,a.Xc),r.Jd && (r.pk=a.pk),r.ou(),++m.VH,b.push(r));++t;O30=36;break;case 41:++r;O30=43;break;}}};b.prototype.gab=function(a){var P30;P30=2;for(;P30 !== 1;){switch(P30){case 2:this.yDa(a,a.pk);P30=1;break;}}};b.prototype.fab=function(a,b){var Q30;Q30=2;for(;Q30 !== 1;){switch(Q30){case 4:this.yDa(a,b);Q30=9;break;Q30=1;break;case 2:this.yDa(a,b);Q30=1;break;}}};Q20=31;break;case 16:b.prototype.bHb=function(a){var r30,b,d,c,g;r30=2;for(;r30 !== 8;){switch(r30){case 1:r30=c?5:8;break;case 2:(b=this,d=a.u,c=this.De[d] || a.pk);r30=1;break;case 5:var k91="managerdeb";k91+="ugeven";k91+="t";var S91=",";S91+=" r";S91+="em";S91+="aining: ";var K91=",";K91+=" ";K91+="p";K91+="t";K91+="s: ";var E91=", s";E91+="t";E91+="ream";E91+="Id:";E91+=" ";var p91=", headerCac";p91+="he d";p91+="ataComplete: movieId:";p91+=" ";r30=(this.Am.ah && (d="@" + D.time.da() + p91 + d + E91 + a.za + K91 + a.T + S91 + (c.VH - 1),this.emit(k91,{message:d})),a.Jd && 0 === a.responseType && this.hf && !this.pp)?4:9;break;case 4:g=D.time.now();this.hf.PMb(a,c,function(d){var s30;s30=2;for(;s30 !== 4;){switch(s30){case 2:d || k.X(c) || (d=D.time.da() - g,k.X(c.Nb) && (c.Nb={}),k.X(c.Nb.bp) && (c.Nb.bp=0),c.Nb.bp+=d);--c.VH;b.SW(a);s30=4;break;}}});r30=8;break;case 9:(--c.VH,b.SW(a));r30=8;break;}}};b.prototype.YDa=function(){var t30;t30=2;for(;t30 !== 1;){switch(t30){case 2:0 === this.pt.length && (this.pt=[t.Bn.pf.gr(0,void 0,!1,!1,this.Cl,this.Am),t.Bn.pf.gr(1,void 0,!1,!1,this.Cl,this.Am)],this.pt.forEach(function(a){var u30;u30=2;for(;u30 !== 1;){switch(u30){case 2:return a.Jb();break;}}}),V.Je());t30=1;break;}}};b.prototype.bEa=function(){var v30,a;v30=2;for(;v30 !== 4;){switch(v30){case 2:a=this.pt;this.pt=[];a.forEach(function(a){var w30;w30=2;for(;w30 !== 1;){switch(w30){case 4:t.Bn.pf.dI(a);w30=2;break;w30=1;break;case 2:t.Bn.pf.dI(a);w30=1;break;}}});v30=4;break;}}};b.prototype.Kcb=function(){var x30,a;x30=2;for(;x30 !== 5;){switch(x30){case 2:a=this;!this.cX && 0 < this.AG.length && (this.AG.forEach(function(b){var y30;y30=2;for(;y30 !== 1;){switch(y30){case 2:a.OX(b.Cyb,b.Fc);y30=1;break;}}}),this.AG=[]);x30=5;break;}}};Q20=25;break;case 39:b.prototype.zDa=function(a,b){var e40,c,g,d,f;e40=2;for(;e40 !== 7;){switch(e40){case 5:(c=this.De[a],g=b.headers);c && g && Object.keys(g).forEach(function(a){var f40;f40=2;for(;f40 !== 1;){switch(f40){case 2:d.fab(g[a],c);f40=1;break;case 4:d.fab(g[a],c);f40=6;break;f40=1;break;}}});e40=3;break;case 1:e40=b?5:7;break;case 2:d=this;e40=1;break;case 9:f=b.data;Object.keys(f).forEach(function(a){var g40,d,b;g40=2;for(;g40 !== 9;){switch(g40){case 4:d=c.data;b.forEach(function(b){var h40;h40=2;for(;h40 !== 1;){switch(h40){case 2:d[a].push(b);h40=1;break;}}});g40=9;break;case 2:b=f[a];k.X(c.data) && (c.data={});k.X(c.data[a]) && (c.data[a]=[]);g40=4;break;}}});e40=7;break;case 3:e40=b.data?9:7;break;}}};b.prototype.Q3=function(a,b){var i40;i40=2;for(;i40 !== 1;){switch(i40){case 2:return b.ie - a.ie;break;}}};b.prototype.rWa=function(a){var j40,b,d,c;j40=2;for(;j40 !== 11;){switch(j40){case 13:b.Uk=a.Uk;return b;break;case 2:b={};j40=1;break;case 1:j40=a && a.data?5:11;break;case 5:for(d in a.data){c=a.data[d];0 < c.length && (b[c[0].I]={za:d,Yp:a.headers[d],data:c});}b.Gm=a.Gm;b.Cr=a.Cr;j40=9;break;case 9:b.Nb=a.Nb;b.Up=a.Up;b.aq=a.aq;b.Dr=a.Dr;b.Tk=a.Tk;j40=13;break;}}};b.prototype.PIa=function(a,b,d,c,g,f){var k40;k40=2;for(;k40 !== 8;){switch(k40){case 5:k40=(b=b.stream[c?1:0].H4(b.S,d,void 0,c?a.gS:a.ux))?4:3;break;case 2:k40=b.location.sL(a,d)?1:9;break;case 4:return (d=d[b.bd],d.aq=b.reason,d.Dr=b.$t,d.Iyb=b.Tk,d.$0=b.Uk,d);break;case 3:var P91="selectStream ";P91+="ret";P91+="urned null";ea(P91);k40=8;break;case 1:var j91="defau";j91+="l";j91+="t";a=C[j91](g,f);k40=5;break;case 9:var h91="updateStreamSe";h91+="lection returned nu";h91+="l";h91+="l list";ea(h91);k40=8;break;}}};Q20=54;break;case 31:b.prototype.yDa=function(a,b){var R30,d;R30=2;for(;R30 !== 4;){switch(R30){case 5:(b.WGa || b.Jd && !this.pp || (b.WGa=!0,++this.vy),b.headers || (b.headers={}),b.headers[d]=a,this.Am.JP && (b.Cr || (b.Cr=0),++b.Cr),this.PW());R30=4;break;case 1:R30=(b=this.De[a.u] || b)?5:4;break;case 2:d=a.za;R30=1;break;}}};b.prototype.PW=function(){var S30,b,d,c;S30=2;for(;S30 !== 12;){switch(S30){case 4:S30=(d=this.wj.shift())?3:5;break;case 2:c=0;S30=1;break;case 1:S30=!(this.vy <= this.IN)?5:12;break;case 5:S30=this.vy > this.IN?4:13;break;case 7:delete this.De[b];--this.vy;S30=14;break;case 3:b=d.u;S30=9;break;case 9:S30=d.data?8:7;break;case 8:for(var g in d.data){d.data[g].forEach(a);delete d.data[g];}S30=7;break;case 14:this.zeb(b);S30=5;break;case 13:this.Aeb(c);S30=12;break;}}function a(a){var T30;T30=2;for(;T30 !== 5;){switch(T30){case 2:a.abort();c+=a.Ne;T30=5;break;}}}};b.prototype.Aeb=function(a){var U30;U30=2;for(;U30 !== 1;){switch(U30){case 2:var F91="disc";F91+="a";F91+="rdedBy";F91+="tes";0 !== a && (a={type:F91,bytes:a},this.emit(a.type,a));U30=1;break;}}};b.prototype.Ceb=function(a){var V30;V30=2;for(;V30 !== 1;){switch(V30){case 2:var G91="flu";G91+="s";G91+="hed";G91+="Bytes";0 !== a && (a={type:G91,bytes:a},this.emit(a.type,a));V30=1;break;}}};b.prototype.zeb=function(a){var W30;W30=2;for(;W30 !== 5;){switch(W30){case 2:var N91="cacheEvi";N91+="c";N91+="t";a={type:N91,movieId:a};this.emit(a.type,a);W30=5;break;}}};b.prototype.Jeb=function(a,b){var X30,d;X30=2;for(;X30 !== 3;){switch(X30){case 2:d=a.Xc;k.X(a.LXa) || this.OX(a,a.LXa);!this.hf || !a.Jd || this.pp || k.X(a.cA) || a.cA[a.za] && a.cA[a.za].header?b():this.hf.QMb(a,b);d.N5 || 0 !== Object.keys(this.xN).length || this.bEa();X30=3;break;}}};b.prototype.Veb=function(a,b){var Y30;Y30=2;for(;Y30 !== 4;){switch(Y30){case 2:var g91="p";g91+="re";g91+="buffstats";a.Nb.I3=b;a={type:g91,movieId:a.u,stats:{prebuffstarted:a.Nb.jK,prebuffcomplete:a.Nb.I3}};this.emit(a.type,a);Y30=4;break;}}};Q20=41;break;case 2:c.__extends(b,a);Object.defineProperties(b.prototype,{cache:{get:function(){var U20;U20=2;for(;U20 !== 1;){switch(U20){case 2:return this.De;break;case 4:return this.De;break;U20=1;break;}}},enumerable:!1,configurable:!0}});b.prototype.k4=function(){var V20;V20=2;for(;V20 !== 1;){switch(V20){case 2:return this.pt.map(function(a){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 4:return a.k4();break;W20=1;break;case 2:return a.k4();break;}}});break;}}};Q20=4;break;case 6:b.prototype.nqa=function(a){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:this.IN !== a && (this.IN=a,this.PW());c30=1;break;}}};b.prototype.bR=function(a,b){var d30;d30=2;for(;d30 !== 4;){switch(d30){case 1:d30=(b=a.headers[b])?5:4;break;case 2:d30=(a=this.De[a])?1:4;break;case 8:d30=(b=a.headers[b])?0:0;break;d30=(b=a.headers[b])?5:4;break;case 7:return b;break;d30=4;break;case 5:return b;break;}}};b.prototype.PCb=function(a,b){var e30,d,c;e30=2;for(;e30 !== 5;){switch(e30){case 2:(d=this,c=this.fSa(a));return c || !this.hf?ba.resolve(c):(this.pp?this.Gcb(a,b):this.Fcb(a,b)).then(function(a){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 2:return d.rWa(a);break;}}});break;}}};Q20=12;break;case 25:b.prototype.Heb=function(a,b){var z30,d,c,g,f,h,p,t,r,x,A,J,D,C,E;z30=2;for(;z30 !== 13;){switch(z30){case 4:z30=!J?3:9;break;case 2:var e91="A config m";e91+="ust be passed to _req";e91+="uestHeader";(d=this,c=b.u,g=b.ie,f=b.Fc,h=b.Jd,p=b.Svb(),t=p.qa,r=p.Mf,p=p.FC);l.assert(b.config,e91);z30=5;break;case 5:(x=b.config,x=m.xfa(x,t),A={stream:[new T.pW(x.Uda,x,new P.oW()),new T.pW(x.i5,x,new P.oW())],location:new q.rV(t,a.Ab,a.Nf,x,void 0),S:{state:u.ta.Sg,A1:!0,tS:0,playbackRate:1,buffer:{Fp:void 0,T:0,md:0,Vb:0,Pk:0,tk:0,ca:[],ti:void 0,Sha:void 0}}},J=this.mxb(a,A,t,p,r,x,b.Zq));z30=4;break;case 3:return ba.reject();break;case 6:x.Byb && (E=2292 + 12 * Math.ceil(t.duration / 2E3));return (h && this.hf?this.pp?this.hf.qCb(c,D):this.hf.QCb(c):ba.resolve(void 0)).then(function(a){var A30;A30=2;for(;A30 !== 5;){switch(A30){case 2:J.forEach(function(b){var B30,c;B30=2;for(;B30 !== 5;){switch(B30){case 2:c=E?E:x.V0;x.JP && D.headers[b.za] || (k.X(D.Up) && b.I === n.Sa.VIDEO && (D.Up=b.R,D.aq=b.aq,D.Dr=b.Dr,D.Tk=b.Iyb,D.Uk=b.$0),r && b.I === n.Sa.VIDEO && x.y_?c=x.y_:x.q1a && b.js && (c=b.js.offset + b.js.size),b={stream:b,url:b.url,offset:0,$:c,Jd:h},h && (D.Nb.WDb=!k.X(a) && 0 < Object.keys(a).length,b.cA=a),b=d.Ieb(b,f,D,x),C.push(b));B30=5;break;}}});return ba.all(C);break;}}}).then(function(a){var C30;C30=2;for(;C30 !== 1;){switch(C30){case 2:return new ba(function(b){var D30;D30=2;for(;D30 !== 1;){switch(D30){case 2:d.hf && h && !d.pp?d.hf.RMb(D,function(){var E30;E30=2;for(;E30 !== 1;){switch(E30){case 2:b(a);E30=1;break;}}}):b(a);D30=1;break;}}});break;}}}).then(function(a){var F30;F30=2;for(;F30 !== 3;){switch(F30){case 2:a=Math.max.apply(Math,a);F30=1;break;case 1:D.Nb.K_=D.Nb.OPa;D.Nb.X1=a;return {firstheadersent:D.Nb.K_,lastheadercomplete:D.Nb.X1};break;}}});break;case 9:D=this.De[c];D || (D={ie:g,u:c,headers:Object.create(null),Cr:0,U0:0,VH:0,data:void 0,Jd:h,Nb:{},OZ:void 0,WGa:void 0},!D.Jd || this.pp?this.De[c]=D:D.Nb.bp=0,this.wj.push(D),this.wj.sort(this.Q3));C=[];z30=6;break;}}};b.prototype.uba=function(a,b){var G30,d;G30=2;for(;G30 !== 8;){switch(G30){case 2:d=a.stream.I;2 > this.pt.length && this.YDa();b=new p.s6(a.stream,b,this.pt[d],a,this,!0,R);G30=4;break;case 4:b.Jd=a.Jd;b.Ze=this;return b;break;}}};b.prototype.abb=function(a,b){var H30,d;H30=2;for(;H30 !== 8;){switch(H30){case 5:b=g.hU.create(a.stream,b,this.pt[d].track,a,this,!0,R);b.Jd=a.Jd;b.Ze=this;return b;break;case 2:d=a.stream.I;2 > this.pt.length && this.YDa();H30=5;break;}}};Q20=22;break;case 4:b.prototype.zpb=function(){var X20;X20=2;for(;X20 !== 5;){switch(X20){case 2:this.flush();this.bEa();X20=5;break;case 3:this.flush();this.bEa();X20=7;break;X20=5;break;}}};b.prototype.vO=function(a,b,d){var Y20,c,g;Y20=2;for(;Y20 !== 9;){switch(Y20){case 7:(c=this.oC,g=a);Y20=5;break;Y20=1;break;case 2:(c=this.oC,g=a);Y20=1;break;case 1:Y20=(c[b]=a)?5:4;break;case 6:Y20=(c[b]=a)?9:9;break;Y20=(c[b]=a)?5:4;break;case 5:for(var f in c){c.hasOwnProperty(f) && !1 === c[f] && (g=!1);}Y20=4;break;case 4:d && delete c[b];g?(this.cX=!1,this.Kcb()):this.cX=!0;Y20=9;break;}}};b.prototype.sJb=function(a,b){var Z20,d,c,g,f;Z20=2;for(;Z20 !== 15;){switch(Z20){case 6:d=this.De[d];Z20=14;break;case 16:return this.Heb(a,b);break;case 10:for(var m in d.headers){a=d.headers[m];!k.X(a.url) && null !== a.url && (void 0 === d.data || void 0 === d.data[m] || d.data[m].length < f.hga)?this.OX(a,g):(k.X(a.url) || null === a.url) && void 0 !== d.data && void 0 !== d.data[m] && 0 < d.data[m].length && delete d.headers[m];}Z20=20;break;case 17:return ba.reject();break;case 20:return ba.resolve();break;case 7:var l91="); i";l91+="gnoring prepare for movieId";l91+=": ";var L91="PTS";L91+=" passe";L91+="d to HeaderCache.prepareP is not undefined or a positive numbe";L91+="r (";return (ha(L91 + g + l91 + d),ba.reject());break;case 18:Z20=c > f.Oja || this.vy + 1 > this.IN && c > this.wj[0].ie?17:16;break;case 3:Z20=f.ZDb?9:8;break;case 11:void 0 === d.data && (d.Nb.jK=void 0);Z20=10;break;case 12:Z20=(d.ie=c,this.wj.sort(this.Q3),!k.X(g))?11:20;break;case 14:Z20=!k.X(d) && (2 <= d.Cr || !f.JP)?13:19;break;case 13:Z20=!this.pp || !d.Jd?12:20;break;case 19:Z20=!b.Jd || !this.hf || this.pp?18:16;break;case 8:Z20=!k.X(g) && (!k.oa(g) || 0 > g)?7:6;break;case 9:return ba.reject();break;case 2:var W91="A config m";W91+="ust be passed";W91+=" to prep";W91+="areP";(d=b.u,c=b.ie,g=b.Fc);l.assert(b.config,W91);f=b.config;this.nqa(f.sP);Z20=3;break;}}};b.prototype.flush=function(){var a30,a;a30=2;for(;a30 !== 7;){switch(a30){case 9:var c91="managerdeb";c91+="ugeve";c91+="nt";var d91=", heade";d91+="r";d91+="Cache flush: ";this.wj=[];this.Am.ah && (a="@" + D.time.da() + d91,this.emit(c91,{message:a}));a30=7;break;case 2:this.PMa();for(var b in this.xN){a=this.xN[b];a.abort();}this.De=Object.create(null);this.vy=0;a30=9;break;}}};b.prototype.list=function(){var b30;b30=2;for(;b30 !== 1;){switch(b30){case 2:return this.wj;break;}}};Q20=6;break;case 54:b.prototype.TOa=function(a,b,d,c,g,f){var l40,m,l,k,h;l40=2;for(;l40 !== 7;){switch(l40){case 2:(m=b.I === n.Sa.VIDEO,l=[],k=[]);b.cd.forEach(function(a){var m40;m40=2;for(;m40 !== 1;){switch(m40){case 2:(a.cu?k:l).push(a);m40=1;break;}}});b=[];l40=3;break;case 3:c && 0 !== l.length && (h=this.PIa(a,d,l,m,g,f)) && b.push(h);h || (h=this.PIa(a,d,k,m,g,f)) && b.push(h);return b;break;}}};b.prototype.mxb=function(a,b,d,c,g,f,m){var n40,t,r,l,p,x;n40=2;for(;n40 !== 18;){switch(n40){case 3:t=p.Lr[0];a=D.Ql();b.S.buffer.Fp=a[n.Sa.VIDEO];n40=7;break;case 7:n40=6;break;case 2:l=this;void 0 === m && (m=[]);p=new h.jU(Number(d.movieId),{eb:0,qa:d,gl:void 0,lb:function(){var o40;o40=2;for(;o40 !== 1;){switch(o40){case 2:return !0;break;case 4:return +2;break;o40=1;break;}}},wma:{y1:! !g,Vka:!1},ci:!1,Zq:m,config:f,Qja:void 0,XP:void 0,Ab:a.Ab,Nf:a.Nf,PJ:void 0,hha:void 0,FE:void 0});p.Qb();n40=3;break;case 11:var D91="Unable to ";D91+="find ";D91+="audio nor video";D91+=" track";D91+="s in manifest:";ea(D91,c);n40=18;break;case 6:p.getTracks(1).some(function(a){var p40;p40=2;for(;p40 !== 3;){switch(p40){case 1:return !1;break;case 2:p40=a.$w.stereo?1:5;break;case 7:return ~3;break;p40=5;break;case 8:p40=a.$w.stereo?2:8;break;p40=a.$w.stereo?1:5;break;case 5:r=l.TOa(p.la,a,b,g,f,t);return !0;break;}}});p.getTracks(0).some(function(a){var q40;q40=2;for(;q40 !== 1;){switch(q40){case 2:return a.jb === c?(x=l.TOa(p.la,a,b,g,f,t),!0):!1;break;}}});n40=12;break;case 12:n40=k.X(r) && k.X(x)?11:10;break;case 10:n40=k.X(x) && c?20:19;break;case 20:var f91="Unable t";f91+="o ";f91+="find requested audio track";f91+=" in man";f91+="ifest:";ea(f91,c);n40=18;break;case 19:return [].concat(r || []).concat(x || []);break;}}};b.prototype.vqa=function(a,b){var r40;r40=2;for(;r40 !== 1;){switch(r40){case 2:return a === n.Sa.VIDEO && b.jI || a === n.Sa.AUDIO;break;}}};b.prototype.bc=function(a){var s40;s40=2;for(;s40 !== 1;){switch(s40){case 4:return - +a.bc;break;s40=1;break;case 2:return ! !a.bc;break;}}};Q20=50;break;case 12:b.prototype.fSa=function(a){var g30;g30=2;for(;g30 !== 1;){switch(g30){case 2:return this.rWa(this.De[a]);break;}}};b.prototype.RD=function(){var h30;h30=2;for(;h30 !== 1;){switch(h30){case 2:var x91="Media c";x91+="ache i";x91+="s ";x91+="not enabl";x91+="ed";return this.hf?this.hf.dwb():ba.reject(x91);break;}}};b.prototype.PMa=function(){var i30,d,c,g;i30=2;function b(a,b){var k30;k30=2;for(;k30 !== 1;){switch(k30){case 2:a && a.data && a.data[b].forEach(function(a){var l30;l30=2;for(;l30 !== 5;){switch(l30){case 2:a.abort();d+=a.Ne;l30=5;break;}}});k30=1;break;}}}function a(a){var j30;j30=2;for(;j30 !== 1;){switch(j30){case 2:a.lJa();j30=1;break;}}}for(;i30 !== 4;){switch(i30){case 9:d=1;i30=6;break;i30=1;break;case 1:for(c in this.De){g=this.De[c];if(g.data){for(var f in g.data){var Q91="in";Q91+=" ";Q91+="entr";Q91+="y:";var U91="missing hea";U91+="derEntry";U91+=" for stre";U91+="amId:";g.headers[f] || ha(U91,f,Q91,g);b(g,f);g.data[f].forEach(a);delete g.data[f];}delete g.data;}}this.Ceb(d);i30=4;break;case 2:d=0;i30=1;break;}}};b.prototype.kx=function(a){var m30,b;m30=2;for(;m30 !== 5;){switch(m30){case 2:b=this.De[a.u];b && (this.bc(a)?k.X(b.Nb.OPa) && !k.X(a.qf) && (b.Nb.OPa=a.qf):k.X(b.Nb.jK) && !k.X(a.qf) && (b.Nb.jK=a.qf));m30=5;break;}}};b.prototype.Hj=function(a){var n30;n30=2;for(;n30 !== 1;){switch(n30){case 2:this.bc(a)?this.aHb(a):this.bHb(a);n30=1;break;}}};b.prototype.UR=function(a){var o30;o30=2;for(;o30 !== 5;){switch(o30){case 2:var q91="_o";q91+="n";q91+="Err";q91+="or:";q91+=" ";ea(q91,a.toString());this.SW(a);o30=5;break;}}};b.prototype.aHb=function(a){var p30,b;p30=2;for(;p30 !== 9;){switch(p30){case 3:this.Jeb(a,function(){var q30;q30=2;for(;q30 !== 1;){switch(q30){case 2:k.X(a) || (k.X(a.pk) || a.pk.U0--,b.SW(a));q30=1;break;}}});p30=9;break;case 2:b=this;a.rRb=a.kd;this.gab(a);k.X(a.uQ) || a.uQ(a.rRb);p30=3;break;}}};Q20=16;break;case 50:return b;break;}}})(d.xs);b.qwa=a;E(f.EventEmitter.prototype,a.prototype);},function(f,b,a){var c,l,k,h,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.bza=void 0;c=a(8);l=a(172);k=a(22);h=a(3);g=a(10);p=a(5);f=(function(){function a(a,b){var u40;u40=2;for(;u40 !== 4;){switch(u40){case 2:this.Qa=a;u40=1;break;case 9:this.Qa=a;u40=8;break;u40=1;break;case 1:var Z81="1SI";Z81+="YbZrN";Z81+="J";Z81+="C";Z81+="p9";this.G=b;Z81;u40=4;break;}}}var t40;t40=2;for(;t40 !== 38;){switch(t40){case 2:a.prototype.uj=function(a){var v40;v40=2;for(;v40 !== 5;){switch(v40){case 2:var a81="sta";a81+="rtEven";a81+="t";a={type:a81,event:a,time:h.time.da()};g.Pa(this.Qa,a.type,a);v40=5;break;}}};a.prototype.wdb=function(){var w40,a;w40=2;for(;w40 !== 5;){switch(w40){case 3:a={type:""};w40=4;break;w40=1;break;case 2:var v81="o";v81+="pen";v81+="Co";v81+="mplet";v81+="e";a={type:v81};w40=1;break;case 1:g.Pa(this.Qa,a.type,a);w40=5;break;}}};a.prototype.xdb=function(a,b,d,c,f){var x40;x40=2;for(;x40 !== 1;){switch(x40){case 2:var B81="ptsSt";B81+="a";B81+="r";B81+="ts";this.Qa.H.Opb || (a={type:B81,manifestIndex:a,mediaType:b,movieId:c,streamId:d,ptsStarts:f.TZa()},g.Pa(this.Qa,a.type,a));x40=1;break;}}};a.prototype.odb=function(a,b){var y40;y40=2;for(;y40 !== 5;){switch(y40){case 2:var X81="headerC";X81+="ach";X81+="eHit";a={type:X81,movieId:a,streamId:b};g.Pa(this.Qa,a.type,a);y40=5;break;}}};t40=3;break;case 3:a.prototype.ndb=function(a,b,d,c,f){var z40,m;z40=2;for(;z40 !== 3;){switch(z40){case 2:var R81="he";R81+="aderCacheDataH";R81+="i";R81+="t";m=this.Qa.LEa;this.Qa.LEa=void 0;a={type:R81,movieId:a,audio:b,audioFromMediaCache:c,video:d,videoFromMediaCache:f,actualStartPts:m && m.Gm,headerCount:m && m.Cr,stats:m && m.Nb};g.Pa(this.Qa,a.type,a);z40=3;break;}}};a.prototype.vdb=function(a,b,d,c){var A40;A40=2;for(;A40 !== 5;){switch(A40){case 2:var i81="m";i81+="axPo";i81+="sition";a={type:i81,index:a,endPts:b,maxPts:d,maxSeekPts:c};g.Pa(this.Qa,a.type,a);A40=5;break;}}};a.prototype.Fdb=function(a,b,d,c,f,l){var B40;B40=2;for(;B40 !== 4;){switch(B40){case 2:var C81="not";C81+="ifyStreami";C81+="ngError: ";var Y81="e";Y81+="r";Y81+="r";Y81+="or";a={type:Y81,error:a,errormsg:b,networkErrorCode:d,httpCode:c,nativeCode:f,manifestIndex:l};this.G.error(C81 + JSON.stringify(a));B40=5;break;case 5:g.Pa(this.Qa,a.type,a);B40=4;break;}}};t40=7;break;case 7:a.prototype.FX=function(a,b){var C40;C40=2;for(;C40 !== 5;){switch(C40){case 2:var T81="seg";T81+="mentStar";T81+="ting";b={type:T81,segmentId:a.id,contentOffset:b,maxBitrates:{audio:a.O.Lr[0],video:a.O.Lr[1]}};a.tA || g.Pa(this.Qa,b.type,b);C40=5;break;}}};a.prototype.zdb=function(a){var D40,b;D40=2;for(;D40 !== 5;){switch(D40){case 2:var o81="s";o81+="eg";o81+="me";o81+="n";o81+="tAborted";b={type:o81,segmentId:a.id};a.tA || g.Pa(this.Qa,b.type,b);D40=5;break;}}};a.prototype.dcb=function(a,b){var E40,d,g;E40=2;for(;E40 !== 12;){switch(E40){case 2:var H81="r";H81+="es";H81+="e";H81+="t";var J81="s";J81+="k";J81+="i";J81+="p";var r81="l";r81+="o";r81+="n";r81+="g";var b81="lo";b81+="n";b81+="g";var V81="sea";V81+="m";V81+="l";V81+="es";V81+="s";(d={segment:a,srcsegment:b.b5,srcoffset:b.ZK,seamlessRequested:b.GA,atRequest:{},discard:{}},g=b.yd[a]);g?d.atRequest={weight:g.weight,abuflmsec:g.Cp.xt,vbuflmsec:g.Cp.cp,abuflbytes:g.Cp.uY,vbuflbytes:g.Cp.Pu}:(g=this.Qa.ya.MOa(b.b5,a),void 0 !== g && (d.atRequest.weight=g));c.ee(b.yd,function(b,c){var F40;F40=2;for(;F40 !== 1;){switch(F40){case 2:c != a && (d.discard[c]={weight:b.weight,abuflmsec:b.Cp.xt,vbuflmsec:b.Cp.cp,abuflbytes:b.Cp.uY,vbuflbytes:b.Cp.Pu});F40=1;break;}}});g=b.GA?b.Kz?V81:b81:b.MTa?r81:b.ml?J81:H81;E40=3;break;case 8:var M81="s";M81+="ea";M81+="mle";M81+="s";M81+="s";g=M81 === g?0:h.time.da() - b.startTime;d.durationOfTransition=g;d.atTransition=b.q0a;d.srcsegmentduration=this.Qa.ya.Vwb(b.b5);return d;break;case 3:d.transitionType=g;b.epb || (d.delayToTransition=b.ZH);E40=8;break;}}};a.prototype.Cdb=function(a,b,d){var G40;G40=2;for(;G40 !== 4;){switch(G40){case 2:var I81="s";I81+="egm";I81+="en";I81+="tPr";I81+="esenting";d=d?this.dcb(a.id,d):void 0;a={type:I81,segmentId:a.id,contentOffset:b,metrics:d,playlistSegment:a.tA,manifestIndex:a.O.eb};g.Pa(this.Qa,a.type,a);G40=4;break;}}};a.prototype.Adb=function(a,b){var H40;H40=2;for(;H40 !== 5;){switch(H40){case 2:var s81="segme";s81+="ntAppe";s81+="nded";b={type:s81,segmentId:a.id,metrics:b};a.tA || g.Pa(this.Qa,b.type,b);H40=5;break;}}};t40=11;break;case 11:a.prototype.Bdb=function(a,b,d){var I40;I40=2;for(;I40 !== 5;){switch(I40){case 2:var O81="segm";O81+="en";O81+="tC";O81+="omplete";a={type:O81,mediaType:a,manifestIndex:b,segmentId:d.id};g.Pa(this.Qa,a.type,a);I40=5;break;}}};a.prototype.oca=function(a,b){var J40;J40=2;for(;J40 !== 5;){switch(J40){case 2:var m81="last";m81+="S";m81+="egmentP";m81+="ts";b={type:m81,segmentId:a.id,pts:Math.floor(b)};a.tA || g.Pa(this.Qa,b.type,b);J40=5;break;}}};a.prototype.tdb=function(a,b,d,c,f){var K40;K40=2;for(;K40 !== 5;){switch(K40){case 2:var n81="manifes";n81+="tRa";n81+="n";n81+="ge";a={type:n81,index:a,manifestOffset:b,startPts:Math.floor(d),endPts:Math.floor(c),maxPts:Math.floor(f)};g.Pa(this.Qa,a.type,a);K40=5;break;}}};t40=19;break;case 25:a.prototype.qdb=function(a,b){var S40;S40=2;for(;S40 !== 5;){switch(S40){case 2:var y81="in";y81+="it";y81+="ialAudioTrack";a={type:y81,trackId:b,trackIndex:a};g.Pa(this.Qa,a.type,a);S40=5;break;}}};a.prototype.gdb=function(a,b){var T40;T40=2;for(;T40 !== 3;){switch(T40){case 4:g.Pa(this.Qa,b.type,b);T40=3;break;case 2:var z81="aud";z81+="ioTrack";z81+="Swit";z81+="chSta";z81+="rted";a=a.$w;b=b.$w;b={type:z81,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels,sourceBufferReset:void 0};T40=4;break;}}};a.prototype.fdb=function(a,b){var U40,d;U40=2;for(;U40 !== 5;){switch(U40){case 2:d=this;setTimeout(function(){var V40,c;V40=2;for(;V40 !== 5;){switch(V40){case 2:var u81="audioT";u81+="rackSwitchCom";u81+="pl";u81+="e";u81+="te";c={type:u81,trackId:a,trackIndex:b};g.Pa(d.Qa,c.type,c);V40=5;break;}}},0);U40=5;break;}}};a.prototype.kdb=function(a){var W40,b;W40=2;for(;W40 !== 4;){switch(W40){case 1:g.Pa(this.Qa,b.type,b);this.$ba=a || 0;W40=4;break;case 2:var A81="bufferi";A81+="ngS";A81+="t";A81+="a";A81+="rted";b={type:A81,time:h.time.da(),percentage:a || 0};W40=1;break;}}};a.prototype.hdb=function(){var X40,a,b,d,c,f;X40=2;for(;X40 !== 5;){switch(X40){case 2:var t81="bu";t81+="ff";t81+="er";t81+="i";t81+="ng";(a=this.Qa.H,b=h.time.da(),d=this.Qa.ya.$b,c=this.Qa.sl?1:0,f=d.bb(c),d=d.Ti(c),a=Math.min(Math.max(Math.round(100 * (f.Yz?(b - this.Qa.hba) / a.tx:f.ni?f.ni:d / a.Zi)),this.$ba),99));a != this.$ba && (b={type:t81,time:b,percentage:a},g.Pa(this.Qa,b.type,b),this.$ba=a);X40=5;break;}}};a.prototype.nca=function(){var Y40,a,b,d,c,f;Y40=2;for(;Y40 !== 9;){switch(Y40){case 2:(a=this.Qa.ya.$b,b=a.bb(0),d=a.bb(1));Y40=1;break;case 1:var w81="b";w81+="ufferi";w81+="ng";w81+="Co";w81+="mplete";this.qFa();(c=this.Qa.sl?this.Qa.fb.Hx[k.Sa.VIDEO]:this.Qa.fb.Hx[k.Sa.AUDIO],f=c.SO,a={type:w81,time:h.time.da(),actualStartPts:f,aBufferLevelMs:a.Ti(0),vBufferLevelMs:a.Ti(1),selector:d?d.LK:b.LK,initBitrate:c.Up,skipbackBufferSizeBytes:this.Qa.Kb.QE});this.Qa.Df.tsb({initSelReason:c.aq,initSelectionPredictedDelay:c.Jw,buffCompleteReason:c.ar,hashindsight:this.Qa.Rp,hasasereport:! !this.Qa.pq,bcVBufferLevelMs:a.vBufferLevelMs,bcABufferLevelMs:a.aBufferLevelMs});g.Pa(this.Qa,a.type,a);Y40=9;break;}}};t40=34;break;case 19:a.prototype.rFa=function(a){var L40;L40=2;for(;L40 !== 5;){switch(L40){case 2:var p81="ma";p81+="xBi";p81+="trat";p81+="es";a={type:p81,audio:a[0],video:a[1]};g.Pa(this.Qa,a.type,a);L40=5;break;}}};a.prototype.udb=function(a,b){var M40,d;M40=2;for(;M40 !== 3;){switch(M40){case 5:var E81="notifyManifestSelect";E81+="ed:";E81+=" ";d.ah && (b=E81 + JSON.stringify(a),d.ah && this.al(b));g.Pa(this.Qa,a.type,a);M40=3;break;case 2:var K81="m";K81+="anifestSele";K81+="c";K81+="te";K81+="d";d=this.Qa.H;a={type:K81,index:a,replace:b.O.Ke.replace,ptsStarts:b.mK,streamingOffset:b.T + b.fu};M40=5;break;}}};a.prototype.sdb=function(a,b,d,c,f){var N40;N40=2;for(;N40 !== 4;){switch(N40){case 2:var S81="ma";S81+="nifest";S81+="Prese";S81+="ntin";S81+="g";a={type:S81,index:a.eb,pts:Math.floor(b),movieId:a.u,replace:a.Ke.replace,contentOffset:d};null != c && null != f && (a.previousMovieId=c,a.previousIndex=f);g.Pa(this.Qa,a.type,a);N40=4;break;}}};a.prototype.Ddb=function(a,b,d,c){var O40,f;O40=2;for(;O40 !== 3;){switch(O40){case 2:var k81="strea";k81+="mPre";k81+="se";k81+="nting";f=a.I;l.km.Co(f);a={type:k81,startPts:Math.floor(b),contentStartPts:Math.floor(d),mediaType:f,manifestIndex:c,trackIndex:a.track.xC,streamIndex:a.Qf};g.Pa(this.Qa,a.type,a);O40=3;break;}}};a.prototype.Idb=function(a){var P40;P40=2;for(;P40 !== 5;){switch(P40){case 2:var P81="v";P81+="ide";P81+="oL";P81+="ooped";a={type:P81,offset:a};g.Pa(this.Qa,a.type,a);P40=5;break;}}};a.prototype.Gdb=function(a,b,d,c,f){var Q40;Q40=2;for(;Q40 !== 4;){switch(Q40){case 2:var j81="up";j81+="dat";j81+="eStr";j81+="eamin";j81+="gPts";b={type:j81,mediaType:a,manifestIndex:b,trackIndex:d,movieTime:Math.floor(c),segmentId:f};l.km.Co(a);g.Pa(this.Qa,b.type,b);Q40=4;break;}}};a.prototype.mdb=function(a){var R40;R40=2;for(;R40 !== 5;){switch(R40){case 2:var h81="firs";h81+="tRequest";h81+="Appended";a={type:h81,manifestIndex:a.Ra.Dc.O.eb,mediatype:a.I,time:h.time.da()};g.Pa(this.Qa,a.type,a);R40=5;break;}}};t40=25;break;case 40:a.prototype.al=function(a){var k50;k50=2;for(;k50 !== 5;){switch(k50){case 2:var G81=",";G81+=" ";var F81="m";F81+="a";F81+="nagerd";F81+="eb";F81+="ugevent";a={type:F81,message:"@" + h.time.da() + G81 + a};g.Pa(this.Qa,a.type,a);k50=5;break;}}};return a;break;case 34:a.prototype.qFa=function(){var Z40,a,b,d,c,f,l,k;Z40=2;for(;Z40 !== 7;){switch(Z40){case 1:Z40=!this.Qa.Dl()?5:7;break;case 2:a=this.Qa.H;Z40=1;break;case 5:var N81="up";N81+="dat";N81+="eBuf";N81+="f";N81+="erLevel";(b=this.Qa.ya.$b,d=b.Ti(0),c=b.Ti(1));this.Qa.Df.Zfb(d,c);(f=this.Qa.Kb.Ab.get(),f=f.Cd?f.La.Ga:0,l=this.Qa.ya,k=l.QC(b,0),b=l.QC(b,1),d={type:N81,abuflbytes:k,vbuflbytes:b,totalabuflmsecs:d,totalvbuflmsecs:c,currentBandwidth:f});c > a.mTa && this.Qa.Kb.Ze && this.Qa.Kb.Ze.vO(!0,this.Qa.Cl.sessionId);g.Pa(this.Qa,d.type,d);Z40=7;break;}}};a.prototype.Jcb=function(a){var a50,b,d,g;a50=2;for(;a50 !== 7;){switch(a50){case 4:var l81=", osAllocatorD";l81+="elta";l81+=": ";var L81=", ";L81+="jsHeap";L81+="Del";L81+="ta: ";var e81=", fastMallocDe";e81+="lta:";e81+=" ";var g81="memo";g81+="ry";g81+="Usage ";g81+="at time: ";(b=a.wMa - this.SG.wMa,d=a.QPa - this.SG.QPa,g=a.NUa - this.SG.NUa);(4194304 < b || 4194304 < g) && this.G.warn(g81 + h.time.da() + e81 + b + L81 + d + l81 + g);a50=9;break;case 2:a50=!c.X(a)?1:7;break;case 1:c.oa(a.uT);a50=5;break;case 5:a50=!c.X(this.SG)?4:8;break;case 9:var d81=",";d81+=" syst";d81+="emDelta: ";var W81="memoryUsag";W81+="e a";W81+="t time: ";c.oa(a.uT) && c.oa(this.SG.uT) && (b=a.uT - this.SG.uT,4194304 < b && this.G.warn(W81 + h.time.da(),d81 + b));a50=8;break;case 8:this.SG=a;a50=7;break;}}};a.prototype.Hdb=function(){var b50,a;b50=2;for(;b50 !== 3;){switch(b50){case 2:var c81="str";c81+="eamings";c81+="t";c81+="a";c81+="t";this.Qa.H.DCb && h.memory.yvb(this.Jcb.bind(this));a={type:c81,time:h.time.da(),playbackTime:this.Qa.S.Sd()};this.Qa.Df.usb(a);g.Pa(this.Qa,a.type,a);b50=3;break;}}};a.prototype.pFa=function(){var c50,a;c50=2;for(;c50 !== 4;){switch(c50){case 1:var D81="as";D81+="erep";D81+="or";D81+="t";a={type:D81};this.Qa.pq.ssb(a) && g.Pa(this.Qa,a.type,a);c50=4;break;case 9:c50=this.Qa.pq?3:9;break;c50=this.Qa.pq?1:4;break;case 2:c50=this.Qa.pq?1:4;break;}}};a.prototype.edb=function(){var d50,a;d50=2;for(;d50 !== 5;){switch(d50){case 2:var f81="a";f81+="serepor";f81+="tenabl";f81+="e";f81+="d";a={type:f81};g.Pa(this.Qa,a.type,a);d50=5;break;}}};a.prototype.pdb=function(a){var B5o=a000;var e50,b,d,c,f,m,l,k,h,r,n,q,u,V,W,ea,ha,Y,B,ia,O,I;e50=2;for(;e50 !== 6;){switch(e50){case 1:var x81="h";x81+="in";x81+="dsigh";x81+="trepor";x81+="t";(b={type:x81},d=this.Qa.H.Y0);for(c in d){var Z7b="hv";Z7b+="m";Z7b+="a";Z7b+="fd";Z7b+="p";var q81="h";q81+="v";q81+="ma";q81+="fg";q81+="r";var Q81="hv";Q81+="m";Q81+="af";Q81+="tb";var U81="ht";U81+="w";U81+="b";U81+="r";f=d[c];m=0;l=0;k=0;h=0;r=0;n=0;q=void 0;u=void 0;V=!1;W=-1;ea=-1;ha=-1;Y=-1;B=-1;ia=-1;for(O in a){u=a[O];void 0 === u.nd && (q=(q=u.sols) && q[f]) && (V=!0,k+=q.dlvdur,m+=q.dltwbr * q.dlvdur,l+=q.dlvmaf * q.dlvdur);n+=u.pbdur;h+=u.pbtwbr * u.pbdur;r+=u.pbvmaf * u.pbdur;q=u.rr;u=u.ra;}0 < n && (W=1 * h / n,Y=1 * r / n);V && (0 < k && (ea=1 * m / k,B=1 * l / k),0 < k + n && (ha=1 * (m + h) / (k + n),ia=1 * (l + r) / (k + n)));switch(f){case U81:b.htwbr=ha;b.hptwbr=ea;b.pbtwbr=W;q && (b.rr=q,b.ra=u);break;case Q81:b.hvmaftb=ia;b.hpvmaftb=B;b.pbvmaftb=Y;q && (b.rrvmaftb=q,b.ravmaftb=u);break;case q81:b.hvmafgr=ia;b.hpvmafgr=B;b.pbvmafgr=Y;q && (b.rrvmafgr=q,b.ravmafgr=u);break;case Z7b:(b.hvmafdp=ia,b.hpvmafdp=B,b.pbvmafdp=Y,q && (b.rrvmafdp=q,b.ravmafdp=u));}}e50=4;break;case 2:e50=a?1:6;break;case 4:e50=this.Qa.GP || this.Qa.Cu?3:9;break;case 9:e50=this.Qa.Cu?8:7;break;case 8:for(var M in a){if((d=a[M],void 0 !== d.GZa))for(f in d.GZa){if((q=d.GZa[f],void 0 !== q.m5)){var X7b=" ";X7b+="an";X7b+="d";X7b+=" ";var B7b="expect";B7b+=" sol.strmsel.length === sol.fragsel.length";B7b+=" but got";B7b+=" ";var v7b="expect report.fragments";v7b+="Prebu";v7b+="ffered !== undefined";var a7b="expect";a7b+=" report";a7b+=".fragmentsPrebuffered ";a7b+="!== undefined";(c=void 0 !== d.eNa) || (console.error(a7b),p.assert(c,v7b));c=[];for(var Q in d.eNa){m=d.eNa[Q];c.push({$:m.$,nn:m.duration / 1E3,wE:m.qb});}c=q.m5.length === q.fNa.length;m=B7b + q.m5.length + X7b + q.fNa.length;c || (console.error(m),p.assert(c,m));c=[];m=0;for(I in q.m5){k=q.m5[I];l=q.fNa[I];B5o.u51(3);m=k=B5o.n51(k,m);c.push({O5b:k,n6b:q.ELa[I],p2b:q.La[I],pea:q.pea[I],oea:q.oea[I],vIa:q.vIa[I],C1b:{$:l.$,nn:l.duration / 1E3,wE:l.qb?l.qb:q.cd[k].qb,U5b:l.Qf,D1b:l.tj},XWa:0,x5b:0,Qna:q.Qna[I]});}q=[];c=0;for(var S in d.zq.trace){m=d.zq.trace[S];B5o.u51(3);c=m=B5o.n51(m,c);q.push(m);}}}}e50=7;break;case 7:g.Pa(this.Qa,b.type,b);e50=6;break;case 3:b.report=a;e50=9;break;}}};t40=28;break;case 28:a.prototype.ldb=function(a){var f50;f50=2;for(;f50 !== 5;){switch(f50){case 2:var R7b="endOfS";R7b+="tr";R7b+="e";R7b+="am";a={type:R7b,mediaType:a};g.Pa(this.Qa,a.type,a);f50=5;break;}}};a.prototype.Zl=function(a){var g50;g50=2;for(;g50 !== 1;){switch(g50){case 2:var Y7b="aseex";Y7b+="cept";Y7b+="ion";var i7b="ase";i7b+="exc";i7b+="ept";i7b+="i";i7b+="on";this.Qa.emit(i7b,{type:Y7b,msg:a});g50=1;break;}}};a.prototype.IFb=function(a,b,d,c){var h50;h50=2;for(;h50 !== 5;){switch(h50){case 2:var T7b="max";T7b+="v";T7b+="ideo";T7b+="b";T7b+="itratechanged";var C7b="max";C7b+="videobitratechan";C7b+="ge";C7b+="d";a={type:C7b,time:h.time.da(),spts:c,maxvb_old:a,maxvb:b,reason:d};this.Qa.emit(T7b,a);h50=5;break;}}};a.prototype.nUa=function(){var i50,a;i50=2;for(;i50 !== 3;){switch(i50){case 1:var o7b="strea";o7b+="me";o7b+="rend";this.kfb=!0;a={type:o7b,time:h.time.da()};g.Pa(this.Qa,a.type,a);i50=3;break;case 2:i50=!this.kfb && this.Qa.H.kUa?1:3;break;}}};a.prototype.PFb=function(a){var j50;j50=2;for(;j50 !== 5;){switch(j50){case 2:var V7b="str";V7b+="e";V7b+="amSelectionAugmentData";a={type:V7b,augmentData:a,fragmentIndex:a[0].mg};g.Pa(this.Qa,a.type,a);j50=5;break;}}};t40=40;break;}}})();b.bza=f;},function(f,b,a){var c,l,k,h;Object.defineProperty(b,"__esModule",{value:!0});b.Bxa=void 0;c=a(173);l=a(17);k=a(17);h=a(10);f=(function(){var l50;function a(a,b,c,g){var m50;m50=2;for(;m50 !== 8;){switch(m50){case 2:this.Cb=a;this.G=b;m50=5;break;case 5:var b7b="1SIY";b7b+="bZ";b7b+="rN";b7b+="JC";b7b+="p9";this.lb=c;this.jC=g;this.yFa=this.Mca=!1;b7b;m50=8;break;}}}l50=2;for(;l50 !== 6;){switch(l50){case 2:a.prototype.play=function(){var n50,a;n50=2;for(;n50 !== 5;){switch(n50){case 2:var H7b="p";H7b+="l";H7b+="a";H7b+="y";var r7b="play called after pip";r7b+="eli";r7b+="n";r7b+="es already shutdown";a=this;this.Dl()?this.G.warn(r7b):(this.Cb.S.je(l.ta.Vc),this.Cb.afb(),this.Cb.fb.Re.forEach(function(b){var o50;o50=2;for(;o50 !== 1;){switch(o50){case 2:var J7b="play: not resuming bufferManag";J7b+="er, audio ";J7b+="track switch in progr";J7b+="ess";a.lb(b.I) && (b.BL?b.kb(J7b):(a.Cb.Ff[b.I].resume(),a.Cb.kt[b.I].resume()));o50=1;break;}}}),this.Cb.jO(),this.Cb.emit(H7b));n50=5;break;}}};a.prototype.stop=function(){var q50,a,b,c,g;q50=2;for(;q50 !== 6;){switch(q50){case 9:var M7b="st";M7b+="o";M7b+="p";k.Ue.forEach(function(a){var r50;r50=2;for(;r50 !== 5;){switch(r50){case 9:a.Og=+0;r50=6;break;r50=5;break;case 2:r50=(a=g.Zc(a))?1:5;break;case 1:a.Og=!1;r50=5;break;}}});k.Ue.forEach(function(b){var s50;s50=2;for(;s50 !== 1;){switch(s50){case 2:(b=a.Cb.Ff[b]) && b.pause();s50=1;break;}}});this.Cb.emit(M7b);q50=6;break;case 2:(a=this,b=this.Cb.S.fRa(),c=this.Cb.S.Jg());this.Cb.S.je(l.ta.gG);this.Cb.RW();b || c || this.Cb.ya.cj.TE(!1,this.Cb.S);g=this.Cb.ya.$b;q50=9;break;}}};a.prototype.suspend=function(){var t50;t50=2;for(;t50 !== 1;){switch(t50){case 2:this.Mca=!0;t50=1;break;case 4:this.Mca=+1;t50=0;break;t50=1;break;}}};l50=4;break;case 4:a.prototype.resume=function(){var u50;u50=2;for(;u50 !== 5;){switch(u50){case 2:this.Mca=!1;this.Cb.mf.Mi();u50=5;break;}}};a.prototype.close=function(){var v50,a;v50=2;for(;v50 !== 6;){switch(v50){case 2:var O7b="en";O7b+="dpla";O7b+="y";var s7b="l";s7b+="ogd";s7b+="a";s7b+="t";s7b+="a";var I7b="cl";I7b+="os";I7b+="e";a=this.Cb.H;this.yFa=!0;this.stop();this.Cb.emit(I7b);a.WLa && (a=c.Su.pf().cb()) && (a={type:s7b,target:O7b,fields:{bridgestat:a}},h.Pa(this.Cb,a.type,a));this.Cb.Kb.Ze && this.Cb.Kb.Ze.vO(!0,this.Cb.Cl.sessionId,!0);this.Cb.Za.nUa();v50=7;break;case 7:this.Cb.xXa();v50=6;break;}}};a.prototype.flush=function(){var w50,a,b,c,g,f,k,r,x50;w50=2;for(;w50 !== 17;){switch(w50){case 2:(b=this.Cb.H,c=this.Cb.Kb.Ab);w50=1;break;case 1:w50=c?5:20;break;case 7:w50=r?6:14;break;case 14:var n7b="e";n7b+="nd";n7b+="pla";n7b+="y";var m7b="l";m7b+="og";m7b+="da";m7b+="ta";c && c.length && (g.activeRequests=JSON.stringify(c));this.Cb.Pd.O.RLa(1) && (g.enableHudson=!0);g.aseApiVersion=this.Cb.wO;Object.keys(g).length && (g={type:m7b,target:n7b,fields:g},h.Pa(this.Cb,g.type,g));w50=10;break;case 5:(g={},f=c.get(),k={});f && f.avtp && f.avtp.Ga && (g.avtp=f.avtp.Ga,g.dltm=f.avtp.XZ,k.avtp=g.avtp);f && f.cdnavtp && (g.cdnavtp=f.cdnavtp,g.activecdnavtp=f.activecdnavtp);c.flush();(r=c.XNa(),c=c.BGa);w50=7;break;case 10:var w7b="en";w7b+="d";w7b+="p";w7b+="lay";var t7b="lo";t7b+="g";t7b+="da";t7b+="ta";var A7b="th";A7b+="r";A7b+="ou";A7b+="ghpu";A7b+="t-sw";var u7b="throug";u7b+="hpu";u7b+="t-s";u7b+="w";var z7b="t";z7b+="hr";z7b+="oughput-sw";var y7b="t";y7b+="hr";y7b+="oughput-sw";b.IP && (f && f[y7b] && f[z7b].Ga && this.Cb.wq.mgb({avtp:f[u7b].Ga,variance:f[A7b].Uh}),this.Cb.wq.fgb(k,null === (a=f.avtp) || void 0 === a?void 0:a.XZ),a=this.Cb.wq.Oub(),b=this.Cb.wq.axb(),a && (a.n=b,a={type:t7b,target:w7b,fields:{ibef:a}},h.Pa(this.Cb,a.type,a),this.Cb.wq.save()));w50=20;break;case 6:for(var n in r){var K7b="n";K7b+="e";var E7b="n";E7b+="e";var p7b="n";p7b+="e";r.hasOwnProperty(n) && (g[p7b + n]=Number(r[n]).toFixed(6),k[E7b + n]=1 * g[K7b + n]);}w50=14;break;case 20:this.Cb.Za.pFa();w50=19;break;case 19:w50=this.jC.Rp?18:17;break;case 18:try{x50=2;for(;x50 !== 1;){switch(x50){case 2:this.Cb.r_(l.ta.gG);x50=1;break;}}}catch(L){var S7b="Hindsight: E";S7b+="rro";S7b+="r eval";S7b+="uating QoE at stopping: ";a000.z51(3);this.Cb.Za.Zl(a000.n51(L,S7b));}w50=17;break;}}};a.prototype.Dl=function(){var y50;y50=2;for(;y50 !== 1;){switch(y50){case 4:return this.yFa && this.Cb.ya.Vi;break;y50=1;break;case 2:return this.yFa || this.Cb.ya.Vi;break;}}};l50=7;break;case 7:return a;break;}}})();b.Bxa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.bva=void 0;c=a(8);l=a(17);k=a(3);f=(function(){var z50;z50=2;function a(a,b,d){var A50;A50=2;for(;A50 !== 9;){switch(A50){case 2:this.Ha=a;this.G=b;this.lb=d;A50=4;break;case 4:var k7b="1SIYbZ";k7b+="rN";k7b+="JC";k7b+="p";k7b+="9";k7b;this.LDa=this.TB=void 0;A50=9;break;}}}for(;z50 !== 18;){switch(z50){case 9:a.prototype.wDa=function(a,b){var I50,d,c,g,f;I50=2;for(;I50 !== 3;){switch(I50){case 2:(d=a.I,c=this.Ha.fb.ju[d].ND,g=a.cg.SQ);I50=1;break;case 5:f=this.Ha.fb.Re[d].mh;I50=4;break;case 4:f && (this.Ha.S.Mh() || this.Ha.Df.Vfb(d,f,c.R,g.R,a.Hyb.R,b));I50=3;break;case 1:I50=c && g?5:3;break;}}};a.prototype.fEa=function(a,b){var J50,d,c,g,f,l;J50=2;for(;J50 !== 7;){switch(J50){case 5:J50=!l || !f?4:9;break;case 2:(d=a.ba,c=a.Zc(1),g=a.Zc(0),f=!g || g.Og,l=!c || c.Og);d.OJ || this.Ha.ya.ena(a,d,a.O.Ke.Mf && 0 === a.O.eb);J50=5;break;case 9:var P7b="S";P7b+="till in b";P7b+="uffering state while pipeli";P7b+="ne's are done";this.Ha.S.Mh() && (this.G.warn(P7b),this.Ha.fb.rv());b || d.ls || a.O.Ke.Mf || !this.akb(a) || ((b=this.Ha.S.Mh()) && this.Ha.H.bga && (this.Ha.Ica(),b=!1),a.P_ || this.Ha.ya.Lyb(a,b),a.vH(),a.bkb() && (b=Object.keys(a.children),this.Ha.H.d_ && 1 === b.length && !a.children[b[0]].active && this.Ha.ya.rSa(a,b[0]),this.ubb(a,d)));J50=7;break;case 3:return;break;case 4:J50=(this.Ha.sl && this.gEa(a,c,g),this.Ha.zp && this.gEa(a,g,c),f=!g || g.Og,l=!c || c.Og,!l || !f)?3:9;break;}}};a.prototype.ubb=function(a,b){var K50,d,g,f,r,n,h,p,l;K50=2;for(;K50 !== 25;){switch(K50){case 4:Math.min(l[0] - a.pba[0],l[1] - a.pba[1]) >= f.pkb?a.tG=void 0:(d=a.tG,g=b.fk[d.ba.id].weight);K50=3;break;case 2:f=this.Ha.H;K50=1;break;case 16:a.pba=d.em;K50=15;break;case 3:K50=!d?9:15;break;case 19:d=p[0].Dc;g=p[0].weight;a.tG=d;K50=16;break;case 11:K50=0 === p.length?10:19;break;case 1:K50=this.Ha.Kb.gka && a.tG && a.pba?5:3;break;case 6:K50=1 < p.length?14:11;break;case 12:0 !== r && 0 !== n?(c.ee(p,function(a){var O50;O50=2;for(;O50 !== 4;){switch(O50){case 2:a.sUb=a.weight / r;a.Tib=a.lTa / n;a.g1a=a.Tib - a.sUb;O50=4;break;}}}),p.sort(function(a,b){var P50;P50=2;for(;P50 !== 1;){switch(P50){case 4:return a.g1a * b.g1a;break;P50=1;break;case 2:return a.g1a - b.g1a;break;}}})):p.sort(function(a,b){var Q50;Q50=2;for(;Q50 !== 4;){switch(Q50){case 2:a=Math.min.apply(null,a.Dc.em);b=Math.min.apply(null,b.Dc.em);a000.u51(4);return a000.n51(a,b);break;}}});K50=11;break;case 14:d=p.reduce(function(a,b){var N50;N50=2;for(;N50 !== 4;){switch(N50){case 2:b.em=b.Dc.em;b.lTa=Math.min(b.em[0],b.em[1]);return [a[0] + b.weight,a[1] + b.lTa];break;}}},[0,0]);(r=d[0],n=d[1]);K50=12;break;case 9:(h=[],p=[]);c.ee(a.children,function(a,d){var L50;L50=2;for(;L50 !== 5;){switch(L50){case 2:d=b.fk[d].weight;0 !== d && (d={weight:d,Dc:a},a.Nea(!0,!0) || p.push(d),h.push(d));L50=5;break;}}});0 === p.length?p=h:2 < p.length && (p.sort(function(a,b){var M50;M50=2;for(;M50 !== 1;){switch(M50){case 2:return b.weight - a.weight;break;case 4:return b.weight / a.weight;break;M50=1;break;}}}),p.length=2);K50=6;break;case 10:var j7b="No subbranc";j7b+="h candidates to ";j7b+="drive";this.G.warn(j7b);K50=20;break;case 20:return;break;case 5:l=a.tG.em;K50=4;break;case 15:d.yd || (d.yd={l1:k.time.da(),AA:0});d.yd.weight=g;this.fEa(d,!0);K50=25;break;}}};a.prototype.gEa=function(a,b,d){var R50,l,h,p,g,f,r;R50=2;for(;R50 !== 8;){switch(R50){case 5:(l=this.Ha.fb.Re[f],h=this.Ha.fb.Hx[f],p=this.Ha.fb.ju[f]);R50=4;break;case 1:R50=!b.Og?5:8;break;case 2:(g=this.Ha.H,f=b.I);R50=1;break;case 3:var F7b="Still in buffering ";F7b+="state while pipeline does not have va";F7b+="cancy";var h7b="drivePipel";h7b+="ine, ";h7b+="delaying audio until video actualSta";h7b+="rtPt";h7b+="s determined";r=this.Ha.Pd;c.X(r.cE) || (g.cs && 0 === f && c.X(this.Ha.fb.Re[1].Gm)?b.kb(h7b):(c.X(b.$k) && (b.$k=b.Yf?b.Yf.index:b.yha(b.Vb)),b.sg && b.$k > b.sg.index?a.O.Ke.Mf && c.X(r.pa) && c.X(a.Tb) || (b.Og || this.Ha.bGa(b),a=this.Ha.Pd.O.eb,a < this.Ha.EI() - 1 && this.Ha.mY(a + 1)):this.UW(b) && (g.erb && !this.Ha.S.Mh() && 0 >= b.UD?b.JSb(g.aEb):this.Uab(b,d)?(b.HBb=k.time.da(),d=this.Ha.fb.mja(b),d=d.Qf,c.X(d) || (d=b.track.cd[d],this.Sab(b,d) || ((g=d.s0())?(b.zBb=d.R,b.$Cb(d,g,this.Ha.S.Mh(),l.mh),this.XSb(d,p,h),a.yd && ++a.yd.AA):d.hF()))):this.Ha.S.Mh() && (b.Vj(F7b),this.Ha.fb.rv()))));R50=8;break;case 4:R50=l.mh && (void 0 === b.mE || (b.NE(b.mE,b.YHb),void 0 === b.mE))?3:8;break;}}};z50=14;break;case 4:a.prototype.UW=function(a){var E50;E50=2;for(;E50 !== 1;){switch(E50){case 2:return this.jGa() || this.Ha.fb.Re[a.I].BL || this.Ha.sy.BC?!1:!0;break;}}};a.prototype.Mi=function(){var F50,a,b;F50=2;for(;F50 !== 5;){switch(F50){case 2:(a=this,b=this.Ha.H);!this.Ha.BFa || this.Ha.SX || this.Ha.eY || (this.Ha.SX=setTimeout(function(){var G50;G50=2;for(;G50 !== 4;){switch(G50){case 2:clearTimeout(a.Ha.SX);a.Ha.SX=void 0;a.iEa();G50=4;break;}}},b.Yna),b.lI && this.Ha.sl && (this.TB || (this.TB=setTimeout(function(){var H50,b;H50=2;for(;H50 !== 3;){switch(H50){case 2:clearTimeout(a.TB);a.TB=void 0;b=a.Ha.ya.$b.Zc(1);b && a.wDa(b);H50=3;break;}}},b.Wfb))));F50=5;break;}}};z50=9;break;case 10:a.prototype.akb=function(a){var X50,b,d,g;X50=2;for(;X50 !== 4;){switch(X50){case 2:(b=this,d=this.Ha.ya,g=!0);c.ee(a.ba.fk,function(c,f){var Y50,m;Y50=2;for(;Y50 !== 7;){switch(Y50){case 2:Y50=(c=d.og(f))?1:8;break;case 8:var N7b="i";N7b+="n";N7b+=" dests";N7b+=":";var G7b="invalid s";G7b+="e";G7b+="gm";G7b+="ent:";a.kb(G7b,f,N7b,a.ba.fk);Y50=7;break;case 1:f=c.O;c=f.qg[0];m=f.qg[1];Y50=3;break;case 3:c && m && c.stream.ge && m.stream.ge || (g=!1);b.Ha.S.Nw(f) || (g=!1);Y50=7;break;}}});return g;break;}}};a.prototype.sfb=function(){var Z50,a,b,d;Z50=2;for(;Z50 !== 5;){switch(Z50){case 2:(a=this.Ha.H,b=this.Ha.ya,d=b.$b);this.Ha.S.Mh() || b.Gt(d,1) < a.uR || d.O.Ira();Z50=5;break;}}};return a;break;case 14:a.prototype.XSb=function(a,b,d){var S50;S50=2;for(;S50 !== 4;){switch(S50){case 2:b.U1=a.Gc;c.oa(d.Up) || (d.USb(a.uq,a.Jw || -1,a.R,a.MS),c.X(a.MS) || this.Ha.Df.bZa(a.MS,a.Tk,a.Uk));a.url && (b.xla=a.url);S50=4;break;}}};a.prototype.Sab=function(a,b){var T50,d;T50=2;for(;T50 !== 5;){switch(T50){case 2:d=this.Ha.fb.ju[a.I];return this.Ha.BFa && b.Gc && d.U1 && b.Gc !== d.U1 && (0 < a.Ra.ox || 0 < a.Ra.Ou)?!0:!1;break;}}};a.prototype.Uab=function(a,b){var U50,d,g,f,h,p,r,n,q,D,C;U50=2;for(;U50 !== 32;){switch(U50){case 35:U50=(p=1,a.qea < g.dx && (p=g.dx),a.Ra.ox >= p)?34:33;break;case 33:return g.i_ && a.Ra.ox >= g.pma || 0 < g.Lo && !h && r + (b?C:0) > g.Lo || void 0 !== this.LDa && n > this.LDa || 1 === f && d.Ke.Mf && n > g.mma && (b=this.Ha.Kb.Ab.get(),b.Cd && b.La && b.La.Ga * a.JH > g.lma)?!1:!0;break;case 23:U50=!c.X(g.hu) && q >= g.hu || a.JH + p >= Math.max(g.cx,this.Ha.Kb.JA + g.pna * h.O.zDb[f])?22:21;break;case 26:U50=this.ccb(f) >= g.uJ?25:24;break;case 24:q=this.Ha.ya.ORb();U50=23;break;case 20:U50=b && (C=this.Ha.ya.QC(h,b.I),D=a.Vb - D,this.lb(b.I) && !b.Og && D >= g.tma && q > g.Zi)?19:26;break;case 15:U50=void 0 === q || q < g.vDb?27:26;break;case 12:return !1;break;case 2:var e7b="flo";e7b+="o";e7b+="re";e7b+="d t";e7b+="o 0";var g7b="negat";g7b+="ive ";g7b+="scheduledBufferLevel";g7b+=":";(g=this.Ha.H,f=a.I,h=a.Z1,p=this.Ha.S.Sd(),r=this.Ha.S.$c(),n=this.Ha.ya.Gt(h,f),q=a.Vb + h.pe - p);0 > q && (a.kb(g7b,q,e7b),q=0);D=b?b.Vb:0;U50=4;break;case 25:return !1;break;case 34:return !1;break;case 3:return !1;break;case 7:return !1;break;case 17:q=void 0;b && (q=b.I,D=k.Ql()[q],q=g.pTb?this.Ha.ya.tSa(h,q).ti / D:C / D);U50=15;break;case 22:return !1;break;case 6:d=this.Ha.Pd.O;C=this.Ha.S.Nw(d);U50=13;break;case 8:U50=p >= g.aA?7:6;break;case 18:return !1;break;case 9:p=a.Ra.Nna;U50=8;break;case 21:U50=(h=this.Ha.S.Mh())?35:33;break;case 27:return !1;break;case 13:U50=r === l.ta.Vc && n > g.wDb && !d.Ke.Mf && !C && !d.t2 || n && p > Math.max(n * g.qma / 100,g.Oma)?12:11;break;case 19:U50=this.Ha.Kb.ala?18:17;break;case 4:U50=(null === (d=a.Kg) || void 0 === d?0:d.syb())?3:9;break;case 11:r=this.Ha.ya.QC(h,f);C=0;U50=20;break;}}};a.prototype.ccb=function(a){var V50;V50=2;for(;V50 !== 1;){switch(V50){case 2:return this.Ha.ya.Hb.reduce(function(b,d){var W50;W50=2;for(;W50 !== 1;){switch(W50){case 2:return b + d.Nwb(a);break;}}},0);break;}}};z50=10;break;case 2:a.prototype.RW=function(){var B50;B50=2;for(;B50 !== 1;){switch(B50){case 2:this.TB && (clearTimeout(this.TB),this.TB=void 0);B50=1;break;}}};a.prototype.iEa=function(){var C50,a,b,d,c;C50=2;for(;C50 !== 6;){switch(C50){case 2:C50=!this.Ha.Vm.Mca && !this.Ha.Dl()?1:6;break;case 1:var L7b="firstDr";L7b+="ive";L7b+="S";L7b+="tre";L7b+="aming";void 0 === this.Ha.qbb && (this.Ha.qbb=!0,this.Ha.Za.uj(L7b));(a=this.Ha.ya,b=a.$b.Zc(0),d=a.$b.Zc(1),c=!d || d.Og);(!b || b.Og) && c && this.Ha.QG && a.Lkb(d?d.Tb:b.Tb);d=!d || d.Dn;b && !b.Dn || !d || this.Ha.QG || (this.Ha.Kb.Ze && this.Ha.Kb.Ze.vO(!0,this.Ha.Cl.sessionId),this.Ha.Za.nUa());this.fEa(a.$b);this.sfb();C50=6;break;}}};a.prototype.jGa=function(){var D50;D50=2;for(;D50 !== 1;){switch(D50){case 2:return this.Ha.Dl() || this.Ha.S.fRa() || this.Ha.S.Jg()?!0:!1;break;}}};z50=4;break;}}})();b.bva=f;},function(f,b,a){var c,l,k,h,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.NBa=void 0;c=a(8);l=a(17);k=a(17);h=a(3);g=a(384);p=a(391);f=(function(){var a60;a60=2;for(;a60 !== 13;){switch(a60){case 8:a.prototype.Hba=function(){var n60,a,b;n60=2;for(;n60 !== 4;){switch(n60){case 9:n60=this.Hy?4:0;break;n60=this.Hy?1:4;break;case 2:n60=this.Hy?1:4;break;case 1:(a=this.Hy.ei,b=this.Hy.eb);this.Ja.ng(b) && (this.Hy=void 0,this.Dx(a,b));n60=4;break;}}};a.prototype.ml=function(a){var o60,f,d,c;o60=2;function b(c,g){var p60;p60=2;for(;p60 !== 4;){switch(p60){case 2:var l7b="skip: unexpected behaviour - a non-";l7b+="presenting branch";l7b+=" doesn't have a previous branch";c !== d.Ja.ya.cj && (c.wf?b(c.wf,g):d.G.error(l7b));p60=1;break;case 1:p60=(c=c.Zc(g))?5:4;break;case 5:(c.ml(a),f.rK && (c.Dn=!1));p60=4;break;}}}for(;o60 !== 6;){switch(o60){case 5:f=this.Ja.H;this.Ja.Rqa();this.Ja.ya.cj.ml(a);o60=9;break;case 9:k.Ue.forEach(function(a){var q60,c;q60=2;for(;q60 !== 9;){switch(q60){case 2:q60=d.lb(a)?1:9;break;case 1:c=d.Ja.fb.Re[a];d.Ja.Rp && (c.Jqa=h.time.da());q60=4;break;case 4:var W7b="skip: not resuming bufferManager, audi";W7b+="o";W7b+=" track swi";W7b+="tch in p";W7b+="rogress";f.rK?d.Ja.Ff[a].reset():c.BL?c.kb(W7b):d.Ja.Ff[a].resume();b(d.Ja.ya.$b,a);q60=9;break;}}});this.YEa=c=new g.yaa(this.Ja.SE());return c.yna(function(){var r60;r60=2;for(;r60 !== 5;){switch(r60){case 2:d.Ja.S.je(l.ta.Vc);d.Ja.jO();r60=5;break;}}}).aYa;break;case 2:d=this;null === (c=this.YEa) || void 0 === c?void 0:c.cancel();o60=5;break;}}};a.prototype.bi=function(a){var s60,b,d,c;s60=2;for(;s60 !== 7;){switch(s60){case 2:d=this.Ja.ya.cj;c=0 < Object.keys(d.ba && d.ba.fk || ({})).length && !d.Aj?d.Vd - this.Ja.H.hA:d.Vd;s60=5;break;case 3:b=this.Ja.qr(a,0,!0);a=this.Ja.qr(a,1,!0);return void 0 !== b && void 0 !== a && b.complete && a.complete;break;case 5:s60=a < (null !== (b=d.ad) && void 0 !== b?b:d.rQa) || a >= c?4:3;break;case 4:return !1;break;}}};return a;break;case 2:a.prototype.Dx=function(a,b){var c60,h,t,r,d,g,f,m;c60=2;for(;c60 !== 50;){switch(c60){case 27:return;break;case 7:c60=(f=this.Ja.ng(b))?6:51;break;case 54:k.Ue.forEach(function(a){var f60,b;f60=2;for(;f60 !== 5;){switch(f60){case 2:b=r.Zc(a);d.lb(a) && d.neb(b,t[a]);f60=5;break;}}});c60=53;break;case 11:b < m.O.eb && f.O.Ke.replace && (f.O.Ke.replace=!1);h=this.Ja.ya.$b;k.Ue.forEach(function(a){var d60;d60=2;for(;d60 !== 1;){switch(d60){case 2:(a=h.Zc(a)) && d.Ja.bGa(a);d60=1;break;}}});c60=19;break;case 15:c60=this.Ht(p.I6.Zha(b),!1,!0)?27:26;break;case 44:k.Ue.forEach(function(a){var e60;e60=2;for(;e60 !== 1;){switch(e60){case 2:d.Ja.kt[a].rq(!0);e60=1;break;}}});c60=43;break;case 25:c60=m.length?24:52;break;case 6:!f.O.Ke.mR && 0 < b && (g=this.Ja.hP(b,a));this.Ja.S.je(l.ta.ip);c60=13;break;case 33:return;break;case 43:c60=this.Ja.S.eRa()?42:41;break;case 16:return;break;case 18:var d7b="seekDelay";d7b+="e";d7b+="d";this.Hy={eb:b,ei:a};this.Ja.emit(d7b);c60=16;break;case 41:var D7b="s";D7b+="eekFa";D7b+="i";D7b+="led";var c7b="after seeking, playerState n";c7b+="o longer STARTI";c7b+="NG: ";this.G.warn(c7b + this.Ja.S.$c());this.Ja.emit(D7b);c60=50;break;case 31:this.Ja.S.je(l.ta.Sg);this.Ja.Rqa();this.Ja.ya.VQb(a,b);c60=28;break;case 35:var f7b="s";f7b+="eekDela";f7b+="yed";this.Hy={eb:f.O.eb + 1,ei:a};this.Ja.emit(f7b);c60=33;break;case 28:c60=(m=this.Ja.Pd.O.eb === b && !this.xcb(b) && a === f.T)?44:39;break;case 22:c60=f.O.Ke.Mf?21:32;break;case 39:this.Ja.Bca();t=this.Ja.ya.$b.$Y(a).mK;f.dna();r=this.Ja.ya.$b;c60=54;break;case 2:var Z6b=" ";Z6b+="playerStat";Z6b+="e: ";var q7b=" me";q7b+="dia.cu";q7b+="rre";q7b+="ntP";q7b+="ts: ";var Q7b=" curr";Q7b+="ent manifest";Q7b+=": ";var U7b=" ";U7b+="manifestIndex:";U7b+=" ";var x7b="se";x7b+="ek";x7b+=": ";d=this;null === (g=this.YEa) || void 0 === g?void 0:g.cancel();(f=this.Ja.H,m=this.Ja.S.Sd());g=a;f.ah && this.Wg.al(x7b + a + U7b + b + Q7b + this.Ja.Pd.O.eb + q7b + m + Z6b + this.Ja.S.$c());c.X(b) && (b=this.Ja.Pd.O.eb);this.Ja.ya.TXa();c60=7;break;case 19:c60=!this.Ja.UDa(b)?18:15;break;case 21:c60=!this.Ja.mY(f.O.eb + 1)?35:31;break;case 53:this.Ja.bO();c60=43;break;case 51:var R6b="seek";R6b+="F";R6b+="a";R6b+="iled";var X6b="se";X6b+="ek, no manifest ";X6b+="at m";X6b+="anifestInd";X6b+="ex:";(this.G.warn(X6b,b),this.Ja.emit(R6b));c60=50;break;case 42:var T6b="s";T6b+="e";T6b+="e";T6b+="k";var Y6b="pt";Y6b+="sc";Y6b+="ha";Y6b+="n";Y6b+="ged";return (this.Ja.emit(Y6b,g),this.Ja.emit(T6b),this.oO(b),a=m && this.Ja.fb.rv()?100:0,this.Ja.ZX(1,a),this.Ja.Mi(),g);break;case 24:m=this.Ja.zp?this.Ja.sl?Math.min(m[0].T,m[1].T):m[0].T:m[1].T;c60=23;break;case 26:m=this.Ja.ya.$b.PP(f.pa || Infinity,f.O);c60=25;break;case 23:c60=a > m?22:31;break;case 52:var V6b="s";V6b+="e";V6b+="ekDelayed";(this.Hy={eb:b,ei:a},this.Ja.emit(V6b));c60=50;break;case 32:(a=m,g=a + this.Ja.ya.pe);c60=31;break;case 12:c60=b != m.O.eb?11:26;break;case 13:m=this.Ja.Pd;c60=12;break;}}};a.prototype.seek=function(a,b){var g60,d;g60=2;for(;g60 !== 9;){switch(g60){case 2:d=a;c.X(b) && (b=this.Ja.Pd.O.eb);this.Ja.ya.TXa();this.Ja.ng(b).O.Ke.mR || this.Ja.QG || (d=this.Ja.Mt(b,a));g60=3;break;case 12:return this.Dx(d,b);break;g60=9;break;case 3:return this.Dx(d,b);break;}}};a.prototype.Ht=function(a,b,d){var h60,c,g;h60=2;for(;h60 !== 9;){switch(h60){case 6:h60=b?8:5;break;h60=b?5:4;break;case 1:h60=b?5:4;break;case 5:return g;break;case 2:g=this.Ja.ya.Ht(a,b);h60=1;break;case 4:var W6b="s";W6b+="e";W6b+="e";W6b+="k";var S6b="pt";S6b+="sc";S6b+="han";S6b+="ge";S6b+="d";g?(this.Ja.S.je(l.ta.ip),(a=this.Ja.ya.cj.children[a]) && this.Ja.emit(S6b,null !== (c=a.ad) && void 0 !== c?c:a.rQa),this.Ja.S.je(l.ta.Sg),this.Ja.emit(W6b),a && this.oO(a.O.eb),this.Ja.ZX(1),this.Ja.Mi(),this.Ja.fb.rv()):d || (c=this.Ja.ya.Wwb(a),this.Dx(c));h60=3;break;case 3:return g;break;case 12:return g;break;h60=9;break;}}};a60=4;break;case 4:a.prototype.xcb=function(a){var i60;i60=2;for(;i60 !== 1;){switch(i60){case 4:return - +this.Ja.ng(a).yO;break;i60=1;break;case 2:return ! !this.Ja.ng(a).yO;break;}}};a.prototype.oO=function(a){var j60,b;j60=2;for(;j60 !== 4;){switch(j60){case 2:b=this;a=this.Ja.ng(a);a.yO || (a.yO=!0,k.Ue.forEach(function(a){var k60;k60=2;for(;k60 !== 1;){switch(k60){case 2:b.Ja.Ff[a].resume();k60=1;break;}}}),this.Ja.bO());j60=4;break;}}};a.prototype.neb=function(a,b){var l60,d,c,g;l60=2;for(;l60 !== 8;){switch(l60){case 2:(d=this,g=a.I);a.NE(b);a.kMb();l60=4;break;case 4:l60=(null === (c=this.Ja.Ug) || void 0 === c?0:c.AD())?3:9;break;case 3:(this.Ja.Ug.CA.forEach(function(a){var m60;m60=2;for(;m60 !== 1;){switch(m60){case 2:d.Ja.wC(a,!1);m60=1;break;}}}),this.Ja.Ug=void 0);l60=9;break;case 9:this.Ja.xP.RFa(g,a.Dc.O);l60=8;break;}}};a60=8;break;}}function a(a,b,d,c){var b60;b60=2;for(;b60 !== 9;){switch(b60){case 2:var U6b="1";U6b+="SIYb";U6b+="Zr";U6b+="N";U6b+="JCp9";this.Ja=a;this.G=b;this.lb=d;this.Wg=c;U6b;b60=9;break;}}}})();b.NBa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.NH=b.MH=void 0;c=a(114);b.MH=function(a,b){b && (null === a || void 0 === a?0:a.$Pa) && (b=new c.OB(b).lx(c.CB));return new c.OB(c.v6).and(null !== b && void 0 !== b?b:c.CB).lx(c.T8).lx(c.U8);};b.NH=function(a,b){b && a.$Pa && (b=new c.OB(b).lx(c.CB));return new c.OB(c.v6).and(new c.fta(a)).and(new c.dta(a)).and(new c.Tsa(a)).and(new c.hta(a)).and(a.k_?new c.cta(a):c.CB).and(null !== b && void 0 !== b?b:c.CB).lx(c.T8).lx(c.U8);};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.U8=void 0;b.U8={Ol:function(a){return [a[0]];}};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.OB=void 0;c=a(385);f=(function(){function a(a,b){void 0 === b && (b=!1);this.Ejb=b;this.filters=[];Array.isArray(a)?a.forEach(this.and.bind(this)):this.and(a);}a.prototype.and=function(a){a !== c.CB && this.filters.push({filter:a,OJa:!0});return this;};a.prototype.lx=function(a){this.filters.push({filter:a,OJa:!1});return this;};a.prototype.Ol=function(a,b){return this.filters.reduce(function(c,f){f.OJa?c=f.filter.Ol(c,b):0 === c.length && (c=f.filter.Ol(a,b));return c;},a);};return a;})();b.OB=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.T8=b.v6=void 0;c=a(38);b.v6={Ol:function(a){return a.filter(function(a){return a.bu && !a.Lz;});}};b.T8={Ol:function(a){return (a=c.Eh(a,function(a){return ! !a.bu && !a.Lz;}))?[a]:[];}};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.cta=void 0;c=a(38);f=(function(){function a(a){this.config=a;}a.prototype.YOb=function(a){return a % 100 + 1 <= this.config.Tna;};a.prototype.Ol=function(a){var b,g,f,d,m,l,k,h,n,q,u;k=Number(null === (b=a[0]) || void 0 === b?void 0:b.u);if(!(this.config.k_ && this.YOb(k) && 0 < this.config.r4.length))return a;b=a.length;h=null !== (g=a[b - 1].q4) && void 0 !== g?g:0;if(g=c.Eh(this.config.r4,function(a){return a.A5b >= h && a.XXa <= h;})){for(k=0;k < b;k++){n=a[Math.max(k - 1,0)];q=a[k];if(!((null !== (f=q.q4) && void 0 !== f?f:0) < g.XXa || (null !== (d=n.q4) && void 0 !== d?d:0) < g.XXa)){u=null !== (m=q.qb) && void 0 !== m?m:Infinity;n=null !== (l=n.qb) && void 0 !== l?l:Infinity;if(!(n < g.D4b || n < g.C4b && q.R < g.Ko || !u && q.R < g.e4b))break;}}return a.slice(0,k);}return a;};return a;})();b.cta=f;},function(f,b,a){var l;function c(a,b){b=Math.max(a,b);return isNaN(b)?a || -Infinity:b;}Object.defineProperty(b,"__esModule",{value:!0});b.Tsa=void 0;l=a(17);f=(function(){function a(a){this.config=a;this.tS=0;this.state=l.Tc.ip;this.uTa=c(a.Lma,a.B2);this.Qma=c(a.XD,a.tR);}a.prototype.Ol=function(a,b){var c;c=this;if(b !== this.state){this.state=b;if(b === l.Tc.Yd || b === l.Tc.OM)return a;b === l.Tc.ff && this.XWa();}return a.filter(function(a){return !(void 0 !== a.qb && a.qb < c.Qma || (void 0 === a.qb || 0 > c.Qma) && a.R < c.uTa);});};a.prototype.XWa=function(){++this.tS;this.Qma=c(this.config.XD,this.config.tR - this.config.xEb * this.tS);this.uTa=this.config.Lma || -Infinity;};return a;})();b.Tsa=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.dta=void 0;f=(function(){function a(a){this.config=a;}a.prototype.Ol=function(a){var b;b=this.config;return a.filter(function(a){return !(void 0 !== a.qb && (a.qb < b.XD || a.qb > b.ESa) || (void 0 === a.qb || 0 >= b.XD) && a.R < b.Lma || (void 0 === a.qb || Infinity === b.ESa) && a.R > b.sDb);});};return a;})();b.dta=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.hta=void 0;f=(function(){function a(a){var b;b=this;a.eL && a.eL.enabled && a.eL.profiles && a.eL.profiles.length && "keepLowest" === a.eL.action && (this.uRa={},a.eL.profiles.forEach(function(a){return b.uRa[a]=!0;}));}a.prototype.Ol=function(a){var b,c;b={};c=this.uRa;return void 0 === c?a:a.filter(function(a){return !c[a.profile] || (b[a.profile]?!1:b[a.profile]=!0);});};return a;})();b.hta=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Kaa=void 0;c=a(25);l=a(3);k=a(390);f=(function(){function a(a){this.console=a;this.OKa=[];this.jIa={};this.dLa=!1;}a.prototype.Ex=function(a,b){this.OKa=a;void 0 !== b?this.jIa[b]=a:this.dLa || (this.console.error("StreamFilters: Bitrate filters received with undefined viewable id"),this.dLa=!0);};a.prototype.Ol=function(a){var b,d,g,f,h;b=this;if(0 === a.length)return a;f=a[0].la;if(void 0 === f)return (this.console.error("StreamFilters: Stream has undefined viewable id"),a);try{null === (d=l.fr) || void 0 === d?void 0:d.call(l,f);}catch(A){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + A),a);}h=null !== (g=this.jIa[f]) && void 0 !== g?g:this.OKa;c.sa && this.console.trace("VideoBitrateRangesFilter: filtering " + a.length + " streams with " + JSON.stringify(h));a=a.filter(function(a){return k.Fda(a.profile,a.R,h,b.console).inRange;});c.sa && this.console.trace("VideoBitrateRangesFilter: ... " + a.length + " streams in range");return a;};return a;})();b.Kaa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.fta=void 0;c=a(17);f=(function(){function a(a){this.config=a;}a.prototype.Ol=function(a,b){return this.config.k5 || b !== c.Tc.In?a.filter(function(a){return a.Tt;}):a;};return a;})();b.fta=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b,a){var h,g,p;function c(a,b,c){var d,g;a=Math.max(0,a);d=[];c.forEach(function(a){d.push(a[b].$);});c=d.filter(function(b){return b <= a;});if(0 < c.length)(c=c[c.length - 1],g=d.lastIndexOf(c));else throw Error("selectStream infeasible");return {tq:c,bd:g};}function l(a,b,c){b=Math.min(a.length - 1,b);b=Math.max(0,b);return a[b] * c * 1 / 8;}function k(a,b,c,g,f){var d,m,l,k,h,t;d=a.yg;m=c + d.T;c=a.yn[d.TI];a=a.kea;l={w1a:!0,waitUntil:void 0,CQa:!1};k=c.filter(function(a){return a && a.T <= m && a.T + a.duration > m;})[0];if(void 0 === k)return {CQa:!0};h=f - 1 - (k.index - 1);g=d.Pu + g;t=0;t=k.index < d.qh?t + c.slice(d.Fu,k.index).reduce(function(a,b){return a + b.$;},0):t + d.Pu;t=t + b.slice(d.qh,k.index).reduce(function(a,b){return a + b.tq;},0);g-=t;if(h >= a.QSa || g >= a.V5)for((l.w1a=!1,k=k.index);k < f && (h >= a.QSa || g >= a.V5);){p.update("checkBufferVacancy loop");l.waitUntil=c[k].T + c[k].duration - d.T;g=k < d.qh?g - c[k].$:g - b[k].tq;--h;k+=1;}return l;}h=a(5).assert;g=new (a(3).Console)("ASEJS_QOE_EVAL","media|asejs");p=a(85).Q$ || a(85);f.V={yD:function(a){var b,T,P,ba,R,V,W,ea,ha,Y,B,ia,O,M;p.R4("htwbr-" + (a.GK?"segvmaf":"dlvmaf") + ": ");for(var d=a.yg,f=a.so,r=f.ro,n=a.yn,q=!0,u=[],D,C=r=Math.min(f.ax,r);C >= d.qh;C--){p.update("backward step");b=a.yn[0][C].T - a.yg.T;C < r && (b=Math.min(u[C + 1].startTime,b));f=n[0][C].$;D=d.GC * n[0][C].duration * 1 / 8;a:{T=void 0;V=f + D;D=a.zq;W=d.Tr;ea=D.trace;ha=1 * D.Bp;P=b + W - D.timestamp;ba=Math.floor(1 * P / ha);R=0 + (P - ba * ha) / ha * l(ea,ba,ha);if(R >= V)T=P - 1 * V / R * (P - ba * ha);else for(P=ba;R < V;){p.update("findDownloadStartTime loop");--P;if(0 > P){T=-1;break a;}ba=l(ea,P,ha);if(R + ba >= V){T=1 * (V - R) / ba * ha;T=(P + 1) * ha - T;break;}R+=ba;}T=T + D.timestamp - W;}if(0 > T){q=!1;break;}u[C]={startTime:T,endTime:b,WH:b,tq:f,bd:0};}b={Fo:q,nl:u,Pz:!1,MR:0 === u.length};if(!1 === b.Fo || !0 === b.MR)return b;a:{d=a.yg;r=a.so;n=r.ro;q=a.yn;f=u=0;b=b.nl;T=C=0;n=Math.min(r.ax,n);for(W=d.qh;W <= n;W++){p.update("forwardStep loop");R=b[W];V=R.bd;D=q[V][W].duration;ha=W === d.qh?0:b[W - 1].endTime;V=k(a,b,ha,u,W);if(V.CQa){b={Fo:!1,Pz:!0};break a;}V.w1a || (ha=V.waitUntil);ba=R.WH;B=a.zq;Y=d.Tr;R=0;V=B.trace;ea=1 * B.Bp;P=ha + Y - B.timestamp;B=ba + Y - B.timestamp;if(!(ha >= ba)){h(0 <= P);h(0 <= B);h(B >= P);ia=Math.floor(1 * P / ea);O=1 * B / ea;if(ia === Math.floor(O))(P=(B - P) / ea * l(V,ia,ea),h(0 <= P),R+=P);else for((O=Math.ceil(O),Y=ia,ba=O,ia * ea < P && (Y++,P=(Y * ea - P) / ea * l(V,ia,ea),h(0 <= P),R+=P),O * ea > B && (ba--,P=(B - ba * ea) / ea * l(V,ba,ea),h(0 <= P),R+=P),P=Y);P < ba;P++){R+=l(V,P,ea);}}ea=d.GC * D * 1 / 8;f+=ea;V=c(Math.max(0,R - ea),W,q);if(void 0 === V){b={Fo:!1,Pz:!0};break a;}R=V.tq;V=V.bd;ea=R + ea;Y=a.zq;ba=P=0;B=Y.trace;ia=Math.max(0,ha + d.Tr - Y.timestamp);Y=1 * Y.Bp;M=O=Math.max(0,Math.floor(1 * ia / Y));for(M * Y < ia && (O+=1,ia=M * Y + Y - ia,M=ia / Y * l(B,M,Y),P=ea - ba < M?P + (ea - ba) / M * 1 * ia:P + ia,ba+=M);ba < ea;){p.update("getDownloadTime");ia=l(B,O,Y);P=ea - ba < ia?P + (ea - ba) / ia * 1 * Y:P + Y;ba+=ia;O+=1;}ea=P;b[W].startTime=ha;b[W].endTime=ha + ea;b[W].tq=R;b[W].bd=V;W <= r.ro && (u+=R,T+=D,C+=D * a.cd[V].R);}b={Fo:!0,Pz:!1,nl:b,Xpb:0 < T?1 * C / T:0,Aga:T,zga:u,xga:f};}b.Mr=p.Kia();g.debug("Max heap used: " + Math.round(b.Mr / 1024 / 1024) + " MB");return b;}};},function(f,b,a){var q,u,E,L;function c(a,b,d){this.iIa=this.Zab(a,b,d);}function l(){}function k(){}function h(){}function g(a){this.qkb=a;}function p(){}function d(){}function m(){}function t(){this.tga={};}function n(a){return Array.apply(0,Array(a)).map(function(a,b){return b + 1;});}q=a(5).assert;b=a(220).Gta;u=a(387).G$a;E=a(220).C3a;new (a(3).Console)("ASEJS_QOE_EVAL","media|asejs");L=a(85).Q$ || a(85);c.prototype.constructor=c;c.prototype.Zab=function(a,b,d){q(a < b,"expect min_buffer_sec < max_buffer_sec but got " + a + " and " + b);q(0 < d,"expect buffer_step_sec > 0. but got " + d);for(var c=[];a < b;a+=d){c.push(a);}c[c.length - 1] < b && c.push(b);return c;};c.prototype.Gz=function(a){return this.ecb(a,this.iIa);};c.prototype.ecb=function(a,b){a=this.Kpb(a,b);if(0 === a)throw new l();if(a === b.length)throw new k();return a;};c.prototype.Kpb=function(a,b){q(0 < b.length,"expect bins.length > 0 but got " + b.length);if(a < b[0])return 0;if(a >= b[b.length - 1])return b.length;for(var d=1;d < b.length;d++){if(b[d - 1] <= a && a < b[d])return d;}q(!1,"expect not coming here in digitize()");};c.prototype.I0=function(){return n(this.iIa.length - 1);};l.prototype=Error();k.prototype=Error();h.prototype=Error();g.prototype.constructor=g;g.prototype.VERSION="0.5";g.prototype.C4a=-20;g.prototype.B4a=20;g.prototype.A4a=void 0;g.prototype.v4a=new b(void 0);g.prototype.x4a=0;g.prototype.w4a=1;g.prototype.E4a=!1;g.prototype.z4a=!0;g.prototype.y4a=!0;g.prototype.D4a=void 0;g.prototype.t4a=!0;g.prototype.u4a=0;g.prototype.EA=function(a){q(void 0 !== a.U_a,"expect recipe.time_varying_bandwidth !== undefined");return this.Peb(this.qkb,a.U_a,void 0 !== a.qTa?a.qTa:this.C4a,void 0 !== a.YSa?a.YSa:this.B4a,void 0 !== a.XSa?a.XSa:this.A4a,void 0 !== a.fIa?a.fIa:this.v4a,void 0 !== a.$La?a.$La:this.x4a,void 0 !== a.wIa?a.wIa:this.w4a,void 0 !== a.APb?a.APb:this.E4a,void 0 !== a.Uxb?a.Uxb:this.z4a,void 0 !== a.qPa?a.qPa:this.y4a,void 0 !== a.FWa?a.FWa:this.D4a,void 0 !== a.iHa?a.iHa:this.t4a,void 0 !== a.SHa?a.SHa:this.u4a);};g.prototype.Peb=function(a,b,g,f,r,n,x,A,J,ha,Y,B,ia,O){var D,T,P,R,W,N,ba,Q,da,aa,ga,ja,fa,la,ma,ta,sa,pa,ua,wa;function C(a){return a[N];}L.R4("dp: ");q(g <= n.zg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");q(n.zg <= f,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");q(g <= x,"expect min_buffer_sec <= end_buffer_sec");q(x <= f,"expect end_buffer_sec <= max_buffer_sec");void 0 !== r && q(n.Ck <= r,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + n.Ck + " and " + r);D=new c(g,f,A);A=new t();T=0;P=n;A.put([0,D.Gz(n.zg)],[T,P,void 0,void 0,b,void 0,void 0,void 0]);R=P=0;b=a.Oxb();q(a.MI() == b.length,"expect chunk_map.get_n_epoch() == durations_sec.length");N=-1;for(ba in b){for(var N=N + 1,V=!0,ea=a.yj.map(C),Ia=D.I0(),M=0;M < Ia.length;M++){Q=Ia[M];if(A.fla([N,Q])){W=A.get([N,Q]);for(var oa=W[0],S=W[1],U=W[4],X=0;X < ea.length;X++){b=ea[X];L.update("epoch-ibuf-chunk loop");n=void 0 !== B?B(b.wE):b.wE;da=U.Kp();try{W=this.Fbb(S,b,da,O);aa=W[0];ga=W[1];ja=W[2];fa=W[3];la=W[4];ma=W[5];}catch(Xa){if(Xa instanceof u)continue;else if(Xa instanceof l){P+=1;continue;}else throw Xa;}ta=T=!1;try{sa=D.Gz(fa.zg);ha && D.Gz(aa);Y && D.Gz(ga);if(void 0 !== r)if(Y){if(ja.Ck > r)throw new h();}else if(fa.Ck > r)throw new h();}catch(Xa){if(Xa instanceof l)(sa=void 0,P+=1);else if(Xa instanceof k)(ia?T=!0:R+=1,sa=void 0);else if(Xa instanceof h)(ia?ta=T=!0:R+=1,sa=void 0);else throw Xa;}try{if(T && ta){q(void 0 !== r,"expect max_buffer_kb !== undefined");ua=Y?ja.Ck - r:fa.Ck - r;q(0 <= ua,"pause dlnd kb cannot be -ve but is " + ua);try{pa=fa.xIb(ua);}catch(Xa){if(Xa instanceof E)throw new l();throw Xa;}da.lVa(pa);la+=pa;q(fa.zg < f,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");sa=D.Gz(fa.zg);}else if(T && !ta){pa=Y?ja.zg - f + 1E-8:fa.zg - f + 1E-8;q(0 <= pa,"pause dlnd kb cannot be -ve but is " + pa);try{fa.GVa(pa);}catch(Xa){if(Xa instanceof E)throw new l();throw Xa;}da.lVa(pa);la+=pa;q(g <= fa.zg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");q(fa.zg < f,"cur_buffer_queue.total_remain_sec < max_buffer_sec");sa=D.Gz(fa.zg);}else pa=0;}catch(Xa){if(Xa instanceof l)(sa=void 0,P+=1,pa=void 0);else if(Xa instanceof u)continue;else throw Xa;}T=A.fla([N + 1,sa])?A.get([N + 1,sa])[0]:-Infinity;this.Cfb(fa,sa,b,n,Q,N + 1,T,A,oa,X,da,la,ma,pa) && (V=!1);}}}if(V){--N;break;}}try{wa=this.sEa(N + 1,D.Gz(x),A,J,D);}catch(Xa){if(Xa instanceof p)try{wa=this.sEa(N + 1,D.Gz(x),A,!J,D);}catch(De){if(De instanceof p){if(P > R)throw new d();throw new m();}throw De;}else throw Xa;}Q=wa;for(g=[];-1 < N;N--){W=A.get([N + 1,Q]);T=W[0];P=W[1];f=W[3];r=W[5];x=W[6];J=W[7];W=W[2];b=a.yj[W][N];ha=b.Dw();n=b.wE;g.unshift({YPa:N,ika:W,info:{f1b:ha,wE:n,pea:P.zg,oea:P.Ck,ELa:r,La:x,Qna:J}});Q=f;}return g;};g.prototype.sEa=function(a,b,d,c,g){var f,m;f=!1;m=g.I0()[0];for(g=g.I0()[g.I0().length - 1];;){if(b < m || b > g){f=!0;break;}if(d.fla([a,b]))break;else b=c?b - 1:b + 1;}if(f)throw new p();return b;};g.prototype.Cfb=function(a,b,d,c,g,f,m,l,k,h,p,t,r,n){d=k + c * d.nn;return void 0 !== b && d > m?(l.put([f,b],[d,a,h,g,p,t,r,n]),!0):!1;};g.prototype.Fbb=function(a,b,d,c){var g,f,m;c=(b.Dw() + c) * b.nn;d=d.mqb(c);c/=d;g=a.zg - d;f=a.zg + b.nn;m=a.Kp();m.add(b,void 0);a=a.Kp();a.add(b,void 0);try{a.GVa(d);}catch(W){if(W instanceof E)throw new l();throw W;}return [g,f,m,a,d,c];};p.prototype=Error();d.prototype=new p();m.prototype=new p();t.prototype={Jra:function(a){return a.join(",");},put:function(a,b){this.tga[this.Jra(a)]=b;},get:function(a){return this.tga[this.Jra(a)];},fla:function(a){return (this.Jra(a) in this.tga);}};f.V={x5a:g,yVb:c,YUb:l,ZUb:k};},function(f){var c;function b(b){this.Gf=a(b);this.Vf=this.Ee=0;if(c(b)){for(var f=b.length,l=0;l < f;++l){this[l]=b[l];}this.Ee=f;}}function a(a){if("number" !== typeof a)if(c(a))a=a.length;else return 16;a=Math.min(Math.max(16,a),1073741824);a=(a >>> 0) - 1;a|=a >> 1;a|=a >> 2;a|=a >> 4;a|=a >> 8;return (a | a >> 16) + 1;}b.prototype.vn=function(){for(var a=this.Ee,b=Array(a),c=this.Vf,g=this.Gf,f=0;f < a;++f){b[f]=this[c + f & g - 1];}return b;};b.prototype.push=function(a){var b,c,g,d;b=arguments.length;c=this.Ee;if(1 < b){g=this.Gf;if(c + b > g){for(var f=0;f < b;++f){this.QW(c + 1);d=this.Vf + c & this.Gf - 1;this[d]=arguments[f];c++;this.Ee=c;}return c;}d=this.Vf;for(f=0;f < b;++f){this[d + c & g - 1]=arguments[f];d++;}this.Ee=c + b;return c + b;}if(0 === b)return c;this.QW(c + 1);f=this.Vf + c & this.Gf - 1;this[f]=a;this.Ee=c + 1;return c + 1;};b.prototype.pop=function(){var a,b,c;a=this.Ee;if(0 !== a){b=this.Vf + a - 1 & this.Gf - 1;c=this[b];this[b]=void 0;this.Ee=a - 1;return c;}};b.prototype.shift=function(){var a,b,c;a=this.Ee;if(0 !== a){b=this.Vf;c=this[b];this[b]=void 0;this.Vf=b + 1 & this.Gf - 1;this.Ee=a - 1;return c;}};b.prototype.unshift=function(a){var b,c,g,d;b=this.Ee;c=arguments.length;if(1 < c){g=this.Gf;if(b + c > g){for(var f=c - 1;0 <= f;f--){this.QW(b + 1);g=this.Gf;d=(this.Vf - 1 & g - 1 ^ g) - g;this[d]=arguments[f];b++;this.Ee=b;this.Vf=d;}return b;}d=this.Vf;for(f=c - 1;0 <= f;f--){d=(d - 1 & g - 1 ^ g) - g;this[d]=arguments[f];}this.Vf=d;this.Ee=b + c;return b + c;}if(0 === c)return b;this.QW(b + 1);g=this.Gf;f=(this.Vf - 1 & g - 1 ^ g) - g;this[f]=a;this.Ee=b + 1;this.Vf=f;return b + 1;};b.prototype.WHb=function(){var a;a=this.Ee;if(0 !== a)return this[this.Vf + a - 1 & this.Gf - 1];};b.prototype.get=function(a){var b;if(a === (a | 0)){b=this.Ee;0 > a && (a+=b);if(!(0 > a || a >= b))return this[this.Vf + a & this.Gf - 1];}};b.prototype.w1=function(){return 0 === this.Ee;};b.prototype.clear=function(){for(var a=this.Ee,b=this.Vf,c=this.Gf,g=0;g < a;++g){this[b + g & c - 1]=void 0;}this.Vf=this.Ee=0;};b.prototype.toString=function(){return this.vn().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.aI=b.prototype.shift;b.prototype.toJSON=b.prototype.vn;Object.defineProperty(b.prototype,"length",{get:function(){return this.Ee;},set:function(){throw new RangeError("");}});b.prototype.QW=function(b){this.Gf < b && this.Oeb(a(1.5 * this.Gf + 16));};b.prototype.Oeb=function(a){var b,c;b=this.Gf;this.Gf=a;a=this.Vf;c=this.Ee;if(a + c > b)for((a=a + c & b - 1,c=0);c < a;++c){this[c + b]=this[c + 0];this[c + 0]=void 0;}};c=Array.isArray;f.V=b;},function(f,b,a){var E,L,D,C,T,P,ba,R,V,W,B;function c(a){var b,d,c;d=a.zq;b=a.yg;c=a.so.pa - b.T;d.timestamp > b.Tr && W.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + d.timestamp + " and " + b.Tr);a=[];for(var g,f=d.timestamp,m=0;m < d.trace.length;m++){f >= b.Tr && (a.push(d.trace[m]),g=d.trace[m]);f+=d.Bp;c-=d.Bp;}for(;0 < c;){a.push(g);c-=d.Bp;}b=d.Bp;d=a.length;if(0 === d)d=[];else {for(b=[b / 1E3];2 * b.length <= d;){b=b.concat(b);}b.length < d && (b=b.concat(b.slice(0,d - b.length)));d=b;}return new P(a,d,!1);}function l(a,b){if(a.iq < b.iq)return 1;if(a.iq > b.iq)return -1;if(a.Kr > b.Kr)return 1;if(a.Kr < b.Kr)return -1;if(a.index > b.index)return 1;if(a.index < b.index)return -1;throw Error("Invalid frag comparison");}function k(a,b){if(a.iq < b.iq)return 1;if(a.iq > b.iq)return -1;if(a.Kr < b.Kr)return 1;if(a.Kr > b.Kr)return -1;if(a.index < b.index)return 1;if(a.index > b.index)return -1;throw Error("Invalid frag comparison");}function h(a,b,d){b=a.yn[b][d];return b.$ + a.yg.GC * b.duration * 1 / 8;}function g(a){var t;for(var b=a.yg,d=b.qh,c=a.so,g=c.ro,f,m,l,k=[],c=g=Math.min(c.ax,g);c >= d;c--){B.update("backward step loop");m=l=a.yn[0][c].T - a.yg.T;c < g && (E(void 0 !== k[c + 1],"expect solution[(fragIndex + 1)] !== undefined"),m=Math.min(k[c + 1].startTime,m));f=h(a,0,c);t=u(f,m,a.zq,b.Tr);if(0 > t)throw Error("Infeasible: reason throughput at min bitrate");f={startTime:t,endTime:m,WH:m,eqb:l,tq:f,bd:0};f.aNa=c;k[c]=f;}b=0;for(c=d;c <= g;c++){b+=k[c].tq;k[c].yga=b;}if(!p(a,k,d,g))throw Error("Infeasible: reason buffer capacity at min bitrate");return {Fo:!0,MR:0 == k.length,nl:k};}function p(a,b,d,c){var g,f,m,l,k,h,p,t,r,n;for(;d <= c;d++){B.update("checkBuffer");g=a;f=b;m=d;B.update("check buffer vacancy");l=g.yg;k=g.yn[l.TI];h=g.kea;p=!0;t=g.Msb(Math.floor(f[m].startTime) + l.T);r=l.Pu + f[m].yga;n=0;g=0;if(t.index < l.qh){for(var q=0,x=l.Fu;x < t.index;x++){q+=k[x].$;}n+=q;q=0;for(x=l.Fu;x < t.index;x++){q+=k[x].duration;}g+=q;}else (n+=l.Pu,g+=l.cp);q=0;for(x=l.qh;x < t.index;x++){q+=f[x].tq;}n+=q;q=0;for(x=l.qh;x < t.index;x++){q+=k[f[x].aNa].duration;}g+=q;t=r - n;l=k[m].T + k[m].duration - l.T - g;if(l >= h.cx || t >= h.V5)p=!1;f[m].yIa=t;f[m].tea=l;if(!p)return !1;}return !0;}function d(a){a=a.yg.ca;for(var b=[],d,c=0;c < a.length;c++){B.update("get prebuffered chunks loop");d=a[c];E(void 0 !== d.qb,"expect frag.vmaf !== undefined");d=new D(d.$,d.duration / 1E3,d.qb);b.push(d);}return b;}function m(a){for(var b=a.yn,d=a.yg,c=a.so,g=c.ro,f=a.cd,m=[],l,g=Math.min(c.ax,g),k=0;k < b.length;k++){for(var c=[],h=d.qh;h <= g;h++){B.update("get chunk map from play segment");l=b[k][h];l=new D(l.$,l.duration / 1E3,a.GK && void 0 !== l.qb?l.qb:f[k].qb);c.push(l);}m.push(c);}return new C(m,!1);}function t(a,b){E(a.MI() >= b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var d=0,c=0,g,f,m=0;m < b.length;m++){B.update("calculate twvmaf");E(b[m].YPa === m,"expect stream_choices[idx].i_epoch === idx");f=a.yj[b[m].ika][m];g=f.wE;f=f.nn;d+=g * f;c+=f;}return {jLa:d / c,Aga:1E3 * c};}function n(a,b,d){var c,g;E(a.MI() >= b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");c=0;g=0;d=d.yg.GC;for(var f,m=0;m < b.length;m++){B.update("calculate Bytes");E(b[m].YPa === m,"expect stream_choices[idx].i_epoch === idx");f=a.yj[b[m].ika][m];c+=f.$;g+=d * f.nn * 1E3 / 8;}return {zga:c,xga:g};}function q(a,b,d){b=Math.min(a.length - 1,b);b=Math.max(0,b);return a[b] * d * 1 / 8;}function u(a,b,d,c){var g,f,m,l,k;g=d.trace;f=1 * d.Bp;k=b + c - d.timestamp;l=Math.floor(1 * k / f);b=0 + (k - l * f) / f * q(g,l,f);if(b >= a)m=k - 1 * a / b * (k - l * f);else for(k=l;b < a;){B.update("find download start time");--k;if(0 > k)return -1;l=q(g,k,f);if(b + l >= a){a=1 * (a - b) / l * f;m=(k + 1) * f - a;break;}b+=l;}return m + d.timestamp - c;}E=a(5).assert;L=a(818);D=a(388).h4a;C=a(388).i4a;T=a(817).x5a;P=a(387).F$a;ba=a(220).Gta;R=a(224).xV;V=a(60);W=new (a(3).Console)("ASEJS_QOE_EVAL","media|asejs");B=a(85).Q$ || a(85);f.V={yD:function(a){var b,d,c,f,m,t,r,n,q,x,A,J,C,D,T,P,ba,V,ea,O,M,U,X,da,ga,ja,fa,la;W.debug("greedy DEBUG false");B.R4("greedy-" + (a.GK?"segvmaf":"dlvmaf") + ": ");try{a.SD=[];m=a.yn;t=a.yg;r=a.so;n=r.ro;q=a.cd;n=Math.min(r.ax,n);for(ba=t.qh;ba <= n;ba++){V=new L();a.SD[ba]=V;m[0][ba].xea=m[0][ba].$;for(P=1;P < m.length;P++){m[P][ba].xea=m[P][ba].$;}P=0;x=m[P][ba];x.iq=Infinity;x.Qf=P;for(P=1;P < m.length;P++){x=m[P][ba];x.Qf=P;A=V.w1()?m[0][ba]:V.WHb();J=8 * x.xea / x.duration;C=8 * A.xea / A.duration;a.GK && void 0 !== x.qb?(D=x.qb,T=A.qb):(D=q[P].qb,T=q[A.Qf].qb);x.Kr=J - C;x.iq=(D - T) / x.Kr;isFinite(x.iq) && (0 < x.iq || P == m.length - 1) && 0 < x.Kr && V.enqueue(x);}}for(ba=t.qh;ba <= n;ba++){f=[];c=[];d=[];for(var ha=a.SD[ba].vn(),m=0;m < ha.length;m++){x=ha[m];f.push(x.Kr.toFixed(2));a.GK && void 0 !== x.qb?c.push(x.qb):c.push(q[x.Qf].qb);d.push(x.iq.toFixed(4));}}b=g(a);if(b.MR)return b;ea=a.yg;O=a.so;M=O.ro;M=Math.min(O.ax,M);d=[];for(var Q=ea.qh;Q <= M;Q++){a.SD[Q].w1() || d.push(a.SD[Q].aI());}for(var S=new R(d,a.Tgb?k:l);0 < S.length;){B.update("upgrade frags");U=S.pop();a:{M=ea=void 0;Q=a;d=b;c=U;da=Q.yg;ga=Q.so;ja=Math.min(ga.ax,ga.ro);fa=JSON.parse(JSON.stringify(d.nl));E(c && fa[c.index].bd < c.Qf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");M=c.index;ea=fa[M];ea.bd=c.Qf;ea.tq=h(Q,ea.bd,M);ea.startTime=u(ea.tq,ea.WH,Q.zq,da.Tr);fa[M]=ea;if(0 > ea.startTime)X=!1;else {for(M=c.index - 1;M >= da.qh;M--){ea=fa[M];la=fa[M + 1].startTime;if(ea.WH <= la)break;ea.WH=la;ea.startTime=u(ea.tq,ea.WH,Q.zq,da.Tr);fa[M]=ea;if(0 > ea.startTime){X=!1;break a;}}for(var ma=c.index + 1;ma <= ja;ma++){fa[ma].yga=fa[ma].tq + (ma > Q.yg.qh?fa[ma - 1].yga:0);}for(var pa=c.index + 1;pa <= ja;pa++){if(fa[pa].startTime > fa[c.index].eqb){ja=pa - 1;break;}}p(Q,fa,c,Math.min(M + 1,c.index))?(d.nl=fa,X=!0):X=!1;}}X && (a.SD[U.index].w1() || S.push(a.SD[U.index].aI()));}}finally{delete a.SD;}for(ga=da=X=U=S=0;ga < b.nl.length;ga++){if(ja=b.nl[ga])(fa=a.yn[ja.bd][ja.aNa],S+=(fa.qb?fa.qb:a.cd[ja.bd].qb) * fa.duration,U+=fa.duration,X+=fa.$,da+=a.yg.GC * fa.duration * 1 / 8);}b.jLa=0 < U?1 * S / U:0;b.Aga=U;b.zga=X;b.xga=da;b.Mr=B.Kia();W.debug("Max heap used: " + Math.round(b.Mr / 1024 / 1024) + " MB");return b;},dp:function(a){var b,f,l,k,h,p;B.R4("dp-" + (a.GK?"segvmaf":"dlvmaf") + ": ");b=g(a);if(!1 === b.Fo || !0 === b.MR)return b;f=m(a);l=new T(f);k=d(a);k={U_a:c(a),SHa:a.yg.GC,qTa:0,YSa:240,XSa:8 * a.kea.V5 / 1E3,wIa:.5,fIa:new ba(k),$La:0,o3b:void 0,qPa:void 0,FWa:void 0,iHa:!0};l=l.EA(k);k=t(f,l);f=n(f,l,a);h=[];p=a.yg.qh;l.forEach(function(a){h[p]={bd:a.ika};p++;});V(k,b);V(f,b);b.nl=h;b.Mr=B.Kia();W.debug("Max heap used: " + Math.round(b.Mr / 1024 / 1024) + " MB");return b;}};},function(f,b,a){var k,h;function c(){}function l(a,b,d){return function(c){c.GK=b;d && (c.Tgb=d);return a(c);};}k=a(819);h=a(816);c.prototype.constructor=c;c.prototype.create=function(a){switch(a){case "htwbr":a=h.yD;break;case "hvmafgr":a=k.yD;break;case "hvmafdp":a=k.dp;break;case "hvmafgr-dlvmaf":a=l(k.yD,!1);break;case "hvmafgr-segvmaf":a=l(k.yD,!0);break;case "hvmafgr2-dlvmaf":a=l(k.yD,!1,!0);break;case "hvmafgr2-segvmaf":a=l(k.yD,!0,!0);break;case "hvmafdp-dlvmaf":a=l(k.dp,!1);break;case "hvmafdp-segvmaf":a=l(k.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return a;};f.V=c;},function(f,b,a){var l,k,h;function c(a,b,d,c){this.Wa=a;this.G=b;this.gf=this.G.error.bind(this.G);this.kb=this.G.warn.bind(this.G);this.Vj=this.G.trace.bind(this.G);this.Cg=this.G.log.bind(this.G);this.lab=new k();this.H=c;this.HX=[];this.cY=void 0;a=c.Z0;l.call(this,a.numB * a.bSizeMs,a.bSizeMs);this.Qba=!0;}a(22);b=a(3);l=a(139);a(389);k=a(820);new b.Console("ASEJS_QOE_EVAL","media|asejs");h=a(85).Q$ || a(85);c.prototype=Object.create(l.prototype);c.prototype.add=function(a,b,d){this.cY || (this.cY=b);l.prototype.add.call(this,a,b,d);};c.prototype.xub=function(){var a;if(0 !== this.HX.length){a=[];this.HX.forEach(function(b){b && b.pH && a.push(b.zw());});return a;}};c.prototype.pc=function(){this.HX=[];};c.prototype.sxb=function(){var a,b,d;a=this.get(this.H.Z0.fillS);if(0 === a[0] || null === a[0]){a.some(function(a,c){if(a)return (b=a,d=c,!0);});if(b)for(var c=0;c < d;c++){a[c]=b;}}a={trace:a,timestamp:this.cY,Bp:this.Wc};this.Qba=!1;l.prototype.reset.call(this);this.Qba=!0;this.cY=void 0;return a;};c.prototype.kha=function(a){var b,d,c,g,f,l;if(a && !a.pH){d=a.so.ZQa;d && (a.Toa=this.Ada(a),a.c4=!1);if((b=this.sxb()) && b.trace && b.trace.length){c=a.yg.Tr;g=b.timestamp;if(g > c){f=b.Bp;l=b.trace[0];c=Math.ceil(1 * (g - c) / f);b.timestamp=g - c * f;for(g=0;g < c;g++){b.trace.splice(0,0,l);}}b.trace.length && b.trace.pop();}a.zq=b;b.trace && 0 === b.trace.length || void 0 === b.timestamp || (b=this.jjb(a),a.HUa=b,d && b && (a.c4=b.Fo),a.pH=!0,this.HX.push(a));}};c.prototype.jjb=function(a){var l,k,r,n;function b(a){var d;for(var b,c=0;c < a.length;c++){d=a[c].reduce(function(a,b){return b.qb?a + 1:a;},0);if(void 0 === b)b=d;else if(d !== b)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(d > b?d - b:b - d) * Math.LOG2E) + "]");}}for(var c=this.H.Y0,g={Fo:!1,Pz:!1,f_:0},f=0;f < c.length;f++){l=c[f];k=this.lab.create(l);if(k){r=h.now();n={};try{b(a.yn);n=k(a);}catch(L){n.t_=L;}n.Mgb=h.now() - r;g[l]=n;g.Fo=g.Fo || n.Fo;g.Pz=g.Pz || n.Pz;g.t_=g.t_ || n.t_;}}return g;};c.prototype.Ada=function(a){var b;a=a.so;b="";1E3 > a.cp && (b+=a.K1a);1E3 > a.xt && (b=b + ("" !== b?",":"") + a.zHa);1E3 <= a.cp && 1E3 <= a.xt && (b="media");return b;};f.V=c;},function(f,b,a){var c,l,k,h,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Ksa=void 0;c=a(163);l=a(821);k=a(423);h=a(8);g=a(22);p=a(3);f=(function(){function a(a,b,d,f,h,r,n,q,u){var u60,m,w60,t,x,v60;u60=2;for(;u60 !== 32;){switch(u60){case 12:var Z9b="d";Z9b+="e";Z9b+="fa";Z9b+="ult";this.dra=this.AZa=this.BZa=this.cra=this.WUa=this.XUa=0;this.KX=c[Z9b](h,r);u60=10;break;case 33:h.c6 && (this.VX=this.UX=!1);u60=32;break;case 10:b=this.CEa(d);void 0 !== b && void 0 !== b.qk && void 0 !== b.$i && void 0 !== b.sk && (m=(b.sk - b.qk) / b.$i);f=h.FR?g.Ve.mB:g.Ve.nB;u60=17;break;case 34:this.IG=new k.lV(n,h,this.G);u60=23;break;case 16:u60=this.jC.Rp?15:27;break;case 15:try{w60=2;for(;w60 !== 4;){switch(w60){case 2:(t=p.Ql(),x=new l(a,this.G,{bufferSize:t},h));this.ic.egb(x);this.NFa=x;w60=4;break;}}}catch(R){var a9b="Hindsight: Er";a9b+="ror wh";a9b+="en c";a9b+="reating QoEEvaluator: ";a000.u51(3);a.Za.Zl(a000.y51(R,a9b));}u60=27;break;case 35:u60=34;break;case 27:this.Uba=!1;u60=26;break;case 2:var v9b="1";v9b+="SIYbZ";v9b+="rNJCp9";this.G=b;this.ic=f;this.lb=q;this.jC=u;v9b;this.Wa=a;this.kb=this.G.warn.bind(this.G);u60=7;break;case 25:var B9b="b";B9b+="a";B9b+="se";B9b+="li";B9b+="ne";v60=h.Eyb;u60=v60 === B9b?24:22;break;case 23:this.Uba=this.IG.B1();u60=33;break;case 24:this.IG=new k.lV(n,h,this.G);u60=23;break;case 7:this.Vj=this.G.trace.bind(this.G);this.H=h;a000.u51(3);var c41=a000.n51(923077,76923);this.bFa=0 === Math.floor(c41 * Math.random()) % h.nea;this.Dr=this.$0=this.TPa=this.mZ=this.bq=void 0;u60=12;break;case 22:var X9b="L";X9b+="R";u60=v60 === X9b?21:35;break;case 26:u60=n && 1 < n.length && h.Sga?25:33;break;case 21:this.IG=new k.twa(n,h,this.G);u60=23;break;case 17:d && d.Cd >= f && d.La && m && this.rcb(d,b,m);u60=16;break;}}}var t60;t60=2;for(;t60 !== 27;){switch(t60){case 2:Object.defineProperties(a.prototype,{B1:{get:function(){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:return this.Uba;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Joa:{get:function(){var y60;y60=2;for(;y60 !== 1;){switch(y60){case 2:return this.NFa;break;}}},enumerable:!1,configurable:!0}});a.prototype.bZa=function(a,b,c){var z60;z60=2;for(;z60 !== 4;){switch(z60){case 2:this.Dr=a;h.X(b) || (this.TPa=b);h.X(c) || (this.$0=c);z60=4;break;}}};a.prototype.Sra=function(a){var A60;A60=2;for(;A60 !== 5;){switch(A60){case 2:this.H=a;this.KX.Sra(a);A60=5;break;}}};a.prototype.Vba=function(a,b,c,d){var B60,g;B60=2;for(;B60 !== 7;){switch(B60){case 2:g=this.H;B60=1;break;case 5:B60=void 0 !== d?4:3;break;case 1:var R9b="i";R9b+="q";R9b+="r";B60=a === R9b?5:9;break;case 4:return b.La && c && h.oa(d) && b.La.Ga < g.cP && d > g.s8;break;case 3:return !1;break;case 9:var i9b="a";i9b+="v";i9b+="g";B60=a === i9b?8:3;break;case 8:return b.La?b.La.Ga < g.cP:!0;break;}}};a.prototype.Bwb=function(a){var C60;C60=2;for(;C60 !== 1;){switch(C60){case 2:return 1 === a?this.KX.gS:this.KX.ux;break;}}};a.prototype.QK=function(a){var D60;D60=2;for(;D60 !== 1;){switch(D60){case 2:this.KX.QK(a);D60=1;break;}}};t60=7;break;case 10:a.prototype.ugb=function(a){var L60;L60=2;for(;L60 !== 1;){switch(L60){case 4:a.bq=this.bq;L60=2;break;L60=1;break;case 2:a.bq=this.bq;L60=1;break;}}};a.prototype.tsb=function(a){var M60,b,c,d,f,m,l,k,r;M60=2;for(;M60 !== 15;){switch(M60){case 12:M60=l?11:19;break;case 20:b.histtd=m;M60=19;break;case 2:var C9b="s";C9b+="tartpl";C9b+="ay";var Y9b="l";Y9b+="og";Y9b+="d";Y9b+="at";Y9b+="a";(b={},c=this.H,d=this.Wa,f={type:Y9b,target:C9b,fields:{}});f.fields=b;Object.keys(a).forEach(function(c){var N60;N60=2;for(;N60 !== 1;){switch(N60){case 2:b[c]=a[c];N60=1;break;}}});m=this.ic.get();m && m.La && (m=m.La.Ga);b.actualbw=m;M60=8;break;case 8:b.isConserv=this.bq;b.ccs=this.mZ;b.isLowEnd=this.xAb;b.histdiscbw=this.Dr;l=this.$0;M60=12;break;case 11:(k=function(a){var O60;O60=2;for(;O60 !== 1;){switch(O60){case 2:return h.oa(a)?Number(a).toFixed(2):-1;break;}}},m=[k(l.min || void 0),k(l.o3 || void 0),k(l.qk || void 0),k(l.$i || void 0),k(l.sk || void 0),k(l.p3 || void 0),k(l.max || void 0)],r=[],l=h.isArray(l.Ih) && l.Ih.reduce(function(a,b){var P60,c;P60=2;for(;P60 !== 3;){switch(P60){case 2:c=k(b.sf || void 0);b=k(b.n || void 0);-1 < c && -1 < b && a.push({mean:c,n:b});return a;break;}}},r));b.histtdc=l;M60=20;break;case 19:b.histage=this.TPa;c.Sga && this.IG && (b.ishighstable=this.Uba,b.avg_avtp=this.IG.$Ha,b.avg_ne=Number(this.IG.aIa).toFixed(4));d.Kb && (c=p.Ql(),b.maxAudioBufferAllowedBytes=c[g.Sa.AUDIO],b.maxVideoBufferAllowedBytes=c[g.Sa.VIDEO]);d.emit(f.type,f);M60=15;break;}}};a.prototype.usb=function(a){var Q60,m,l,k,b,c,d,f;Q60=2;for(;Q60 !== 6;){switch(Q60){case 1:[g.Sa.VIDEO,g.Sa.AUDIO].forEach(function(a){var R60,m;R60=2;for(;R60 !== 4;){switch(R60){case 2:R60=b.lb(a)?1:4;break;case 1:m=b.Wa.SOa(a);void 0 !== m && (a === g.Sa.VIDEO && (c.lI && (m.parallelDownloadMs=b.XUa,m.parallelDownloadBytes=b.WUa,m.singleDownloadMs=b.BZa,m.singleDownloadBytes=b.AZa,m.switchFromParallelToSingle=b.cra,m.switchFromSingleToParallel=b.dra),d && d.Cd && d.La && (m.asetput=d.La,m.aseiqr=d.Fr,m.tdigest=d.jj && d.jj.zw() || void 0),d && d.avtp && (m.avtp=d.avtp.Ga)),f.push(m));R60=4;break;}}});a.stat=f;(m=0,l=0,k=0);d.Cd && (m=d.La?d.La.Ga:0,l=d.Rh?d.Rh.Ga:0,k=d.Er?d.Er.Ga:0);Q60=9;break;case 9:var T9b="n";T9b+="on";T9b+="e";a.location={responseTime:l,httpResponseTime:k,bandwidth:m,confidence:d.Cd,name:this.$Tb};this.bFa && (a.bt={startTime:this.Al.startTime,audioMs:this.Al.Rv,videoMs:this.Al.Rx},this.Al.Rv=[],this.Al.Rx=[],this.Al.vla=this.Al.mla);T9b !== c.OA && (a.isConserv=this.bq,a.ccs=this.mZ);Q60=6;break;case 2:(b=this,c=this.H,d=this.ic.get(),f=[]);Q60=1;break;}}};a.prototype.deb=function(a){var S60,b;S60=2;for(;S60 !== 6;){switch(S60){case 3:S60=this.VX && b.Po && !a.Ho()?9:8;break;case 5:return !0;break;case 4:this.UX && (this.UX=!1);S60=3;break;case 1:S60=this.UX && a.Ho()?5:4;break;case 9:return !0;break;case 2:b=this.H;S60=1;break;case 8:this.VX && (this.VX=!1);return !1;break;}}};t60=17;break;case 7:a.prototype.Vfb=function(a,b,c,d,g,f){var E60,m;E60=2;for(;E60 !== 5;){switch(E60){case 2:m=this.H;m.c6 && this.deb(b) || !c || !d || !(c=f?Math.min(c,d,f):Math.min(c,d)) || (this.ic.get(),d=this.Wa.ya,a=d.Gt(d.$b,a),b.track.Ho() && a > m.mea && c === g?(m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:2}),m.set({maxPendingBufferLen:500})):(m.Po=!0,m.tJ=1,m.hu=2,m.aA=500),b.track.d4({type:b.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:m.xL,minRequestSize:m.FJ}),this.cra++,m.c6 && (this.UX=!0)):m.Po && !b.Ho() && (a < m.lea || c !== g) && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:3}),m.set({maxActiveRequestsPerSession:3}),m.set({maxPendingBufferLen:12E3})):(m.Po=!0,m.tJ=3,m.hu=3,m.aA=12E3),b.track.d4({type:b.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:m.xL,minRequestSize:m.FJ}),this.dra++,m.c6 && (this.VX=!0)));E60=5;break;}}};a.prototype.Zfb=function(a,b){var F60,c,d,g;F60=2;for(;F60 !== 7;){switch(F60){case 1:F60=this.bFa?5:7;break;case 2:c=this.H;F60=1;break;case 5:void 0 === this.Al && (this.Al={startTime:p.time.da(),Rv:[],Rx:[],vla:void 0,mla:void 0});(c=Math.floor((p.time.da() - this.Al.startTime) / c.MC),d=this.Al.mla,g=this.Al.vla?c - this.Al.vla - 1:c);F60=3;break;case 3:F60=void 0 === d || c > d?9:8;break;case 8:this.Al.mla=c;F60=7;break;case 9:(this.Al.Rv[g]=a,this.Al.Rx[g]=b);F60=8;break;}}};t60=14;break;case 17:a.prototype.CEa=function(a){var T60,U60;T60=2;for(;T60 !== 4;){switch(T60){case 1:a=a.jj;T60=5;break;case 14:return a;break;T60=4;break;case 2:var o9b="t";o9b+="d";o9b+="i";o9b+="g";o9b+="est";U60=this.H.aka;T60=U60 === o9b?1:3;break;case 3:T60=9;break;case 5:return a;break;case 9:a=a.Fr && a.Fr.x3;T60=5;break;}}};a.prototype.rcb=function(a,b,c){var V60,d;V60=2;for(;V60 !== 3;){switch(V60){case 2:d=this.H;this.Vba(d.OA,a,b,c)?this.bq=!0:this.bq=!1;this.mZ=0;this.Vba(d.Tla,a,b,c) && (this.xAb=!0);V60=3;break;}}};return a;break;case 14:a.prototype.tGb=function(){var G60,a,H60;G60=2;for(;G60 !== 4;){switch(G60){case 9:a=this.Wa;G60=4;break;G60=1;break;case 2:a=this.Wa;G60=1;break;case 1:G60=this.jC.Rp?5:4;break;case 5:try{H60=2;for(;H60 !== 1;){switch(H60){case 2:(this.ic.yLb(),this.NFa.pc());H60=1;break;}}}catch(t){var V9b="Hind";V9b+="sig";V9b+="ht: Error during clean up: ";a000.z51(3);a.Za.Zl(a000.y51(t,V9b));}G60=4;break;}}};a.prototype.FGb=function(a){var I60;I60=2;for(;I60 !== 1;){switch(I60){case 2:this.H.lI && a === g.Sa.VIDEO && (this.dra=this.cra=this.AZa=this.BZa=this.WUa=this.XUa=0);I60=1;break;}}};a.prototype.EGb=function(a,b){var J60;J60=2;for(;J60 !== 1;){switch(J60){case 2:a === g.Sa.VIDEO && (this.$Tb=b);J60=1;break;}}};a.prototype.gkb=function(a){var K60,b,c,d,f,m;K60=2;for(;K60 !== 8;){switch(K60){case 2:b=this.H;K60=1;break;case 5:var b9b="i";b9b+="q";b9b+="r";c=this.ic.get();b9b === b.OA && (d=this.CEa(c),void 0 !== d && void 0 !== d.qk && void 0 !== d.$i && void 0 !== d.sk && (f=(d.sk - d.qk) / d.$i));K60=3;break;case 1:var r9b="n";r9b+="on";r9b+="e";K60=r9b !== b.OA && !0 !== this.bq && a.state <= b.rma?5:8;break;case 3:m=b.FR?g.Ve.mB:g.Ve.nB;c && c.Cd >= m && this.Vba(b.OA,c,d,f) && (this.bq=!0,this.mZ=a.state);K60=8;break;}}};t60=10;break;}}})();b.Ksa=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.OBa=void 0;f=(function(){function a(a,b,f,h,g,p,d,m,t,n){var c;c=this;this.id=a;this.O=b;this.T=f;this.tP=g;this.fk=p;this.ls=d;this.C5=m;this.gl=t;this.xe=n;this.E0=function(a){var b,d;return (null === (d=null === (b=c.fk) || void 0 === b?void 0:b[a]) || void 0 === d?void 0:d.ZRb) || c.xe;};this.pa=h || Infinity;}Object.defineProperties(a.prototype,{la:{get:function(){return this.O.la;},enumerable:!1,configurable:!0}});a.prototype.KNa=function(){var a,b,f;a=this;f=Object.keys(this.fk || ({})).filter(function(b){var c,f;return !(null === (f=null === (c=a.fk) || void 0 === c?void 0:c[b]) || void 0 === f || !f.weight);});return f.length?null !== (b=f.map(this.E0).reduce(function(a,b){return a === b?b:void 0;})) && void 0 !== b?b:this.xe:this.xe;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.gl + " viewableId: " + this.O.la + " pts: " + this.T + "-" + this.pa + " defaultKey: " + this.tP + " dests: " + JSON.stringify(this.fk) + " terminal: " + ! !this.ls;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.O.la,"startPts:":this.T,endPts:this.pa,defaultKey:this.tP,"dests:":this.fk,terminal:! !this.ls,playlistSegmentId:this.gl};};return a;})();b.OBa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;c=a(0);l=a(25);k=a(5);f=(function(a){function b(b,c,g,f,l,k,h,r){b=a.call(this,b,c,g,f,l,k,h) || this;b.Mx=r;return b;}c.__extends(b,a);b.prototype.vJ=function(a){var b,c,g;c=a.gn;a=a.en;k.assert(void 0 !== c);g=null === (b=this.gd.Rr(c)) || void 0 === b?void 0:b.Ba;k.assert(void 0 !== g);l.sa && this.trace("segment " + g + " @ " + c.ka + "ms");this.LGa(g,c,a);};b.prototype.KLa=function(a,b){var c,d;c=a.yra;d=this.gd.Rr(b);k.assert(void 0 !== d);l.sa && this.trace("emitSegmentPresentingEvent @ " + a.timestamp.ka + "ms for segment " + c);a={type:"segmentPresenting",playerTimestamp:b,position:d};this.Mx && (a.metrics=this.Mx.Nia(c));this.events.emit(a.type,a);};return b;})(a(392).O$);b.TBa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.mCa=void 0;c=a(0);l=a(5);k=a(25);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.vJ=function(a){var b,c;b=a.stream;c=a.gn;a=a.en;l.assert(void 0 !== c);k.sa && this.trace("stream " + b.id + ", " + b.R + "kbit/s @ " + c.ka + "ms");this.LGa(b,c,a);};b.prototype.KLa=function(a,b){var c,d,g;d=a.yra;g=this.gd.Rr(b);l.assert(void 0 !== g);k.sa && this.trace("emitStreamPresentingEvent @ " + a.timestamp.ka + "ms for " + (null === d || void 0 === d?void 0:d.id) + ", " + ((null === d || void 0 === d?void 0:d.R) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.I,playerTimestamp:b,position:g,trackIndex:null === (c=null === d || void 0 === d?void 0:d.track) || void 0 === c?void 0:c.xC,streamIndex:null === d || void 0 === d?void 0:d.Qf});};return b;})(a(392).O$);b.mCa=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.XAa=void 0;c=a(0);l=a(825);k=a(824);f=(function(){function a(a,b,c,f,h,r,n,q){this.I=a;this.gd=c;this.events=h;this.ET=[];this.ET=[new l.mCa(a,b,c,f,h,r,n)];1 === this.I && this.ET.push(new k.TBa(a,b,c,f,h,r,n,q));}a.prototype.reset=function(){this.ET.forEach(function(a){return a.reset();});};a.prototype.close=function(){this.ET.forEach(function(a){return a.close();});};a.prototype.bi=function(a){return c.__read(this.ET,1)[0].bi(a);};return a;})();b.XAa=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Cta=void 0;c=a(166);l=a(25);f=(function(){function a(a,b,c){this.G=a;this.Dab=b;this.gg=c;this.$W=0;this.vX=!1;l.sa && a.trace("creating new iterator for " + this.gg);}Object.defineProperties(a.prototype,{rob:{get:function(){return this.$W;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{AZ:{get:function(){return this.ZDa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rm:{get:function(){return this.vX;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{uob:{get:function(){return this.Sj?this.Sj.Mw?"Complete":this.Sj.Coa?"WaitingForBranch":"WaitingForRequest":"Uninitialized";},enumerable:!1,configurable:!0}});a.prototype.next=function(){var a,b;a=this;b=this.Sj;return b?b.next().then(function(c){if(a.Sj !== b)return {done:!0};c.done || a.$W++;return c;}):c.eB.qja();};a.prototype.tMb=function(){this.YZa();this.MKb();};a.prototype.YZa=function(){var a;if(this.Sj){a=this.Sj;a && a.Gg();a && l.sa && this.G.trace("Disposing iterator that was on branch",this.AZ && this.AZ.ba);this.vX=!1;this.Sj=void 0;}};a.prototype.MKb=function(){var a,b,f,d;a=this;if(!this.vX){b=this.G;f=this.Dab;d=this.gg;this.$W=0;this.ZDa=void 0;this.Sj=c.sr(c.map(f.NOa(),function(c){var g;a.ZDa=c;a.$W=0;l.sa && b.trace("Received branch",c.ba);g=c.nQ(d);if(g)return {value:g};l.sa && b.error("Skipping Branch",c.ba);return {value:[]};},b),b);this.vX=!0;}};return a;})();b.Cta=f;},function(f,b,a){var c,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.rxa=void 0;c=a(0);l=a(25);f=a(393);k=a(394);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.Npb=function(b){a.prototype.M1.call(this,{value:b});};b.prototype.IQa=function(){return !0;};b.prototype.Nqa=function(){};b.prototype.M1=function(b){a.prototype.M1.call(this,b);b.done && (b=this.aH.AZ,l.sa && this.G.trace("Requests drained",{b1b:b && b.ba.id}),(b=b && b.bb(this.gg)) && b instanceof k.qV && b.FH(this.Ef.Fia() || 0));};return b;})(f.t6);b.rxa=a;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.txa=void 0;f=(function(){function a(a,b,f,h,g,p,d,m){this.Dc=a;this.rIa=b;this.config=f;this.console=h;this.I=g;this.Za=p;this.Ra=d;this.Cb=m;this.Dn=this.Og=!1;}a.prototype.FH=function(a,b){!this.Dc.ba.ls || this.Cb.QG || this.Cb.JX && !this.config.xda || (a-=this.Dc.pe,this.Og && !this.Dn && a + this.config.pRb >= b && 0 === this.Ra.ox && 0 === this.Ra.Ou && 0 === this.Ra.jKb && (b=this.Cb.Pd.O.eb,a=this.Cb.EI(),b + 1 < a || (this.rIa[this.I].o_a || this.Za.ldb(this.I),this.Dn=!0,this.rIa[this.I].a3())));};return a;})();b.txa=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.bCa=void 0;c=a(0);f=a(222);l=a(221);new (a(3).Console)("ASEJS_PREDICTOR","media|asejs");a=(function(a){var W60;function b(c,f){var X60,d;X60=2;for(;X60 !== 9;){switch(X60){case 2:d=a.call(this,c,f) || this;d.ux=function(a,b){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 2:return l.ux(d.config,a,b);break;}}};d.gS=function(a,c,g){var Z60,f;Z60=2;for(;Z60 !== 3;){switch(Z60){case 2:g=null !== g && void 0 !== g?g:d.sJ;f=b.kPb(a,d.config);a=a.La?a.La.Ga * (100 - d.hub(c,f)) / 100 | 0:0;return d.hLa(a,g);break;}}};X60=4;break;case 4:var J9b="1";J9b+="SIYbZrN";J9b+="JC";J9b+="p9";J9b;return d;break;case 13:"";return d;break;X60=9;break;}}}W60=2;for(;W60 !== 3;){switch(W60){case 14:return b;break;W60=3;break;case 4:return b;break;case 2:c.__extends(b,a);b.kPb=function(a,b){var a70,c,g;a70=2;for(;a70 !== 4;){switch(a70){case 2:g=! !a.bq;b.bra && (null === (c=a.La) || void 0 === c?void 0:c.Ga) < b.cP && (g=!0);return g;break;}}};b.prototype.hub=function(a,b){var b70,c,g;b70=2;for(;b70 !== 3;){switch(b70){case 2:(c=this.config,g=b?c.qfa:c.aea);b=b?c.rfa:c.cea;Array.isArray(b) && (g=l.jMa(b,a.Pk - a.md,c.bea));return g;break;}}};W60=4;break;}}})(f.OL);b.bCa=a;},function(f,b,a){var c,l,k,h,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.oya=void 0;c=a(0);f=a(118);l=a(222);k=a(221);a=a(3);h=f.hZ;g=f.xkb;p=f.kMa;d=f.Grb;m=f.TMb;new a.Console("ASEJS_PREDICTOR","media|asejs");a=(function(a){function b(b,c){var d70,f;d70=2;for(;d70 !== 12;){switch(d70){case 2:f=a.call(this,b,c) || this;f.ux=function(a,b){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 2:return k.ux(f.config,a,b);break;case 4:return k.ux(f.config,a,b);break;e70=1;break;}}};f.gS=function(a,b,c){var f70,g,l,k,h,t,r;f70=2;for(;f70 !== 13;){switch(f70){case 14:a000.z51(5);return f.hLa(a000.y51(b,1,r),c);break;case 6:void 0 !== a && (t=d(f.tFb,a),b=Math.min(b * t,1));f70=14;break;case 2:c=null !== c && void 0 !== c?c:f.sJ;r=null !== (l=null === (g=a.La) || void 0 === g?void 0:g.Ga) && void 0 !== l?l:0;g=null !== (h=null === (k=a[f.filter]) || void 0 === k?void 0:k.Ga) && void 0 !== h?h:r;k=Math.pow(Math.max(1 - g / f.oib,0),f.iib);f70=9;break;case 9:h=b.Pk - b.md;f.tPb?(b=p(f.xKa,h,1),h=p(f.wKa,h,1),b=b * k + h * (1 - k)):b=p(m(f.xKa,f.wKa,k),h,1);a=f.WTa && (null === (t=a[f.WTa]) || void 0 === t?void 0:t.LR);f70=6;break;}}};d70=4;break;case 4:Array.isArray(b.Xq.curves) && (f.xKa=g(b.Xq.curves[0],0,0,1),f.wKa=g(b.Xq.curves[1],0,0,1));d70=3;break;case 3:var H9b="1";H9b+="SIY";H9b+="bZr";H9b+="NJC";H9b+="p9";f.oib=h(b.Xq.threshold || 6E3,1,1E5);f.iib=h(b.Xq.gamma || 1,.1,10);f.filter=b.Xq.filter;f.tPb=! !b.Xq.simpleScaling;b.Xq.niqrfilter && b.Xq.niqrcurve && (f.WTa=b.Xq.niqrfilter,f.tFb=g(b.Xq.niqrcurve,1,0,4));H9b;return f;break;}}}var c70;c70=2;for(;c70 !== 5;){switch(c70){case 2:c.__extends(b,a);return b;break;}}})(l.OL);b.oya=a;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.eAa=void 0;c=a(5);f=(function(){function a(a){var b;b=this;void 0 === a && (a=[]);this.ef=a;a.forEach(function(a){return b.Wra(a);});}Object.defineProperties(a.prototype,{length:{get:function(){return this.ef.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P3:{get:function(){var a;return null !== (a=this.isa) && void 0 !== a?a:this.Rda;},enumerable:!1,configurable:!0}});a.prototype.bb=function(a){return 1 === a?this.isa:this.Rda;};a.prototype.every=function(a){return this.ef.every(a);};a.prototype.forEach=function(a){this.ef.forEach(a);};a.prototype.filter=function(b){return new a(this.ef.filter(b));};a.prototype.replace=function(a,b){var g;g=this.ef.indexOf(a);c.assert(-1 < g);c.assert(a.I === b.I);this.ef[g]=b;this.Wra(b);};a.prototype.WYa=function(a,b){(a=this.bb(a))?this.replace(a,b):this.add(b);};a.prototype.add=function(a){this.ef.push(a);this.Wra(a);};a.prototype.clear=function(){this.ef=[];this.Rda=this.isa=void 0;};a.prototype.Wra=function(a){1 === a.I?this.isa=a:this.Rda=a;};return a;})();b.eAa=f;},function(f,b,a){var l,h;function c(a,b,c,d,f){var g,m;c=null !== (g=b.Yf) && void 0 !== g?g:b.track.Nm(a,c.ka,void 0,f);a=null !== (m=b.sg) && void 0 !== m?m:b.track.pD(a,null === d || void 0 === d?void 0:d.ka,b.Kg);return [!b.Sz(),c,a];}Object.defineProperty(b,"__esModule",{value:!0});b.cUa=b.aUa=void 0;l=a(0);h=a(10);b.aUa=function(a,b,f,d,m){var g,k,p,r;g=b.bb(0);b=b.bb(1);k=l.__read(b?c(a,b,f,d,m):[!1],3);p=k[0];r=k[1];k=k[2];d=l.__read(g?c(a,g,p && void 0 !== (null === r || void 0 === r?void 0:r.T)?h.U.Pc(r.T):f,void 0 !== (null === k || void 0 === k?void 0:k.pa)?h.U.Pc(null === k || void 0 === k?void 0:k.pa):d,m):[!1],3);a=d[0];f=d[1];d=d[2];a && (null === g || void 0 === g?void 0:g.uQa(f,d));p && (null === b || void 0 === b?void 0:b.uQa(r,k));return [a,p];};b.cUa=function(a,b,c){return b.track.Nm(a,c.ka,void 0,!0).$g;};},function(f,b,a){var c,l,h,r;Object.defineProperty(b,"__esModule",{value:!0});b.fAa=void 0;c=a(0);l=a(10);h=a(833);r=a(5);f=(function(){function a(a){var b,c,g,f,l,h,k;b=this;c=a.config;g=a.O;f=a.ef;l=a.ba;h=a.$g;k=a.no;a=a.splice;this.oQa=this.ZO=!1;this.$Ia=function(){b.ZO || b.eHa() && b.$Ta();};this.config=c;this.ef=f;this.O=g;this.ba=l;this.$g=h;this.no=k;this.splice=a;}a.prototype.Jb=function(a){if(this.ZO)throw Error("Cannot call init() after cleanup");if(this.oQa)throw Error("Cannot call init() twice");this.oQa=!0;this.CUa=a;this.O.Mz.addListener("onHeaderFragments",this.$Ia);this.eHa() && this.$Ta();};a.prototype.pc=function(){this.ZO || (this.ZO=!0,this.CUa=void 0,this.O.Mz.removeListener("onHeaderFragments",this.$Ia));};a.prototype.$Ta=function(){var a,b,c;if(!this.ZO){b=this.yFb();c=!1;this.ba && !this.ba.OJ && (c=this.ena());null === (a=this.CUa) || void 0 === a?void 0:a.call(this,b,c);this.pc();}};a.prototype.eHa=function(){return this.ef.every(function(a){return a.track.ge;});};a.prototype.yFb=function(){var a,b;a=c.__read(h.aUa(this.config,this.ef,this.$g,this.no,this.splice),2);b=a[0];return a[1] || void 0 === this.ef.bb(1) && b;};a.prototype.ena=function(){var a,b;r.assert(this.ba);r.assert(!this.ba.OJ);a=this.ef.P3;b=h.cUa(this.config,a,this.ba.Mj);if(void 0 === b || void 0 === a.no)return !1;a=this.no && !this.no.equal(l.U.au)?a.no:l.U.au;this.ba.normalize(b,a);return !0;};return a;})();b.fAa=f;},function(f,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.aza=b.ywa=void 0;c=a(25);l=a(3);f=(function(){function a(a){this.NR=a;}a.prototype.$Na=function(a,b,f){var d,g;d=a.ca;a=a.Ui(b);a.HR=b + 1;if(!a.Ka)for(++b;b < d.length && b < f.sg.index && (a.duration < f.EJ || 0 !== b % this.NR);++b){g=d.get(b);if(a.duration + g.duration > f.kR)break;if(a.$ + g.$ > f.oma)break;a.tda(g);a.HR=b + 1;c.sa && f.Vj("getFragmentForHudsonRequest: extended fragment startPts:",a.T,"to duration:",a.duration,"size:",a.$,"index: ",b,"min request size in ms:",f.EJ);}a.KBb=f.Dc.xzb + (l.time.da() - f.Dc.Dzb);c.sa && f.Vj("getFragmentForHudsonRequest( " + b + ") returning: " + JSON.stringify(a));return a;};return a;})();b.ywa=f;f=(function(){function a(){}a.prototype.$Na=function(a,b,f,d){var g,l,h;g=a.ca;l=b === f.Yf.index;h=b === f.sg.index;!h || l && f.Yf.Ka?l?(l=a.YNa(f.Yf),l.US(f.Yf.ks),h && (l.ima(),l.gZa(f.Dc.ba))):l=a.Ui(b):(l=a.YNa(f.sg),l.US(f.sg.ks),l.ima(),l.gZa(f.Dc.ba));l.HR=b + 1;if(!d && (f.vda || !l.Ka))for(++b;b < g.length && b < f.sg.index && (l.$ < f.pTa || l.duration < f.EJ) && (1 === l.stream.bh.length || this.Bjb(a,b));++b){d=g.get(b);if(l.duration + d.duration > f.kR)break;if(l.$ + d.$ > f.oma)break;l.tda(d);l.HR=b + 1;c.sa && f.Vj("getFragmentForRequest: extended fragment startPts:",l.T,"to duration:",l.duration,"size:",l.$,"min request size:",f.pTa,"max request size:",f.oma,"min request duration:",f.EJ,"max request duration:",f.kR,"edit:",l.Ka);}c.sa && f.Vj("getFragmentForRequest( " + b + ") returning: " + JSON.stringify(l) + ", stream: " + JSON.stringify(l.stream));return l;};a.prototype.Bjb=function(a,b){return !a.bh.some(function(a){return b === a.mg;});};return a;})();b.aza=f;},function(f,b,a){var l,h,r,g,p,d;function c(a,b,c){p=c;d=c.map(function(a,b){return b;});if(null === g)return (a=h(c),g=c[a].R,new r(a));if(!c.length)return null;a=d.filter(function(a){return c[a].R == g;})[0];return void 0 === a?(l.log("Defaulting to first stream due to unvalid bitrate requested: " + g),new r(d[0])):new r(a);}b=a(36);a=a(3);l=b.console;h=b.Cha;r=b.Jn;g=null;p=null;d=null;a.Tjb && (a.Tjb.Ix={Jb:function(){d=p=g=null;},H4:function(a){g=a;},j3b:function(){return {all:p,bsa:d};}});f.V={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(f,b,a){(function(){var g70,b;g70=2;for(;g70 !== 8;){switch(g70){case 2:a(8);a(22);g70=5;break;case 5:a(36);b=a(17).Tc;g70=3;break;case 3:var m9b="1";m9b+="SIYbZrN";m9b+="J";m9b+="Cp";m9b+="9";f.V={checkBuffering:function(a,c,f,g,h,d){function m(b){var i70;i70=2;for(;i70 !== 5;){switch(i70){case 2:b=g.ca.D_(a.md + b,void 0,!0);return (n - a.tk) / (n + (b.offset + b.$) - q);break;}}}var h70,q,p,r,n,l,k,u;h70=2;for(;h70 !== 39;){switch(h70){case 8:return {complete:!1,Yz:!0};break;case 25:q=g.ca.ih(h);h70=24;break;case 44:u=k.offset;h70=43;break;case 5:(p=0,r=d.dsa && !k?d.bA:d.sma,r=Math.min(d.cx,r));h70=4;break;case 29:h70=0 < u?28:44;break;case 7:a000.z51(6);var d41=a000.n51(19,1,12,20,349);p=d.Zi * (k?d.Uoa:d41);d.crb && g.cb && g.cb.Rh && g.cb.Rh.Ga > d.Rla && (p+=d.pda + g.cb.Rh.Ga * d.Rna);h && (p+=h.Mp * d.qda);p=r?Math.min(r,p):p;h70=12;break;case 21:p=g.ca.Qd(h);d=Math.min(h + Math.floor(d.sS / p),g.ca.length - 1);h70=34;break;case 12:h70=!c?11:10;break;case 3:var M9b="ma";M9b+="x";M9b+="siz";M9b+="e";return {complete:!0,reason:M9b};break;case 10:n=0;a.ca.forEach(function(b){var j70;j70=2;for(;j70 !== 1;){switch(j70){case 2:n+=b.T + b.duration > a.md?b.$:0;j70=1;break;}}});f=Math.max(f,1);k=f * g.R;h70=17;break;case 24:h70=l >= p?23:41;break;case 16:return (c < k && (p=Math.min(r,Math.max(d.sS * (k / c - 1),p))),{complete:!1,GE:p,ni:0});break;case 27:h70=-1 === h?26:25;break;case 30:u=8 * u * f / c - k.T - p;h70=29;break;case 2:(l=a.Pk - a.md,k=c === b.ff);c=g.La || 0;h70=5;break;case 31:k=g.ca.get(d);h70=30;break;case 28:return (p=Math.min(r,l + u),{complete:!1,GE:p,ni:m(p)});break;case 42:var I9b="no";I9b+="re";I9b+="b";I9b+="u";I9b+="ff";return {complete:!0,reason:I9b};break;case 43:--d;h70=32;break;case 17:h70=!g.ca || !g.ca.length?16:15;break;case 4:h70=l >= r?3:9;break;case 26:var s9b="outo";s9b+="fr";s9b+="ange";return {complete:!0,reason:s9b};break;case 9:h70=c <= d.Xla && (0 < c || !d.nha)?8:7;break;case 32:h70=d > h?31:42;break;case 15:h=g.ca.Om(a.Vb);h70=27;break;case 22:var O9b="h";O9b+="i";O9b+="gh";O9b+="t";O9b+="p";return {complete:!0,reason:O9b};break;case 34:(u=g.ca.ih(d),p=8 * q * f / c - a.md);h70=33;break;case 11:return {complete:!1,GE:p};break;case 23:h70=c > k * d.z_?22:21;break;case 33:--d;h70=32;break;case 41:0 < c && c < k && (p=Math.min(r,Math.max(d.sS * (k / c - 1),p)));return {complete:!1,GE:p,ni:m(p)};break;}}}};m9b;g70=8;break;}}})();},function(f,b,a){var c,l,h,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.Eu=void 0;c=a(8);f=a(36);l=a(164);h=a(64);r=a(3);g=f.assert;p=f.Jn;b.Eu=d;(function(){var k70;k70=2;for(;k70 !== 5;){switch(k70){case 2:var z9b="1SIY";z9b+="bZrNJC";z9b+="p9";b.Eu=d=function(a,b,d,f,k,n){var l70,u,I,m,t,q,x,A,B,ha,Y,M,U,J,E,W,O,Q,S;l70=2;for(;l70 !== 68;){switch(l70){case 37:l70=void 0 !== Q?36:46;break;case 75:x=m;l70=20;break;case 6:a000.u51(4);A=a000.y51(x,m);0 > A && (A=0);A >= t.length && (A=t.length - 1);u=t[A].Sp;l70=11;break;case 50:U=b.mg;l70=49;break;case 63:q.UHa=k;l70=62;break;case 21:u=0;l70=35;break;case 74:--A;l70=73;break;case 58:A+=1;l70=57;break;case 59:l70=u < x?58:74;break;case 69:A--;l70=73;break;case 73:l70=0 <= A?72:75;break;case 47:U++;l70=49;break;case 53:I=Q.get(U);O.push({d:I.duration,PY:I.$});l70=51;break;case 72:l70=t[A].Sp === x?71:70;break;case 49:l70=U < Q.length?48:46;break;case 56:l70=t[A].Sp === x?55:77;break;case 25:t=h.rh.kKa(b.buffer.ca);t=b.buffer.Fp - t.$;x=d[f];l70=22;break;case 76:A++;l70=57;break;case 65:k.push({mg:b.mg,m6b:Q,k4b:S,a1b:ha,i6b:Y,k6b:M,tea:n,T2b:t,B1b:O,Q3b:x.R,R3b:null !== (J=x.qb) && void 0 !== J?J:0,O1b:B.R,P1b:null !== (E=B.qb) && void 0 !== E?E:0,M5b:m.R,N5b:null !== (W=m.qb) && void 0 !== W?W:0,Fo:A});l70=64;break;case 77:l70=t[A].Sp > x?75:76;break;case 41:Y.push(M.max);l70=40;break;case 51:U++;l70=54;break;case 43:Y.push(M.sk);Y.push(M.p3);l70=41;break;case 7:return l.PLAYING.call(this,a,b,d,f,k,n);break;case 10:x=A;l70=20;break;case 2:var y9b="player mi";y9b+="ssing fragmentInde";y9b+="x";var n9b="M";n9b+="ust have ";n9b+="at l";n9b+="east one selected";n9b+=" stream";g(!c.X(f),n9b);g(c.oa(b.mg),y9b);(t=a.mQb,q=new p(f),x=null !== (m=b.mg) && void 0 !== m?m:-1);m=t[0].Sp;A=t[t.length - 1].Sp;l70=8;break;case 34:(B=d[u],A=u <= f?!0:!1,ha=void 0,Y=[]);B.cb && B.cb.throughput && (ha=B.cb.throughput.Ga);l70=32;break;case 57:l70=A < t.length?56:75;break;case 35:l70=u < d.length?34:63;break;case 31:M=B.cb.tdigest;Y.push(M.min);l70=29;break;case 61:return l.PLAYING.call(this,a,b,d,f,k,n);break;case 64:u++;l70=35;break;case 71:m=A;l70=75;break;case 48:S+=Q.get(U).duration;l70=47;break;case 60:m=void 0;l70=59;break;case 36:U=b.mg;l70=54;break;case 22:m=d[f];l70=21;break;case 16:k=[];n=b.buffer;n=n.Pk - n.md;l70=25;break;case 70:l70=t[A].Sp < x?75:69;break;case 11:l70=u === x?10:60;break;case 18:q.rn=d[q.bd];l70=17;break;case 32:l70=B.cb && B.cb.tdigest?31:40;break;case 20:l70=void 0 !== x?19:61;break;case 19:q.bd=t[x].JMb;l70=18;break;case 8:l70=x < m || x > A?7:6;break;case 62:return q;break;case 40:M=void 0;B.cb && B.cb.tputTrace && (M=B.cb.tputTrace);(O=[],Q=B.ca,S=0);l70=37;break;case 55:m=A;l70=75;break;case 46:Q=void 0;b.QO && (Q=r.time.da() - b.QO);l70=65;break;case 54:l70=U < Math.min(U + a.Vhb,Q.length)?53:50;break;case 29:Y.push(M.o3);Y.push(M.qk);Y.push(M.$i);l70=43;break;case 17:l70=a.hrb?16:62;break;}}};z9b;k70=5;break;}}})();},function(f,b,a){b=a(838);f.V={PLAYING:b.Eu,PAUSED:b.Eu};},function(f,b,a){(function(){var m70,l,h,r,g;m70=2;function b(a,b,c,f){var n70,d;n70=2;for(;n70 !== 12;){switch(n70){case 2:var A9b="player missing fragment";A9b+="In";A9b+="dex";var u9b="Mu";u9b+="st ";u9b+="have at least one selected stre";u9b+="am";r(!l.X(f),u9b);r(l.oa(b.mg),A9b);b=g(f);n70=4;break;case 4:f=c.length - 1;n70=3;break;case 3:n70=-1 < f?9:14;break;case 7:return (b.bd=f,b);break;case 8:n70=d.cb && d.cb.La && d.R < d.cb.La.Ga - a.lRb?7:6;break;case 9:d=c[f];n70=8;break;case 6:--f;n70=3;break;case 14:b.bd=0;return b;break;}}}for(;m70 !== 7;){switch(m70){case 2:l=a(8);a(22);m70=5;break;case 5:var t9b="1SI";t9b+="YbZrNJ";t9b+="C";t9b+="p9";h=a(36);a(3);(r=h.assert,g=h.Jn,h=a(164));f.V={STARTING:h.STARTING,BUFFERING:h.BUFFERING,REBUFFERING:h.REBUFFERING,PLAYING:b,PAUSED:b};t9b;m70=7;break;}}})();},function(f,b,a){var l;function c(a,b,c){return new l(c.length - 1);}a(8);l=a(36).Jn;f.V={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(f,b,a){var l;function c(){return new l(0);}a(8);l=a(36).Jn;f.V={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(f,b,a){(function(){var o70,h,r,g,p,d,m,t,n,q,u;o70=2;for(;o70 !== 4;){switch(o70){case 7:"";o70=3;break;o70=4;break;case 2:(h=a(8),r=a(36),g=r.console,p=r.debug,d=r.assert,m=a(60),t=r.cJ,n=r.Jn,q=a(396),u=a(17).ta);f.V={STARTING:function(a,c,d,f){var v70,l,h;v70=2;for(;v70 !== 6;){switch(v70){case 4:var w9b="selectAudi";w9b+="oStreamStarting: over";w9b+="riding ";w9b+="config wit";w9b+="h ";(l={minInitAudioBitrate:a.wR,minHCInitAudioBitrate:a.vR,maxInitAudioBitrate:a.jR,minRequiredAudioBuffer:a.G2},p && g.log(w9b + JSON.stringify(h)),m(h,l));v70=3;break;case 2:l=a;h=d[f || 0].jg;v70=5;break;case 5:v70=(h=a && a.iL && 0 <= a.iL.indexOf(h)?b(h,a.v_a):b(h,a.Phb))?4:3;break;case 3:var E9b=" ";E9b+="kbp";E9b+="s, pr";E9b+="ofil";E9b+="e :";var p9b="s";p9b+="electAudioStr";p9b+="ea";p9b+="mStarting: selected stream :";a=q[u[u.Sg]](l,c,d,f);d=d[a.bd];p && g.log(p9b + d.R + E9b + d.jg);return a;break;}}},BUFFERING:l,REBUFFERING:l,PLAYING:l,PAUSED:l};o70=5;break;case 5:var K9b="1SIYb";K9b+="ZrNJ";K9b+="Cp9";K9b;o70=4;break;}}function b(a,b){var p70,c;p70=2;for(;p70 !== 4;){switch(p70){case 2:c=void 0;b.some(function(b){var q70,d;q70=2;for(;q70 !== 4;){switch(q70){case 2:d=b.profiles;(d=d && 0 <= d.indexOf(a)) && (c=b.override);return d;break;}}});return c;break;}}}function l(a,b,c,f){var r70,J,D,q,C,r,x,A,u,m,l,k;r70=2;for(;r70 !== 33;){switch(r70){case 4:return new n(f);break;case 22:var g9b="kbps, str";g9b+="eaming";g9b+="Pts :";var N9b=", aud";N9b+="io thro";N9b+="ug";N9b+="hput";N9b+=":";var G9b=" kbps, pr";G9b+="o";G9b+="fil";G9b+="e :";var F9b="sel";F9b+="ectAud";F9b+="ioStream";F9b+=": selected stre";F9b+="am :";var h9b=" kb";h9b+="p";h9b+="s";var j9b=" ";j9b+="kbps,";j9b+=" to ";var P9b="swi";P9b+="tchi";P9b+="ng audio from ";var k9b="d";k9b+="o";k9b+="w";k9b+="n";var S9b="u";S9b+="p";A=c[l];l !== f && p && g.log((l > f?S9b:k9b) + P9b + r.R + j9b + A.R + h9b);p && g.log(F9b + A.R + G9b + m + N9b + A.La + g9b + b.buffer.Vb);return new n(l);break;case 16:(J=this.wla,D=this.S1);r70=15;break;case 19:l=q;r70=22;break;case 11:r70=0 <= x?10:22;break;case 17:var l9b=" ";l9b+="k";l9b+="b";l9b+="ps";var L9b=" ";L9b+="k";L9b+="bps > ";var e9b="thro";e9b+="ughput for aud";e9b+="io ";r70=x < k.length - 1 && A > u.N0a * q * b.playbackRate && (p && g.log(e9b + A + L9b + u.N0a + "*" + q + l9b),q=b.buffer,C=q.Pk - q.md,r.ca && r.ca.length)?16:22;break;case 10:(q=k[x],C=c[q]);r70=20;break;case 12:var c9b=" ";c9b+="kbps,";c9b+=" try to ";c9b+="downs";c9b+="witch";var d9b=" ";d9b+="kbp";d9b+="s";d9b+=" ";d9b+="< ";var W9b="th";W9b+="r";W9b+="oughput for audio ";(p && g.log(W9b + A + d9b + u.pLa + "*" + q + c9b),--x);r70=11;break;case 5:r70=!(a && a.iL && 0 <= a.iL.indexOf(m))?4:3;break;case 20:r70=t(C) && (0 == x || C.R * b.playbackRate * u.pLa < A)?19:18;break;case 6:r70=0 > x?14:13;break;case 7:(r=c[f],q=r.R,x=k.indexOf(f),A=r.La,u=a.Rhb);r70=6;break;case 15:r70=b.Tz && C > u.Vw && (void 0 === D || Number(J) > D || q.Vb - D > u.c2)?27:23;break;case 8:r70=k && 1 < k.length?7:22;break;case 23:var U9b="m";U9b+="s";var x9b=", ";x9b+="b";x9b+="uffer l";x9b+="ev";x9b+="el = ";var f9b=", l";f9b+="astUpsw";f9b+="itchPts = ";var D9b="  Upswitch not a";D9b+="llo";D9b+="wed. lastD";D9b+="ownswitchPts = ";p && g.log(D9b + D + f9b + J + x9b + C + U9b);r70=22;break;case 14:l=0;r70=22;break;case 18:x--;r70=11;break;case 24:l=q;r70=22;break;case 2:var Q9b="Must have at least ";Q9b+="one";Q9b+=" selecte";Q9b+="d str";Q9b+="eam";d(!h.X(f),Q9b);m=c[f].jg;r70=5;break;case 27:var a8b=", stre";a8b+="amin";a8b+="gPts = ";var Z8b=", ";Z8b+="lastUpswi";Z8b+="tc";Z8b+="hPts = ";var q9b="  Ups";q9b+="witch a";q9b+="llowed. las";q9b+="tDownswitchPts ";q9b+="= ";p && g.log(q9b + D + Z8b + J + a8b + q.Vb);r70=26;break;case 13:r70=x && A < u.pLa * q * b.playbackRate?12:17;break;case 26:r70=++x < k.length?25:22;break;case 3:l=f;a.v_a.some(function(d){var s70,g,f,l,h,p,t;s70=2;for(;s70 !== 9;){switch(s70){case 3:return f;break;case 2:(g=d.profiles,f=g && 0 <= g.indexOf(m));s70=1;break;case 4:k=c.filter(function(a){var t70,b;t70=2;for(;t70 !== 5;){switch(t70){case 2:b=a.R;return b >= h && b <= p && 0 <= g.indexOf(a.jg) && b * l / 8 < t;break;}}}).map(function(a){var u70;u70=2;for(;u70 !== 1;){switch(u70){case 2:return a.Qf;break;}}});s70=3;break;case 5:(l=(d=d.ZJ) && d.G2 || a.G2,h=d && d.w4b || -Infinity,p=d && d.sJ || Infinity,t=b.buffer.Fp);s70=4;break;case 1:s70=f?5:3;break;case 12:return f;break;s70=9;break;case 6:s70=f?1:0;break;s70=f?5:3;break;}}});r70=8;break;case 25:r70=(q=k[x],C=c[q],t(C) && A > u.N0a * C.R * b.playbackRate)?24:26;break;}}}})();},function(f,b,a){var l,h,r,g;function c(a,b,c){var d,f;d=this.aca;b=b.buffer.Vb;f="forward" === a.CMb;if(l.X(d))return (d=f?h(c):h(c,c.length),this.bca=b,this.aca=d,new g(d));r(c[d]) || (d=h(c,d),this.bca=b,this.aca=d);if(0 > d)return null;if(b > this.bca + a.oRb){a=c.map(function(a,b){return a.Gr?b:null;}).filter(function(a){return null !== a;});if(!a.length)return null;f?d=(a.indexOf(d) + 1) % a.length:(d=a.indexOf(d) - 1,0 > d && (d=a.length - 1));this.aca=a[d];this.bca=b;return new g(a[d]);}return new g(d);}l=a(8);b=a(36);h=b.Cha;r=b.cJ;g=b.Jn;f.V={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(f,b,a){var c,l,h,r,g,p,d,m,t,n;Object.defineProperty(b,"__esModule",{value:!0});b.qAb=b.BYa=void 0;c=a(38);l=a(60);h=a(8);r=a(425);g=a(3);f=a(118);a=a(36);p=a.WEb;d=a.$ib;m=a.hZ;t=a.Jn;n=f.Aqa;a=(function(){function u(a,d,g){var F70,m,l;F70=2;for(;F70 !== 4;){switch(F70){case 2:(m=new t(),l=Math.max(a.ku,a.B2,d.A1?a.Nma:-Infinity));m.rn=c.Eh(g.filter(function(b){var G70;G70=2;for(;G70 !== 1;){switch(G70){case 2:return b.R <= a.bx;break;}}}).reverse(),function(c){var H70,h,g,k;H70=2;for(;H70 !== 13;){switch(H70){case 5:c=c.R * d.playbackRate;h=g.La;H70=3;break;case 1:H70=c.R > l?5:14;break;case 2:g={La:c.La,Xj:c.cb && c.cb.Xj,jj:c.cb && c.cb.jj};H70=1;break;case 3:H70=h?9:6;break;case 9:k=f(a,c);H70=8;break;case 14:var X8b="no_histori";X8b+="cal_lte_minb";X8b+="it";X8b+="rate";var B8b="hi";B8b+="st_tput_lt_";B8b+="mi";B8b+="nbitrate";var v8b="lt_hi";v8b+="st_lte_minbitr";v8b+="at";v8b+="e";(h=g.La,c.R * d.playbackRate <= h?(m.$t=h,g && (m.Tk=g.Xj?g.Xj:0,m.Uk=g.Xj?g.jj:void 0),m.reason=v8b,g=!0):h?(m.$t=h,g && (m.Tk=g.Xj?g.Xj:0,m.Uk=g.Xj?g.jj:void 0),m.reason=B8b,g=!1):(m.reason=X8b,g=!0));H70=7;break;case 8:var R8b="hist_bu";R8b+="ff";R8b+="time";b(c,h,a) <= k?(m.$t=h,g && (m.Tk=g.Xj?g.Xj:0,m.Uk=g.Xj && g.jj),m.reason=R8b,g=!0):g=!1;H70=7;break;case 7:return g;break;case 6:g=!1;H70=7;break;}}}) || g[0];F70=5;break;case 5:return m;break;case 7:return m;break;F70=4;break;}}}var w70;function a(a,b){var x70,c,d;x70=2;for(;x70 !== 12;){switch(x70){case 2:c=new t();c.rn=a;a=c.rn.cb || ({});x70=4;break;case 7:x70=(d=h.oa(b.G4) && 0 <= b.G4 && 100 >= b.G4 && !h.X(a) && !h.Ua(a))?6:14;break;case 14:var Y8b="hist_th";Y8b+="ro";Y8b+="ug";Y8b+="h";Y8b+="put";var i8b="h";i8b+="i";i8b+="st_";i8b+="t";i8b+="digest";d?(b=a.li(b.G4 / 100) || c.rn.La,c.$t=b,c.reason=i8b):c.rn.La && (b=c.rn.La,c.$t=b,c.reason=Y8b);return c;break;case 4:c.Uk=a.Xj && a.jj;c.Tk=a.Xj?a.Xj:0;a=l(c.Uk,{});x70=7;break;case 6:(d=r.ACa.swb(a),h.Yb(d)?(a.li=d,d=!0):d=!1);x70=14;break;}}}function f(a,b){var z70,d,g;z70=2;for(;z70 !== 13;){switch(z70){case 5:z70=0 === g?4:3;break;case 1:(d=a.k1,g=c.DC(d,function(a){var A70;A70=2;for(;A70 !== 1;){switch(A70){case 4:return b >= a.r;break;A70=1;break;case 2:return b <= a.r;break;}}}));z70=5;break;case 8:a000.z51(4);a=d[a000.n51(g,1)];d=d[g];z70=6;break;case 2:z70=a.k1?1:14;break;case 4:return d[0].d;break;case 6:return Math.floor(a.d + (d.d - a.d) * (b - a.r) / (d.r - a.r));break;case 3:z70=-1 === g?9:8;break;case 9:return d[d.length - 1].d;break;case 14:return a.kq;break;}}}function q(c,d,g){var C70,p,m,t,r,f,l;C70=2;for(;C70 !== 13;){switch(C70){case 5:(p=g[l],m=a(p,c),t=b(p.R * d.playbackRate,m.$t,c),r=k(m.$t,c),r=x(p,0,f,t,r,c),p=r.A_,r=r.reason);m.Jw=t;C70=3;break;case 2:(f=! !c.GJ && ! !c.VSa && g.every(function(a){var D70;D70=2;for(;D70 !== 1;){switch(D70){case 2:return a.qb && 110 >= a.qb;break;}}}),m=null,l=g.length - 1);C70=1;break;case 1:C70=0 <= l && (f?g[l].qb >= c.GJ:g[l].R >= c.ku)?5:7;break;case 9:m.reason=r;C70=8;break;case 8:l--;C70=1;break;case 7:var C8b="f";C8b+="allback_no_a";C8b+="ccepta";C8b+="ble_stream";h.Ua(m) && (m=a(g[0],c));h.Ua(m) && (m=a(g[0],c),m.reason=C8b);return m;break;case 3:C70=p?7:9;break;}}}w70=2;function b(a,b,c){var y70;y70=2;for(;y70 !== 5;){switch(y70){case 2:a=d(c.Zi,a * c.Dma);return p(a,b);break;}}}function x(a,b,c,d,g,f){var E70;E70=2;for(;E70 !== 5;){switch(E70){case 2:var V8b="no";V8b+="_valid_Bi";V8b+="trate";var o8b="n";o8b+="o_va";o8b+="lid_VMAF";var T8b="no_v";T8b+="a";T8b+="lid_De";T8b+="layTarget";a=c?a.qb >= f.GJ && a.qb <= f.VSa:a.R >= f.ku && a.R <= f.bx;return (d=d < g && a)?{A_:d}:{A_:d,reason:a?T8b:c?o8b:V8b};break;}}}for(;w70 !== 5;){switch(w70){case 2:var b8b="1";b8b+="SIYbZ";b8b+="rNJCp9";b8b;return {Ueb:function(a,b,c){var K70;K70=2;for(;K70 !== 1;){switch(K70){case 2:var r8b="h";r8b+="ist";r8b+="orica";r8b+="l";return r8b === a.yka?P(a,b,c):a.pO?q(a,b,c):u(a,b,c);break;}}},wcb:x};break;}}function P(a,b,d){var I70,f;I70=2;for(;I70 !== 7;){switch(I70){case 2:var J8b="v";J8b+="b";f=g.storage.get(J8b);I70=1;break;case 1:var H8b="num";H8b+="b";H8b+="e";H8b+="r";I70=H8b !== typeof f?5:4;break;case 4:var M8b="hist_";M8b+="bitra";M8b+="te";a=new t();a.rn=c.Eh(d.slice().reverse(),function(a){var J70;J70=2;for(;J70 !== 1;){switch(J70){case 2:return a.R <= f;break;case 4:return a.R < f;break;J70=1;break;}}}) || d[0];a.reason=M8b;I70=8;break;case 5:return a.pO?q(a,b,d):u(a,b,d);break;case 8:return a;break;}}}function k(a,b){var N1o=a000;var B70,c;B70=2;for(;B70 !== 9;){switch(B70){case 2:N1o.z51(4);var g41=N1o.n51(300000,200000);a=m(a,0,g41) / 1E3;B70=1;break;case 7:N1o.z51(7);var j41=N1o.y51(63,62,186);a=m(a,3,j41) - 251;B70=3;break;B70=1;break;case 5:c=b.HK;B70=4;break;case 1:var I8b="l";I8b+="o";I8b+="g";B70=0 === b.HK.lastIndexOf(I8b,0)?5:3;break;case 14:c=b.HK;B70=8;break;B70=4;break;case 3:var s8b="s";s8b+="igm";s8b+="oid";return 0 === b.HK.lastIndexOf(s8b,0)?(c=b.HK,(c=b.CYa[c]) && 2 === c.length?1E3 * (c[0] + c[1] * n(a)):b.kq):b.kq;break;case 4:return (c=b.CYa[c]) && 2 === c.length?1E3 * (c[0] + c[1] * Math.log(1 + a)):b.kq;break;}}}})();f=a.wcb;b.BYa=a.Ueb;b.qAb=f;},function(f,b,a){var c;a(8);c=a(36).console;f.V=function(a,b,f,g,h,d,m,t,n,q,u,E,L,D,C){var G1o=a000;var L70,l,k,p,r,x,A,J,ha;L70=2;for(;L70 !== 38;){switch(L70){case 33:G1o.u51(8);f+=G1o.n51(E,d,r,0);m+=x;L70=31;break;case 40:return {result:!1,dR:Math.min(a,g) / (l / 1E3),Tt:!0};break;case 44:L70=t >= n && a > A?39:43;break;case 29:(u+=p[ha],++ha,h+=k[ha]);L70=30;break;case 23:L70=u < J?22:21;break;case 34:G1o.u51(4);a=G1o.n51(m,f);L70=33;break;case 22:(f=h,u+=p[ha],++ha,a=k[ha],h+=a);L70=23;break;case 30:L70=h < f && ha < t?29:28;break;case 39:return {result:!0,dR:g / (l / 1E3),Tt:!0};break;case 21:L70=!C && (a=m - f,a < D)?35:34;break;case 24:J=Math.max(r,q);L70=23;break;case 8:a=a.Qd[0];G1o.z51(9);h=G1o.n51(1E3,l,h,a);G1o.u51(10);a=G1o.n51(8,d,E,0);G1o.z51(11);E=G1o.y51(0,8,E);L70=13;break;case 31:u-=r;L70=30;break;case 25:L70=u < r?24:41;break;case 42:g=Math.min(a,g);L70=15;break;case 2:var O8b="1SIYbZ";O8b+="rN";O8b+="JCp";O8b+="9";O8b;l=a.P;L70=5;break;case 15:L70=t < b?27:39;break;case 27:r=p[t];x=k[t];L70=25;break;case 28:++t;L70=44;break;case 5:b=Math.min(a.length,b);(k=a.Qd,p=a.sizes,A=g - f);g=Infinity;(J=0,ha=0);L70=8;break;case 16:G1o.z51(12);A*=G1o.n51(l,1E3);L70=15;break;case 20:G1o.u51(12);f*=G1o.n51(l,1E3);G1o.z51(12);m*=G1o.n51(l,1E3);G1o.z51(12);D*=G1o.n51(l,1E3);G1o.u51(12);L*=G1o.n51(l,1E3);L70=16;break;case 43:J=a;L70=42;break;case 13:var n8b=" >= fragme";n8b+="ntsLen";n8b+="gth: ";var m8b="S";m8b+="tr";m8b+="eamin";m8b+="gIndex";m8b+=": ";G1o.z51(12);d=G1o.n51(l,1E3);t >= b && c.error(m8b + t + n8b + b);f+=a;0 === m && (f=0);L70=20;break;case 41:L70=(a=Math.max(m - f,0),a < L && a < J)?40:33;break;case 35:return {result:!1,dR:a / (l / 1E3),Tt:!1};break;}}};},function(f,b,a){var c,h,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.F4=void 0;c=a(38);h=a(8);f=a(36);k=a(397);r=f.assert;g=f.Jn;b.F4=p;(function(){function a(a,b,d,f){var N70,l,k,p,t,n;N70=2;for(;N70 !== 7;){switch(N70){case 2:var u8b="select_fea";u8b+="si";u8b+="ble_";u8b+="buffering";var z8b="fallback_l";z8b+="owest_a";z8b+="cceptable_str";z8b+="ea";z8b+="m";var y8b="Must have a";y8b+="t least one selected s";y8b+="tream";r(!h.X(f),y8b);(l=d[f],k=l.R,p=l);l.La && (l=c.Eh(d.slice(0,Math.min(f + (a.Sgb?2:1),d.length)).reverse(),m),void 0 === l?(l=d[0],n=z8b):n=u8b,t=null === l || void 0 === l?void 0:l.La);N70=4;break;case 4:d=new g();d.rn=l;p !== l && (d.reason=n,d.$t=t);return d;break;}}function m(c){var O70,d;O70=2;for(;O70 !== 8;){switch(O70){case 4:var A8b="b";A8b+="uff_lt_";A8b+="his";A8b+="t";n=A8b;t=d;return !0;break;case 2:d=c.La;O70=1;break;case 1:O70=!d || (c.R > k?a.nTb:1) * c.R * b.playbackRate > d?5:4;break;case 5:return !1;break;}}}}var M70;M70=2;for(;M70 !== 5;){switch(M70){case 2:var w8b="1";w8b+="SI";w8b+="YbZr";w8b+="NJCp9";b.F4=p=function(b,c,d,g,f,l){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 2:var t8b="p";t8b+="l";t8b+="a";t8b+="yi";t8b+="ng";return t8b === b.rea?k.Eu.call(this,b,c,d,g,f,l):a.call(this,b,c,d,g);break;}}};w8b;M70=5;break;}}})();},function(f,b,a){var l;function c(a,b,c){a=c.map(function(a,b){return a.Gr?b:null;}).filter(function(a){return null !== a;});return a.length?new l(a[Math.floor(Math.random() * a.length)]):null;}l=a(36).Jn;f.V={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(f,b,a){var l,h,r,g;function c(a,b,c,f){if(l.X(f))a=h(c);else if(r(c[f]))a=f;else if((a=h(c,f),0 > a))return null;return new g(a);}l=a(8);b=a(36);h=b.Cha;r=b.cJ;g=b.Jn;f.V={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(f,b,a){var c,l,h,r,g,p,d,m,t,n;Object.defineProperty(b,"__esModule",{value:!0});b.pW=void 0;c=a(8);l=a(22);h=a(3);r=a(38);g=a(17);p=a(223);d=new h.Console("ASEJS_STREAM_SELECTOR","media|asejs");m=[g.ta[g.ta.Sg],g.ta[g.ta.Yd],g.ta[g.ta.ff],g.ta[g.ta.Vc],g.ta[g.ta.qj],"checkBuffering"];t={first:a(849),random:a(848),optimized:a(164),roundrobin:a(844),selectaudio:a(396),selectaudioadaptive:a(843),"default":a(164),lowest:a(842),highest:a(841),throughputthreshold:a(840),replay:a(839),checkdefault:a(837),testscript:a(836)};n={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};f=(function(){var Q70;Q70=2;for(;Q70 !== 14;){switch(Q70){case 2:a.prototype.H4=function(a,b,f,m,k,t){var T70,C,x,D,J,U70,n,q,A,u;T70=2;for(;T70 !== 50;){switch(T70){case 8:(C=A[u - 1].za,x=r.DC(b,function(a){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:return a.za === C;break;}}}));T70=7;break;case 34:T70=0 <= k?33:31;break;case 33:A=b[k];T70=32;break;case 28:this.cg.qqa(D.bd);m=b[D.bd];D.reason && (m.uq=D.reason,m.MS=D.$t,m.Jw=D.Jw,m.Tk=D.Tk,m.Uk=D.Uk);c.oa(x) && m.R < b[x].R && (this.Zba=f.Vb);T70=41;break;case 37:this.cg.aZa(l.$U.Sg);T70=18;break;case 18:D=this.Df[g.ta[a.state]].call(this,q,a,b,x,m,! !k);T70=17;break;case 53:T70=U70 === g.ta.qj?18:52;break;case 51:var p8b="Stream selector called with inv";p8b+="alid player state";p8b+=" ";return (d.error(p8b + g.ta[a.state]),null);break;case 30:T70=!D || null === D.bd?29:28;break;case 41:var E8b="pl";E8b+="ayi";E8b+="ng";a.state !== g.ta.Vc && a.state !== g.ta.qj?(b=p.F3(a.state),t=this.dw(a.buffer,b,a.playbackRate,m,t),(D.Zg=t.complete)?D.TY=t.reason:(D.Zg=!1,D.GE=t.GE,D.Yz=t.Yz,D.ni=t.ni)):(D.Zg=!0,D.TY=E8b);T70=40;break;case 52:T70=51;break;case 11:a.state !== g.ta.Sg && void 0 === x && (a.state=g.ta.Sg);T70=10;break;case 7:T70=!(0 <= x)?6:14;break;case 17:T70=D.rn && (D.kw=[],b.forEach(function(a,b){var X70;X70=2;for(;X70 !== 4;){switch(X70){case 2:a === D.rn && (D.bd=b);(!q.Nqb || a.ca && a.ca.length) && !a.Tqa || D.kw.push(a.za);a.Tqa=!1;X70=4;break;}}}),!D.kw.length)?16:30;break;case 24:T70=k < b.length?23:21;break;case 40:a.DP && (D.Vb=f.Vb,t=a && a.mg,b=m.ca,D.ei=b && void 0 !== t && !isNaN(t) && 0 <= t && t < b.length?b.gj(t):f.Vb,D.bJb=m.La || 0,D.cGb=m.cb && m.cb.La && m.cb.La.Ga || 0,D.tea=f.Pk - f.md,D.yIa=f.ti,D.rA=a.state,D.xp=a && a.xp,D.D0a=n,D.eRb=h.time.da());return D;break;case 29:return null;break;case 32:A.ca && A.ca.length || (m=!0,D.kw.push(A.za));T70=31;break;case 21:T70=!m?35:31;break;case 19:this.cg.aZa(l.$U.Sg);T70=18;break;case 22:A.ca && A.ca.length || (m=!0,D.kw.push(A.za));T70=21;break;case 23:A=b[k];T70=22;break;case 20:this.cca=this.Zba=void 0;T70=19;break;case 31:m || (D.kw=void 0);T70=30;break;case 26:T70=q.EZa && k > q.uR?25:31;break;case 27:m=!1;T70=26;break;case 6:(J=A[u - 1].R,x=r.DC(b,function(a){var W70;W70=2;for(;W70 !== 1;){switch(W70){case 2:return a.R > J;break;case 4:return a.R < J;break;W70=1;break;}}}),x=0 < x?x - 1:0 === x?0:b.length - 1);T70=14;break;case 36:T70=U70 === g.ta.ff?37:54;break;case 25:k=D.bd + 1;T70=24;break;case 10:U70=a.state;T70=U70 === g.ta.Sg?20:38;break;case 35:a000.u51(13);var m41=a000.n51(14,16,15,3361);k=D.bd - m41;T70=34;break;case 38:T70=U70 === g.ta.Yd?37:36;break;case 9:T70=0 < u?8:14;break;case 16:k=f.Pk - f.md;A=void 0;T70=27;break;case 54:T70=U70 === g.ta.Vc?18:53;break;case 14:c.X(x) && (x=this.cg.TQ);void 0 !== m && this.qoa(b,! !a.bq,a.buffer,m);a.state === g.ta.Sg && c.oa(x) && (a.state=g.ta.Yd);T70=11;break;case 2:f=null === a || void 0 === a?void 0:a.buffer;(n=h.time.da(),q=this.H,x=this.cg.TQ);c.oa(x) && a.state === g.ta.Sg && (this.cg.qqa(void 0),x=void 0);c.oa(x) && x >= b.length && (this.cg.qqa(void 0),x=void 0);(A=f.ca,u=A.length);T70=9;break;}}};a.prototype.dw=function(a,b,c,d,g){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 2:return this.Df.checkBuffering.call(this,a,b,c,d,g,this.H);break;}}};a.prototype.lQb=function(a,b,d){var Z70;Z70=2;for(;Z70 !== 1;){switch(Z70){case 2:c.X(b)?this.Zba=this.cca=void 0:b.R < d.R && (this.cca=a);Z70=1;break;}}};a.prototype.qoa=function(a,b,c,d){var a80,g,f;a80=2;for(;a80 !== 5;){switch(a80){case 2:this.L_(a,function(a){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 2:a.Gr && a.cb && a.cb.Cd?(g !== a.cb && (g=a.cb,b && a.cb && (a.cb.bq=!0),f=Math.floor(d(a.cb,c,a.track.O.Lr[0])),f=0 === f?1:f),a.La=f):a.La=void 0;b80=1;break;}}});a80=5;break;}}};Q70=3;break;case 3:a.prototype.L_=function(a,b){var c80,c;c80=2;for(;c80 !== 3;){switch(c80){case 2:a000.u51(12);var n41=a000.n51(13,13);c=a.length - n41;c80=1;break;case 1:c80=0 <= c?5:3;break;case 4:--c;c80=1;break;case 5:b(a[c],c,a);c80=4;break;case 6:b(a[c],c,a);c80=5;break;c80=4;break;}}};Object.defineProperties(a.prototype,{S1:{get:function(){var d80;d80=2;for(;d80 !== 1;){switch(d80){case 2:return this.Zba;break;}}},enumerable:!1,configurable:!0}});Q70=8;break;case 8:Object.defineProperties(a.prototype,{wla:{get:function(){var e80;e80=2;for(;e80 !== 1;){switch(e80){case 4:return this.cca;break;e80=1;break;case 2:return this.cca;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{TQ:{get:function(){var f80;f80=2;for(;f80 !== 1;){switch(f80){case 2:return this.cg.TQ;break;}}},enumerable:!1,configurable:!0}});return a;break;}}function a(a,b,c){var R70,d;R70=2;for(;R70 !== 7;){switch(R70){case 8:this.Df=m.reduce(function(b,c){var S70;S70=2;for(;S70 !== 5;){switch(S70){case 2:b[c]=((t[a] || t[n[c]])[c] || t[n[c]][c]).bind(d);return b;break;}}},{});R70=7;break;case 2:d=this;this.LK=a;this.H=b;R70=4;break;case 4:var K8b="1";K8b+="SIYbZ";K8b+="rNJCp9";this.cg=c;K8b;a=a || this.H.i5;R70=8;break;}}}})();b.pW=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.cCa=void 0;c=a(0);h=a(165);k=a(135);f=(function(a){function b(b,c){var d;d=a.call(this) || this;d.WMb=b;d.WO=c;return d;}c.__extends(b,a);b.prototype.W2=function(){return this.jc === h.Nq.bn?this.WMb:k.Mq.lsa;};b.prototype.Je=function(){this.WO();};return b;})(h.taa);b.cCa=f;},function(f,b,a){var c,h,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.ixa=void 0;c=a(0);h=a(20);k=a(5);r=a(165);g=a(135);f=(function(a){function b(b){var c;c=a.call(this) || this;c.VMb=b;c.reset();return c;}c.__extends(b,a);b.prototype.reset=function(){var a,b;if(this.jc === r.Nq.Bpa || this.jc === r.Nq.bn)null === (b=null === (a=this.bX) || void 0 === a?void 0:a["return"]) || void 0 === b?void 0:b.call(a);this.jc=r.Nq.bn;this.bX=this.VMb();this.mca=g.Mq.Q1a(h.U.rb);};b.prototype.rq=function(){this.reset();k.assert(this.gO);this.gO.uMb(this);};b.prototype.W2=function(){return this.mca;};b.prototype.Je=function(){var a,b,c;c=this.bX.next();c.done?(this.mca=g.Mq.lsa,null === (b=(a=this.bX)["return"]) || void 0 === b?void 0:b.call(a)):this.mca=c.value;};b.prototype.Qb=function(){var b,c;null === (c=(b=this.bX)["return"]) || void 0 === c?void 0:c.call(b);a.prototype.Qb.call(this);};return b;})(r.taa);b.ixa=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.HJa=void 0;c=a(0);h=a(25);k=a(5);b.HJa=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}h.sa && k.assert(a.length);return function(b,d){var g,f,k,p;try{for(var h=c.__values(a),l=h.next();!l.done;l=h.next()){k=l.value;p=k(b,d);if(0 !== p)return p;}}catch(L){g={error:L};}finally{try{l && !l.done && (f=h["return"]) && f.call(h);}finally{if(g)throw g.error;}}return 0;};};},function(f,b,a){var h,k,r,g,p,d,m,t,n,q,u;function c(a,b,d,g){var f,m;p.assert(a.Rm);f=d.Oa(a.currentTime);f=Math.max(f.ka / a.speed,0);m=null !== g && void 0 !== g?g:{id:void 0,XKa:f};m.id=setTimeout(function(){d.Oa(a.currentTime).iJ(r.U.rb)?b():c(a,b,d,m);},f);m.XKa=f;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.tW=void 0;h=a(0);k=a(15);r=a(20);g=a(224);p=a(5);d=a(25);m=a(853);t=a(165);n=a(852);q=a(851);u=a(135);f=(function(a){function b(b,c){var d;d=a.call(this) || this;d.Fa=b;d.console=c;d.cdb=0;d.Tba=!1;d.jc={NJ:r.U.au};d.s_=new k.Pg();d.zm=new g.xV([],m.HJa(function(a,b){return a.yK.zj(b.yK);},function(a,b){return a.ZE.id > b.ZE.id?1:a.ZE.id < b.ZE.id?-1:0;}));d.HHa(b);return d;}h.__extends(b,a);Object.defineProperties(b.prototype,{aPb:{get:function(){return this.Fa.Rm;},enumerable:!1,configurable:!0}});b.prototype.nKa=function(a,b){a=new (a.bind.apply(a,h.__spread([void 0],b)))();a.id=this.cdb++;a.Ahb(this);this.oda(a);return a;};b.prototype.uZ=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return this.nKa(n.ixa,a);};b.prototype.aub=function(){var a;return {hasSchedule:! !this.jc.ri,sleepTime:null === (a=this.jc.ri) || void 0 === a?void 0:a.XKa,nextWakeup:this.jc.NJ.ka,numTasks:this.zm.length,clock:{ir:this.Fa.Rm,ct:this.Fa.currentTime.ka,sp:this.Fa.speed}};};b.prototype.jKa=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return this.nKa(q.cCa,a);};b.prototype.HHa=function(a){var b;b=this;this.cL();this.s_.clear();this.Fa=a;this.s_.on(a,"stopStart",function(){return b.sK();});this.s_.on(a,"clockReset",function(){return b.zUa();});this.s_.on(a,"speedChanged",function(){return b.TGb();});this.zUa();this.emit("clockChanged");};b.prototype.TGb=function(){this.cL();this.sK();};b.prototype.Qb=function(){this.reset();};b.prototype.reset=function(){this.cL();this.zm.clear();};b.prototype.zUa=function(){var a,b;a=this;b=this.zm.map(function(a){return a.ZE;});this.cL();this.zm.clear();b.forEach(function(b){return a.oda(b,!1);});this.sK();};b.prototype.oda=function(a,b){var c,d;void 0 === b && (b=!0);c=a.W2();d=this.a0a(c);this.zm.push({ZE:a,yK:d,l4:c});b && this.sK();};b.prototype.sK=function(){var a,b,g,f,m,h;a=this;d.sa && (null === (b=this.console) || void 0 === b?void 0:b.trace("recheck schedule task count:" + this.zm.length));this.aPb?this.Tba?d.sa && (null === (g=this.console) || void 0 === g?void 0:g.trace("Already executing, bailing")):(b=this.jc.NJ,g=null !== (m=null === (f=this.zm.qu()) || void 0 === f?void 0:f.yK) && void 0 !== m?m:r.U.au,g.dE(this.jc.NJ) && (this.cL(!1),this.jc.NJ=g,g.lessThan(b) && (this.Fa.currentTime.Wp(g)?Promise.resolve().then(function(){return a.C0a();}):(d.sa && (null === (h=this.console) || void 0 === h?void 0:h.trace("Scheduling next wakeup for:" + g.ka)),this.jc.ri=c(this.Fa,function(){a.C0a();},g))))):this.cL();};b.prototype.C0a=function(){var a,b,c,d;c=0;d=null === (a=this.zm.qu()) || void 0 === a?void 0:a.l4;try{for(this.Tba=!0;1E4 > c++ && this.mSb();){;}}finally{this.Tba=!1;this.jc.NJ=r.U.au;1E4 < c && !this.yyb(d)?null === (b=this.console) || void 0 === b?void 0:b.error("Task scheduler executed more than 10000 iterations in same tick"):this.sK();}};b.prototype.yyb=function(a){var b,c;c=null === (b=this.zm.qu()) || void 0 === b?void 0:b.l4;return a && c && a.timestamp.equal(c.timestamp) && a.type === c.type?!1:!0;};b.prototype.mSb=function(){var a,b,c,g,f;f=null !== (b=null === (a=this.zm.qu()) || void 0 === a?void 0:a.yK) && void 0 !== b?b:r.U.au;if(this.Fa.currentTime.Wp(f) && (a=this.zm.pop())){b=a.ZE;d.sa && (null === (c=this.console) || void 0 === c?void 0:c.trace("Running a task now, scheduled for time:" + f.ka));try{b.EA();a.l4=b.W2();a.yK=this.a0a(a.l4);}catch(R){throw (null === (g=this.console) || void 0 === g?void 0:g.error("Unhandled error from a task occurred. Removing the task from future executions:" + R),b.Qb(),R);}finally{a.yK !== r.U.au && b.state === t.Nq.Bpa && this.zm.push(a);}return !0;}};b.prototype.uMb=function(a){p.assert(a.ij === this);this.cpa(a,!1);this.oda(a);};b.prototype.cpa=function(a,b){var c;void 0 === b && (b=!0);c=this.zm.find(function(b){return b.ZE === a;});c && this.GLb(c,b);};b.prototype.GLb=function(a,b){this.zm.remove(a);b && this.sK();};b.prototype.cL=function(a){void 0 === a && (a=!0);this.jc.ri && (a && this.emit("stopping"),clearTimeout(this.jc.ri.id));this.jc.ri=void 0;this.jc.NJ=r.U.au;};b.prototype.a0a=function(a){return a.type === u.caa.absolute?a.timestamp:a.timestamp.add(this.Fa.currentTime);};return b;})(k.EventEmitter);b.tW=f;},function(f,b,a){var c,h,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.ita=void 0;c=a(0);a(5);f=a(35);h=a(3);k=a(101);r=a(64);a=a(76);g=h.Fk;a=(function(a){function b(b,c,d,g,f,h,l){g.responseType=0;d=a.call(this,b,d,"",g,f,c,l) || this;r.rh.call(d,b,g);d.uma=c.uma;d.vma=c.vma;d.Fha=0;return d;}c.__extends(b,a);b.prototype.Jb=function(){this.ic || (this.ic=k.pf());};b.prototype.ou=function(){return g.prototype.open.call(this,this.cN,{start:this.offset,end:this.offset + Math.min(this.vma,Math.floor(this.uma * this.$)) - 1},this.bN,{},void 0,void 0,void 0);};b.prototype.abort=function(){return !0;};b.prototype.MN=function(){var a;a=this.kd || this.qf;this.ed || (this.ed=!0,this.Fha=a);};b.prototype.pca=function(){this.Fha=this.kd;};b.prototype.qca=function(){};b.prototype.LN=function(){var a;a=this.kd;this.ic && this.ic.Ty(this.Ne,this.Fha,a,{requestId:this.Sn(),re:this.Rb,type:this.I,nF:!0});this.Eg=this.ed=!1;this.pc();};b.prototype.XG=function(){this.Wf && this.Wf.clear();};return b;})(a.aB);b.ita=a;f.Se(r.rh,a,!1);},function(f,b,a){var c,h,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.Zsa=void 0;c=a(0);h=a(99);k=a(5);a(3);r=a(10);g=a(226);p=a(64);d=a(229);m=a(76);f=(function(a){function b(c,d,g,f,m,h){d=a.call(this,c,f,m,d,h) || this;d.tbb=g;d.kX=b.lB.INIT;d.I0b=f.offset;d.Yba=p.rh.prototype.toString.call(d) + " multiple";d.Xdb=f.$;d.fH(c.url,f.offset,8,0);return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{data:{get:function(){return this.mp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$:{get:function(){return this.Xdb;},enumerable:!1,configurable:!0}});b.prototype.Hj=function(a){var c,d;this.mp=this.kX === b.lB.INIT?a.response:r.Kt(this.mp,a.response);a.uS();switch(this.kX){case b.lB.INIT:c=new DataView(this.mp);d=c.getUint32(0);c=c.getUint32(4);h.wy(c);this.fH(a.url,a.offset + a.$,d,0);g.ZA.prototype.Hj.call(this,a);this.kX=b.lB.$xa;break;case b.lB.$xa:c=new DataView(this.mp);d=c.getUint32(this.PDa - 8);c=c.getUint32(this.PDa - 4);h.wy(c);this.fH(a.url,a.offset + a.$,d - 8,0);this.kX=b.lB.Vxa;g.ZA.prototype.Hj.call(this,a);break;case b.lB.Vxa:g.ZA.prototype.Hj.call(this,a);break;default:k.assert(!1);}};b.prototype.CC=function(a){if(this.Fe)return {status:m.yi.Uu};if(!this.Kw())return {status:m.yi.ERROR};this.Fe=a.appendBuffer(this.mp,r.Xk(this));return {status:this.Fe?m.yi.Uu:m.yi.ERROR};};b.prototype.fH=function(a,b,c,g){a=new d.JL(this.stream,this.tbb,this.Yba + " (" + this.va.length + ")",{u:this.u,I:this.I,za:this.za,R:this.R,offset:b,$:c,url:a,location:this.location,Rb:this.Rb,responseType:g},this,this.Xc,this.G);this.push(a);this.PDa=this.va.reduce(function(a,b){return a + b.$;},0);};b.lB={INIT:0,$xa:1,Vxa:2,name:["INIT","MOOF","MDAT"]};return b;})(g.ZA);b.Zsa=f;},function(f,b,a){var c,h,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.Vsa=void 0;c=a(0);a(5);h=a(8);f=a(35);k=a(3);r=a(101);g=a(64);p=a(76);d=a(169);m=k.Fk;a=(function(a){function b(b,c,d,f,h,l,k){var p;p=this;p=["cache","edit"].filter(function(a,b){return [l,f.Ka][b];});p=p.length?"(" + p.join(",") + ")":"";void 0 === f.responseType && (f.responseType=m.Zb && !m.Zb.zK.MB?0:1);p=a.call(this,b,d,p,f,h,c,k) || this;g.rh.call(p,b,f);p.ZEa=f.KBb;p.Wf.on(p,m.Zd.WYb,p.Mdb);p.Wf.on(p,m.Zd.VYb,p.Ldb);return p;}c.__extends(b,a);b.prototype.Jb=function(a){d.bB.prototype.Jb.call(this,a);this.ic || !this.Xc.xY && this.bc || (this.ic=r.pf());};b.prototype.ou=function(){var a;a={start:this.offset,end:this.offset + this.$ - 1};void 0 !== this.kc && 0 <= this.kc && void 0 !== this.Tb && (this.cN=this.lFa(this.cN,!0),a={start:0,end:-1});return m.prototype.open.call(this,this.cN,a,this.bN,{},void 0,void 0,this.sDa);};b.prototype.M5=function(){var a,b,c;if(this.complete)return 0;a=this.MXa;b=a.O;if(!a.url)return (this.G.warn("updateurl, missing url for streamId:",a.za,"mediaRequest:",this,"stream:",a),1);c=this.lFa(a.url,!1);return this.url === c || (b.T4(this,a.location,a.Gc),this.sT(c))?0:(this.G.warn("swapUrl failed: ",this.sI),2);};b.prototype.MN=function(){this.ed || (this.ed=!0,this.Ho=this.track.Ho(),this.qD(this),this.bm=0,this.cm=this.kd);};b.prototype.pca=function(){var a;a=this.kd;this.xz(this);this.cm=a;};b.prototype.qca=function(){var a;a=this.kd;this.rD(this);this.cm=a;this.bm=this.Ne;};b.prototype.Mdb=function(){var a;a=this.BBb;this.Eg=!0;this.ic && (this.ic.CE(a,{requestId:this.Sn(),re:this.Rb,type:this.I}),this.ic.npa(a));};b.prototype.LN=function(){var a;a=this.kd;this.ic && this.Eg && this.ic.EE(k.time.da(),this.Eg,{requestId:this.Sn(),re:this.Rb,type:this.I});this.Eg=this.ed=!1;this.vr(this);this.cm=a;this.bm=this.Ne;this.pc();};b.prototype.Ldb=function(){this.ic && (this.ic.Ty(this.P3b,this.BBb,this.ABb,{requestId:this.Sn(),re:this.Rb,type:this.I}),this.ic.EE(this.ABb,this.Eg,{requestId:this.Sn(),re:this.Rb,type:this.I}));this.Eg=!1;};b.prototype.QDa=function(a,b,c,d){return void 0 === a || void 0 === b || void 0 === c?0:b < c?0:a < c?d:a - c;};Object.defineProperties(b.prototype,{sRb:{get:function(){return h.X(this.kc) || 0 > this.kc || h.X(this.Tb)?0:this.QDa(this.kc,this.Tb - 1,this.ZEa,this.Xc.K2);},enumerable:!1,configurable:!0}});b.prototype.lFa=function(a,b){var c,d;if(h.X(this.kc) || 0 > this.kc || h.X(this.Tb))return a;c=[];d=this.QDa(this.kc,this.Tb - 1,this.ZEa,this.Xc.K2);c.push("ptsRange/" + this.kc + "-" + (this.Tb - 1));0 < d && b && c.push("timeDelay/" + d);a=a.split("?");b=a[0];for(var d="",g=0;g < c.length;g++){d+="/" + c[g];}return a[1]?b + (d + "?" + a[1]):b + d;};return b;})(p.aB);b.Vsa=a;f.Se(g.rh,a,!1);},function(f,b,a){var c,h,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.gU=void 0;c=a(0);h=a(5);f=a(35);k=a(230);a=a(117);r=(function(){function a(b,c){this.Ma=[];this.Vg=void 0;this.oc=0;this.G=b;c && c.length && (Array.isArray(c)?(this.Ma=c.slice(),this.gN(0,this.Ma.length)):c instanceof a && (this.Ma=c.Ma.slice(),this.gN(0,this.Ma.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ma.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.Ma.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.Ma[0];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ii:{get:function(){return this.Ma[this.Ma.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xa:{get:function(){return this.first && this.first.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nb:{get:function(){return this.ii && this.ii.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.first && this.first.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xk:{get:function(){return this.first && this.first.xk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});a.prototype.get=function(a){0 > a && (a+=this.Ma.length);return this.Ma[a];};a.prototype.push=function(a){this.Ma.push(a);this.gN(this.Ma.length - 1);return this.length;};a.prototype.unshift=function(a){this.Ma.unshift(a);this.gN(0,1);return this.length;};a.prototype.pop=function(){if(0 !== this.Ma.length)return (this.zca(this.Ma.length - 1),this.Ma.pop());};a.prototype.shift=function(){if(0 !== this.Ma.length)return (this.zca(0),this.Ma.shift());};a.prototype.splice=function(a,b){for(var d,g=[],f=2;f < arguments.length;f++){g[f - 2]=arguments[f];}0 > a && (a+=this.Ma.length);0 > a && (a=0);a > this.Ma.length && (a=this.Ma.length);if(void 0 === b || 0 > b)b=0;b=Math.min(b,this.Ma.length - a);0 < b && this.zca(a,a + b);f=(d=this.Ma).splice.apply(d,c.__spread([a,b],g));0 < g.length && this.gN(a,a + arguments.length - 2);return f;};a.prototype.slice=function(b,c){void 0 === b && (b=0);void 0 === c && (c=this.Ma.length);0 > b && (b+=this.Ma.length);if(b >= this.Ma.length)return new a(this.G);c > this.Ma.length && (c=this.Ma.length);0 > c && (c+=this.Ma.length);return new a(this.G,this.Ma.slice(b,c));};a.prototype.Eo=function(a){if(0 === this.Ma.length || a.Xa >= this.nb)this.push(a);else if(a.nb <= this.Xa)this.unshift(a);else {for(var b=0,c=this.Ma.length - 1,g;b < c - 1;){g=Math.floor((c + b) / 2);h.assert(g !== c && g !== b);a.Xa >= this.Ma[g].nb?b=g:c=g;}h.assert(b !== c);h.assert(this.Ma[b].nb <= a.Xa && this.Ma[c].Xa >= a.nb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.Ma.indexOf(a);if(0 > a)return !1;this.splice(a,1);return !0;};a.prototype.concat=function(){for(var b=[],c=0;c < arguments.length;c++){b[c]=arguments[c];}b=b.map(function(a){return a.Ma;});return new a(this.G,Array.prototype.concat.apply(this.Ma,b));};a.prototype.forEach=function(a){var b;b=this;this.Ma.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.Ma.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.Ma.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.Ma.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Ma.reduce(function(b,d,g){return a(b,d,g,c);},b);};a.prototype.indexOf=function(a){return this.Ma.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.Ma.some(function(d,g){c=g;return a(d,g,b);})?this.Ma[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.Ma.some(function(d,g){c=g;return a(d,g,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.G,this.Ma.filter(function(a,d){return b(a,d,c);}));};a.prototype.L_=function(a){for(var b=this.Ma.length - 1;0 <= b;--b){a(this.Ma[b],b,this);}};a.prototype.Lqa=function(a){for(var b=this.Ma.length - 1;0 <= b;--b){if(a(this.Ma[b],b,this))return !0;}return !1;};a.prototype.vI=function(a){if(this.empty || a < this.ad || a >= this.Vd)return -1;for(var b=0,c=this.Ma.length - 1,g;c > b;){g=Math.floor((c + b) / 2);if(a >= this.Ma[g].ad && a < this.Ma[g].Vd){c=g;break;}a < this.Ma[g].Vd?c=g - 1:b=g + 1;}return c;};a.prototype.EMa=function(a){a=this.vI(a);return 0 <= a?this.Ma[a]:void 0;};a.prototype.pY=function(a){var b;b=this.Ma[a].nb;for(a+=1;a < this.Ma.length && b === this.Ma[a].Xa;++a){b=this.Ma[a].nb;}a < this.Ma.length?void 0 === this.Vg?this.Vg=new k.cB(this,{nb:b}):this.Vg.RS(b):void 0 === this.Vg?this.Vg=new k.cB(this,{}):this.Vg.Vea();};a.prototype.kG=function(a,b){for(var c=a;c < b;++c){this.oc+=this.Ma[c].$;}void 0 === this.Vg || 0 === a?this.pY(0):this.Vg.nb === this.nb?this.pY(a - 1):this.Ma[a].Xa === this.Vg.nb && this.pY(a);};a.prototype.Bv=function(a,b){var c;if(0 === a)(this.Vg=void 0,b < this.length && this.pY(b));else {c=this.Vg;c.nb > this.Ma[a - 1].nb && (b < this.length?c.RS(this.Ma[a - 1].nb):c.Vea());}for(;a < b;++a){this.oc-=this.Ma[a].$;}};a.prototype.gN=function(a,b){void 0 === b && (b=a + 1);this.kG(a,b);};a.prototype.zca=function(a,b){void 0 === b && (b=a + 1);this.Bv(a,b);};return a;})();b.gU=r;f.Se(a.dB,r);f.Se(a.$A,r);},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.iua=void 0;c=a(0);a(5);f=(function(){function a(a,b){this.Bc=a;this.uG=b;this.yv();}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ee;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.Ee;},enumerable:!1,configurable:!0}});a.prototype.Dtb=function(){return this.Vf && this.Vf.get(0);};a.prototype.fib=function(){return this.pG && this.pG.get(this.pG.length - 1);};a.prototype.get=function(a){0 > a && (a+=this.length);for(var b=0;b < this.Bc.length;++b){if(this.Xg[b + 1] > a)return this.Bc[b].get(a - this.Xg[b]);}};a.prototype.push=function(a){this.Bc[this.uG(a)].push(a);this.yv();return this.Ee;};a.prototype.shift=function(){var a;if(this.Vf){a=this.Vf.shift();this.yv();return a;}};a.prototype.pop=function(){var a;if(this.pG){a=this.pG.pop();this.yv();return a;}};a.prototype.unshift=function(a){this.Bc[this.uG(a)].unshift(a);this.yv();return this.Ee;};a.prototype.Eo=function(a){var b;b=this.uG(a);this.Bc[b].Eo(a);this.yv();};a.prototype.remove=function(a){var b;b=this.Bc.some(function(b){return b.remove(a);});b && this.yv();return b;};a.prototype.splice=function(a,b){var k,r,n,q;for(var g,f=[],d=2;d < arguments.length;d++){f[d - 2]=arguments[d];}for(var d=[],m,h=a + Math.max(0,b),l=0;l < this.Bc.length;++l){k=this.Bc[l];r=this.Xg[l];n=this.Xg[l + 1];if(a < n){q=a - r;r=Math.min(h - r,k.length);void 0 === m && 0 < q && r < k.length?Array.prototype.push.apply(d,k.splice.apply(k,c.__spread([q,r - q],f))):(Array.prototype.push.apply(d,k.splice(q,r - q)),void 0 === m && (m=0 < l && 0 === q?l - 1:l));a=n;if(a >= h)break;}}if(f.length && void 0 !== m){for(h=this.uG(f[0]);0 < m && h < m && this.Bc[m].empty;){--m;}for(;f.length && h === m;){this.Bc[m].push(f.shift());if(!f.length)break;h=this.uG(f[0]);}for(;f.length && ++m < this.Bc.length && this.Bc[m].empty;){for(;f.length && h === m;){this.Bc[m].push(f.shift());if(!f.length)break;h=this.uG(f[0]);}}f.length && (g=this.Bc[m]).splice.apply(g,c.__spread([0,0],f));}this.yv();return d;};a.prototype.find=function(a){var b,c;b=this;return this.Bc.some(function(g,d){c=g.find(b.Ry(a,d));return void 0 !== c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b < this.Bc.length;++b){c=this.Bc[b].findIndex(this.Ry(a,b));if(-1 !== c)return c + this.Xg[b];}return -1;};a.prototype.indexOf=function(a){var c;for(var b=0;b < this.Bc.length;++b){c=this.Bc[b].indexOf(a);if(-1 !== c)return c + this.Xg[b];}return -1;};a.prototype.map=function(a){var b,c;b=this;c=this.Bc.map(function(c,d){return c.map(b.Ry(a,d));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.Bc.reduce(function(b,d,g){return d.reduce(c.Jfb(a,g),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Bc.forEach(function(c,f){c.forEach(b.Ry(a,f));});};a.prototype.L_=function(a){for(var b=this.Bc.length - 1;0 <= b;--b){this.Bc[b].L_(this.Ry(a,b));}};a.prototype.some=function(a){var b;b=this;return this.Bc.some(function(c,f){return c.some(b.Ry(a,f));});};a.prototype.Lqa=function(a){for(var b=this.Bc.length - 1;0 <= b;--b){if(this.Bc[b].Lqa(this.Ry(a,b)))return !0;}return !1;};a.prototype.every=function(a){var b;b=this;return this.Bc.every(function(c,f){return c.every(b.Ry(a,f));});};a.prototype.itb=function(a,b){var h,l;function c(b){return b.reduce(function(b,c,d,g){return void 0 === c?b:void 0 === b?d:0 > a(c,g[b])?d:b;},void 0);}for(var f=this,d=this.Bc.map(function(){return 0;}),m=this.Bc.filter(function(a){return a.empty;}).length;m < this.Bc.length;){h=d.map(function(a,b){return a < f.Bc[b].length?f.Bc[b].get(a):void 0;});l=c(h);b(h[l],this.Xg[l] + d[l],this);++d[l];d[l] === this.Bc[l].length && ++m;}};a.prototype.move=function(a){return this.remove(a)?(this.Eo(a),!0):!1;};a.prototype.UOb=function(){var a;if(this.Bc[1].length){a=this.Bc[1].shift();this.Bc[0].push(a);this.yv();}};a.prototype.Gsb=function(a){for(var b=-1,c=0;c < this.Bc.length;++c){if((b=a(this.Bc[c]),-1 !== b)){b+=this.Xg[c];break;}}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.yv=function(){var b;this.Ee=0;this.Xg=[0];this.pG=this.Vf=void 0;for(var a=0;a < this.Bc.length;++a){b=this.Bc[a];this.Ee+=b.length;this.Xg.push(this.Xg[this.Xg.length - 1] + b.length);!this.Vf && b.length && (this.Vf=b);b.length && (this.pG=b);}};a.prototype.Ry=function(a,b){var c,f;c=this;f=this.Xg[b];return function(b,g){return a(b,f + g,c);};};a.prototype.Jfb=function(a,b){var c,f;c=this;f=this.Xg[b];return function(b,g,h){return a(b,g,f + h,c);};};return a;})();b.iua=f;},function(f,b,a){var c,h,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Usa=void 0;c=a(0);a(5);h=a(859);f=a(35);k=a(858);r=a(117);g=a(88);p=a(230);a=(function(a){function b(b,d){var f,m;m=this;f=[new k.gU(b),new k.gU(b),new k.gU(b)];m=a.call(this,f,function(a){return a.complete?m.empty || a.Xa <= m.Ukb?0:1:a.active?1:2;}) || this;f=c.__read(f,3);m.ae=f[0];m.ed=f[1];m.tt=f[2];m.up=0;m.Yaa=0;m.G=b;g.xs.call(m,d);return m;}c.__extends(b,a);Object.defineProperties(b.prototype,{$:{get:function(){return this.ae.$ + this.ed.$ + this.tt.$;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xSb:{get:function(){return this.tt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{GKb:{get:function(){return this.up;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{UC:{get:function(){return this.ae.$;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tk:{get:function(){return this.ae.$ + this.ed.$ - this.up;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{first:{get:function(){return this.Dtb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ii:{get:function(){return this.fib();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Mga:{get:function(){return !this.ae.empty || this.tt.empty || this.ed.empty?this.first:this.ed.Xa < this.tt.Xa?this.ed.first:this.tt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IRa:{get:function(){return this.tt.empty || this.ed.empty?this.ii:this.ed.nb < this.tt.nb?this.tt.ii:this.ed.ii;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{NMa:{get:function(){return this.tt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{P:{get:function(){return this.first && this.first.P;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xa:{get:function(){return this.Mga && this.Mga.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nb:{get:function(){return this.IRa && this.IRa.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xk:{get:function(){return this.first && this.first.xk;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tkb:{get:function(){return this.ae.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pzb:{get:function(){return this.Tb - this.DJa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ukb:{get:function(){return this.ae.empty?this.Xa:this.ae.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{DJa:{get:function(){return this.ae.empty?this.kc:this.ae.Tb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{EJa:{get:function(){return this.ae.empty?this.ad:this.ae.Vd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IHb:{get:function(){return this.ed.Vd || this.ae.Vd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ou:{get:function(){return this.tt.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xp:{get:function(){return this.ed.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zkb:{get:function(){return this.ae.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yk:{get:function(){return this.ae.concat(this.ed);},enumerable:!1,configurable:!0}});b.prototype.kG=function(a){var b;a.vt?++this.Yaa:this.up+=a.Ne || 0;if(this.empty)this.Vg=new p.cB(this,{});else if(a.Xa !== this.nb)if(a.Xa > this.Vg.nb)this.Vg.RS(this.Vg.nb);else if(a.Xa < this.Xa || a.Xa === this.Vg.nb){b=a.nb;this.itb(function(a,b){return a.Xa - b.Xa;},function(a){b=a.Xa === b?a.nb:b;});b === Math.max(this.nb,a.nb)?this.Vg.Vea():this.Vg.RS(b);}a.fZa(this);};b.prototype.Bv=function(a){a.vt?--this.Yaa:this.up-=a.Ne;this.empty?this.Vg=void 0:a.Xa !== this.nb && a.nb <= this.Vg.nb && a.Xa > this.Vg.Xa && this.Vg.RS(a.Xa);a.lJa();};b.prototype.push=function(b){this.kG(b);return a.prototype.push.call(this,b);};b.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b && this.Bv(b);return b;};b.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b && this.Bv(b);return b;};b.prototype.unshift=function(b){this.kG(b);return a.prototype.unshift.call(this,b);};b.prototype.Eo=function(b){this.kG(b);a.prototype.Eo.call(this,b);};b.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return !1;this.Bv(b);return !0;};b.prototype.splice=function(b,d){for(var g=[],f=2;f < arguments.length;f++){g[f - 2]=arguments[f];}f=a.prototype.splice.apply(this,c.__spread([b,d],g));g.forEach(this.kG.bind(this));f.forEach(this.Bv.bind(this));return f;};b.prototype.$Jb=function(a){var b;b=this;this.reduce(function(c,d,g){d.vt && (a && a(d,g,b),0 === c.length || c[0].end !== g?c.unshift({start:g,end:g + 1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end - a.start);});};b.prototype.vI=function(a){return this.Gsb(function(b){return b.vI(a);});};b.prototype.EMa=function(a){a=this.vI(a);return -1 !== a?this.get(a):void 0;};b.prototype.sNb=function(a){var c;for(var b=[];a < this.length;){c=this.get(a);c && b.push(c);a++;}return b;};b.prototype.kx=function(a){this.move(a);this.qD(a);};b.prototype.WJ=function(a){this.up+=a.Ne - a.bm;this.rD(a);};b.prototype.Hj=function(a){for(this.up+=a.Ne - a.bm;this.ed.first && this.ed.first.complete && (this.ae.empty?this.ed.first === this.Mga:this.ed.first.Xa === this.ae.nb);){this.UOb();}this.vr(a);};b.prototype.TR=function(a,b,c){this.up-=a.Ne;++this.Yaa;this.Q_(a,b,c);};return b;})(h.iua);b.Usa=a;f.Se(g.xs,a,!1);f.Se(r.dB,a);f.Se(r.$A,a);},function(f,b,a){var c,h,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.S2a=void 0;c=a(99);h=a(167);k=a(22);r=a(10);a(5);g=a(20);p=a(3);d=a(76);f=(function(){function a(){var h80;h80=2;for(;h80 !== 1;){switch(h80){case 4:var S8b="1";S8b+="S";S8b+="IYbZrNJ";S8b+="C";S8b+="p9";S8b;h80=7;break;h80=1;break;case 2:var k8b="1SIYbZ";k8b+="rN";k8b+="J";k8b+="Cp9";k8b;h80=1;break;}}}var g80;g80=2;for(;g80 !== 12;){switch(g80){case 2:a.prototype.VDa=function(a){var i80;i80=2;for(;i80 !== 1;){switch(i80){case 2:return a && a.u === this.u && a.Rha === this.Rha?!0:!1;break;}}};a.prototype.tcb=function(){var j80,a;j80=2;for(;j80 !== 5;){switch(j80){case 2:a=this.Xc;return a.Yj && !a.Wy && this.stream.Hd && (a.Lzb || a.AQa && -1 !== a.AQa.indexOf(this.stream.la))?a.Mzb || 2:0;break;}}};a.prototype.Nab=function(a){var k80,b;k80=2;for(;k80 !== 5;){switch(k80){case 2:b=this.Xc;return {ktb:!1,yZa:!(void 0 !== b.o5?b.o5:a && a.o5)};break;}}};a.prototype.RDa=function(a,b,c){var l80,d,g,f;l80=2;for(;l80 !== 14;){switch(l80){case 9:a.xq=a.yZa?void 0 !== d?d:1:0;void 0 !== g && (a.Bqa=g);return a;break;case 5:l80=void 0 !== f.GQ && null !== f.GQ?4:6;break;case 2:f=this.Xc;a=this.Nab(a);l80=5;break;case 4:l80=(d=(void 0 !== b?b:f.GQ) || 0,b=f.xQa && f.xQa[this.stream.profile])?3:9;break;case 3:var j8b="d";j8b+="efaul";j8b+="t";var P8b="de";P8b+="f";P8b+="au";P8b+="l";P8b+="t";(g=b.name,d=void 0 !== b[c]?b[c]:void 0 !== b[P8b]?b[j8b]:d);l80=9;break;case 6:a.yZa=!1;l80=9;break;}}};g80=3;break;case 3:a.prototype.Oab=function(a){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 2:var h8b="on";h8b+="En";h8b+="try";return this.RDa(a,this.Xc.yQa,h8b);break;case 4:return this.RDa(a,this.Xc.yQa,"");break;m80=1;break;}}};a.prototype.Pab=function(a){var n80;n80=2;for(;n80 !== 1;){switch(n80){case 2:var F8b="on";F8b+="Ex";F8b+="i";F8b+="t";return this.RDa(a,this.Xc.zQa,F8b);break;case 4:return this.RDa(a,this.Xc.zQa,"");break;n80=1;break;}}};a.prototype.qab=function(a,b,c){var o80,f,m,l,k,p,t,r,n,q;o80=2;for(;o80 !== 12;){switch(o80){case 2:(m=this.Xc,l=!0);f=!1;a=h.Oia(m,a);o80=4;break;case 4:(k=this.xa,p=k.P,t=this.Qp,r=b?b.hoa:this.PVa - 2 * k.tb,n=r - this.cNa);c=m.ltb || c;b && !c && (f=d(n),q=f.Ipa,f=f.YTa);f || (q=r - g.U.Uma(a,p),q=new g.U(q - this.cNa,p),b=d(m.Kg?Infinity:Math.max(0,q.tb)),q=b.Ipa,(b=b.YTa) && 0 < q && !m.Kg && --q);this.Lj({start:0,end:q});q < (m.KEb || 1) && (l=!1);o80=13;break;case 13:return {WOb:l,RCb:f};break;}}function d(a){var p80,b,c;p80=2;for(;p80 !== 4;){switch(p80){case 2:a=Math.floor(Math.min(t,a) / k.tb);(b=k.tb * a,c=n - b);return {Ipa:a,Qp:b,V2b:c,YTa:0 < a && c < p / 1E3};break;}}}};a.prototype.CC=function(a,b,c,g,f,m){var q80,h,l;q80=2;for(;q80 !== 7;){switch(q80){case 1:q80=this.Fe?5:4;break;case 4:this.dNa?a=a.appendBuffer(r.Kt(this.DLa),r.Xk(this)):this.Ka && !this.Hr?(h=this.vbb(a,b,c,f,m),a=h.ia,h=h.Jo):this.Ka && this.Hr?(h=this.wbb(a,b,g,f,m),a=h.ia,h=h.Jo):a=this.I === k.Sa.AUDIO && l.cs && c && this.ks && c.Vd >= this.Vd && this.Tb - this.ks < this.ks - this.kc?!0:a.appendBuffer(this.response,r.Xk(this));this.Fe=!0;this.uS();return {status:a?d.yi.Uu:d.yi.ERROR,Jo:h};break;case 2:l=this.Xc;q80=1;break;case 5:return {status:d.yi.ERROR};break;}}};g80=6;break;case 6:a.prototype.vbb=function(a,b,d,g,f){var r80,m,h,l,t;r80=2;for(;r80 !== 6;){switch(r80){case 4:this.I === k.Sa.AUDIO && d && (g?f && this.BP():this.VDa(d)?d.Ka && this.Ka && this.Ka.start !== d.Ka.end && this.Lj({start:d.Ka.end}):(h=this.Oab(b),d.Vd === this.ad && (h.xq=0)));this.I === k.Sa.AUDIO && !d && this.Ka && (h.xq=Math.min(this.Ka.end - this.Ka.start,Math.max(this.tcb(),h.xq || 0)));0 >= this.duration && (t=!1,m=!0);r80=8;break;case 8:var e8b=" f";e8b+="r";e8b+="om";e8b+=" ";e8b+="[ ";var g8b="AseFragmen";g8b+="tMediaRequest: Fragment edit faile";g8b+="d for ";var N8b="med";N8b+="i";N8b+="a|a";N8b+="s";N8b+="ejs";var G8b="M";G8b+="P";G8b+="4";t && (this.Ka && (0 < this.Ka.start || h.xq)?(m=new c.gy(new p.Console(G8b,N8b),this.stream,this.response),(b=m.rXa(this.Ka.start,this.JJ,h.xq,h.Bqa))?(m=a.appendBuffer(r.Kt(b.Fd),r.Xk(this)),l=this.NX(h),this.GX(b.Fd)):(this.G.error(g8b + this.toString() + e8b + this.yz + "-" + this.T_ + "]"),m=!0)):m=a.appendBuffer(this.response,r.Xk(this)));return {ia:m,Jo:l};break;case 2:h={xq:0};m=!1;t=!0;r80=4;break;}}};a.prototype.wbb=function(a,b,d,g,f){var s80,m,h,l,p;s80=2;for(;s80 !== 8;){switch(s80){case 2:var l8b=" ";l8b+="fr";l8b+="om";l8b+=" [";l8b+=" ";var L8b="As";L8b+="eFragm";L8b+="entMediaRequest: Fragme";L8b+="nt edit";L8b+=" failed for ";(m=this.Xc,l={xq:0});h=!0;this.I === k.Sa.AUDIO && (g?f && (this.wLa(),h=0 < this.Ka.end):this.VDa(d)?d.Ka && 0 !== d.Ka.start?this.Lj({start:0,end:d.Ka.start}):h=!1:(l=this.Pab(b),m.cs || (b=this.qab(b,d,l.ktb),(h=b.WOb) && b.RCb && !l.Bqa && (l.xq=0))));h && 0 === this.duration && (h=!1);h?this.Ka && this.Ka.end < this.xI || l.xq?(h=new c.gy(this.G,this.stream,this.response),(h=h.zXa(this.Ka && this.Ka.end,this.P,l.xq,l.Bqa))?(a=a.appendBuffer(r.Kt(h.Fd),r.Xk(this)),p=this.NX(l),this.GX(h.Fd)):(this.G.error(L8b + this.toString() + l8b + this.yz + "-" + this.T_ + "]"),a=!0)):a=a.appendBuffer(this.response,r.Xk(this)):a=!0;return {ia:a,Jo:p};break;}}};return a;break;}}})();b.S2a=f;b["default"]=new f();},function(f,b,a){var c,h,k,r,g,p,d,m,t,n;Object.defineProperty(b,"__esModule",{value:!0});b.Rsa=void 0;c=a(0);h=a(22);k=a(99);f=a(3);r=a(10);g=a(5);p=a(226);d=a(64);m=a(229);t=a(76);n=f.Fk;a=(function(a){function b(b,c,g,f,l,k,p){var t,r;f=a.call(this,b,g,f,k,p) || this;l=d.rh.prototype.toString.call(f) + (l?"(cache)":"");t={offset:g.offset,$:g.Tma + 8,responseType:0};f.push(new m.JL(b,c,l + "(moof)",t,f,k,p));t={offset:g.offset + t.$,$:g.$ - t.$,responseType:n.Zb && !n.Zb.zK.MB?0:1};if(f.I === h.Sa.VIDEO && f.Ka){if(0 < f.Ka.start){if(r=f.GMa(f.Ka.start))(t.offset=g.offset + r,t.$=g.$ - r);}else f.Ka.end < f.xI && (r=f.GMa(f.Ka.end)) && (t.$-=g.$ - r);}f.push(new m.JL(b,c,l + "(mdat)",t,f,k,p));return f;}c.__extends(b,a);b.prototype.CC=function(a){var b,c,d,f,m;if(this.Fe)return {status:t.yi.Uu};if(!this.Kw())return {status:t.yi.ERROR};c=!1;if(this.dNa)(c=a.appendBuffer(r.Kt(this.DLa),r.Xk(this)),d=this.NDb);else {d=this.va[0].response;f=d.slice(0,d.byteLength - 8);m=new DataView(d);d=m.getUint32(f.byteLength);g.assert("mdat" === k.wy(m.getUint32(f.byteLength + 4)));if(this.Ka && 0 < this.Ka.start){b=new k.gy(this.G,this.stream,f);if(b=b.rXa(this.Ka.start,this.P))(c=a.appendBuffer(r.Kt(b.Fd),r.Xk(this)),d-=b.as,this.GX(b.Fd,d));b=this.NX();}else if(this.Ka && this.Ka.end < this.xI){b=new k.gy(this.G,this.stream,f);if(b=b.zXa(this.Ka.end,this.P))(c=a.appendBuffer(r.Kt(b.Fd),r.Xk(this)),d-=b.as,this.GX(b.Fd,d));b=this.NX();}else c=a.appendBuffer(f,r.Xk(this));}c && (c=a.appendBuffer(k.gR(d - 8),r.Xk(this))) && (c=a.appendBuffer(this.va[1].response,r.Xk(this)));this.Fe=c;this.qLb();return {status:c?t.yi.Uu:t.yi.ERROR,Jo:b};};return b;})(p.ZA);b.Rsa=a;},function(f,b,a){var c,h,k,r,g,p,d,m,t,n,q,u,E;Object.defineProperty(b,"__esModule",{value:!0});b.tBa=void 0;c=a(0);h=a(227);k=a(860);r=a(857);g=a(856);f=a(88);p=a(855);d=a(5);m=a(8);t=a(3);n=a(225);q=a(10);u=a(115);E=t.Promise;a=(function(a){function b(b,c,d,g,f,m,h){var l;l=a.call(this,b) || this;l.H=c;l.G=d;l.Bm=g;l.Lc=f;l.gg=m;l.h1a=!0;l.Xf=new n.kU(l.G);l.gf=l.G.error.bind(l.G);l.kb=l.G.warn.bind(l.G);l.Vj=l.G.trace.bind(l.G);l.WFa();l.ot=null === h || void 0 === h?void 0:h.uZ(function(){return l.ZLb();});return l;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{I:{get:function(){return this.gg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Dc:{get:function(){return this.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Gu:{get:function(){return 0 < this.AA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qqa:{get:function(){return !this.EG;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{AA:{get:function(){return this.va.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ou:{get:function(){return this.va.Ou;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jKb:{get:function(){return this.Xf.count;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Jt:{get:function(){return this.va.complete.en;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{er:{get:function(){return this.va.EJa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ifa:{get:function(){return this.va.DJa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{em:{get:function(){return void 0 === this.va.ad?0:this.va.Vd - this.va.ad;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mo:{get:function(){return {$:this.va.UC,ka:Math.max(this.va.EJa - this.va.ad,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JH:{get:function(){return this.va.Tkb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{UC:{get:function(){return this.va.UC;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Uy:{get:function(){return this.va.$;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ox:{get:function(){return this.$bb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Nna:{get:function(){return this.va.pzb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T0:{get:function(){return this.va.length > this.va.Ou;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xp:{get:function(){return this.va.xp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qVa:{get:function(){return this.va.length - this.Uj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ca:{get:function(){return this.va;},enumerable:!1,configurable:!0}});b.prototype.ig=function(){var a;this.va.forEach(function(a){a.abort();a.pc();});this.WFa();this.Xf.o_();null === (a=this.ot) || void 0 === a?void 0:a.Qb();};b.prototype.reset=function(){this.ig();this.Xf.spa();};b.prototype.close=function(){this.Xf.o_();};b.prototype.WNb=function(){this.CDa=!0;};b.prototype.$ia=function(){return {hasSentinel:void 0 !== this.Xf.count,queueCount:this.Xf.count,isComplete:this.Xf.Mw,itemCount:this.Xf.FJa,continuousEndPts:this.Xf.vn().reduce(function(a,b){return b && !b.done && (b=b.value,100 > Math.abs(b.Rha - a) || -1 === a)?b.rtb:a;},-1),sentinelItemCount:this.Xf.vn().filter(function(a){return a && a.done;}).length,processedCount:this.Xf.opb,rc:this.AA};};b.prototype.cob=function(a,b,c){var f,m;f=this.H;d.assert(!a.Yp);f.$qb && 1 === this.I?m=new g.Zsa(c,f,b.track,a,this.va,this.G):c.O.RLa(this.gg)?(m=new r.Vsa(c,f,b.track,a,this.va,!1,this.G),f.l_ && 0 < m.sRb && (a=new p.ita(c,f,b.track,a,this.va,!1,this.G),a.Jb(this),a.ou())):m=h.hU.create(c,f,b.track,a,this.va,!1,this.G);m.Jb(this);this.Vq(m);return m;};b.prototype.Kgb=function(a){var b;a.Jb(this);a.sda=!0;this.Vq(a);b=E.resolve();a.complete?(this.oba(a),this.Bm.mUa(a.stream,a.ad,a.kc),b=this.IT(),this.vr(a)):(a.active && this.qD(a),a.dXa && this.xz(a));return b;};b.prototype.Vq=function(a){var b,c;this.va.Eo(a);(null === (b=this.ot) || void 0 === b?void 0:b.state) === u.Nq.complete && (null === (c=this.ot) || void 0 === c?void 0:c.rq());this.oba(a);a.Hr && (this.EG=!1);};b.prototype.nQ=function(){return this.Xf.cub();};b.prototype.bJa=function(){this.Uj === this.va.length && this.CDa && this.Xf.o_();};b.prototype.IT=function(){var a,b,c,d,l;a=this;c=E.resolve();d=this.Lc;if(!d.DQa(this.gg) || this.Uj === this.va.length)return c;for(var g=this.H.EDb,f=0,h=[];this.Uj < this.va.length;){if(b=this.va.get(this.Uj)){if(this.va.NMa && this.va.NMa.Xa < b.Xa)break;if(!b.Kw())break;h.push(b);++f;m.oa(this.ad) || (this.ad=b.ad);}++this.Uj;if(!m.X(g) && f >= g)break;}if(h.length){void 0 !== this.Xf.count && (this.gf("Request Manager count"),this.Xf.spa());if(this.h1a)c=E.all(h.map(function(b){return a.Xf.enqueue(b).then(function(){return a.N0(b);});}));else for(b=0;b < h.length;b++){try{l=h[b];d.ywb(this.I).Npb(l);this.N0(l);}catch(ha){return (this.Uj-=h.length - b,E.reject(ha));}}this.bJa();}return c;};b.prototype.N0=function(a){this.XMa(a);};b.prototype.DKb=function(a){var d;for(var b,c=0;c < this.va.length;++c){d=this.va.get(c);d && a < d.Vd && (m.X(b) && (b=c),d.Fe=!1);}m.X(b) || (this.Uj=b,this.Xf.spa());return this.IT();};b.prototype.nO=function(a,b){var c,d,g;c=this;d=[];if(0 !== this.va.Ou){g=this.va.IHb;this.va.xSb.Lqa(function(b){if(!m.X(a) && b.O.eb !== a || b.Hr || g > b.ad)return !0;b.I_ && (c.EG=!1);if(!c.Xaa(b))return (c.kb("request abort failed:",b.toString()),!0);d.unshift(b);});this.KFa();d.length && "function" === typeof b && b(d);}};b.prototype.j4=function(){this.KFa();};b.prototype.ZLb=function(){var a,b,g,f,m,h;return c.__generator(this,function(c){switch(c.label){case 0:c.label=1;case 1:if(!this.va.length)return [3,3];a=this.va.get(0);b=q.U.Pc(null !== (h=null === (m=this.H.bT) || void 0 === m?void 0:m.ka) && void 0 !== h?h:0);g=b.add(a.en);return [4,u.Mq.ZT(g)];case 2:return (c.yk(),d.assert(a === this.va.get(0)),a.Fe || this.Xaa(a),f=this.va.splice(0,1),0 < this.Uj && this.Uj--,this.Bm.c3(f),[3,1]);case 3:return [2];}});};b.prototype.mS=function(a,b){var c,d,g,f,m,h;c=this;d=this.H;g=!1;f=0;m=this.va.some(function(m){if(a < m.Vd)return (g && c.oba(m),!0);++f;m.Fe || (c.kb("pruning unappended request:",m && m.toString()),d.ah && c.Bm.al("prune pts:" + a + " unappended request:" + (m && m.toString())),m.I_ && (c.EG=!1,g=!0),c.Xaa(m,b) || c.gf("MediaRequest.abort error:",m.kg));});if(0 < f){h=this.va.splice(0,f);this.Uj-=Math.min(f,this.Uj);this.Bm.c3(h);}return m;};b.prototype.w0=function(a){var b,c,d;void 0 === a && (a={bP:null,hK:null,ad:null,tk:0,ti:0,ca:[]});b=this.H;c=this.va;m.oa(c.ad) && (null === a.ad || c.ad < a.ad) && (a.ad=c.ad);d=this.er;void 0 !== d && null === a.bP && (a.bP=d);d=c.Vd;void 0 !== d && (null === a.hK || d > a.hK) && (a.hK=d);a.tk+=c.tk;a.ti=b.Dqa?a.ti + c.GKb:a.ti + c.UC;Array.prototype.unshift.apply(a.ca,c.yk.ca);return a;};b.prototype.qr=function(a){if(this.va.length && (a=this.va.EMa(a)))return a;};b.prototype.Bq=function(){var a,b;a=this;b=[];this.va.forEach(function(c){var d;d=c.M5();1 === d?b.push(c):2 === d && a.Dc.O.xg("swapUrl failure");});return b;};b.prototype.ml=function(a){return this.H.rK?(this.Xf.clear(),this.DKb(a)):E.resolve();};b.prototype.VJ=function(a){a.Rz && a.Kw() && this.IT();this.xz(a);};b.prototype.Hj=function(a){a.Rz && !a.Fe && this.IT();this.vr(a);};b.prototype.Ada=function(a){var b,c,d;b=1 === this.gg?"v_":"a_";c=this.va;d=c.vI(a);a=0 <= d?c.get(d):void 0;return (c=0 <= d && d + 1 < c.length?c.get(d + 1):void 0) && a?a.Vd !== c.ad?b + "rg":a.complete && c.complete?b + "uk":b + "fd":b + "rm";};b.prototype.$bb=function(){return this.va.xp + this.va.Ou;};b.prototype.WFa=function(){var a,b,c;b=void 0 !== this.va && 0 < this.va.length;c=this.va;this.va=new k.Usa(this.G,this);this.Uj=0;this.Xf.clear();this.ad=null;null === (a=this.ot) || void 0 === a?void 0:a.rq();this.CDa=this.EG=!1;b && (a=c.map(function(a){return a;}),this.Bm.c3(a));};b.prototype.oba=function(a){this.EG?a.I_=!1:this.EG=a.I_=!0;};b.prototype.Xaa=function(a,b){if(!a.abort())return !1;"function" === typeof b && b(a);return !0;};b.prototype.KFa=function(){var a,b,c,d;a=this;if(0 !== this.va.length){c=[];d=0;this.va.$Jb(function(b,g){g < a.Uj && ++d;c.push(b);});this.Uj-=d;null === (b=this.ot) || void 0 === b?void 0:b.rq();this.Bm.c3(c);}};return b;})(f.xs);b.tBa=a;},function(f,b,a){var c,h,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.gAa=void 0;c=a(22);h=a(10);k=a(20);r=a(101);g=a(3);f=(function(){function a(a,b,c,g,f){this.ru=a;this.mr=b;this.H=c;this.G=g;this.gg=f;}a.prototype.MFb=function(a){a={type:"requestCreated",request:a};h.Pa(this.mr,a.type,a);};a.prototype.LFb=function(a){var b;b=a.Ra.Dc.ba;a={type:"updateStreamingPts",mediaType:a.I,position:{Ba:b.id,offset:k.U.Pc(this.ru.ifa - b.T)},completePlayerStreamingTimestamp:k.U.Pc(this.ru.er),trackIndex:a.stream.track.xC};h.Pa(this.mr,a.type,a);};a.prototype.mUa=function(a,b,c){var d,f;d=this.gg;f=this.ru.cg;f.hZa(a);1 === d && this.H.y4 && (void 0 === f.tla?f.jZa(g.time.da()):g.time.da() - f.tla > this.H.y4 && (a.R !== f.GRa && (g.storage.set("vb",a.R),f.AOb(a.R)),f.jZa(g.time.da())));f.SQ && f.SQ === a || (this.ru.Ix.lQb(b,f.SQ,a),f.rOb(a),b=0,a.cb && a.cb.Cd && a.cb.La && (b=a.cb.La.Ga),f={Ba:this.ru.Dc.ba.id,offset:k.U.Pc(c - this.ru.Dc.ba.T)},a={type:"streamSelected",nativetime:g.time.da(),mediaType:d,streamId:a.id,manifestIndex:a.O.eb,trackIndex:a.track.xC,streamIndex:a.Qf,movieTime:c,bandwidth:b,longtermBw:b,rebuffer:0,position:f},h.Pa(this.mr,a.type,a));};a.prototype.HFb=function(a,b,g){var d,f,m,l,k;d=b.O;f=d.Wk;m=this.ru.cg;l=d.$Ab(b);k=l.cla;l=l.aBb;g && b.Gc && !m.UQ?(l=c.Rg.mv,b.uq=c.Rg.name[l],this.lUa(d.eb,a,b.Gc,b.uq,b.location,b.R),m.UQ=b.Gc):!g && b.Gc && b.Gc !== m.UQ && (l=l?void 0 === m.UQ?c.Rg.mv:f.KK === c.Rg.P9?c.Rg.a$a:c.Rg.w6:c.Rg.$9a,b.uq=c.Rg.name[l],this.lUa(d.eb,a,b.Gc,b.uq,b.location,b.R),m.UQ=b.Gc);m.fJ || (l={type:"logdata",target:"startplay",fields:{}},this.gg === c.Sa.AUDIO?l.fields.alocid=b.location:this.gg === c.Sa.VIDEO && (l.fields.locid=b.location),h.Pa(this.mr,l.type,l));g && b.location && !m.fJ?(l=c.Rg.mv,b.uq=c.Rg.name[l],this.jUa(d.eb,a,b.location,b.Kla,b.Gc,b.JE,b.uq,b.su),m.fJ=b.location):!g && b.location && b.location !== m.fJ && (l=k?void 0 === m.fJ?c.Rg.mv:f.KK === c.Rg.P9?c.Rg.A7a:c.Rg.w6:c.Rg.z7a,b.uq=c.Rg.name[l],this.jUa(d.eb,a,b.location,b.Kla,b.Gc,b.JE,b.uq,b.su),b.su=void 0,m.fJ=b.location);this.H.Wr || (b.DRa=b.location,b.ERa=b.Gc);};a.prototype.c3=function(a){a={type:"requestsPruned",requests:a};h.Pa(this.mr,a.type,a);};a.prototype.lUa=function(a,b,g,f,l,k){var d,m;d=this.gg === c.Sa.VIDEO?"video":"audio";m=r.pf().get();a={type:"serverSwitch",manifestIndex:a,segmentId:b,mediatype:d,server:g,reason:f,location:l,bitrate:k,confidence:m.Cd};m.Cd && (a.throughput=m.La.Ga);this.ru.cg.UQ && (a.oldserver=g);h.Pa(this.mr,a.type,a);};a.prototype.jUa=function(a,b,g,f,l,k,p,r){h.Pa(this.mr,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:b,mediatype:this.gg === c.Sa.VIDEO?"video":"audio",location:g,locationlv:f,serverid:l,servername:k,selreason:p,seldetail:r});};a.prototype.oca=function(a,b){b={type:"lastSegmentPts",segmentId:a.id,pts:Math.floor(b)};a.tA || h.Pa(this.mr,b.type,b);};a.prototype.al=function(a){a={type:"managerdebugevent",message:"@" + g.time.da() + ", " + a};h.Pa(this.mr,a.type,a);};a.prototype.qtb=function(a){h.Pa(this.mr,"transportReport",a);};return a;})();b.gAa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Isa=void 0;c=a(25);f=(function(){function a(a){this.console=a;this.eC=[];this.Gy=[];c.sa && this.console.trace("Received pending adoption " + this.CA.length);}Object.defineProperties(a.prototype,{length:{get:function(){return this.eC.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{CA:{get:function(){return this.Gy;},enumerable:!1,configurable:!0}});a.prototype.nDb=function(a){a=this.Gy.indexOf(a);-1 !== a && (c.sa && this.console.trace("Marking request attached"),this.eC[a].FQa=!0,this.B0a(a));};a.prototype.oDb=function(a){a=this.Gy.indexOf(a);-1 !== a && (c.sa && this.console.trace("Marking request completed"),this.eC[a].Mw=!0,this.B0a(a));};a.prototype.HLb=function(a){var b,c;b=this;c=[];this.Gy.forEach(function(b,d){a(b) && c.unshift(d);});c.forEach(function(a){b.Gy.splice(a,1);b.eC.splice(a,1);});};a.prototype.push=function(a){this.Gy.push(a);this.eC.push({FQa:!1,Mw:!1});c.sa && this.console.trace("Pushing pending request, " + this.length + " total");};a.prototype.AD=function(){return 0 < this.length;};a.prototype.B0a=function(a){var b;b=this.eC[a];b.FQa && b.Mw && (b=this.Gy[a],this.Gy.splice(a,1),this.eC.splice(a,1),c.sa && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.sa && this.console.trace("Removing last request, contentEndPts: " + b.Tb));};return a;})();b.Isa=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;c=a(3).Promise;f=(function(){function a(a,b,c){var g;this.lhb=a;this.nca=b;this.ibb=c;this.Gba=(g={},g[0]=!1,g[1]=!1,g);this.reset();}a.prototype.dw=function(){var a,b;a=this;b=this.lhb.filter(function(b){return !b.IQa(a.ibb());});0 === b.length && this.Wba?this.jdb():b.forEach(function(b){a.Gba[b.I] || (b.once("requestAppended",function(){a.Gba[b.I]=!1;a.dw();}),a.Gba[b.I]=!0);});};a.prototype.reset=function(){var a;a=this;this.Wba=!1;new c(function(b){a.jdb=b;}).then(function(){return a.nca();});};a.prototype.pDb=function(){this.Wba || (this.Wba=!0,this.dw());};return a;})();b.wAa=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.Wsa=void 0;c=a(17);h=a(10);f=(function(){function a(a){this.RC=a;this.state=new h.hv(c.ta.Sg);this.Um={};}a.prototype.$c=function(){return this.state.value;};a.prototype.je=function(a){this.state.set(a);};a.prototype.addListener=function(a){this.state.addListener(a);};a.prototype.paused=function(){this.state.value === c.ta.Vc && this.state.set(c.ta.qj);};a.prototype.KT=function(){this.state.value === c.ta.qj && this.state.set(c.ta.Vc);};a.prototype.eRa=function(){return this.state.value === c.ta.Sg;};a.prototype.Tz=function(){return "function" === typeof this.RC.Tz?this.RC.Tz():this.state.value === c.ta.Vc;};a.prototype.Mh=function(){return this.state.value === c.ta.Yd || this.state.value === c.ta.ff;};a.prototype.Jg=function(){return this.state.value === c.ta.ip;};a.prototype.fRa=function(){return this.state.value === c.ta.gG;};a.prototype.Sd=function(){return this.RC.Sd();};a.prototype.Pm=function(){return "function" === typeof this.RC.Pm?this.RC.Pm():1;};a.prototype.gQ=function(){return this.RC.gQ();};a.prototype.jqa=function(a,b){this.Um[a]=b;};a.prototype.Nw=function(a){return ! !this.Um[a.u] || a.ci;};return a;})();b.Wsa=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.ava=void 0;c=a(8);h=a(116);f=(function(){var t80;t80=2;function a(a,b,c){var u80;u80=2;for(;u80 !== 3;){switch(u80){case 2:var W8b="1S";W8b+="IYbZrNJC";W8b+="p9";this.Nl=a;this.G=b;this.Wg=c;W8b;u80=3;break;}}}for(;t80 !== 7;){switch(t80){case 2:a.prototype.dbb=function(a,b){var v80,c,d;v80=2;for(;v80 !== 8;){switch(v80){case 2:var d8b="createDlT";d8b+="rack";d8b+="s";d8b+="St";d8b+="art";(c=this,d=this.Nl.H);0 === this.kC && this.Nl.Za.uj(d8b);this.kC+=a.length;v80=4;break;case 4:a=a.map(function(a){var w80;w80=2;for(;w80 !== 1;){switch(w80){case 2:return c.XDa(a,b.u,b.Lw(),c.Nl.Cl,d);break;}}});h.Bn.pf.Je();return a;break;}}};a.prototype.pbb=function(){var x80,a,b;x80=2;for(;x80 !== 3;){switch(x80){case 4:b.forEach(function(b){var z80;z80=2;for(;z80 !== 5;){switch(z80){case 2:b.Km || --a.kC;h.Bn.pf.dI(b);z80=5;break;}}});x80=3;break;case 2:(a=this,b=[]);this.Nl.fb.Re.forEach(function(a){var y80;y80=2;for(;y80 !== 5;){switch(y80){case 2:c.X(a.mh) || b.push(a.mh);a.mh=void 0;y80=5;break;}}});this.Nl.wN && (b.push(this.Nl.wN),this.Nl.wN=void 0);x80=4;break;}}};a.prototype.qcb=function(){var A80;A80=2;for(;A80 !== 1;){switch(A80){case 2:this.kC=0;A80=1;break;case 4:this.kC=6;A80=2;break;A80=1;break;}}};a.prototype.RFa=function(a,b){var B80,c,d;B80=2;for(;B80 !== 5;){switch(B80){case 2:(c=this.Nl.fb.Re[a],d=c.mh);d && (d=b.tY(a,d),this.obb(a),c.mh=this.XDa(a,b.u,b.Lw(),this.Nl.Cl,this.Nl.H),b.s4(d));B80=5;break;}}};a.prototype.XDa=function(a,b,c,d,f){var C80,g,m;C80=2;for(;C80 !== 7;){switch(C80){case 2:var a0o="transp";a0o+="ortre";a0o+="por";a0o+="t";var U8b="e";U8b+="r";U8b+="r";U8b+="o";U8b+="r";var f8b="netw";f8b+="orkfa";f8b+="iling";var c8b="cre";c8b+="at";c8b+="ed";(g=this,m=h.Bn.pf.gr(a,b,!0,c,d,f));m.Zf.on(m,c8b,function(){var D80;D80=2;for(;D80 !== 5;){switch(D80){case 2:var D8b="createDlTrac";D8b+="ksE";D8b+="n";D8b+="d";--g.kC;0 === g.kC && g.Nl.Za.uj(D8b);D80=5;break;}}});m.Zf.on(m,f8b,function(){var E80,a;E80=2;for(;E80 !== 9;){switch(E80){case 2:var x8b="r";x8b+="eportNetwor";x8b+="kF";x8b+="ailing:";x8b+=" ";f.ah && g.Wg.al(x8b + m);E80=1;break;case 5:a=g.Nl.Pd.O;a.wo.oq(m.tha,void 0,m.kg,m.ki);a.Bq();E80=9;break;case 1:E80=m.x_?5:9;break;}}});m.Zf.on(m,U8b,function(){var F80;F80=2;for(;F80 !== 5;){switch(F80){case 2:var Z0o="NFEr";Z0o+="r_M";Z0o+="C_Str";Z0o+="ea";Z0o+="mingFailure";var q8b="DownloadTrack";q8b+=" fat";q8b+="al";q8b+=" err";q8b+="or";var Q8b="Do";Q8b+="w";Q8b+="nloadTrack fa";Q8b+="tal err";Q8b+="or";f.ah && g.Wg.al(Q8b);g.Nl.Wn(q8b,void 0,Z0o,m.kg,0,m.ki);F80=5;break;}}});m.on(a0o,function(a){var G80;G80=2;for(;G80 !== 1;){switch(G80){case 2:var v0o="t";v0o+="rans";v0o+="portrepor";v0o+="t";g.Nl.emit(v0o,a);G80=1;break;}}});C80=9;break;case 9:m.Jb();return m;break;}}};a.prototype.obb=function(a){var H80,b;H80=2;for(;H80 !== 9;){switch(H80){case 2:a=this.Nl.fb.Re[a];b=a.mh;H80=5;break;case 5:b.Km || --this.kC;h.Bn.pf.dI(b);a.mh=void 0;H80=9;break;}}};return a;break;}}})();b.ava=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.pua=void 0;c=a(405);f=(function(){function a(a){var J80;J80=2;for(;J80 !== 5;){switch(J80){case 3:this.G=a;"";J80=0;break;J80=5;break;case 2:var B0o="1SIY";B0o+="bZrNJ";B0o+="C";B0o+="p";B0o+="9";this.G=a;B0o;J80=5;break;}}}var I80;I80=2;for(;I80 !== 3;){switch(I80){case 4:return a;break;case 14:return a;break;I80=3;break;case 2:a.prototype.pab=function(a,b){var K80,g;K80=2;for(;K80 !== 14;){switch(K80){case 3:a=a.cdnResponseData;K80=9;break;case 5:K80=g && g.streamingClientConfig && Object.keys(g.streamingClientConfig).length?4:3;break;case 9:K80=!a?8:7;break;case 2:b=c.xfa(b,a);g=a.steeringAdditionalInfo;K80=5;break;case 7:var V0o="u";V0o+="sing sab cell";V0o+=" >= 100, ";V0o+="pipelineEnabled";V0o+=": ";var o0o="u";o0o+="sing sab cell >= ";o0o+="200";o0o+=", pipelineEnabled: ";var T0o=", al";T0o+="lowSw";T0o+="itc";T0o+="hback";var C0o=", pro";C0o+="be";C0o+="DetailDenominator: ";var Y0o="using sab ";Y0o+="cell >= 300,";Y0o+=" probeServer";Y0o+="WhenEr";Y0o+="ror: ";var i0o=", ";i0o+="all";i0o+="owSwitchbac";i0o+="k";var R0o=", ";R0o+="pro";R0o+="beDetailDenomin";R0o+="at";R0o+="or: ";var X0o="using sab cell >= 4";X0o+="00, prob";X0o+="eServerWhenErro";X0o+="r: ";(a=a.sessionABTestCell) && (a=a.split(".")) && 1 < a.length && (a=parseInt(a[1].replace(/cell/i,""),10),400 <= a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.Wr=!0,b.uE=1,b.Nv=!0),this.G.trace(X0o + b.Wr + R0o + b.uE + i0o + b.Nv)):300 <= a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.Wr=!0,b.uE=1,b.Nv=!1),this.G.trace(Y0o + b.Wr + C0o + b.uE + T0o + b.Nv)):200 <= a?(b.set?b.set({pipelineEnabled:!1}):b.Po=!1,this.G.trace(o0o + b.Po)):100 <= a && (b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.i2}),b.set({maxPendingBufferLen:b.m2})):(b.Po=!0,b.tJ=1,b.hu=b.i2,b.aA=b.m2),this.G.trace(V0o + b.Po)));return b;break;case 4:var b0o="applying ";b0o+="manifest based streamingCli";b0o+="entConf";b0o+="ig";return (a=g.streamingClientConfig,this.G.trace(b0o + JSON.stringify(a)),this.xFa(b,a));break;case 8:return b;break;}}};a.prototype.rab=function(a,b){var L80;L80=2;for(;L80 !== 9;){switch(L80){case 1:return b;break;case 2:L80=!b.wfa || a === this.zcb?1:5;break;case 5:this.zcb=a;for(var c in b.wfa){new RegExp(c).test(a) && (b=this.xFa(b,b.wfa[c]));}return b;break;}}};a.prototype.xFa=function(a,b){var M80,c,f,d;M80=2;for(;M80 !== 4;){switch(M80){case 2:for(f in b){if(b.hasOwnProperty(f)){var r0o="In";r0o+="val";r0o+="id";r0o+=" key";d=b[f];a.set?0 === a.set((c={},c[f]=d,c)) && this.G.trace(r0o + f):a[f]=d;}}M80=5;break;case 5:return a;break;}}};I80=4;break;}}})();b.pua=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.fOa=void 0;b.fOa=function(a){var b,f,h;b=Math.floor(1E6 * Math.random());f=a.Zja;h=a.Y0;a=0 === b % a.$ja && 0 < h.length;return {Rp:a,GP:a && 0 === b % f};};},function(f,b,a){var h;function c(a){this.sC=void 0;this.Scb=a;this.Dca=[];this.De=[];}h=a(36).cJ;c.prototype.reset=function(a){this.sC=void 0;this.Dca=[];a && (this.De=[]);};c.prototype.add=function(a,b){var c,f;c=b.filter(function(b,c){return h(b) || c === a.bd;});f=c.map(function(a){return a.R;});b=c.indexOf(b[a.bd]);this.sC && (this.sC.length !== f.length || this.sC.some(function(a,b){return a !== f[b];})) && (c=this.HNa()) && (this.De.push(c),this.reset(!1));void 0 === this.sC && (this.sC=f);this.Dca.push([b,a.D0a,a.Vb,a.tea,a.yIa,a.bJb,a.cGb,a.rA,a.xp,a.ei,a.eRb - a.D0a]);};c.prototype.qrb=function(){for(var a=this.Dca,b=[],c=[],f=0;f < a.length;f++){for(var d=a[f],m=[],h=0;h < d.length;h++){m.push(d[h] - (c[h] || 0));}b.push(m);c=d;}return b;};c.prototype.HNa=function(){var a;a=this.qrb();if(0 !== a.length)return {dltype:this.Scb,bitrates:this.sC,seltrace:a};};c.prototype.get=function(){var a,b;a=this.HNa();b=this.De;a && b.push(a);if(0 !== b.length)return b;};f.V=c;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.pBa=void 0;c=a(22);h=a(871);f=(function(){function a(){this.hY=[];this.hY[c.Sa.VIDEO]=new h(c.Sa.VIDEO);this.hY[c.Sa.AUDIO]=new h(c.Sa.AUDIO);}a.prototype.xgb=function(a,b,c){this.hY[a].add(b,c);};a.prototype.jxb=function(){var a;a=[];this.hY.forEach(function(b){var c;if(b){c=b.get();c && 0 < c.length && c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.ssb=function(a){var b;b=this.jxb();a.strmsel=b;return 0 < b.length;};return a;})();b.pBa=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Wya=void 0;c=a(20);h=a(5);k=a(25);f=(function(){function a(a,b,c){this.console=c;this.OXa=!1;h.assert(b.xa);h.assert(b.Hd);this.xa=b.xa;this.Hd=b.Hd;this.Yj=a.Yj;}a.prototype.append=function(a){var b,d,g;if(this.OXa)return a;b=a.Fd;a=a.offset;if(b.Ka){d=b.$g.Oa(this.Yj?this.Hd:c.U.rb).add(a);if(d.lessThan(c.U.rb)){g=Math.ceil(d.$D(-1).Pp(this.xa));b.BP(g);k.sa && this.console.trace("NegativePtsGuard: dropping " + g + " frames on first fragment to avoid nagative pts, " + ("profile offset " + this.Hd.fh() + ", ") + ("request content start " + b.$g.fh() + ", ") + ("current timestamp offset " + a.fh() + " => " + d.fh() + "."));}}this.OXa=!0;return {Fd:b,offset:a};};return a;})();b.Wya=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.KBa=void 0;c=a(20);h=a(5);k=a(25);f=(function(){function a(a,b,d){this.config=a;this.console=d;this.Ct=c.U.rb;h.assert(b.xa);this.xa=b.xa;a=b.cd[0].profile;this.yR=this.$vb(a,this.xa);this.s2=this.Vvb(a,this.xa);}a.prototype.append=function(a,b,d){var g;g=a.Fd;a=a.offset;g.Hr?(h.assert(b),g.Ka && (d=this.QEb(g,b,d),d.Wp(this.yR) && g.wLa()),this.Sna=b):this.Sna && (d=this.PEb(g,this.Sna),g.Ka && this.Yda(d)?(g.BP(1),this.Ct=d):(this.Ct=d.add(this.xa),this.ZHa(this.Ct) || (k.sa && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + g.gn.fh() + " error would be " + this.Ct.fh() + " (editing " + (g.Ka?"":"not ") + "allowed)"),this.Ct=c.U.rb)),this.Sna=void 0);h.assert(this.ZHa(this.Ct));this.ola=g.en;return {Fd:g,offset:a.add(this.Ct)};};a.prototype.QEb=function(a,b,c){var d;c?d=this.Ct.add(a.en.Oa(c)).Oa(this.xa):(d=a.en.Oa(b),d=this.Ct.add(d).Oa(this.xa));k.sa && this.console.trace("SeamlessAudio: fragment end: " + a.en.fh() + ", splice " + b.fh() + ", next start " + (null === c || void 0 === c?void 0:c.fh()) + ", error " + d.add(this.xa).fh() + ", error with frame drop " + d.fh() + ", is" + (this.Yda(d)?"":" not") + " within bounds of [" + this.yR.fh() + " and " + this.s2.fh() + ")");return d;};a.prototype.PEb=function(a,b){var c;h.assert(this.ola);c=this.Ct.add(this.ola.Oa(a.gn)).Oa(this.xa);k.sa && this.console.trace("SeamlessAudio: fragment start: " + a.gn.fh() + ", splice " + b.fh() + ", last fragment end: " + this.ola.fh() + ", error " + c.add(this.xa).fh() + ", error with frame drop " + c.fh() + ", is" + (this.Yda(c)?"":" not") + " within bounds of [" + this.yR.fh() + " and " + this.s2.fh() + ")");return c;};a.prototype.Yda=function(a){return a.lessThan(this.s2) && a.Wp(this.yR);};a.prototype.ZHa=function(a){return a.lessThan(this.s2.add(c.U.cl)) && a.Wp(this.yR.Oa(c.U.cl));};a.prototype.Vvb=function(a,b){return "object" === typeof this.config.CK && void 0 !== this.config.CK[a]?(a=new c.U(this.config.CK[a],1E3).we(b.P).add(new c.U(1,b.P)),c.U.min(b,a)):b;};a.prototype.$vb=function(a,b){var d;if("object" === typeof this.config.DK && void 0 !== this.config.DK[a]){d=b.Pp(-2);a=new c.U(this.config.DK[a],1E3).we(b.P).Oa(new c.U(1,b.P));return c.U.max(d,a);}return new c.U(-12,1E3);};return a;})();b.KBa=f;},function(f,b,a){var k,r,g,p;function c(a){return 0 > a?Math.ceil(a):Math.floor(a);}function h(a){return a.toString() + " (nrdp: " + c(a.ka) + "ms)";}Object.defineProperty(b,"__esModule",{value:!0});b.cza=void 0;k=a(20);r=a(168);g=a(25);p=a(5);f=(function(){function a(a,b,c){this.console=c;this.offset=k.U.rb;this.Hd=a.Yj?b.Hd:void 0;p.assert(b.xa);this.xa=b.xa;}a.prototype.append=function(a){var b,c;b=a.Fd;c=a.offset;void 0 !== this.ARa && (p.assert(void 0 !== this.kla),b.$g.add(a.offset).equal(this.ARa)?(a=this.sjb(b,c.add(this.offset)),a=Math.floor(a.ka) - this.kla,0 > a?this.offset=this.offset.add(k.U.cl):0 === a?this.offset.lessThan(k.U.rb) && (this.offset=this.offset.add(k.U.cl)):1 === a?this.offset.greaterThan(k.U.rb) && (this.offset=this.offset.Oa(k.U.cl)):this.offset=this.offset.Oa(k.U.cl)):this.offset=k.U.rb);a=this.rjb(b,c.add(this.offset));this.kla=Math.floor(a.ka);this.ARa=b.no.add(c);return {Fd:b,offset:c.add(this.offset)};};a.prototype.sjb=function(a,b){var d,f;a=this.$Ga(a.$g);d=r.Mo(a).add(r.Mo(b));f=a.add(b).Oa(d);g.sa && this.console.trace("NrdpRounding: content start " + h(a) + ", timestamp offset: " + h(b) + ", start rounding error: " + r.Mo(a).toString() + ", offset rounding error: " + r.Mo(b).toString() + ", total error: " + d.toString() + ", expected nrdp value:" + f.fh() + ", (" + (c(a.ka) + c(b.ka)) + "ms), last fragment end nrdp: " + this.kla);return f;};a.prototype.rjb=function(a,b){var d,f,m;d=this.xa;a=this.$Ga(a.no);f=r.Mo(a.Oa(d)).add(r.Mo(d)).add(r.Mo(b));m=a.add(b).Oa(f);g.sa && this.console.trace("NrdpRounding: content end: start of last frame:" + h(a.Oa(d)) + ", frame duration: " + h(d) + ", offset: " + h(b) + ", timestamp rounding error: " + r.Mo(a.Oa(d)).toString() + ", frame duration rouding error: " + r.Mo(d).toString() + ", offset rounding error: " + r.Mo(b).toString() + ", total rounding error: " + f.toString() + ", expected nrdp value: " + m.fh() + ", (" + (c(a.Oa(d).ka) + c(d.ka) + c(b.ka)) + "ms)");return m;};a.prototype.$Ga=function(a){return this.Hd?a.Oa(this.Hd):a;};return a;})();b.cza=f;},function(f,b,a){var c,h,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Gya=void 0;c=a(20);h=a(5);k=a(406);r=a(875);g=a(874);p=a(873);f=(function(){function a(a,b,c,d){this.config=a;this.I=b;this.Zb=c;this.console=d;}a.prototype.append=function(a,b,d){var g,f;void 0 === this.track?this.VI(a.stream.track):this.track !== a.stream.track && (h.assert(this.track.xa),h.assert(a.stream.track.xa),h.assert(1 === this.I || this.track.xa.equal(a.stream.track.xa)),this.track=a.stream.track);h.assert(void 0 !== this.gz);f={Fd:a,offset:null !== (g=a.U3) && void 0 !== g?g:c.U.rb};f=this.gz.reduce(function(a,c){return c.append(a,b,d);},f);g=f.Fd;f=f.offset;g.Ka && a.Lj(g.Ka);return f;};a.prototype.reset=function(){this.gz=this.track=void 0;};a.prototype.VI=function(a){var b;this.track=a;this.gz=[];if(0 === this.I){this.gz.push(new g.KBa(this.config,a,this.console));b=k.aW.LIa(this.config,a,this.Zb,this.console);b.equal(c.U.rb) || (this.gz.push(new k.aW(b)),this.config.y2 || this.gz.push(new p.Wya(this.config,a,this.console)));this.config.cs || this.gz.push(new r.cza(this.config,a,this.console));}};return a;})();b.Gya=f;},function(f,b,a){var c,h,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.LBa=void 0;c=a(168);h=a(167);k=a(22);r=a(20);f=(function(){function a(a,b){this.H=a;this.G=b;this.kca=this.fca=this.ov=r.U.rb;this.DX=this.CX=void 0;this.Vj=this.G.trace.bind(this.G);this.nna=new g(a,b);}a.prototype.FS=function(a,b,c,g,f,h,l,p,n,q){var d,m,t,x,A,u,J,D;d=!1;a=a === k.Sa.AUDIO && ! !b.Ka && this.Reb(b.stream);m=r.U.rb;t=b.console;if(a){x=b.stream.xa;A=this.Xbb(b.profile,x);u=this.Ybb(b.profile,x);J=b.ks + b.hn;if(b.Hr)(d=new r.U(b.pa - J,1E3),(d=this.ov.add(d).Wp(A)) || !l || this.sab(b,l) || (n=l.ks + l.hn,b=new r.U(J - (b.pa - x.ka),1E3),n=new r.U(n - l.T,1E3),this.ov.Oa(b).add(n).uib(u,A) && (d=!0)));else if(void 0 !== c){D=b.gn;new r.U(J - b.T,1E3);l=this.ov.add(c.Oa(D)).Oa(this.nna.vob);if(D.add(x).iJ(c) || l.Wp(A))(d=!0,D.add(x),l=l.Oa(x));A=u.Oa(r.U.cl.$D(2));l.dE(this.ov) && l.lessThan(A)?(d=a=!1,this.nna.reset(),this.ov=r.U.rb,A=g.add(f),n(A),t.error("Unexpected seamless audio sync " + l.toString() + " at content pts " + b.kc + " in stream " + b.stream.za + " following " + h.Tb)):(A=g.add(l).add(f),A=this.nna.round(b,p,A,d),n(A),l.dE(this.ov) && (this.fca=r.U.max(this.fca,l),this.kca=r.U.min(this.kca,l),q(this.fca,this.kca),m=l.Oa(this.ov),this.ov=l));}}return {FS:a,Kga:d,Vda:m};};a.prototype.Reb=function(a){void 0 === this.cO && (this.cO=h.wda(this.H,a));return this.cO;};a.prototype.Xbb=function(a,b){void 0 === this.CX && ("object" === typeof this.H.CK && this.H.CK[a]?(a=new r.U(this.H.CK[a],1E3).we(b.P).add(new r.U(1,b.P)),this.CX=r.U.min(b,a)):this.CX=b);return this.CX;};a.prototype.Ybb=function(a,b){var c;if(void 0 === this.DX)if("object" === typeof this.H.DK && this.H.DK[a]){c=new r.U(-Math.floor(b.ka / 2),b.P);a=new r.U(this.H.DK[a],1E3).we(b.P).Oa(new r.U(1,b.P));this.DX=r.U.max(c,a);}else this.DX=new r.U(-12,1E3);return this.DX;};a.prototype.sab=function(a,b){return a.kc <= b.kc && a.Tb >= b.kc && a.stream.track.equals(b.stream.track);};return a;})();b.LBa=f;g=(function(){function a(a,b){this.H=a;this.G=b;this.Oy=0;}Object.defineProperties(a.prototype,{vob:{get:function(){return r.U.cl.$D(this.Oy);},enumerable:!1,configurable:!0}});a.prototype.round=function(a,b,c,g){this.H.cs || (a=this.Lab(a,c,g),b=b.Oa(a),b.Wp(r.U.cl.$D(2))?(c=c.Oa(r.U.cl),++this.Oy):b.lessThan(r.U.rb)?(c=c.add(r.U.cl),--this.Oy):0 < this.Oy && b.lessThan(r.U.cl)?(c=c.add(r.U.cl),--this.Oy):0 > this.Oy && b.greaterThan(r.U.cl) && (c=c.Oa(r.U.cl),++this.Oy));return c;};a.prototype.reset=function(){this.Oy=0;};a.prototype.Lab=function(a,b,g){var d;d=a.$g;this.H.Yj && a.stream.Hd && (d=d.Oa(a.stream.Hd));g && (d=d.add(a.stream.xa));return c.Mo(d).add(c.Mo(b));};return a;})();},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b,a){var d,m,t,n,q,u,E;function c(a){var b,d,g;a=a.parent;b=!1;if(a && a.children){d={};d[u.Gk]=[];d[u.Qj]=[];d[u.TEMPORARY]=[];g=a.children;g.forEach(function(a){a && d[a.se].push(a);});0 < d[u.Gk].length || (d[u.Qj].length === g.length?a.se !== u.Qj && (a.se=u.Qj,q.error("PERM failing :",t.Ag.name[a.iD] + " " + a.id),b=!0):(a.se === u.Gk && (a.se=u.TEMPORARY,q.error("TEMP failing :",t.Ag.name[a.iD] + " " + a.id),b=!0),d[u.TEMPORARY].forEach(function(a){a.se=u.Gk;})),b && c(a));}}function h(a){var c;for(var b=[];a;a=a.parent){switch(a.iD){case t.Ag.LB:c=a;b.unshift(c.id + "(" + c.name + ")");break;case t.Ag.oxa:b.unshift(a.id);break;case t.Ag.URL:b.unshift("<url for " + a.stream.R + ">");}}return b.length?"/" + b.join("/"):"";}function k(a){var b;if((a=a.parent) && 0 < a.children.length && a.se !== u.Gk){b={};b[u.Gk]=[];b[u.Qj]=[];b[u.TEMPORARY]=[];a.children.forEach(function(a){a && b[a.se].push(a);});0 < b[u.Gk].length && (a.se=u.Gk,k(a));}}function r(a){return a.se !== u.Gk;}function g(a){switch(a.se){case u.Gk:return "OK";case u.Qj:return "FAILED PERMANENTLY";case u.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function p(a,b){if(a.se === u.TEMPORARY || a.se === u.Qj && b)a.se=u.Gk;a.children && a.children.forEach(function(a){a && p(a,b);});}Object.defineProperty(b,"__esModule",{value:!0});b.rV=void 0;d=a(0);m=a(8);f=a(15);t=a(22);n=a(3);q=new n.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.Gk=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.Qj=2]="PERMANENT";})(u || (u={}));(function(a){a[a.mv=0]="STARTUP";a[a.L9a=1]="REBUFFER";})(E || (E={}));a=(function(a){var N80;N80=2;for(;N80 !== 25;){switch(N80){case 10:b.prototype.$l=function(a){var r90,b;r90=2;for(;r90 !== 5;){switch(r90){case 2:null === (b=this.rdb) || void 0 === b?void 0:b.call(this,a);r90=5;break;}}};b.prototype.bl=function(){var s90;s90=2;for(;s90 !== 1;){switch(s90){case 4:this.VLb(E.L9a);s90=2;break;s90=1;break;case 2:this.VLb(E.L9a);s90=1;break;}}};b.prototype.Qb=function(){var t90;t90=2;for(;t90 !== 1;){switch(t90){case 2:this.config.zCb && this.dIb();t90=1;break;}}};b.prototype.qWa=function(a){var u90,b;u90=2;for(;u90 !== 5;){switch(u90){case 1:a.streams.forEach(function(a){var v90,g,d,c;v90=2;for(;v90 !== 7;){switch(v90){case 3:a.urls.forEach(function(a){var w90,c,g,f;w90=2;for(;w90 !== 14;){switch(w90){case 2:(c=a.url,g=b.ye[c]);w90=1;break;case 5:(f=a.location,g={id:c,iD:t.Ag.URL,se:u.Gk,su:void 0,parent:a,children:[],url:c,Gc:a,stream:d});b.ye[c]=g;a.children.push(g);d.ye.push(g);w90=8;break;case 1:w90=m.X(g) && (a=b.gs[a.cdn_id])?5:14;break;case 6:(c=d.OT[f.id])?c.push(g):d.OT[f.id]=[g];w90=14;break;case 8:0 === d.Wm.filter(function(a){var x90;x90=2;for(;x90 !== 1;){switch(x90){case 2:return a.id === f.id;break;}}}).length && d.Wm.push(f);f.tc[d.id]=d;w90=6;break;}}});m.ee(d.OT,function(a){var y90;y90=2;for(;y90 !== 1;){switch(y90){case 2:a.sort(function(a,b){var z90;z90=2;for(;z90 !== 1;){switch(z90){case 2:return a.Gc.$f - b.Gc.$f;break;}}});y90=1;break;}}});d.Wm=d.Wm.sort(function(a,b){var A90;A90=2;for(;A90 !== 1;){switch(A90){case 2:return a.level - b.level || a.$f - b.$f;break;}}});v90=7;break;case 1:v90=m.X(d)?5:3;break;case 5:var J0o="n";J0o+="o";J0o+="n";J0o+="e";J0o+="-";(g=a.content_profile,d={id:c,R:a.bitrate,qb:a.vmaf,type:a.type,profile:g,clear:0 === g.indexOf(J0o),bu:!0,ye:[],OT:{},Wm:[]});v90=4;break;case 4:b.tc[d.id]=d;v90=3;break;case 2:(c=a.downloadable_id,d=b.tc[c]);v90=1;break;}}});u90=5;break;case 2:b=this;u90=1;break;}}};N80=17;break;case 2:d.__extends(b,a);b.prototype.hxb=function(){var P80;P80=2;for(;P80 !== 1;){switch(P80){case 4:return this.fx[1].cb;break;P80=1;break;case 2:return this.fx[0].cb;break;}}};b.prototype.Iia=function(){var Q80;Q80=2;for(;Q80 !== 1;){switch(Q80){case 2:return this.fx;break;}}};N80=4;break;case 14:b.prototype.RNb=function(a,b){var k90,c,d;k90=2;for(;k90 !== 4;){switch(k90){case 2:(c={},d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);m.forEach(this.ye,function(g,f){var l90,k,p,l,h;l90=2;for(;l90 !== 8;){switch(l90){case 5:l90=l && 4 === l.length?4:8;break;case 4:var M0o="8";M0o+="0";var H0o="4";H0o+="4";H0o+="3";(k="s" === l[1],p=l[2],l=l[3]);l.length || (l=k?H0o:M0o);m.Td(p) && m.Td(l) && p === a && l == b && (h?h.push(f):c[g]=[f]);l90=8;break;case 2:g=g.parent?g.parent.id:"";(h=c[g],l=f.match(d));l90=5;break;}}});return c;break;}}};b.prototype.oq=function(a,b,d,f){var m90,n90,m,l,k;m90=2;for(;m90 !== 25;){switch(m90){case 15:m90=27;break;case 6:var s0o="networ";s0o+="k";s0o+="Fail";s0o+="ed";var I0o="Emitting networkFailed,";I0o+=" permanent ";I0o+="=";m.se=k;c(m);this.Q2=this.Q2 || r(this.Zm);a=this.Zm.se;a > l && (q.warn(I0o,a === u.Qj),this.emit(s0o,a === u.Qj));m90=10;break;case 5:m=m.parent;m90=1;break;case 3:m90=k !== m.se?9:25;break;case 7:return;break;case 27:var O0o="Invalid";O0o+=" failure st";O0o+="ate";throw Error(O0o);m90=6;break;case 4:m90=m?3:26;break;case 8:n90=m.se;m90=n90 === u.Qj?7:17;break;case 16:m90=n90 === u.Gk?6:15;break;case 2:(m=a !== t.Ag.ev && d?this.ye[d]:this.Zm,l=this.Zm.se,k=b?u.Qj:u.TEMPORARY);m90=1;break;case 18:this.dump();m90=25;break;case 9:var u0o=" : ";u0o+="was";u0o+=" ";var z0o=" ";z0o+="a";z0o+="t";z0o+=" ";var y0o=" f";y0o+="ai";y0o+="lure ";y0o+="reported for";y0o+=" ";var n0o="T";n0o+="E";n0o+="M";n0o+="P";var m0o="PE";m0o+="R";m0o+="M";q.warn((b?m0o:n0o) + y0o + t.Ag.name[a] + z0o + h(m) + u0o + g(m));m90=8;break;case 17:m90=n90 === u.TEMPORARY?6:16;break;case 10:this.JK=null;this.KK=t.Rg.ERROR;f && (this.KK=t.Rg.w9a,m.su=f);m90=18;break;case 1:m90=m && m.parent && m.iD !== a?5:4;break;case 26:var A0o="Unable to find f";A0o+="ailure entity";A0o+=" for URL ";a000.z51(3);q.warn(a000.y51(d,A0o));m90=25;break;}}};b.prototype.UXa=function(a,b){var o90;o90=2;for(;o90 !== 3;){switch(o90){case 8:o90=(a=this.gs[a])?7:4;break;o90=(a=this.gs[a])?1:5;break;case 1:(p(a,b),k(a));o90=5;break;case 2:o90=(a=this.gs[a])?1:5;break;case 5:this.JK=null;this.KK=t.Rg.P9;o90=3;break;}}};b.prototype.o4=function(){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:p(this.Zm,!1);q90=1;break;}}};N80=10;break;case 4:b.prototype.Tp=function(){var R80;R80=2;for(;R80 !== 1;){switch(R80){case 2:return r(this.Zm);break;case 4:return r(this.Zm);break;R80=1;break;}}};b.prototype.NYa=function(a){var S80;S80=2;for(;S80 !== 5;){switch(S80){case 2:S80=(a=this.ye[a]) && a.parent?1:5;break;case 9:return a.parent.id;break;S80=5;break;case 1:return a.parent.id;break;}}};N80=9;break;case 9:b.prototype.b2=function(a){var T80;T80=2;for(;T80 !== 5;){switch(T80){case 1:return a.Gc.location;break;case 2:T80=(a=this.ye[a]) && a.Gc?1:5;break;case 9:return a.Gc.location;break;T80=5;break;}}};b.prototype.f_a=function(a){var U80;U80=2;for(;U80 !== 5;){switch(U80){case 2:U80=(a=this.ye[a])?1:5;break;case 1:return a.stream;break;}}};b.prototype.sO=function(a){var V80,b;V80=2;for(;V80 !== 11;){switch(V80){case 2:b=this;a.locations.forEach(function(a){var W80,d,g,f,c;W80=2;for(;W80 !== 8;){switch(W80){case 1:W80=!b.Wm[c]?5:8;break;case 5:(d=[],g=b.Nf.get(c),f=b.Zm);a={id:c,iD:t.Ag.oxa,se:u.Gk,$f:a.rank,level:a.level,weight:a.weight,su:void 0,parent:f,children:d,gs:d,tc:{},cb:g};b.Wm[a.id]=a;W80=9;break;case 2:c=a.key;W80=1;break;case 9:f.children.push(a);W80=8;break;}}});V80=5;break;case 5:this.BX=n.time.da();this.fx.sort(function(a,b){var X80;X80=2;for(;X80 !== 1;){switch(X80){case 2:return a.level - b.level || a.$f - b.$f;break;}}});a.servers.forEach(function(a){var Y80,c,d,g;Y80=2;for(;Y80 !== 6;){switch(Y80){case 2:c=a.id;Y80=1;break;case 1:Y80=!b.gs[c]?5:6;break;case 5:d=b.Wm[a.key];Y80=4;break;case 3:g=[];a={id:c,iD:t.Ag.LB,se:u.Gk,su:void 0,parent:d,children:g,ye:g,name:a.name,type:a.type,$f:a.rank,location:d};Y80=8;break;case 4:Y80=d?3:6;break;case 8:b.gs[a.id]=a;d.children.push(a);Y80=6;break;}}});V80=9;break;case 12:this.dump();V80=11;break;case 9:a.audio_tracks.forEach(function(a){var Z80;Z80=2;for(;Z80 !== 1;){switch(Z80){case 2:b.qWa(a);Z80=1;break;}}});a.video_tracks.forEach(function(a){var a90;a90=2;for(;a90 !== 1;){switch(a90){case 2:b.qWa(a);a90=1;break;case 4:b.qWa(a);a90=5;break;a90=1;break;}}});a=this.fx.filter(function(a){var b90,c;b90=2;for(;b90 !== 4;){switch(b90){case 2:c=a.gs.every(function(a){var c90;c90=2;for(;c90 !== 1;){switch(c90){case 2:return 0 === a.ye.length;break;}}});c && (a.gs.forEach(function(a){var d90;d90=2;for(;d90 !== 1;){switch(d90){case 2:b.gs[a.id]=void 0;d90=1;break;}}}),b.Wm[a.id]=void 0,a.parent=void 0,a.children.length=0,a.tc={});return !c;break;}}});a.forEach(function(a){var e90;e90=2;for(;e90 !== 1;){switch(e90){case 2:a.gs.sort(function(a,b){var f90;f90=2;for(;f90 !== 1;){switch(f90){case 2:return a.$f - b.$f;break;case 4:return a.$f * b.$f;break;f90=1;break;}}});e90=1;break;}}});this.fx=a;this.Zm.children=a;V80=12;break;}}};b.prototype.sL=function(a,b){var g90,c,d,g,f,l,h;g90=2;for(;g90 !== 19;){switch(g90){case 4:return !1;break;case 6:g90=!this.JK?14:13;break;case 12:g90=!l.length?11:10;break;case 2:(c=this,d=this.config,g=this.Ab.get(),f=0);n.fr && n.fr(a);g90=5;break;case 7:m.Ua(this.JK) && (this.JK=this.ISb());g90=6;break;case 5:g90=r(this.Zm)?4:3;break;case 14:return (this.oq(t.Ag.ev,!1),!1);break;case 13:l=this.JK;g90=12;break;case 3:h=t.Ve.nB;d.FR && (h=t.Ve.mB);this.Ab.location && g.Cd >= h && (a=this.Wm[this.Ab.location]) && (a.cb=g);g90=7;break;case 11:return (this.oq(t.Ag.ev,!1),!1);break;case 10:var G0o="(";G0o+="empt";G0o+="y str";G0o+="eam list)";var F0o="Did not fi";F0o+="nd a URL for ANY s";F0o+="tream";F0o+="...";var h0o="n";h0o+="etworkFail";h0o+="ed";var j0o="Net";j0o+="work has failed, not updating stream sele";j0o+="ction";b.forEach(function(a,b){var h90,k;h90=2;for(;h90 !== 5;){switch(h90){case 2:var P0o=" ";P0o+="K";P0o+="bps)";var k0o=" ";k0o+="(";var S0o="]";S0o+=" ";var K0o="Failing ";K0o+="stre";K0o+="am";K0o+=" [";k=a.id;l.some(function(b){var i90,c,f;i90=2;for(;i90 !== 8;){switch(i90){case 2:c=b.tc[k];i90=1;break;case 5:return !1;break;case 4:f=c.Wm[0];void 0 === a.O3 && (a.O3=f.id,a.xoa=c.OT[f.id][0].Gc.id);return c.OT[b.id].some(function(c){var j90,k;j90=2;for(;j90 !== 12;){switch(j90){case 1:return (c.Gc.se === u.TEMPORARY && (a.se=u.TEMPORARY),d.Wr && a.Gc === c.Gc.id && c.Gc.su && (a.su=c.Gc.su),!1);break;case 2:j90=r(c.Gc)?1:5;break;case 5:j90=r(c)?4:3;break;case 3:var E0o="loca";E0o+="tionfailo";E0o+="ver";var p0o="se";p0o+="r";p0o+="verfailov";p0o+="er";var w0o="p";w0o+="erform";w0o+="a";w0o+="n";w0o+="ce";var t0o="u";t0o+="nkn";t0o+="ow";t0o+="n";k=t0o;a.location !== b.id && (d.Wr?a.cla=b.id === f.id:k=b !== l[0]?"" + t.Rg.w6:void 0 === a.location?"" + t.Rg.mv:m.X(a.DRa) || a.DRa === b.id?m.X(a.ERa) || a.ERa === c.Gc.id?w0o:p0o:E0o,a.location=b.id,a.Kla=b.level,a.uq=k);a.url=c.url;a.Gc=c.Gc.id;a.JE=c.Gc.name;a.cb=d.gea?b.cb.Cd >= t.Ve.mB || g.Cd < h?b.cb:g:g.Cd === t.Ve.HAVE_NOTHING || b.cb.Cd >= t.Ve.mB?b.cb:g;j90=13;break;case 4:return !1;break;case 13:return !0;break;}}});break;case 1:i90=!c?5:4;break;}}})?(a.Lz=!1,a.se=void 0,a.bu && ++f):a.se && a.se === u.TEMPORARY?c.Zm.se=u.TEMPORARY:a.Lz || (q.warn(K0o + b + S0o + k + k0o + a.R + P0o),a.Ekb(),a.Lz=!0);h90=5;break;}}});return r(this.Zm)?(q.warn(j0o),this.Q2=!0,this.emit(h0o,this.Zm.se === u.Qj),!1):f?!0:(q.warn(F0o + (b.length?"":G0o)),this.oq(t.Ag.ev,!0),!1);break;}}};N80=14;break;case 17:b.prototype.ISb=function(){var B90,d,a,b,c;B90=2;for(;B90 !== 13;){switch(B90){case 4:d=n.time.da();B90=3;break;case 1:B90=0 === c.length?5:4;break;case 3:B90=null === this.BX || this.BX + b.Jla < d?9:8;break;case 9:(c.forEach(function(b){var D90;D90=2;for(;D90 !== 1;){switch(D90){case 2:b.id !== a.Ab.location && (b.cb=a.Nf.get(b.id));D90=1;break;}}}),this.BX=d);B90=8;break;case 2:(a=this,b=this.config,c=this.fx.filter(function(a){var C90;C90=2;for(;C90 !== 1;){switch(C90){case 4:return +r(a) || 5 === a.level;break;C90=1;break;case 2:return !r(a) && 0 !== a.level;break;}}}));B90=1;break;case 5:return null;break;case 8:b=this.KK;c.sort(function(a,b){var E90;E90=2;for(;E90 !== 1;){switch(E90){case 2:return a.level - b.level || a.$f - b.$f;break;}}});this.eu || m.Ua(b) || (this.eu=!0);return c;break;}}};b.prototype.VLb=function(a){var F90,b;F90=2;for(;F90 !== 3;){switch(F90){case 4:this.fx.forEach(function(a){var G90;G90=2;for(;G90 !== 1;){switch(G90){case 2:a.id !== b && a.cb && a.cb.Cd > t.Ve.nB && (a.cb.Cd=t.Ve.nB);G90=1;break;}}});F90=3;break;case 2:b=this.Ab.location;this.eu=!1;this.LJb=a;F90=4;break;}}};b.prototype.dIb=function(){var H90,a;H90=2;for(;H90 !== 5;){switch(H90){case 2:a=this;this.Q2 || this.fx.forEach(function(b){var I90;I90=2;for(;I90 !== 1;){switch(I90){case 2:b.se === u.TEMPORARY && a.Nf.fail(b.id,n.time.da());I90=1;break;}}});H90=5;break;}}};N80=27;break;case 27:b.prototype.dump=function(){};return b;break;}}function b(b,c,d,g,f){var O80,m;O80=2;for(;O80 !== 27;){switch(O80){case 6:m.gs={};m.ye={};m.tc={};O80=12;break;case 3:m.rdb=f;m.LJb=E.mv;m.eu=void 0;m.Wm={};O80=6;break;case 17:var N0o="1SIY";N0o+="bZ";N0o+="r";N0o+="N";N0o+="JCp9";m.sO(b);N0o;return m;break;case 12:var g0o="n";g0o+="e";g0o+="t";g0o+="work";m.fx=[];m.Q2=!1;m.Zm={id:g0o,iD:t.Ag.ev,se:u.Gk,su:void 0,parent:void 0,children:m.fx};m.BX=null;m.JK=null;m.KK=t.Rg.mv;O80=17;break;case 2:m=a.call(this) || this;m.Ab=c;m.Nf=d;m.config=g;O80=3;break;}}}})(f.EventEmitter);b.rV=a;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;c=a(0);h=a(15);f=(function(a){function b(b,c,d,f){var g;g=a.call(this) || this;g.G=b;g.track=c;g.Km=!1;g.Sba=!1;g.Zf=new h.Pg();g.Zf.on(c,"networkfailing",function(){g.emit("networkfailing");});g.Zf.on(c,"error",function(){g.G.warn("requestQueue got error");g.emit("error");});if(d)(g.Km=!0,setTimeout(function(){return g.emit("created");},0));else g.Zf.on(c,"created",function(){g.Km=!0;g.emit("created");});g.Sba=f;return g;}c.__extends(b,a);Object.defineProperties(b.prototype,{x_:{get:function(){return this.track.x_;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kg:{get:function(){return this.track.kg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ki:{get:function(){return this.track.ki;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tha:{get:function(){return this.track.tha;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});b.prototype.Jb=function(){var a,b;this.Sba || (null === (b=(a=this.track).Jb) || void 0 === b?void 0:b.call(a),this.Sba=!0);};b.prototype.Ho=function(){return this.track.Ho();};b.prototype.k4=function(){return this.track.k4();};b.prototype.toString=function(){return this.track.toString();};b.prototype.toJSON=function(){return this.track;};b.prototype.jr=function(){this.Zf.clear();};return b;})(h.EventEmitter);b.vBa=f;},function(f,b,a){var c,h,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.rwa=void 0;c=a(0);h=a(172);k=a(410);r=a(17);g=a(3);f=a(88);p=a(407);d=a(5);m=a(116);a=(function(a){function b(b,c,d,g,f,h,l,k,p,t,r){var n;n=a.call(this,b) || this;n.sd=b;n.G=c;n.H=d;n.$l=g;n.Ez=h;n.u1=l;n.zh=k;n.ZFa=p;n.ng=t;n.WEa=[void 0,void 0];n.Zca=[];n.vN=null !== r && void 0 !== r?r:{et:[Object.create(null),Object.create(null)]};f?n.oQ=f:(n.Xf=m.Bn.pf.gr("headers","" + n.sd.la,!0,!1,{},n.H),n.Xf.Jb());return n;}c.__extends(b,a);Object.defineProperties(b.prototype,{et:{get:function(){return this.vN.et;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xy:{get:function(){return this.vN.xy;},set:function(a){this.vN.xy=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zG:{get:function(){return this.vN.zG;},set:function(a){this.vN.zG=a;},enumerable:!1,configurable:!0}});b.prototype.pc=function(){var a;a=this;this.et.forEach(function(b,c){for(var d in b){b[d].pc();a.mga(c,d);}});this.Xf && m.Bn.pf.dI(this.Xf);this.Xf=void 0;};b.prototype.Fj=function(a,b){return this.et[a][b];};b.prototype.R0=function(){return !(!this.xy || !this.xy.length);};b.prototype.Wea=function(){this.xy=void 0;};b.prototype.RK=function(a){this.xy=a;};b.prototype.Ira=function(){var a,b;if(!this.R0() || this.zG)return !1;for(h.km.Co(1);0 < this.xy.length;){a=this.xy.shift();b=this.sd.zr(1,a);if(b && !this.tyb(a) && b.Gr)return (this.zG=a,this.E5(b,{offset:0,XK:!0}));}return !1;};b.prototype.Yra=function(a,b){var c;c=this;b.forEach(function(b){var d;d=c.Fj(a,b.za);d && !b.ge && (d.stream.ge?b.rZ(d.stream):(d.VR || (d.VR=[]),d.VR.push(c.sd)));});};b.prototype.vK=function(a,b,c){var g,f,m;g=this;m=this.sd;r.Ue.forEach(function(f){var h,l,k,t,r;if(m.lb(f) && (void 0 === c || f === c)){t=a[f];d.assert(t && m.getTrackById(t.jb) === t);t=t.cd;if(m.Vi)g.G.warn("requestHeadersFromManifest, shutdown detected");else if(m.Wk.sL(m.la,t)){r=null !== (k=null === (l=null === (h=g.Ez(f)) || void 0 === h?void 0:h.ND) || void 0 === l?void 0:l.R) && void 0 !== k?k:0;h=p.zha(t,r);void 0 === h && g.G.warn("Unable to find stream for bitrate " + r);h=t[h];(l=m.Fj(f,h.za)) && l.stream.ca?m.FSb(f,l):(f={offset:0,XK:!1,qz:1 === f,St:!0,MJ:!g.u1(m)},m.cKa(h,f,b));}else g.G.warn("requestHeadersFromManifest, unable to update urls");}});m.W0=!0;null === (f=this.ng) || void 0 === f?void 0:f.call(this,m.eb).YY();};b.prototype.hF=function(a,b){var c,d,f,m;c=this.H;d=this.Fj(a.I,a.za);if(d)return (d.stream.ca || d.XK && this.mJa(d),!1);d=this.Acb;f=this.Bcb;if(void 0 !== c.Pma && void 0 !== d && void 0 !== f){m=g.time.da();if(m - d < c.Pma || m - f < c.Pma)return !1;}a=this.E5(a,{url:a.url,offset:0},void 0,void 0,b);this.Bcb=g.time.da();return a;};b.prototype.E5=function(a,b,g,f,m){var l,k,p,t,r;p=a.I;h.km.Co(p);t=a.za;if(this.Rab(t,! !b.St))return (null === (l=this.ZFa) || void 0 === l?void 0:l.call(this),!1);if(l=this.Fj(p,t))a=!1;else {l=c.__assign(c.__assign({},b),{$:this.Dbb(a)});t=! !l.qz;r=! !l.MJ;this.oQ?m=this.oQ(p,! !l.St,t,r,! !g):m || (m=this.Xf);d.assert(m);a.url && (this.Ez(p).xla=a.url);l=a=this.uba(a,m,l);if(!a.ou())return (this.sd.xg("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);a=!0;}b.St && f && (this.sd.qg[p]=l);null === (k=this.ZFa) || void 0 === k?void 0:k.call(this);return a;};b.prototype.Bq=function(){var a,b;a=this;b=[];this.et.forEach(function(c,d){var f;h.km.Co(d);for(var g in c){d=c[g];f=d.M5();1 === f?b.push(d):2 === f && a.sd.xg("swapUrl failure");}});return b;};b.prototype.Hj=function(a){var b,c;b=a.I;c=h.km.Co(b);this.sd.Vi?c.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(this.$l({type:"logdata",target:"startplay",jd:{usedNativeDataView:a.DTb}}),a.t3 > a.gHb && (this.WEa[b]=a.t3),a.XK && this.mJa(a),this.icb(a),this.Acb=g.time.da(),this.sd.Mz.emit("onHeaderRequestComplete",a));this.vr(a);};b.prototype.yY=function(a,b,c){var d;d=a.I;h.km.Co(d);d=this.sd.zr(d,a.za);if(b !== ! !a.gk)return !1;this.HGa(a);a.Jgb(d);this.xDa(a);this.sd.Mz.emit("onHeaderFromCache",{Yp:a,atb:c});return !0;};b.prototype.tY=function(a,b){var c,d,g,f;c=[];d=this.et[a];for(g in d){f=d[g];f && !f.stream.ca && f.jl === b && (this.mga(a,g),c.push({stream:f.stream,offset:f.offset,$:f.$,qz:f.qz,St:f.St,MJ:f.MJ,Ona:f.Ona}),f.pc());}return c;};b.prototype.s4=function(a){var b;b=this;a.forEach(function(a){b.E5(a.stream,a);});};b.prototype.HGa=function(a){this.et[a.I][a.za]=a;};b.prototype.tyb=function(a){return ! !this.Fj(1,a);};b.prototype.icb=function(a){var b,c,d,g,m;b=this.H;c=h.km.Co(a.I);d=a.stream.ca;if(b.Xfa){g=d.length;c.trace("fragment count:",g);for(var f=0;f < g;++f){m=d.get(f);c.trace("fragment: " + f + ", startPts: " + m.T + ", duration: " + m.duration + ", offset: " + m.offset);}}this.xDa(a);if(b.eK && b.eK.enabled && void 0 === d.WA && b.eK.simulatedFallback){g=d.length;b=[];for(f=0;f < g;++f){b[f]=Math.max(0,a.stream.qb + this.reb(f));}d.JOb(b);}};b.prototype.xDa=function(a){var b,c;b=a.I;c=a.za;h.km.Co(b);a.VR && (a.VR.forEach(function(d){(d=d.zr(b,c)) && d !== a.stream && !d.ge && d.rZ(a.stream);}),a.VR=void 0);this.sd.ayb(a);};b.prototype.uba=function(a,b,c){var d,g;d=this;g=h.km.Co(a.I);a=new k.s6(a,this.H,b,c,this,!1,g);a.addListener("headerRequestCancelled",function(a){d.hcb(a.request);});a.Jb(void 0);this.HGa(a);return a;};b.prototype.Rab=function(a,b){return this.zh && (a=this.zh.bR(this.sd.u,a)) && this.yY(a,!1,b)?!0:!1;};b.prototype.Dbb=function(a){var b,c,d;b=a.js;c=a.O;d=this.H;return c.Ke.Mf?d.y_?d.y_:d.V0:d.q1a && b?b.offset + b.size:(a=this.WEa[a.I])?a + 128:2292 + 12 * Math.ceil(c.duration / 2E3);};b.prototype.hcb=function(a){this.mga(a.I,a.za);};b.prototype.mga=function(a,b){delete this.et[a][b];};b.prototype.mJa=function(a){this.zG === a.za && (this.zG=void 0);};b.prototype.reb=function(a){var b;b=this.H.eK.fallbackBound;void 0 === this.Zca[a] && (this.Zca[a]=Math.floor(2 * Math.random() * b) - b);return this.Zca[a];};return b;})(f.xs);b.rwa=a;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.bta=void 0;c=a(0);h=a(15);k=a(3).Rs;f=(function(a){function b(b){var c;c=a.call(this) || this;c.HFa=b;c.rX=b.groupId;c.Wf=new h.Pg();c.Wf.on(c,k.Zd.yM,c.LN);c.Wf.on(c,k.Zd.DB,c.XG);return c;}c.__extends(b,a);b.prototype.dHb=function(a,b,c){k.prototype.open.call(this,a,b,c);};b.prototype.lOb=function(a){this.rX=a;};Object.defineProperties(b.prototype,{groupId:{get:function(){return this.rX;},enumerable:!1,configurable:!0}});b.prototype.pc=function(){this.Wf && this.Wf.clear();k.prototype.pc.call(this);};b.prototype.LN=function(a){this.HFa.IJb(a.probed,a.affected);this.pc();};b.prototype.XG=function(a){this.HFa.FJb(a.probed,a.affected);this.pc();};return b;})(k);b.bta=f;},function(f,b,a){var h,k,r;function c(a,b,c){this.FN=a;this.aC=0 === Math.floor(1E6 * Math.random()) % c.uE;this.groupId=1;this.config=c;this.tw={};this.xA={};this.Xp=b;}h=a(8);k=a(3);new k.Console("ASEJS_PROBE_MANAGER","asejs");r=a(882).bta;c.prototype.constructor=c;c.prototype.HJb=function(a,b){var c,g,f,l,p,r,n,q,u,C,T;c=this.FN;g=a.Rb;f=c.f_a(a.url);l=c.b2(a.url);p=this.config;r=k.time.da();q=b;u=[];C=f.Wm[0];T=!1;n=this.tw[g];if(!n)n=this.tw[g]={count:0,ii:r,Ax:!1,error:b,iqa:[],Aoa:{}};else if(n.ii >= r - p.q5)return;n.Ax || (C && l.id === C.id && (a.isPrimary=!0),n.ii=r,n.Ax=!1,n.error=b,++n.count,f && f.ye && 0 !== f.ye.length && (h.forEach(f.ye,function(b){var c,d,f;c=b.Gc.id;d=c + "-" + g;f=this.xA[d];if(void 0 === f || void 0 === f.R3)(f && f.ri && clearTimeout(f.ri),b=this.gKa(b.url,a,c),this.xA[d]={ia:!1,count:0,R3:b.jk()},u.push(b.jk()),T=!0);-1 === n.iqa.indexOf(c) && n.iqa.push(c);},this),this.aC && 0 < u.length && (f={type:"logdata",target:"endplay",fields:{}},b=q,q={ts:k.time.da(),es:b.cHa,fc:b.kg,fn:b.uMa,nc:b.ki,pb:u,gid:this.groupId},b.BD && (q.hc=b.BD),f.fields.errpb={type:"array",value:q,adjust:["ts"]},c.$l(f)),T && this.groupId++));};c.prototype.gKa=function(a,b,c){var d,g,f;d=this.FN.b2(b.url);d && d.cb && d.cb.Er && d.cb.Er.Ga || Math.random(0,1);d=new r(this);g=a.split("?");f="random=" + parseInt(1E7 * Math.random(),10);d.dHb(1 < g.length?a + "&" + f:a + "?" + f,b,c);return d;};c.prototype.IJb=function(a,b){var c,g,f,h,l,p,r,n;c=this.FN;g=this.config;f=b.Rb;h=this.tw[f];p=a.url;r=this.xA[a.Rb + "-" + f];if(h && (l=h.error,r)){r && r.ri && clearTimeout(r.ri);r.ia=!0;r.count=0;r.R3=void 0;h.Aoa[a.Rb]=!0;(r=this.tw[a.Rb]) && !0 === r.Ax && g.Nv && (c.UXa(a.Rb,r.error.JT[1]),this.aC && (r={type:"logdata",target:"endplay",fields:{}},r.fields.errst={type:"array",value:{ts:k.time.da(),id:a.requestId,servid:b.Rb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.$l(r)),this.tw[a.Rb]=void 0,this.Xp());if(p !== b.url){n=this.xA[f + "-" + f];n && n.ia || (f=(f=c.b2(p)) && f.cb && f.cb.Er && f.cb.Er.Ga || Math.random(0,1) * g.k2,f=Math.min(f,g.k2),setTimeout((function(){var d;if(!(!1 !== h.Ax || n && n.ia) && (h.Ax=!0,c.oq(l.JT[0],l.JT[1],b.url,l),this.aC)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:k.time.da(),id:a.requestId,servid:b.Rb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.$l(d);}}).bind(this),f));}this.aC && (r={type:"logdata",target:"endplay",fields:{}},r.fields.pbres={type:"array",value:{ts:k.time.da(),id:a.requestId,result:1,servid:a.Rb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.$l(r));}};c.prototype.FJb=function(a,b){var c,g,f,l,p,r,n,q,u,C;c=this.FN;g=parseInt(b.Rb,10);f=this.tw[g];l=parseInt(a.Rb,10);p=this.xA[l + "-" + g];r=0;u=this.config;if(p && f){p.ia=!1;p.R3=void 0;f.Aoa[l]=!1;q=f.iqa;if(u.Nv && l === g && b.isPrimary){C=c.b2(b.url);C=C && C.cb && C.cb.Er && C.cb.Er.Ga || 300 * Math.random(0,1);C=C * Math.pow(2,p.count);C=Math.min(C,12E4);C=C + Math.random(0,1) * (1E4 > C?100:1E4);p.ri=setTimeout((function(){var c;p.ri=void 0;c=this.gKa(a.url,b,l);c.lOb(a.groupId);p.R3=c.jk();}).bind(this),C);}++p.count;l === g && (r=0,q.forEach(function(a){!1 === f.Aoa[a] && r++;}),q.length === r && f.count >= u.p2 && (n=f.error,f.Ax=!0,h.forEach(c.f_a(b.url).ye,function(a){var b;c.oq(n.JT[0],n.JT[1],a.url,n);if(this.aC){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:k.time.da(),id:-1,servid:a.Gc.id},adjust:["ts"]};c.$l(b);}},this)));this.aC && (g={type:"logdata",target:"endplay",fields:{}},g.fields.pbres={type:"array",value:{ts:k.time.da(),id:a.requestId,result:0,servid:a.Rb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.$l(g));}};c.prototype.H5=function(a){var b,c,g;b=a.url || a.mediaRequest.url;if(b){a=this.FN;b=a.NYa(b);c=this.tw[b];g=this.xA[b + "-" + b];c && c.Ax && this.config.Nv && (a.UXa(c.error.cHa,!1),this.aC && (c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:k.time.da(),id:-1,servid:b},adjust:["ts"]},a.$l(c)),this.tw[b]=void 0,g && g.ri && clearTimeout(g.ri));}};c.prototype.reset=function(){var a,b,c;a=this.xA;for(c in a){a.hasOwnProperty(c) && (b=a[c + "-" + c]) && b.ri && clearTimeout(b.ri);}this.xA={};this.tw={};};f.V=c;},function(f,b,a){var c,h,k,r,g,p,d,m,t,n,q,u,E,L,D;Object.defineProperty(b,"__esModule",{value:!0});b.Jva=void 0;c=a(15);h=a(8);k=a(3);r=new k.Console("ASEJS_ERROR_DIRECTOR","asejs");g=a(22);p=a(883);d=k.Fk;m=d.AF;t={};n={};f=[g.Ag.ev,!1];a=[g.Ag.ev,!0];q=[g.Ag.LB,!1];u=[g.Ag.LB,!0];E=[g.Ag.URL,!0];L=[-1,!1];D=[g.Ag.LB,!1];t[m.LUb]=q;t[m.UNKNOWN_ERROR]=q;t[m.yYb]=q;t[m.S4a]=q;t[m.Cua]=q;t[m.d5a]=q;t[m.W4a]=u;t[m.T3a]=u;t[m.Nta]=D;t[m.L6]=D;t[m.U3a]=L;t[m.V3a]=D;t[m.W3a]=D;t[m.Q3a]=q;t[m.S3a]=q;t[m.Mta]=f;t[m.R3a]=q;t[m.P3a]=D;t[m.GVb]=u;t[m.n6a]=D;t[m.mwa]=D;t[m.lwa]=D;t[m.i8]=D;t[m.jwa]=D;t[m.m6a]=E;t[m.j8]=u;t[m.l8]=E;t[m.k8]=a;t[m.pwa]=u;t[m.p6a]=E;t[m.kV]=D;t[m.nwa]=u;t[m.o6a]=u;t[m.Z4a]=u;t[m.T4a]=q;t[m.h$a]=q;t[m.J4a]=q;t[m.K4a]=q;t[m.L4a]=q;t[m.M4a]=q;t[m.N4a]=q;t[m.O4a]=q;t[m.P4a]=q;t[m.Q4a]=q;t[m.R4a]=q;t[m.U4a]=q;t[m.V4a]=q;t[m.X4a]=q;t[m.Y4a]=q;t[m.$4a]=q;t[m.a5a]=q;t[m.b5a]=q;t[m.c5a]=q;t[m.e5a]=q;t[m.f5a]=q;t[m.g$a]=D;t[m.TIMEOUT]=f;n[m.Nta]=!0;n[m.mwa]=!0;n[m.lwa]=!0;n[m.jwa]=!0;n[m.Cua]=!0;f=(function(){var J90;J90=2;for(;J90 !== 12;){switch(J90){case 8:a.prototype.H5=function(a){var W90,b;W90=2;for(;W90 !== 9;){switch(W90){case 4:var L0o="up";L0o+="dat";L0o+="ingLastSuccessEvent";var e0o="updating";e0o+="LastSuc";e0o+="cessEvent";b.Wr && this.yoa.H5(a);this.events.emit(e0o,{type:L0o});W90=9;break;case 7:b=this.config;W90=0;break;W90=1;break;case 2:b=this.config;W90=1;break;case 1:this.gJ=Math.max(a.timestamp || k.time.da(),this.gJ);this.HH();W90=4;break;}}};a.prototype.xna=function(){var X90;X90=2;for(;X90 !== 1;){switch(X90){case 2:this.Mp=0;X90=1;break;case 4:this.Mp=9;X90=6;break;X90=1;break;}}};a.prototype.bl=function(){var Y90,a,b,c;Y90=2;for(;Y90 !== 4;){switch(Y90){case 5:var W0o="m";W0o+="s";var l0o="Set";l0o+="tin";l0o+="g underflow ";l0o+="timeout ";l0o+="in ";b.i1a && !this.Aq && (r.info(l0o + c + W0o),this.Aq=setTimeout(function(){var Z90;Z90=2;for(;Z90 !== 4;){switch(Z90){case 2:var c0o="Forci";c0o+="ng permanent";c0o+=" network ";c0o+="failure after ";var d0o="ms, ";d0o+="since underflow with n";d0o+="o";d0o+=" success";a000.z51(1);r.info(a000.n51(d0o,c0o,c));a.Aq=void 0;a.Wk.oq(g.Ag.ev,!0);Z90=4;break;}}},c));Y90=4;break;case 2:(a=this,b=this.config,c=b.iR);this.gJ=Math.max(k.time.da(),this.gJ);Y90=5;break;}}};a.prototype.HH=function(){var a01;a01=2;for(;a01 !== 1;){switch(a01){case 2:var D0o="C";D0o+="le";D0o+="ared ";D0o+="un";D0o+="derflow timeout";this.Aq && (clearTimeout(this.Aq),this.Aq=void 0,r.info(D0o));a01=1;break;}}};J90=13;break;case 13:return a;break;case 4:a.prototype.QLb=function(a){var S90,b,c,d;S90=2;for(;S90 !== 7;){switch(S90){case 2:(b=k.time.da(),c=this.config,d=this.lra[a]);S90=1;break;case 3:S90=!(d.ii >= b - c.q5 || d.Ax || (d.ii=b,++d.count,d.count < c.p2))?9:7;break;case 8:this.lra[a]={ii:b,count:1};S90=7;break;case 5:S90=d.ii < this.gJ?4:3;break;case 1:S90=d?5:8;break;case 9:return d.Ax=!0;break;case 4:(d.ii=b,d.count=1);S90=7;break;}}};a.prototype.dyb=function(a){var T90,b,c,d,g,f,m,h;T90=2;for(;T90 !== 8;){switch(T90){case 2:var q0o=" ms ";q0o+="a";q0o+="g";q0o+="o";var Q0o="Net";Q0o+="wor";Q0o+="k has fa";Q0o+="ile";Q0o+="d ";var U0o="tempor";U0o+="aril";U0o+="y";var x0o="perman";x0o+="e";x0o+="ntl";x0o+="y";var f0o=" ";f0o+="last s";f0o+="uccess was";f0o+=" ";(b=this,c=k.time.da() - this.gJ,d=a,h=this.config);a000.z51(14);r.warn(a000.y51(f0o,a?x0o:U0o,c,Q0o,q0o));T90=5;break;case 5:var a7o="tempor";a7o+="a";a7o+="ryNetworkErr";a7o+="o";a7o+="r";var Z7o="tempor";Z7o+="aryNetw";Z7o+="orkE";Z7o+="r";Z7o+="ror";!a && c > h.Xma && (d=!0);this.Sw && (g=this.Sw.kg,f=this.Sw.BD,m=this.Sw.ki);a || this.events.emit(Z7o,{type:a7o,errorCode:g,httpCode:f,nativeCode:m});d?(this.xK && (clearTimeout(this.xK),this.xK=void 0),this.HH(),this.yoa.reset(),this.kyb({HAb:a,hHb:g,iHb:f,jHb:m})):this.xK || (this.xK=setTimeout(function(){var U90;U90=2;for(;U90 !== 5;){switch(U90){case 2:b.xK=void 0;b.o4();U90=5;break;}}},h.Yma));T90=8;break;}}};a.prototype.o4=function(){var V90;V90=2;for(;V90 !== 1;){switch(V90){case 2:this.xK || (this.Wk.o4(),this.lra={},this.Xp());V90=1;break;}}};J90=8;break;case 2:a.prototype.Qb=function(){var L90;L90=2;for(;L90 !== 1;){switch(L90){case 2:this.Zf.clear();L90=1;break;case 4:this.Zf.clear();L90=7;break;L90=1;break;}}};a.prototype.ME=function(a){var M90;M90=2;for(;M90 !== 1;){switch(M90){case 2:this.Y4=a;M90=1;break;case 4:this.Y4=a;M90=7;break;M90=1;break;}}};a.prototype.oq=function(a,b,c,f){var N90,u,A,J,E,m,l,k,p,x;N90=2;for(;N90 !== 17;){switch(N90){case 14:A && (l[A]=[a.url]);N90=13;break;case 19:return;break;case 4:var B7o="cri";B7o+="tica";B7o+="lNe";B7o+="tworkError";var v7o="c";v7o+="riticalNetw";v7o+="orkErr";v7o+="or";u=t[c];this.Sw={BD:b,kg:c,uMa:k,ki:f};n[c] && (++this.Mp,this.events.emit(v7o,{type:B7o,kg:c}));N90=8;break;case 1:var i7o=" : ";i7o+="critical error count =";i7o+=" ";var R7o=" ";R7o+="o";R7o+="n";R7o+=" ";var X7o="F";X7o+="ail";X7o+="u";X7o+="re ";r.warn(X7o + k + R7o + JSON.stringify(a) + i7o + this.Mp);N90=5;break;case 18:var Y7o="Unmapped f";Y7o+="ai";Y7o+="lure code in JSASE error d";Y7o+="irector";Y7o+=" : ";a000.u51(3);r.error(a000.n51(c,Y7o));N90=17;break;case 8:N90=u !== L?7:17;break;case 6:A=x.NYa(a.url);N90=14;break;case 7:N90=void 0 !== a.url?6:11;break;case 10:l=x.RNb(a.host,a.port);N90=13;break;case 13:(J=u[0],E=u[1]);p.Wr?h.forEach(l,function(d,h){var O90;O90=2;for(;O90 !== 5;){switch(O90){case 2:var C7o="e";C7o+="r";C7o+="ro";C7o+="r";u === D || u === q?m.yoa.HJb({url:void 0 !== a.url?a.url:d[0],Rb:h},{cHa:h,JT:u,BD:b,kg:c,uMa:k,ki:f}):d.some(function(a){var P90;P90=2;for(;P90 !== 5;){switch(P90){case 2:x.oq(J,E,a);return J === g.Ag.LB;break;}}});!m.Y4 || 0 !== b && void 0 !== b || (d=void 0 !== a.url?a.url:d[0]) && m.Y4.Ypa(C7o,d);O90=5;break;}}}):h.forEach(l,function(c,d){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 1:var T7o="e";T7o+="r";T7o+="r";T7o+="or";(c.some(function(a){var R90;R90=2;for(;R90 !== 5;){switch(R90){case 2:x.oq(J,E,a);return J === g.Ag.LB;break;}}}),!m.Y4 || 0 !== b && void 0 !== b || (c=void 0 !== a.url?a.url:c[0]) && m.Y4.Ypa(T7o,c));Q90=5;break;case 2:Q90=u !== D || m.QLb(d)?1:5;break;}}});N90=17;break;case 20:var o7o="Invalid affe";o7o+="cted for netw";o7o+="o";o7o+="rk failure";r.error(o7o);N90=19;break;case 11:N90=void 0 !== a.host && void 0 !== a.port?10:20;break;case 2:(m=this,l=d.AF.name,k=c?l[c]:void 0,l={},p=this.config,x=this.Wk);N90=1;break;case 5:N90=c && h.isArray(t[c])?4:18;break;}}};J90=4;break;}}function a(a,b,d,g){var K90;K90=2;for(;K90 !== 10;){switch(K90){case 8:var b7o="net";b7o+="workF";b7o+="ailed";var V7o="1S";V7o+="IYbZ";V7o+="rN";V7o+="J";V7o+="Cp9";V7o;t[m.i8]=b.Vyb?u:D;this.Zf.addListener(this.Wk,b7o,this.dyb.bind(this));this.gJ=k.time.da();K90=13;break;case 13:this.Mp=0;this.lra={};K90=11;break;case 11:this.yoa=new p(a,g,b);K90=10;break;case 2:this.Wk=a;this.config=b;this.kyb=d;this.Xp=g;this.events=new c.EventEmitter();this.Zf=new c.Pg();K90=8;break;}}}})();b.Jva=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});f=b.Js || (b.Js={});f[f.AUDIO=0]="AUDIO";f[f.VIDEO=1]="VIDEO";},function(f,b,a){var k,r,g,p;function c(a,b,c,g){r.call(this,a,b,c,g);}function h(a,b,c){r.call(this,a,b,c,void 0);}k=a(87);r=a(412).tM;g=a(416);p=a(77).WDa;c.prototype=Object.create(r.prototype);h.prototype=Object.create(c.prototype);h.prototype.acb=function(a,b){return "string" === typeof b?g[b]:b?g.reset[a] || g.MPb[a]:g.MPb[a];};h.prototype.rXa=function(a,b,c,g){return this.Ka(a,b,!1,c,g);};h.prototype.zXa=function(a,b,c,g){return this.Ka(a,b,!0,c,g);};h.prototype.Ka=function(a,b,c,g,f){var m,h,l,p,t,r,n,q,x,u,A,B,Y,M;function d(a){h=m[a];l=h.ps("traf");if(void 0 === l || void 0 === l.Vv)return !1;p=l.ps("tfdt");if(void 0 === p)return !1;t=l.ps("trun");return void 0 === t?!1:!0;}if(!this.parse())return !1;m=this.Yc.moof;if(!m || 0 === m.length)return !1;if(void 0 !== a)for((r=a,a=0);a < m.length;++a){if(!d(a))return !1;if(t.ve > r || c && t.ve === r)break;r-=t.ve;}else if((a=c?m.length - 1:0,!d(a)))return !1;if(c && a < m.length - 1){n=m[a + 1];this.Oh.kl(this.V1b - n.startOffset,n.startOffset);}else !c && 0 < a && this.Oh.kl(h.startOffset,0);n=l.ps("tfhd");if(void 0 === n)return !1;p=l.ps("tfdt");q=t.ve;x=l.ps("saiz");u=l.ps("saio");A=l.ps(k.tza);B=l.ps("sbgp");if(!(!x && !u || x && u))return !1;Y=l.ps("sdtp");if(this.Yc.mdat && a < this.Yc.mdat.length)M=this.Yc.mdat[a];else if(a !== m.length - 1)return !1;void 0 === r && (r=c?t.ve:0);if(t.Ka(l,n,M || this.Oh,b,r,l.Vv,c))t.e_ && (!c && p && p.Ka(t.zPb),x && u && (x.Ka(t.VK,c),u.Ka(A?0:x.Fpa,l.Vv,c)),A && A.Ka(t.VK,c),Y && Y.Ka(t.VK,q,c),B && B.Ka(t.VK,c));else if(!c){if(a === m.length - 1)return !1;this.Oh.kl(m[a + 1].startOffset - h.startOffset,h.startOffset);}else if(0 === t.VK)return !1;g && (b=this.acb(this.stream.profile,f)) && t.OLb(l,n,M,c,g,b);c=this.Oh.Ka();g=c.reduce(function(a,b){return a + b.byteLength;},0);c={Fd:c,length:g,jE:this.Oh.view.byteLength};t.e_ && !M && (c.tK=l.Vv + t.tK,c.as=t.as);return c;};f.V={gy:h,gR:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a + 8);c.setUint32(4,p("mdat"));return b;}};},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(137);a(137);h=a(77);f=(function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.aE=this.MO=this.offset=0;}a.prototype.Qub=function(a){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,a);};a.prototype.ag=function(a){for(;this.aE < a;){this.MO=(this.MO << 8) + this.Ad();this.aE+=8;}this.aE-=a;return this.MO >>> this.aE & (1 << a) - 1;};a.prototype.Ad=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.jh=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.Mb=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.Roa=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.VHb=function(a,b){var c;c=this.view.getUint32(this.offset + (a?4:0),a);a=this.view.getUint32(this.offset + (a?0:4),a);b || 0 === (c & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * c + a;};a.prototype.Ij=function(a,b){a=this.VHb(a,b);this.offset+=8;return a;};a.prototype.XHb=function(){var a,b;a=this.view.getInt32(this.offset + 0,void 0);b=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < a?a:-a) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * a + b;};a.prototype.AKb=function(){var a;a=this.XHb();this.offset+=8;return a;};a.prototype.zA=function(){return h.wy(this.Mb());};a.prototype.b4=function(){var b,c,d,f,h,l;function a(a,b){return ("000000" + a.toString(16)).slice(2 * -b);}b=this.Mb(!0);c=this.jh(!0);d=this.jh(!0);f=this.jh();h=this.jh();l=this.Mb();return [a(b,4),a(c,2),a(d,2),a(f,2),a(h,2) + a(l,4)].join("-");};a.prototype.uKb=function(){var a;a=this.view.byteOffset + this.offset;return this.view.buffer.slice(a,a + 16);};a.prototype.tKb=function(a){var b;b=[];if(0 === a)return "";a=a || Number.MAX_SAFE_INTEGER;for(var c=this.Ad();0 !== c && 0 <= --a;){b.push(c);c=this.Ad();}return String.fromCharCode.apply(null,b);};a.prototype.Z3=function(a){var b,f;void 0 === b && (b=1);void 0 === f && (f=!0);return this.dj(this.config.uL && c.Cxb || c.JI,1,a,b,f);};a.prototype.sKb=function(a){var b,f,d;f=10;d=!1;void 0 === f && (f=2);void 0 === d && (d=!0);void 0 === b && (b=!1);return this.dj(this.config.uL && c.Axb || c.F0,2,a,f,d,b);};a.prototype.Y3=function(a,b,f){var d;void 0 === b && (b=4);void 0 === f && (f=!0);void 0 === d && (d=!1);return this.dj(this.config.uL && c.Bxb || c.II,4,a,b,f,d);};a.prototype.wKb=function(){for(var a=this.Ad(),b=a & 127;a & 128;){a=this.Ad();b=b << 7 | a & 127;}return b;};a.prototype.dj=function(a,b,c,d,f,h){void 0 === f && (f=!0);void 0 === h && (h=!1);a=a(this.view,this.offset,c,d,h);this.offset=f || !d || d === b?this.offset + c * (d || b):this.offset + b;return a;};return a;})();b.W$a=f;},function(f,b,a){var c,h,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(138);k=a(415);r=a(77);f=a(887);g=(function(){function a(a){a?(this.sn=a.sn.slice(),this.Eq=a.Eq.slice(),this.ih=a.ih.slice(),this.trim=a.trim):(this.sn=[],this.Eq=[],this.ih=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.sn.length && 0 === this.Eq.length && 0 === this.ih.length;},enumerable:!0,configurable:!0}});return a;})();f=(function(a){function b(b,c,d){b=a.call(this,b,c,d) || this;b.CLa=[];b.xd=new g();return b;}c.__extends(b,a);b.dhb=function(a,b){if(b.offset + b.size <= a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.$S?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.$S?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:h.assert(!b.$S);a.setUint32(b.offset,Math.floor(b.value / 4294967296));a.setUint32(b.offset + 4,b.value & 4294967295);break;default:h.assert(!1);}};Object.defineProperties(b.prototype,{e_:{get:function(){return !this.xd.empty;},enumerable:!0,configurable:!0}});b.prototype.e6=function(a,b){this.xd.Eq.push({offset:void 0 !== b?b:this.offset,value:a,size:1});void 0 === b && (this.offset+=1);};b.prototype.BUb=function(a){this.xd.Eq.push({offset:!1,value:a,size:2,$S:!1});};b.prototype.Dq=function(a,b){this.xd.Eq.push({offset:void 0 !== b?b:this.offset,value:a,size:4,$S:!1});void 0 === b && (this.offset+=4);};b.prototype.CUb=function(a,b){this.xd.Eq.push({offset:void 0 !== b?b:this.offset,value:a,size:8,$S:!1});void 0 === b && (this.offset+=8);};b.prototype.X1a=function(a){this.Dq(r.WDa(a));};b.prototype.qsa=function(a,b){this.xd.ih.push({offset:this.offset,jo:a,value:b});this.offset+=4;};b.prototype.kl=function(a,b,c){this.xd.sn.push({offset:b,remove:a,ib:c});};b.prototype.h4=function(a,b,c,d){this.xd.sn.push({offset:c,remove:a,replace:b,ib:d});};b.prototype.trim=function(a){this.xd.trim=a;};b.prototype.gKb=function(){this.CLa.push(new g(this.xd));};b.prototype.RIb=function(){this.xd=this.CLa.pop() || new g();};b.prototype.Ka=function(){var a,c,d,g,f,h,l;a=this;if(0 === this.xd.sn.length && 0 === this.xd.Eq.length && 0 === this.xd.ih.length)return [void 0 === this.xd.trim?this.view.buffer:this.view.buffer.slice(0,this.xd.trim)];this.xd.sn.sort(function(a,b){return a.offset - b.offset;});this.xd.Eq.sort(function(a,b){return a.offset - b.offset;});this.oMb();c=this.Dsb();d=this.view.buffer.slice(0,c);g=new DataView(d);this.xd.Eq.forEach(b.dhb.bind(void 0,g));this.ESb(g);this.DSb(g);f=[];h=void 0 !== this.xd.trim?Math.min(this.xd.trim,this.view.byteLength):this.view.byteLength;l=0;this.xd.sn.filter(function(a){return a.offset <= h;}).forEach(function(b){b.offset > l && (f.push(g.buffer.slice(l,b.offset)),b.offset > g.byteLength && g !== a.view && (g=a.view,f.push(g.buffer.slice(c,b.offset))));b.replace && f.push(b.replace);l=b.offset + b.remove;});l < c && f.push(d.slice(l));l < h && f.push(this.view.buffer.slice(Math.max(d.byteLength,l),h));return f;};b.prototype.Dsb=function(){var a,b,c;a=[];b=this.xd.Eq[this.xd.Eq.length - 1];c=this.xd.ih[this.xd.ih.length - 1];b && a.push(b.offset + b.size);c && a.push(c.offset + 4);this.xd.sn.filter(function(a){return a.ib;}).forEach(function(b){return a.push(b.ib.byteOffset + 4);});b=Math.max.apply(void 0,a);return void 0 !== this.xd.trim?Math.min(b,this.xd.trim):b;};b.prototype.oMb=function(){this.xd.sn=this.xd.sn.reduce(function(a,b){var c,d;if(0 === a.length)return (a.push(b),a);c=a[a.length - 1];d=c.offset + c.remove;b.offset >= d?a.push(b):b.offset + b.remove > d && (h.assert(c.ib === b.ib),c.remove+=b.offset + b.remove - d,b.replace && (c.replace=c.replace?k.concat(c.replace,b.replace):b.replace));return a;},[]);};b.prototype.ESb=function(a){var b;b=this;this.xd.ih.forEach(function(c){var d,g,f,h;d=a;g=c.offset;b.xd.sn.some(function(a){return a.offset <= c.offset && a.replace && a.offset + a.replace.byteLength >= c.offset + 4?(d=new DataView(a.replace),g=c.offset - a.offset,!0):!1;});f=c.jo + (void 0 !== c.value?c.value:d.getInt32(g));h=b.xd.sn.reduce(function(a,b){return b.offset > c.jo && b.offset < f?a + (b.remove - (b.replace?b.replace.byteLength:0)):a;},0);d.setInt32(g,f - c.jo - h);});};b.prototype.DSb=function(a){this.xd.sn.forEach(function(b){var c;c=(b.remove || 0) - (b.replace?b.replace.byteLength:0);if(0 !== c)for(b=b.ib;b;){a.setUint32(b.byteOffset,a.getUint32(b.byteOffset) - c);b=b.parent;}});};return b;})(f.W$a);b.V$a=f;},function(f){f.V=function a(c,f){var h;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,f);Object.getOwnPropertyNames(c).forEach(function(a){h=Object.getOwnPropertyDescriptor(c,a);void 0 !== h && Object.defineProperty(f,a,h);});};},function(f,b,a){var c,h,k,r,g,p,d,m,t,n,q,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(889);k=a(415);r=a(138);g=a(236);p=a(29);f=a(418);d=a(417);m=a(414);t=a(137);n=a(237);q=a(87);u=a(413);a=(function(){function a(a,b,c,d,g,f){this.console=a;this.stream=b;this.ds=d;this.Bgb=g;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=f || ({});this.vyb=t.Wub();}a.path=function(a,b){return b.reduce(function(a,b){return a && a.Yc[b] && a.Yc[b][0];},a);};a.Wvb=function(a){return a && a.gfa && -1 !== a.gfa.indexOf("mcl0")?"mcl0":void 0;};a.Jsb=function(a,b){var c;r.assert("mcl0" === a,"Unsupported McClearen brand");c=b.ca;a=c.Qd;b=new g.U(120,1).we(c.P).tb;for(var d=0,c=c.zk;d < a.length && c < b;){c+=a[d++];}return d;};a.prototype.parse=function(a){var b;b=this.UMb();if(!b.done){if(b.LTa)return {oA:!1,Cgb:b.LTa};this.console.error("Scan error: " + b.error);return {oA:!1,parseError:b.error || "unknown mp4 scan error"};}b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + b.offset);this.view=new DataView(b);a=this.uHb(a);return a.done?this.plb():(this.console.error("Parse error: " + a.error),{oA:!1,parseError:a.error || "unknown mp4 parse error"});};a.prototype.nD=function(a){return p.eg.nD(this,a);};a.prototype.oD=function(a){return p.eg.oD(this,a);};a.prototype.UMb=function(){var b,d;b=new u.r6a(this.ds,this.Bgb?[q.DV,q.CV]:[],this.config && this.config.f6b || ["moof",q.Tya],this.config && this.config.kVa);d=c.__assign(c.__assign({},this.config),{Lna:!1});return new m.G6(a.Jpa,b,this.view,this.console,d).parse();};a.prototype.uHb=function(a){var b,d,g;b=new u.Qua(this.view.byteLength);d=Object.create(n.KJ.Yc);this.config && ((this.config.iVa || this.config.s0a || this.config.a5) && h(n.KJ.Gpa,d),this.config.Cra && h(n.KJ.$Rb,d),this.config.s0a && h(n.KJ.t0a,d));g=c.__assign(c.__assign({},this.config),{Lna:!0});this.Oh=new m.G6(d,b,this.view,this.console,g);a=this.Oh.parse(a);a.done && (this.Yc=this.Oh.Yc);return a;};a.prototype.plb=function(){var b,c,d,f,h,m;b={oA:!0};c=a.path(this,["moov"]);d=a.path(c,["trak","mdia","minf","stbl","stsd"]);if(this.config.iVa)if(d)(b.xa=d.xa,b.G5b=d.Yc);else return {oA:!1,parseError:"Missing sample descriptions"};f=a.path(d,["encv","sinf","schi"]);f && (f=a.path(f,["tenc"]) || a.path(f,[q.uza])) && (b.srb={K1b:f.Rw,vRa:f.vRa,N3b:!1});if(f=a.path(c,["trak","mdia","mdhd"]))b.P=f.P;if(f=a.path(c,["mvex","trex"]))b.KZ=f && f.jd.KZ;b.KZ && b.P && (b.xa=new g.U(b.KZ,b.P));if(f=a.path(this,["sidx"])){h=a.path(this,[q.DV]);h=h && h.ODb;m=a.path(this,[q.CV]);m=m && m.Oi;b.ca=f.ca;b.IJ=h;b.Oi=m;}if(h=this.Yc.vmaf && this.Yc.vmaf[0])b.WA=h.WA;if(this.config.yMb)if(c)(this.trim(c.byteOffset + c.byteLength),this.config.a5 && d && 1 < d.uo && f && (b.bh=this.a5(d,f)),void 0 === b.bh && (c=this.Oh.e_?k.concat(this.Oh.Ka()):this.view.buffer,b.bh=[{mg:0,data:c}]));else return {oA:!1,parseError:"Missing movie box"};b.oA=!0;b.t3=this.Oh.offset;return b;};a.prototype.trim=function(a){var b;b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(a,this.view.byteLength));this.Oh.trim(a);this.view=new DataView(b);};a.prototype.a5=function(b,c){var d,g,f;d=Object.keys(b.Yc);g=d.filter(function(a){return "encv" !== a;});if(!(2 > d.length || g.length === d.length || 0 === g.length)){d=a.path(this,["ftyp"]);f=a.Wvb(d);if(f)return (d=[],this.Oh.gKb(),b.wXa("encv"),d.push({mg:0,gk:!1,data:k.concat(this.Oh.Ka())}),this.Oh.RIb(),b.wXa(g[0]),b=a.Jsb(f,c),d.push({mg:b,gk:!0,data:k.concat(this.Oh.Ka())}),d);}};a.Jpa={};return a;})();b.hy=a;a.Jpa[q.v9]=f["default"];a.Jpa[q.w9]=d["default"];},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a,b,c,d,f;this.bg();a=this.Au([{wra:"int32"},{SKa:"int32"},{LZ:"int32"},{NZ:"int32"},{MZ:"int32"}]);b=a.wra;c=a.SKa;d=a.LZ;f=a.MZ;a=a.NZ;this.jd={jb:b,Y1b:c,KZ:d,Z1b:f,$1b:a};this.wra=b;this.SKa=c;this.LZ=d;this.NZ=a;this.MZ=f;return !0;};b.We="trex";b.xc=!1;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=a(87);a=a(29);h=f.u9;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.bg();this.jd=this.Au([{rna:"int32"},{PZ:"int16"}]);return !0;};b.We=h;b.xc=!1;return b;})(a.eg);b["default"]=a;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(234);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.bg();this.J5a=h.tva.OWa(this.M);return !0;};b.We="esds";b.xc=!1;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.uI=function(){var a;a=this.oD("esds");if(a=a && a.J5a.oD(5))this.U_=a.U_;return !0;};b.We="mp4a";b.xc=!0;return b;})(a(171)["default"]);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.M.Ad();this.I2a=this.M.Ad();this.M.Ad();this.M.Ad();this.M.Ad();this.LZa=this.xca(this.M.Ad() & 31);this.xca(this.M.Ad());this.S3=this.LZa.length?this.LZa[0][0]:this.I2a;this.JFa=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.S3 || 110 === this.S3 || 122 === this.S3 || 144 === this.S3) && (this.M.Ad(),this.M.Ad(),this.xca(this.M.Ad()));a=this.startOffset + this.length - this.JFa;0 < a && this.kl(a,this.JFa);return !0;};b.prototype.xca=function(a){var d;for(var b=[],c=0;c < a;++c){d=this.M.jh();b.push(this.M.Z3(d));}return b;};b.We="avcC";b.xc=!1;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(29);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.bg();this.rYa=this.M.zA();h.sa && this.M.console.trace("SchemeTypeBoxTranslator: " + this.rYa);"cenc" === this.rYa && (this.M.offset-=4,h.sa && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.hb.X1a("piff"));this.M.Mb();return !0;};b.We="schm";b.xc=!1;return b;})(h.eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var b;this.WFb=this.M.jh() & 7;this.CQb=[];for(var a=0;a < this.WFb;a++){b={Etb:this.M.ag(2),Pib:this.M.ag(5),Qib:this.M.ag(5),Qfb:this.M.ag(3),T3b:this.M.ag(1),VFb:this.M.ag(4)};0 < b.VFb?b.v1b=this.M.ag(9):this.M.ag(1);this.CQb.push(b);}return !0;};b.We="dec3";return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.Etb=this.M.ag(2);this.Pib=this.M.ag(5);this.Qib=this.M.ag(3);this.Qfb=this.M.ag(3);this.M.ag(1);this.M.ag(5);this.M.ag(5);return !0;};b.We="dac3";return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c,h,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(87);k=a(236);r=a(171);f=a(29);g=a(86);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.bg();this.uo=this.M.Mb();return !0;};b.prototype.uI=function(a){var b;b=Object.keys(this.Yc);b.length && (b=b[0],this.Yc[b].length && (b=this.Yc[b][0],b instanceof r["default"]?this.xa=new k.U(b.U_,b.mYa):b instanceof g["default"] && (b=b.Yc[h.u9]) && b.length && (b=b[0].jd,1E3 !== b.PZ && 1001 !== b.PZ || 0 !== b.rna % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + b.rna + "/" + b.PZ):this.xa=new k.U(b.PZ,b.rna)),this.xa && (a.xa=this.xa)));return !0;};b.prototype.wXa=function(a){void 0 !== this.Yc[a] && 0 !== this.Yc[a].length && (this.hb.Dq(this.uo - 1,this.byteOffset + 12),a=this.Yc[a][0],this.kl(a.byteLength,a.byteOffset));};b.We="stsd";b.xc=!0;return b;})(f.eg);b["default"]=a;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(77);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.bg();this.jd=this.Au([{n5b:"int32"},{uPa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.jd.uPa=h.wy(this.jd.uPa);return !0;};b.We="hdlr";b.xc=!1;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.M.zA();this.M.zA();for(this.gfa=[];this.M.offset <= this.byteOffset + this.byteLength - 4;){this.gfa.push(this.M.zA());}return !0;};b.We="ftyp";b.xc=!1;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.jd=this.Au([{k1b:"int32"},{Ko:"int32"},{dib:"int32"}]);return !0;};b.We="btrt";b.xc=!1;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.jd=this.Au([{v3b:"int32"},{I6b:"int32"}]);return !0;};b.We="pasp";b.xc=!1;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.bg();this.jd=this.Au(1 === this.version?[{bNa:"int64"}]:[{bNa:"int32"}]);return !0;};b.We="mehd";b.xc=!1;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.bg();a=1 === this.version?[{dk:"int64"},{modificationTime:"int64"},{jb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{dk:"int32"},{modificationTime:"int32"},{jb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{S3b:"int16"},{U0b:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.jd=this.Au(a);this.jd.q6b=! !(this.Si & 1);this.jd.r6b=! !(this.Si & 2);this.jd.s6b=! !(this.Si & 4);this.jd.t6b=! !(this.Si & 8);this.M.console.trace("Finished parsing track box");return !0;};b.We="tkhd";b.xc=!1;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.We="trak";b.xc=!0;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);f=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.bg();this.jd=1 === this.version?this.Au([{dk:"int64"},{modificationTime:"int64"},{P:"int32"},{duration:"int64"}]):this.Au([{dk:"int32"},{modificationTime:"int32"},{P:"int32"},{duration:"int32"}]);return !0;};b.We="mvhd";b.xc=!1;return b;})(a(29).eg);b["default"]=f;},function(f,b,a){var c,h,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.lCa=b.v$a=void 0;c=a(0);h=a(99);k=a(5);f=a(3);r=a(411);a=a(422);g=new f.Console("FRAGMENTS","media|asejs");try{p=!0;}catch(m){p=!1;}d=(function(a){function b(b,c){c=a.call(this,b.jm,c) || this;c.rC=b;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{$:{get:function(){return this.rC.wPb(this.tj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{offset:{get:function(){return this.rC.ih(this.tj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tma:{get:function(){return this.rC.IJ && this.rC.IJ[this.tj];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Oi:{get:function(){return this.rC.Ttb(this.tj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qb:{get:function(){return this.rC.WA && this.rC.WA[this.tj];},enumerable:!1,configurable:!0}});b.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Xa,contentEndTicks:this.nb,durationTicks:this.Qp,timescale:this.P,startPts:this.T,endPts:this.pa,duration:this.duration,additionalSAPs:this.Oi};};return b;})(a.MCa);b.v$a=d;f=(function(){function a(a,b,c,d,f,h){this.WG=128;this.uc=a;this.ce=b.offset;this.Zn=b.sizes;this.sG=this.jN=this.Xg=this.ao=this.Jca=void 0;this.adb=c;this.Zaa=d && d.ih;this.wGa=f;this.Ee=Math.min(this.uc.length,this.Zn.length);this.Ncb=this.qjb();this.jm.op.length !== this.Zn.length && g.error("Mis-matched stream duration (" + this.jm.op.length + "," + this.Zn.length + ") for movie id " + h);this.jm.DY && !this.Zaa && g.error("Mis-matched additional SAPs information for movie id " + h);}a.M1b=function(a,b){var c,d;b=b.P;c=b / 1E3;d=new DataView(a);a=Math.floor(a.byteLength / 16);return {P:b,zk:d.getUint32(4) * c,offset:65536 * d.getUint32(8) + d.getUint16(12),sizes:h.m5a.II(d,0,a,16),Qd:h.Eaa.from(Uint32Array,{length:a},function(a,b){return d.getUint16(16 * b + 14) * c;})};};Object.defineProperties(a.prototype,{I:{get:function(){return this.uc.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Ee;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zk:{get:function(){return this.uc.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Yga:{get:function(){return this.uc.Yga;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.uc.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pa:{get:function(){return this.uc.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nma:{get:function(){return this.uc.nma;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{n2:{get:function(){return this.Ncb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xa:{get:function(){return this.uc.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.uc.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ti:{get:function(){return this.ao || this.kba();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{IJ:{get:function(){return this.adb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{YGa:{get:function(){return this.Zaa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{WA:{get:function(){return this.wGa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jm:{get:function(){return this.uc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{UK:{get:function(){return this.Jca || this.ebb();},enumerable:!1,configurable:!0}});a.prototype.wPb=function(a){if(this.Zn)return this.Zn[a];g.error("sizesByIndex _sizes is undefined");return -1;};a.prototype.gj=function(a){return this.uc.gj(a);};a.prototype.Zga=function(a){return this.uc.gj(a) + this.uc.Qd(a);};a.prototype.ih=function(a){if(this.jN !== a || void 0 === this.sG){if(0 === a)return this.ce;if(this.jN === a - 1 && void 0 !== this.sG)(this.sG+=this.Zn[this.jN],++this.jN);else {for(var b=this.Xg || this.Mab(),c=Math.floor(a / this.WG),d=c * this.WG,b=b[c];d < a;++d){b+=this.Zn[d];}this.jN=a;this.sG=b;}}return this.sG;};a.prototype.Qd=function(a){return this.uc.Qd(a);};a.prototype.get=function(a){return new d(this,a);};a.prototype.Ttb=function(a){var b,c,d;k.assert(0 <= a);b=this.jm.DY;c=this.jm.ZGa;d=this.Zaa;if(!d || !b || !c || a >= b.length)return [];for(var g=[],f=a === b.length - 1?c.length:b[a + 1],b=b[a];b < f;++b){g.push({ln:c[b],Fc:this.gj(a) + this.xa.$D(c[b]).ka,offset:d[b]});}return g;};a.prototype.JOb=function(a){this.wGa=a;};a.prototype.Om=function(a,b,c){return this.uc.Om(a,b,c);};a.prototype.D_=function(a,b,c){return this.uc.D_(a,b,c);};a.prototype.Afa=function(a,b){return this.uc.Afa(a,b);};a.prototype.Xka=function(a,b,c){var d,g,f,h,m,l,k,p,t;d=!0;g=0;h=this.uc.op;m=this.Zn;l=Math.floor(a * this.P / 1E3);k=0;p=0;t=0;if(this.uc.Ora && this.uc.Nra)for(g=this.uc.Ora;g <= this.uc.Nra;++g){k+=h[g];p+=m[g];}if(p > b)d=!1;else for(;g < this.length && (!c || g < c);){f=m[g];a=h[g];if(p + f > b && k < l){d=!1;this.uc.Ora=t;this.uc.Nra=g;break;}for(;0 < g - t && p + f > b;){k-=h[t];p-=m[t];++t;}k+=a;p+=f;++g;}return d;};a.prototype.subarray=function(b,c){k.assert(void 0 === b || 0 <= b && b < this.length);k.assert(void 0 === c || c > b && c <= this.length);return new a(this.uc.subarray(b,c),{offset:this.ih(b),sizes:this.Zn.subarray(b,c)},this.IJ && this.IJ.subarray(b,c),this.YGa && ({ih:this.YGa}));};a.prototype.forEach=function(a){for(var b=0;b < this.length;++b){a(this.get(b),b,this);}};a.prototype.map=function(a){for(var b=[],c=0;c < this.length;++c){b.push(a(this.get(c),c,this));}return b;};a.prototype.reduce=function(a,b){for(var c=0;c < this.length;++c){b=a(b,this.get(c),c,this);}return b;};a.prototype.toJSON=function(){return {length:this.length};};a.prototype.dump=function(){var b;g.trace("StreamFragments: " + this.length);for(var a=0;a < this.length;++a){b=this.get(a);g.trace("StreamFragments: " + a + ": [" + b.T + "-" + b.pa + "] @ " + b.offset + ", " + b.$ + " bytes");}};a.prototype.qjb=function(){var a,b,c,d,g;b=0;c=this.uc.KSa;d=this.uc.op;g=this.Zn;if(void 0 === c || c >= this.length){for(var f=0;f < this.length;++f){a=g[f] / d[f];a > b && (b=a,c=f);}void 0 === this.uc.KSa && (this.uc.KSa=c);}else b=g[c] / d[c];return Math.floor(b * this.P / 125);};a.prototype.kba=function(){for(var a=0,b=0;b < this.length;++b){a+=this.Zn[b];}return this.ao=a;};a.prototype.ebb=function(){return this.Jca=new r.gaa(this.uc.op,this.Zn,this.uc.P);};a.prototype.Mab=function(){var a;if(!this.Xg){a=p?new Float64Array(Math.ceil(this.length / this.WG)):Array(Math.ceil(this.length / this.WG));for(var b=this.ce,c=0;c < a.length;++c){a[c]=b;for(var d=0;d < this.WG;++d){b+=this.Zn[c * this.WG + d];}}this.Xg=a;}return this.Xg;};return a;})();b.lCa=f;f.prototype.TZa=a.eR(f.prototype.gj);},function(f,b,a){var h,k,r,g,p,d;function c(a,b){var c,d;c=Math.floor(1E3 * a / b);d=1E3 * Math.round(c / 1E3);return new k.U(d,Math.abs(Math.floor(1001 * a / b) - d) > Math.abs(c - d)?1E3:1001);}Object.defineProperty(b,"__esModule",{value:!0});b.gta=void 0;h=a(422);k=a(20);r=a(5);g=a(10);p=a(238);d=a(421);f=(function(){function a(b,d,f){this.H=d;this.G=f;this.zy=new g.$Ba();this.KEa=!1;this.$w=b.$w;this.O=b.O;this.I=b.I;this.DT=b.DT;this.xC=b.xC;1 === this.I && (d=this.$w.streams[0],void 0 !== d.framerate_value && void 0 !== d.framerate_scale && (this.eca=c(d.framerate_value,d.framerate_scale).eXa()));this.Gl=(this.HG=this.eca) && this.HG.P;this.Oba=this.jEa=!1;this.Xja=-Infinity;this.kSa=Infinity;b=a.fbb(this,b.Mf);d=b.Ko;f=b.cd;this.S0=b.S0;this.Ko=d;this.cd=f;this.ifb=f.reduce(function(a,b){a[b.za]=b;return a;},{});!1;}a.fbb=function(a,b){var c,g,f,h,m;c=a.H;g=1 === a.I;f=!1;h=0;m=[];a.$w.streams.forEach(function(l,k){var p,r,t;r=l.bitrate;t=!0;g && (p=-1 === l.content_profile.indexOf("none"),t=b && !p || !b && p,f=f || p);t && r > h && (h=r);l=new d.eta({Zw:l,Qf:k,track:a,bu:t},c,a.G);m.push(l);});return {S0:f,Ko:h,cd:m};};Object.defineProperties(a.prototype,{eFb:{get:function(){return !this.ge && !this.KEa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ge:{get:function(){return ! !this.jm && ! !this.zy.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Jga:{get:function(){return this.jEa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return String(this.O.u);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jb:{get:function(){return this.$w.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xa:{get:function(){return this.HG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Gl;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{JJ:{get:function(){return this.bdb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jm:{get:function(){return this.uc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{EQ:{get:function(){return this.zy.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uha:{get:function(){return this.xa.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tha:{get:function(){return this.xa.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hha:{get:function(){return this.zy;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hd:{get:function(){var a;return null === (a=this.cd[0]) || void 0 === a?void 0:a.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{t2:{get:function(){return this.cd.some(function(a){var b;return 1 < ((null === (b=a.bh) || void 0 === b?void 0:b.length) || 0);});},enumerable:!1,configurable:!0}});a.prototype.zr=function(a){return this.wD()[a];};a.prototype.wD=function(){return this.ifb;};a.prototype.equals=function(a){return this.u === a.u && this.I === a.I && this.jb === a.jb;};a.prototype.Ana=function(){this.KEa=!0;};a.prototype.e3=function(a,b,c,d,g){if(d && void 0 !== d.zk && (this.ge || void 0 !== d.Qd && d.Qd.length)){if((a.cu && (this.jEa=!0),this.ge))!this.Oba && d.Qd && d.Qd.length > this.jm.length && (this.uc=new h.xaa(this.I,this.xa,d,g),this.zy.VXa(),this.Xja=-Infinity,this.Oba=!0);else {this.dGa(b);if(c=c || this.eca)(this.cGa(c || this.eca),void 0 === this.P && this.eGa(c.P));this.uc=new h.xaa(this.I,this.xa,d,g);a.cu && (this.Oba=!0);}}else this.G && this.G.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.BGb=function(a){void 0 === this.zy.value && this.zy.set(a);};a.prototype.Alb=function(a){this.ge || (this.eGa(a.P),this.dGa(a.JJ),this.cGa(a.xa),this.uc=a.jm,a.Hha.value?this.zy.set(a.Hha.value):this.zy.VXa());};a.prototype.Nm=function(a,b,c,d){r.assert(this.EQ);return p.Nm(this.I,a,this.EQ,b,c,d);};a.prototype.pD=function(a,b,c){r.assert(this.EQ);return p.pD(this.I,a,this.EQ,b,c);};a.prototype.toJSON=function(){return {movieId:this.u,mediaType:this.I,trackId:this.jb};};a.prototype.toString=function(){return (0 === this.I?"a":"v") + ":" + this.jb;};a.prototype.eGa=function(a){this.Gl=a;};a.prototype.dGa=function(a){this.bdb=a;};a.prototype.cGa=function(a){this.HG=a;};return a;})();b.gta=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.YBa=void 0;c=a(10);f=a(3);h=f.Fk;new f.Console("ASEJS_SIDECHANNEL","media|asejs");f=(function(){function a(a,b,f){this.Zl=f;this.Kfb=new c.qDa(a);this.ea=b.ea;this.Eab=1E3 * b.MDb / b.Rib;this.Wpb=b.nw;this.UB=b.Zea;}a.prototype.Lp=function(a){var b,f,d,h;b={s_xid:this.ea,dl:this.Wpb?1:0};a.PO && (b.bs=c.hZ(Math.floor(a.PO / this.Eab) + 1,1,5));a.X2 && (b.limit_rate=a.X2);a.kIa && (b.bb_reason=a.kIa);a.$_a && (b.tm=a.$_a);if(a.sZ){f=0;d=0;h=0;a.PO && a.PO > this.UB.xR && (this.UB.qS[0] && (f=this.UB.qS[0] * a.sZ),this.UB.qS[1] && (d=this.UB.qS[1] * a.sZ),this.UB.qS[2] && (h=this.UB.qS[2] * a.sZ));b.cpr_ss=f;b.cpr_ca=d;b.cpr_rec=h;}a.iea && (b.br="" + a.iea.start + "+" + a.iea.size);return this.Jdb(b);};a.prototype.Ypa=function(a,b){var c,d;try{c=new h(void 0,"notification");d=this.Lp({kIa:a});b && d && c.open(b,void 0,2,void 0,void 0,void 0,d);}catch(m){this.Zl("SideChannel: Error when sending sendBlackBoxNotification. Error: " + m);}};a.prototype.Jdb=function(a){var b;try{b=this.Web(a);return this.Kfb.encrypt(b);}catch(p){this.Zl("SideChannel: Error when obfuscating msg. Error: " + p);}};a.prototype.Web=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b) + "=" + encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;})();b.YBa=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Z8=void 0;c=a(15);h=a(10);k=a(239);f=(function(){function a(a,b,c,f,h,l,k,r,n,q,u,C){void 0 === c && (c=0);this.sd=a;this.WX=b;this.T=c;this.pa=f;this.e0=h;this.ng=l;this.EI=k;this.config=r;this.G=n;this.Za=q;this.dsb=u;this.Zf=C;this.fu=0;}a.create=function(b){var d,f,l,r,n,q,u,L,D,C,T,P,B,R,V;function g(a){h.Pa(L,a.type,a);}d=b.eb;f=b.qa;l=b.FYa;r=b.T;n=b.pa;q=b.Xp;u=b.Za;L=b.Cb;D=b.config;C=b.G;T=b.mf;P=b.fm;B=b.Ze;R=b.Nz;V=new k.jU(Number(f.movieId),{eb:d,qa:f,gl:b.gl,lb:b.lb,wma:{y1:b.Mf,Vka:! !b.QQa},ci:b.ci,Zq:b.Zq,config:D,Qja:{Rc:T.Mi.bind(T),Ze:B,Nz:R,$l:g,u1:function(a){return a === L.ya.$b.O;},oQ:function(a,b,c,d,g){a=L.fb.Re[a];return !b || c || d || g?L.wN:a.mh;},Ez:function(a){return L.fb.ju[a];},ng:L.ng.bind(L)},PJ:function(a){L.emit("requestComplete",{timestamp:a.kd,mediaRequest:a});},XP:function(){return L.Df;},Ab:L.Kb.Ab,Nf:L.Kb.Nf,hha:{Xp:q,xg:function(a,b,c,g,f){L.Wn(a,d,b,c,g,f);},Sm:function(){return L.eY;},aJ:L.S.Mh.bind(L.S),$l:g},FE:void 0});D.rz && V.ME({kE:L.Cl.kE,ea:L.Cl.ea,nw:L.Cl.nw,Zl:u.Zl.bind(u)});b=new c.Pg();b.addListener(V.Mz,"onHeaderFragments",function(a){var b,c,g,f,h;b=a.I;c=a.za;g=a.stream.ca;f=L.ng(d);if(f){if(V.qg[b] && a !== V.qg[b])a.St && (f=V.qg[b],a=a.stream,h=f && f.stream,C.warn("first header received for non-current track (trackId " + a.jb + "streamId " + a.za + "), expected track " + (h && h.jb) + ", stream " + (h && h.za) + ", " + f));else {V.qg[b]=a;a=L.ya.$b;if(0 === d){h=V.lb(1)?a.bb(1).Vb:a.bb(0).Vb;a.$Y(h,V);}f.pS=!1;f.YY();L.nY();}P.Hba();u.xdb(d,b,c,V.u,g);T.Mi();}else C.warn("addFragments for stale manifestIndex:",d);});b.addListener(V.Mz,"onHeaderRequestComplete",function(a){var b,c;a.gk?L.nY():a.qz && (C.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),L.zP(a.u));b=a.I;c=Object.getOwnPropertyNames(R.et[b]);L.Ff[b].hUa(a.stream,1 === c.length && c[0] === a.za);T.iEa();L.YLb();});b.addListener(V.Mz,"onHeaderFromCache",function(a){var b;b=a.Yp;a=a.atb;b.gk && L.nY();a && u.odb(b.u,b.za);});return new a(V,l,r,n,function(){return L.ya;},L.ng.bind(L),L.EI.bind(L),D,C,u,!1,b);};Object.defineProperties(a.prototype,{O:{get:function(){return this.sd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{eb:{get:function(){return this.O.eb;},enumerable:!1,configurable:!0}});a.prototype.Ao=function(a){return this.sd.hPa(a,this.l0(a));};a.prototype.l0=function(a){return this.WX[a];};a.prototype.close=function(){this.Zf.clear();this.O.close();};a.prototype.pc=function(){this.sd.pc();delete this.sd;};a.prototype.clone=function(){return new a(this.O,this.WX,this.T,this.pa,this.e0,this.ng,this.EI,this.config,this.G,this.Za,!0,this.Zf);};a.prototype.Pra=function(a){this.G.trace("updateAudioTrack:",this.WX[0],"->",a);this.WX[0]=a;};a.prototype.kOa=function(){return void 0 !== this.cE?this.cE:this.pa?this.pa:this.sd.duration;};a.prototype.yjb=function(a,b){var c,g,f,h;c=this.sd.qg[1];if(c && c.stream.ge){if(this.uw && this.uw[1] && this.uw[1].T <= a && this.uw[1].pa > a)return this.uw[1].ad;g=c.stream.ca;f=g.Om(a,void 0,!0);h=void 0;b && (a=c.stream.Ui(f).E_(a)) && (h=a.Fc);void 0 === h && (h=g.gj(f));return h;}};a.prototype.YY=function(){var a,b;if(!this.pS && this.EPa()){this.dna();b=[0,0];0 === this.eb || this.sd.Ke.mR || this.sd.Ke.replace || (a=this.ng(this.eb - 1),a=this.sd.u === a.sd.u,b=this.e0().$b,a=b.$Y(this.T,this.O,b,a),b=a.mK);this.T=b[1];this.mK=b;this.uw=a && a.uw;this.JIa();a=this.sd.lb(1)?this.sd.qg[1].stream.ca.pa:this.sd.qg[0].stream.ca.pa;this.Za.tdb(this.eb,this.fu,this.T,this.cE,a);this.pS=!0;for(a=this.eb + 1;a < this.EI();++a){b=this.ng(a);b.pS=!1;b.YY();}}};a.prototype.JIa=function(){var a;if(0 === this.eb || this.sd.Ke.replace)this.fu=0;else {a=this.ng(this.eb - 1);this.fu=a.fu + a.kOa() - this.T;}};a.prototype.dna=function(){var a,b,c,f,h,l,k,r;if(this.EPa()){h=this.e0().$b;l=this.pa || Infinity;k=this.sd.lb(1);r=h.PP(l,this.O);this.cE=k?r[1].pa:r[0].pa;h=k?this.sd.qg[1].stream.ca.pa:this.sd.qg[0].stream.ca.pa;k=Math.min(null !== (b=null === (a=r[1]) || void 0 === a?void 0:a.pa) && void 0 !== b?b:Infinity,null !== (f=null === (c=r[0]) || void 0 === c?void 0:c.pa) && void 0 !== f?f:Infinity);this.Za.vdb(this.eb,this.cE,h,k);a=this.e0().xha(this.eb);0 < a.length && a.forEach(function(a){a.HSb(r,l);});}};a.prototype.EPa=function(){var a,b,c,f;a=this.sd.lb(0);b=this.sd.lb(1);c=this.sd.qg[0];f=this.sd.qg[1];c=c && c.stream.ge;f=f && f.stream.ge;return (!a || c) && (!b || f);};return a;})();b.Z8=f;},function(f,b,a){var c,h,k,r,g,p,d,m,t,n,q,u,E,L,D,C,T,P,B,R,V,W,M,ha,Y,O,Q,S,U,X,I,da,va;Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;c=a(15);h=a(8);k=a(172);r=a(911);g=a(240);p=a(17);d=a(245);m=a(228);t=a(168);n=a(872);q=a(870);u=a(3);E=u.Promise;L=u.MediaSource;D=a(10);C=a(5);T=a(173);P=a(869);B=a(868);R=a(867);V=a(404);f=a(35);W=a(866);M=a(865);ha=a(403);Y=a(402);O=a(828);Q=a(391);S=a(822);U=a(386);X=a(804);I=a(803);da=a(802);va=a(801);a=(function(){var b01;b01=2;for(;b01 !== 119;){switch(b01){case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var h01;h01=2;for(;h01 !== 1;){switch(h01){case 2:return this.addListener.bind(this);break;case 4:return this.addListener.bind(this);break;h01=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var i01;i01=2;for(;i01 !== 1;){switch(i01){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bEb:{get:function(){var j01;j01=2;for(;j01 !== 1;){switch(j01){case 4:return this.If.Zb;break;j01=1;break;case 2:return this.If.Zb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zp:{get:function(){var k01;k01=2;for(;k01 !== 1;){switch(k01){case 2:return this.lb(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sl:{get:function(){var l01;l01=2;for(;l01 !== 1;){switch(l01){case 2:return this.lb(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var m01;m01=2;for(;m01 !== 1;){switch(m01){case 2:return this.aba;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Zf:{get:function(){var n01;n01=2;for(;n01 !== 1;){switch(n01){case 2:return this.Wf;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jS:{get:function(){var o01;o01=2;for(;o01 !== 1;){switch(o01){case 2:return 0 <= this.wX?this.wX:0;break;case 4:return 9 < this.wX?this.wX:6;break;o01=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pd:{get:function(){var p01;p01=2;for(;p01 !== 1;){switch(p01){case 2:return this.Mc[this.RG];break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wq:{get:function(){var q01;q01=2;for(;q01 !== 1;){switch(q01){case 2:return this.Kb.wq;break;}}},enumerable:!1,configurable:!0}});b01=13;break;case 27:a.prototype.Kka=function(a,b){var F01;F01=2;for(;F01 !== 9;){switch(F01){case 2:F01=a === b?1:5;break;case 1:return !0;break;case 3:return a.O.Ke.Mf && b.O.Ke.mR || b.O.Ke.Mf && a.O.Ke.mR;break;case 7:F01=a != b?6:7;break;F01=a === b?1:5;break;case 5:a=this.Mc[a];b=this.Mc[b];F01=3;break;}}};a.prototype.h0=function(a){var G01;G01=2;for(;G01 !== 5;){switch(G01){case 2:G01=(a=this.ya.cj.children[a])?1:5;break;case 1:return {id:a.ba.id,pe:a.pe,ad:a.foa,Vd:a.Vd,kc:a.E4,Tb:a.Tb};break;}}};a.prototype.Bw=function(){var H01,a;H01=2;for(;H01 !== 5;){switch(H01){case 2:a=this.ya.cj;return {id:a.ba.id,pe:a.pe,ad:a.foa,Vd:a.Vd,kc:a.E4,Tb:a.Tb};break;}}};a.prototype.LT=function(a,b){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:return this.ya.LT(a,b);break;}}};a.prototype.open=function(){var J01,a,b,c,d,g,f,l,k,m,p;J01=2;for(;J01 !== 33;){switch(J01){case 2:a=this;J01=1;break;case 4:var r7o="h";r7o+="e";r7o+="a";r7o+="de";r7o+="rs";(b=this.H,c=this.Pd.O,d=c.u,g=[],f=[r7o]);J01=3;break;case 14:var H7o="createMediaS";H7o+="our";H7o+="ceS";H7o+="tart";l=this.xP.dbb(f,c);f.forEach(function(b,c){var K01;K01=2;for(;K01 !== 1;){switch(K01){case 2:var J7o="h";J7o+="ea";J7o+="ders";J7o === b?a.wN=l[c]:a.fb.Re[b].mh=l[c];K01=1;break;}}});this.Za.uj(H7o);k=new L(this.S.RC);J01=10;break;case 5:var I7o="NFErr_MC_Strea";I7o+="mingIn";I7o+="it";I7o+="Failure";var M7o="startPts m";M7o+="ust be a positi";M7o+="ve number, not ";this.Wn(M7o + this.$X,void 0,I7o);J01=33;break;case 3:this.sl && (g.push(1),f.push(1));this.zp && (g.push(0),f.push(0));this.xP.qcb();J01=7;break;case 7:m=b.Vy;this.Kb.Ze && this.Kb.Ze.vO(m,this.Cl.sessionId);J01=14;break;case 23:var m7o="star";m7o+="t";m7o+="p";m7o+="l";m7o+="ay";var O7o="l";O7o+="ogda";O7o+="ta";p=function(){var P01;P01=2;for(;P01 !== 5;){switch(P01){case 2:var s7o="shutdown ";s7o+="d";s7o+="etect";s7o+="ed before startRequ";s7o+="ests";a.Za.wdb();a.Dl()?a.kb(s7o):a.ffb();P01=5;break;}}};b.fpb?setTimeout(function(){var Q01;Q01=2;for(;Q01 !== 1;){switch(Q01){case 4:a.TDa(d).then(p);Q01=3;break;Q01=1;break;case 2:a.TDa(d).then(p);Q01=1;break;}}},0):this.TDa(d).then(function(){var R01;R01=2;for(;R01 !== 1;){switch(R01){case 2:setTimeout(p,0);R01=1;break;}}});c={type:O7o,target:m7o,fields:{audiogapconfig:b.DJ,audiogapdpi:this.If.Zb && this.If.Zb.DJ,aseApiVersion:this.wO}};J01=35;break;case 10:J01=1 === k.readyState?20:34;break;case 20:var n7o="cr";n7o+="eat";n7o+="eMediaS";n7o+="ourc";n7o+="eEnd";this.Za.uj(n7o);k.Zb || (k.Zb=L.Zb);this.If=k;J01=17;break;case 35:this.emit(c.type,c);J01=33;break;case 17:J01=!k.AY(g)?16:15;break;case 15:k.sourceBuffers.forEach(function(c){var L01,d,g;L01=2;for(;L01 !== 13;){switch(L01){case 7:var y7o="man";y7o+="a";y7o+="gerde";y7o+="bugeven";y7o+="t";b.ah && c.addListener(y7o,function(b){var O01;O01=2;for(;O01 !== 1;){switch(O01){case 2:D.Pa(a,b.type,b);O01=1;break;}}});a.Ff[d]=c;a.kt[d]=g;L01=13;break;case 4:var w7o="l";w7o+="og";w7o+="d";w7o+="a";w7o+="ta";var A7o="er";A7o+="r";A7o+="or";var u7o="r";u7o+="equestApp";u7o+="e";u7o+="n";u7o+="ded";var z7o="headerAp";z7o+="pe";z7o+="nd";z7o+="ed";c.addListener(z7o,a.gcb.bind(a));c.addListener(u7o,a.jcb.bind(a));c.addListener(A7o,function(b){var M01;M01=2;for(;M01 !== 1;){switch(M01){case 2:var t7o="NFErr_MC_Stre";t7o+="a";t7o+="mingFa";t7o+="ilure";a.Wn(b.errorstr,void 0,t7o);M01=1;break;}}});c.addListener(w7o,function(b){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:D.Pa(a,b.type,b);N01=1;break;}}});L01=7;break;case 2:(d=c.I,g=a.fb.Re[d]);c=new t.J6(g.G,d,k,c,b,a.S,a.ng.bind(a));g=new O.rxa(c,d,a.ya,a.H,g.G);L01=4;break;}}});this.qv=new W.wAa(this.kt,this.cH.bind(this),this.S.Sd.bind(this.S));this.pq && this.Za.edb();c=this.uOa();this.Za.rFa(c);J01=23;break;case 16:var p7o="Er";p7o+="r";p7o+="o";p7o+="r";p7o+=":";throw (this.Vj(p7o,k.error),k.error);J01=15;break;case 1:J01=!h.oa(this.$X) || 0 > this.$X?5:4;break;case 34:var S7o="NFErr_MC_";S7o+="Streamin";S7o+="gInitFailure";var K7o="exception in ";K7o+="ini";K7o+="t";var E7o="Err";E7o+="o";E7o+="r";E7o+=":";(this.Vj(E7o,k.error),this.Wn(K7o,void 0,S7o));J01=33;break;}}};Object.defineProperties(a.prototype,{wO:{get:function(){var S01;S01=2;for(;S01 !== 1;){switch(S01){case 4:return "";break;S01=1;break;case 2:var k7o="1";k7o+=".";k7o+="0";return k7o;break;}}},enumerable:!1,configurable:!0}});a.prototype.$ia=function(){};a.prototype.flush=function(){var T01;T01=2;for(;T01 !== 1;){switch(T01){case 2:this.Vm.flush();T01=1;break;case 4:this.Vm.flush();T01=5;break;T01=1;break;}}};a.prototype.paused=function(){var U01;U01=2;for(;U01 !== 1;){switch(U01){case 2:this.S.paused();U01=1;break;}}};a.prototype.KT=function(){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:this.S.KT();V01=1;break;}}};b01=32;break;case 59:a.prototype.r_=function(a,b){var L11,c,d,M11;L11=2;for(;L11 !== 6;){switch(L11){case 2:c=this.fb;a=c.wha(a,b);d=this.Df.Joa;L11=4;break;case 4:a && !a.pH && d.kha(a);L11=3;break;case 3:L11=b?9:8;break;case 9:c.rpa();L11=6;break;case 8:b=d.xub();try{M11=2;for(;M11 !== 1;){switch(M11){case 2:this.Za.pdb(b);M11=1;break;}}}catch($a){var j7o="]";j7o+=" ";j7o+="[";var P7o="e";P7o+="xcept";P7o+="ion";P7o+=": [";this.G.error(P7o + $a.message + j7o + $a.Y5b + "]");}L11=6;break;}}};a.prototype.MIa=function(a,b,c,d){var N11;N11=2;for(;N11 !== 4;){switch(N11){case 2:d && (C.assert(void 0 === b),b=this.t0(d));a000.u51(15);C.assert(a000.y51(0,b));return this.Mc[b].yjb(a,c || !1);break;}}};a.prototype.Mt=function(a,b,c){var O11,d;O11=2;for(;O11 !== 8;){switch(O11){case 3:h.oa(d) || (d=this.Mc[a].fu);a000.u51(4);return a000.y51(b,d);break;case 2:c && (C.assert(void 0 === a),a=this.t0(c),C.assert(void 0 !== a));void 0 === a && (a=this.jS);(c=this.ya.Csb(b,a))?d=c.pe:(c=this.ya.xha(a),0 < c.length && (c=c[0],d=c.pe));O11=3;break;}}};a.prototype.hP=function(a,b,c){var P11,d;P11=2;for(;P11 !== 8;){switch(P11){case 3:h.oa(d) || (d=this.Mc[a].fu);a000.u51(3);return a000.y51(d,b);break;case 2:c && (C.assert(void 0 === a),a=this.t0(c),C.assert(void 0 !== a));void 0 === a && (a=this.jS);(c=this.ya.Bsb(b,a))?d=c.pe:(c=this.ya.xha(a),0 < c.length && (c=c[0],d=c.pe));P11=3;break;}}};a.prototype.cH=function(){var Q11,a;Q11=2;for(;Q11 !== 4;){switch(Q11){case 5:(a && this.Za.nca(),this.jO(),this.S.je(p.ta.Vc),this.mf.Mi());Q11=4;break;case 1:Q11=a || this.fb.Sv?5:4;break;case 2:a=this.S.Mh();Q11=1;break;}}};a.prototype.Ica=function(){var R11,a,b;R11=2;for(;R11 !== 3;){switch(R11){case 2:(a=this,b=this.S.Mh());this.ya.$b.O4(b,function(b){var S11;S11=2;for(;S11 !== 1;){switch(S11){case 2:return a.Ff[b]?a.Ff[b].L4():"";break;}}});this.rG && (clearTimeout(this.rG),this.rG=void 0);this.qv.pDb();R11=3;break;}}};a.prototype.bGa=function(a){var T11,U11,b;T11=2;for(;T11 !== 7;){switch(T11){case 8:try{U11=2;for(;U11 !== 1;){switch(U11){case 2:this.r_(p.ta.gG,{pa:a.Tb});U11=1;break;}}}catch(La){var h7o="Hinds";h7o+="ight:";h7o+=" Error evaluati";h7o+="ng QoE at endOfS";h7o+="tream: ";a000.u51(3);this.Za.Zl(a000.y51(La,h7o));}T11=7;break;case 4:a.FH(b);this.fb.rv();T11=9;break;case 2:a.Og=!0;a.Dn=!1;b=this.S.Sd() || 0;T11=4;break;case 9:T11=this.Rp && 1 === a.I?8:7;break;}}};a.prototype.Beb=function(){var V11,a;V11=2;for(;V11 !== 5;){switch(V11){case 2:a=this.Kb.Ab;a && (a=a.get()) && a.avtp && this.wq.bgb({avtp:a.avtp.Ga});V11=5;break;}}};a.prototype.ffb=function(){var W11,a,b,c;W11=2;for(;W11 !== 4;){switch(W11){case 5:var N7o="sta";N7o+="rtup, playerState ";N7o+="no long";N7o+="er STARTING:";var G7o="failed";G7o+=" to st";G7o+="art a";G7o+="udio";G7o+=" pipeline";var F7o="f";F7o+="ailed to ";F7o+="star";F7o+="t video pipeli";F7o+="ne";this.sl && !this.gGa(c)?this.kb(F7o):this.zp && !this.gGa(b)?this.kb(G7o):(this.BFa=!0,this.Mc[0].O.W0=!0,b=this.fb.Re[1],c=this.fb.Re[0],(b && 0 < b.Ur || c && 0 < c.Ur) && this.Za.ndb(String(a.O.u),c?c.Ur:0,b?b.Ur:0,c?c.eS:0,b?b.eS:0),this.S.eRa()?(this.ZX(0),this.zp && (a=this.Pd.l0(0),b=this.Pd.Ao(0).jb,this.Za.qdb(a,b))):this.kb(N7o,this.S.$c()));W11=4;break;case 2:this.S.je(p.ta.Sg);(a=this.ya.$b,b=a.Zc(0),c=a.Zc(1));W11=5;break;}}};a.prototype.gGa=function(a){var X11,b,c;X11=2;for(;X11 !== 14;){switch(X11){case 4:a=a.track.cd[c];X11=3;break;case 2:(b=a.I,c=this.fb.Zwb(a));X11=1;break;case 5:var e7o="NFErr_MC_St";e7o+="r";e7o+="eamingIni";e7o+="tFailure";var g7o="start";g7o+="Pipeline faile";g7o+="d";return (this.Dl() || this.Wn(g7o,a.Dc.O.eb,e7o),!1);break;case 1:X11=h.X(c)?5:4;break;case 3:X11=a.Fj()?9:8;break;case 9:return !0;break;case 8:c=this.Pd.O;a.O.cKa(a,{offset:0,qz:!c.Ke.Mf && !c.ci && 1 === b,St:!this.fb.Re[b].$sb});return !0;break;}}};b01=72;break;case 87:a.prototype.Fca=function(a,b){var C21,c,d,g;C21=2;for(;C21 !== 8;){switch(C21){case 2:c=this.ya.$b;C21=5;break;case 5:C21=c.bb(a)?4:8;break;case 4:var L7o="p";L7o+="ts";L7o+="ch";L7o+="ang";L7o+="ed";(d=this.fb.Re[a],g=this.fb.Hx[a]);h.X(d.Gm) && (d.Gm=b,1 === a && this.zp && (a=this.fb.Re[0],h.X(a.Gm) && (c=c.bb(0),c.NE(b)),this.emit(L7o,b)));h.X(g.SO) && (g.SO=b);C21=8;break;}}};a.prototype.rPa=function(a){var D21;D21=2;for(;D21 !== 1;){switch(D21){case 2:this.Ug && (this.Ug.oDb(a),this.ZIa());D21=1;break;}}};a.prototype.N0=function(a){var E21;E21=2;for(;E21 !== 1;){switch(E21){case 2:this.Ug && (this.Ug.nDb(a),this.ZIa());E21=1;break;}}};a.prototype.ZIa=function(){var F21,a;F21=2;for(;F21 !== 4;){switch(F21){case 1:var l7o="a";l7o+="l";l7o+="lComple";l7o+="te";l7o+="d";a=this.H;this.Ug.AD() || (this.Ug=void 0,a.Vy || this.sy.BC || this.oY(l7o));F21=4;break;case 2:F21=this.Ug?1:4;break;}}};a.prototype.jO=function(){var G21,a,b,c,d,g,f,m,l;G21=2;for(;G21 !== 7;){switch(G21){case 3:l=Math.max(l,1);this.Py && clearTimeout(this.Py);this.Py=setTimeout(this.jO.bind(this),l);G21=7;break;case 2:(a=this,b=this.H,c=this.jS,d=this.Mc[c],g=this.ya.$b,f=this.S.Sd() || 0,m=this.Mt(c,f),l=b.K5);this.Kb.Ze && void 0 !== d.cE && d.cE - f <= b.mTa && this.Kb.Ze.vO(!0,this.Cl.sessionId);this.S.$c() === p.ta.Vc && ([1,0].forEach(function(b){var H21,d,k,p,r,t,n,c;H21=2;for(;H21 !== 33;){switch(H21){case 23:t=t.R;H21=22;break;case 4:r=c.Ra;c.FH(f);(t=a.ya.qr(f,g,b)) && !t.Fe && (t=a.Ff[b].yRa);H21=7;break;case 27:a.QG && t.hn != p.GBb && a.Za.Idb(t.hn);H21=26;break;case 22:h.X(t) || t == c.IVa || (c.IVa=t);H21=21;break;case 19:H21=(a.ya.NFb(t,t.hn),k > a.wX)?18:27;break;case 5:H21=c?4:33;break;case 13:p=a.fb.ju[b];d=t.O;k=d.eb;r=t.Ra;H21=20;break;case 15:m=a.Mt(k,f);H21=26;break;case 18:a.wX=k;n=0 < k?k - 1:null;a.Za.sdb(d,f,t.hn,null !== n?a.Mc[n].O.u:null,n);H21=15;break;case 34:var W7o="Unable to f";W7o+="ind ";W7o+="r";W7o+="eque";W7o+="st presenting at playerPts:";c.kb(W7o,f);H21=21;break;case 26:p.GBb=t.hn;d=t.za;d != p.ula && (p.ula=d,b=a.Mc[k].O.zr(b,d),k=a.Mt(k,t.ad),a.Za.Ddb(b,t.ad,k,b.O.eb));H21=23;break;case 6:r=t.Vd - f;r < l && (l=r);H21=13;break;case 7:H21=t?6:34;break;case 1:c=g.bb(b);H21=5;break;case 20:H21=!a.sl || 1 === b?19:26;break;case 2:H21=a.lb(b)?1:33;break;case 21:a.peb(r,f);a.ya.aKb();H21=33;break;}}}),this.ya.qs(f,m));this.mf.Mi();G21=3;break;}}};a.prototype.UW=function(a){var I21;I21=2;for(;I21 !== 1;){switch(I21){case 2:return this.mf.UW(a);break;case 4:return this.mf.UW(a);break;I21=1;break;}}};a.prototype.Mi=function(){var J21;J21=2;for(;J21 !== 1;){switch(J21){case 4:return this.mf.Mi();break;J21=1;break;case 2:return this.mf.Mi();break;}}};a.prototype.wC=function(a,b){var K21,c,d,g;K21=2;for(;K21 !== 13;){switch(K21){case 7:this.Ff[d].j4(a);!0 === b && this.mf.Mi();return g;break;case 1:K21=!c?5:4;break;case 2:c=a.Ra;K21=1;break;case 4:(d=a.I,g=a.abort());a.pc();a.Wf && a.Wf.clear();c.j4(a);K21=7;break;case 5:var d7o="abortRequest ";d7o+="with no requestMan";d7o+="a";d7o+="gaer:";return (this.kb(d7o,a),!1);break;}}};a.prototype.efb=function(a){var L21,b,c;L21=2;for(;L21 !== 5;){switch(L21){case 2:var c7o="no newAud";c7o+="ioTrack s";c7o+="et";(b=a.I,c=this.fb.Re[b]);h.X(c.T2)?a.kb(c7o):(this.Ff[b].pause(),c.BL=!0,a=this.Pd.Ao(0),c=this.Pd.O.getTrackById(c.T2.jb),this.Za.gdb(a,c));L21=5;break;}}};a.prototype.keb=function(a){var M21,b,c,d,g,f,h,m,l;M21=2;for(;M21 !== 27;){switch(M21){case 17:++c;M21=19;break;case 18:this.MJb(c,m,l);M21=17;break;case 7:c=this.Kb.c0(f.O.qa,[m],0);this.aba[0]=c[0];M21=14;break;case 2:(b=this,d=this.H);a=a.Dc;g=this.fb.Re[0];this.fb.Sv=g.T2;M21=3;break;case 14:this.xP.RFa(0,a.O);g.T2=void 0;this.Df.QK(null);this.Bca(0,Y.LM.YMa,a);M21=10;break;case 19:M21=c < this.Mc.length?18:16;break;case 8:var D7o="a";D7o+="u";D7o+="dio";D7o+="Sw";D7o+="itch";(this.Ug.HLb(function(a){var N21;N21=2;for(;N21 !== 5;){switch(N21){case 9:return (b.wC(a,-6),~4);break;N21=5;break;case 3:N21=6 !== a.I?2:9;break;N21=0 === a.I?1:5;break;case 2:N21=0 === a.I?1:5;break;case 1:return (b.wC(a,!1),!0);break;}}}),this.Ug.AD() || (this.Ug=void 0,d.Vy || this.sy.BC || this.oY(D7o)));M21=7;break;case 10:this.ya.XYa(a,!0);M21=20;break;case 16:a.gXa(h,l);this.SE(0);M21=27;break;case 9:M21=(null === (c=this.Ug) || void 0 === c?0:c.AD())?8:7;break;case 3:(f=this.Pd,h=f.O.getTrackById(this.fb.Sv.jb),m=h.DT,l=this.S.Sd() - a.pe);M21=9;break;case 20:c=this.RG;M21=19;break;}}};b01=104;break;case 39:a.prototype.stop=function(){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 4:this.Vm.stop();i11=5;break;i11=1;break;case 2:this.Vm.stop();i11=1;break;}}};a.prototype.Dx=function(a,b,c){var j11;j11=2;for(;j11 !== 5;){switch(j11){case 2:c && (C.assert(void 0 === b),b=this.t0(c));return this.fm.Dx(a,b);break;}}};a.prototype.seek=function(a,b){var k11;k11=2;for(;k11 !== 1;){switch(k11){case 2:return this.fm.seek(a,b);break;}}};a.prototype.Mra=function(a){var l11,h,f,b,c,g,o11;l11=2;for(;l11 !== 16;){switch(l11){case 7:var X6o="und";X6o+="e";X6o+="rf";X6o+="low";h=this.ya.$b;d.Ue.forEach(function(d){var n11,m,f,g;n11=2;for(;n11 !== 14;){switch(n11){case 4:n11=c.ah?3:7;break;case 1:n11=g?5:14;break;case 8:var B6o=", t";B6o+="o";B6o+="A";B6o+="ppend: ";var v6o=",";v6o+=" fr";v6o+="agmen";v6o+="ts: ";var a6o=", complet";a6o+="eSt";a6o+="re";a6o+="amingPts: ";var Z6o=",";Z6o+=" strea";Z6o+="m";Z6o+="ingPts:";Z6o+=" ";var q7o=", par";q7o+="tials:";q7o+=" ";var Q7o=",";Q7o+=" compl";Q7o+="etedBy";Q7o+="tes: ";var U7o=", c";U7o+="omp";U7o+="letedM";U7o+="s: ";var x7o=", me";x7o+="diaType:";x7o+=" ";var f7o="underflo";f7o+="w:";f7o+=" ";f=f7o + a + x7o + d + U7o + g.JH + Q7o + m + q7o + g.Ra.ox + Z6o + g.Vb + a6o + g.er + v6o + JSON.stringify(g.Ra.ca) + B6o + (f && f.L4());n11=7;break;case 3:f=b.Ff[d];m=b.ya.QC(h,d);n11=8;break;case 5:n11=4;break;case 7:c.ah && b.Za.al(f);g.Uea();n11=14;break;case 2:g=h.Zc(d);n11=1;break;}}});this.Pd.O.bl();this.emit(X6o);l11=12;break;case 1:var C6o="br";C6o+="anchOf";C6o+="fset";C6o+=":";var Y6o="ent";Y6o+="ry.man";Y6o+="ifest";Y6o+="O";Y6o+="ffset:";var i6o="conte";i6o+="n";i6o+="tPts:";var R6o="underflow: g";R6o+="oing to BUFFERI";R6o+="NG ";R6o+="at player pts:";this.kb(R6o,a,i6o,g,Y6o,this.Pd.fu,C6o,this.ya.pe);ha.kaa.SLb();f=c.cx;this.Ff.forEach(function(b){var m11;m11=2;for(;m11 !== 1;){switch(m11){case 2:f=Math.max(0,Math.min(f,b.Fia - a));m11=1;break;}}});this.yca+=1;this.ya.$b.Ura(g,this.H.gra);l11=7;break;case 2:(b=this,c=this.H,g=this.Mt(this.jS,a));l11=1;break;case 12:this.ZX(2);this.mf.Mi();l11=10;break;case 10:l11=this.Rp?20:19;break;case 19:g=this.Kb.Ab.get();g=g.Cd?g.La.Ga:0;f > c.gsb && g > c.fsb && this.Ica();l11=16;break;case 20:try{o11=2;for(;o11 !== 1;){switch(o11){case 2:this.r_(p.ta.Yd);o11=1;break;}}}catch(Ga){var T6o="Hindsight: E";T6o+="rror when ev";T6o+="aluatin";T6o+="g QoE at Buffering";T6o+=": ";a000.u51(3);this.Za.Zl(a000.n51(Ga,T6o));}l11=19;break;}}};a.prototype.ml=function(a){var p11;p11=2;for(;p11 !== 1;){switch(p11){case 4:return this.fm.ml(a);break;p11=1;break;case 2:return this.fm.ml(a);break;}}};a.prototype.Ht=function(a,b,c){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 4:return this.fm.Ht(a,b,c);break;q11=1;break;case 2:return this.fm.Ht(a,b,c);break;}}};a.prototype.dFa=function(a){var r11,b;r11=2;for(;r11 !== 3;){switch(r11){case 2:this.RG=a;b=this.Mc[a];this.Za.udb(a,b);this.Za.rFa(b.O.Lr);r11=3;break;}}};a.prototype.sO=function(a,b,c){var s11,k,p,m,l,d,g,f;s11=2;for(;s11 !== 32;){switch(s11){case 22:s11=this.zp && h.X(b) || this.sl && h.X(c)?21:35;break;case 21:return !0;break;case 9:s11=!b.czb && (this.zp && f.Dn || this.sl && m.Dn)?8:7;break;case 25:var H6o=",";H6o+=" ";var J6o=") la";J6o+="stSt";J6o+="reamAppended: (";var r6o=",";r6o+=" ";var b6o=" st";b6o+="ream";b6o+="Co";b6o+="un";b6o+="t: (";var V6o=" p";V6o+="layerState:";V6o+=" ";var o6o="addMani";o6o+="fe";o6o+="st";o6o+=", cur";o6o+="rentPts: ";b=this.fb.ju[0].ND;c=this.fb.ju[1].ND;g.ah && this.Za.al(o6o + this.S.Sd() + V6o + this.S.$c() + b6o + a.Ao(0).cd.length + r6o + a.Ao(1).cd.length + J6o + b + H6o + c + ")");s11=22;break;case 11:var I6o="vi";I6o+="d";I6o+="eo_tr";I6o+="ac";I6o+="ks";var M6o="audio_t";M6o+="rack";M6o+="s";k=a.O;c=[M6o,I6o];p=this.uOa();b.replace && c.forEach(function(a,b){var t11,c,g;t11=2;for(;t11 !== 3;){switch(t11){case 8:c=k.wD(b);t11=6;break;t11=1;break;case 2:c=k.wD(b);t11=1;break;case 1:t11=c?5:3;break;case 5:g=d.Mc[0].O;Object.keys(c).forEach(function(a){var u11,d;u11=2;for(;u11 !== 5;){switch(u11){case 2:d=g.zr(b,a);d && d.ge && (c[a].rZ(d),a=k.Lr,a[b] > p[b] && (p[b]=a[b]));u11=5;break;}}});t11=3;break;}}});s11=18;break;case 6:var s6o="addManifest in";s6o+=" fastplay but n";s6o+="ot";s6o+=" drm manif";s6o+="est, leaving space for it";f=this.Mc.length;b.replace && 1 !== f?f=1:this.Pd.O.Ke.Mf && !b.replace && 1 === f && (this.kb(s6o),f=this.Mc[0].clone(),this.Mc.push(f),f=this.Mc.length);(m=b.T || 0,l=b.pa);a=r.Z8.create({eb:f,qa:a,gl:c,FYa:b.RRb || [this.Pd.l0(0),this.Pd.l0(1)],Mf:!1,QQa:! !b.replace,ci:! !b.ci,Zq:b.Zq || this.IDa,T:m,pa:l,Za:this.Za,Xp:this.HEa.bind(this),lb:this.lb.bind(this),Cb:this,config:this.H,G:this.G,mf:this.mf,fm:this.fm,Ze:this.uGa?this.Kb.Ze:void 0,Nz:this.Nz});s11=11;break;case 2:(d=this,g=this.H);s11=1;break;case 18:var O6o="bo";O6o+="o";O6o+="l";O6o+="ean";c.forEach(function(a,b){var v11,c;v11=2;for(;v11 !== 5;){switch(v11){case 2:c=k.wD(b);c && Object.keys(c).forEach(function(a){var w11,d;w11=2;for(;w11 !== 5;){switch(w11){case 2:d=u.Ql()[b];c[a].Q0a(d,k.Lw()?g.LSa:0);w11=5;break;}}});v11=5;break;}}});a.yO=O6o === typeof b.YHa?b.YHa:!0;this.Mc[f] && this.Mc[f].pc();this.Mc[f]=a;a.JIa();b.replace || this.ya.vgb(k,m,l);s11=25;break;case 4:b || (b={});(f=this.ya.$b.Zc(0),m=this.ya.$b.Zc(1));s11=9;break;case 1:s11=this.Dl()?5:4;break;case 7:b.rE && (this.JX=!0);s11=6;break;case 8:var m6o="addManifest ignored, ";m6o+="p";m6o+="ipelines already set EOS:";this.kb(m6o,f.Dn,m.Dn);s11=32;break;case 35:a.O.vK([a.Ao(0),a.Ao(1)]);this.nY();return !0;break;case 5:var n6o="addManife";n6o+="st: pipe";n6o+="lines already shut";n6o+="down";this.kb(n6o);s11=32;break;}}};a.prototype.oO=function(a){var x11;x11=2;for(;x11 !== 1;){switch(x11){case 2:return this.fm.oO(a);break;}}};a.prototype.zP=function(a,b){var y11,d,g,c;y11=2;for(;y11 !== 7;){switch(y11){case 1:y11=!this.Dl()?5:7;break;case 5:var A6o=" ";A6o+="r";A6o+="eadySt";A6o+="ate: ";var u6o=" f";u6o+="or movieI";u6o+="d";u6o+=": ";var z6o=",";z6o+=" ";var y6o="d";y6o+="rmReady ";y6o+="at stre";y6o+="aming pts: ";h.X(b) && (b=!0);(d=this.ya.$b.Zc(0),g=this.ya.$b.Zc(1));c.ah && this.Za.al(y6o + (d?d.Vb:null) + z6o + (g?g.Vb:null) + u6o + a + A6o + b);a000.u51(3);this.S.jqa(a000.n51("",a),b);y11=8;break;case 2:c=this.H;y11=1;break;case 8:b && (this.Ff.forEach(function(a){var z11;z11=2;for(;z11 !== 5;){switch(z11){case 2:c.M_ && a.SMa();c.AL && a.resume();z11=5;break;}}}),c.AL && this.bO(),this.Pd.O.Ke.Mf && this.mY(this.fm.Hy?this.fm.Hy.eb:this.RG + 1),this.fm.Hba());y11=7;break;}}};b01=48;break;case 72:a.prototype.ZX=function(a,b){var Y11,c,g,f,h,m;Y11=2;for(;Y11 !== 19;){switch(Y11){case 3:var t6o="start";t6o+="Buff";t6o+="erin";t6o+="g";this.Za.kdb(b);this.qv.reset();this.Pd.O.xna();this.emit(t6o);d.Ue.forEach(function(b){var Z11;Z11=2;for(;Z11 !== 5;){switch(Z11){case 2:Z11=(b=c.ya.$b.Zc(b))?1:5;break;case 1:(b.qea=0,b.seeking=0 === a || 1 === a,b.Uea());Z11=5;break;}}});Y11=14;break;case 14:this.hba=u.time.da();f.Zj=h.Zj=this.hba;Y11=12;break;case 12:0 === a && (!this.sl || 0 < h.Ur) && (!this.zp || 0 < f.Ur) && this.fb.rv();g.IP && (this.Cba=setTimeout(function(){var a21;a21=2;for(;a21 !== 1;){switch(a21){case 4:c.Beb();a21=3;break;a21=1;break;case 2:c.Beb();a21=1;break;}}},g.Nga));this.S.Mh() && (this.rG=setTimeout(function(){var b21;b21=2;for(;b21 !== 1;){switch(b21){case 2:c.fb.rv();b21=1;break;}}},g.tx));Y11=20;break;case 20:this.mf.Mi();Y11=19;break;case 2:(c=this,g=this.H,f=this.fb.Re[0] || ({}),h=this.fb.Re[1] || ({}),m=this.fb.Hx[1] || ({}));(this.fb.Hx[0] || ({})).SO=void 0;m.SO=void 0;this.S.je(2 === a?p.ta.ff:p.ta.Yd);Y11=3;break;}}};a.prototype.oY=function(a){var c21,b;c21=2;for(;c21 !== 3;){switch(c21){case 2:var p6o="Adopti";p6o+="ngDat";p6o+="a still ha";p6o+="s lock:";var w6o="wip";w6o+="eH";w6o+="eaderCa";w6o+="che";w6o+=":";a000.z51(3);a=a000.y51(a,w6o);this.sy.BC && this.gf(p6o + a);b=this.H;b.LJ || (b.ah && this.Za.al(a),this.Kb.AH(),this.Ug && (this.Ug=void 0));c21=3;break;}}};a.prototype.TDa=function(a){var d21,c,d,g,f;d21=2;for(;d21 !== 13;){switch(d21){case 9:return (this.Kb.yea(),E.resolve());break;case 2:var E6o="Pr";E6o+="eviously adopted";E6o+=" request list still retained was";E6o+=" unexpec";E6o+="ted";c=this;(null === (d=this.Ug) || void 0 === d?0:d.AD()) && this.gf(E6o);this.Ug=void 0;d21=4;break;case 4:g=this.H;d21=3;break;case 8:var F6o="ca";F6o+="tc";F6o+="h";var K6o="c";K6o+="he";K6o+="ck";K6o+="ForHcdStart";this.Za.uj(K6o);this.Mc.forEach(function(b){var g21;g21=2;for(;g21 !== 1;){switch(g21){case 2:b.O.u === a && (f=b);g21=1;break;}}});return this.Kb.Ze.PCb(a,f?f.O:void 0).then(function(a){var h21,d,f;h21=2;for(;h21 !== 8;){switch(h21){case 1:h21=h.X(a)?5:4;break;case 2:var S6o="c";S6o+="heckForHcdEn";S6o+="d";c.Za.uj(S6o);h21=1;break;case 5:var k6o="headerCacheDataNo";k6o+="tF";k6o+="ound";return (g.Vy || c.sy.BC || c.oY(k6o),E.resolve());break;case 4:var P6o="a";P6o+="do";P6o+="ptHcdSt";P6o+="art";(d=c.ya.$b.Zc(0),f=c.ya.$b.Zc(1));c.Za.uj(P6o);return c.sy.U1a(function(){var i21,h,m;i21=2;for(;i21 !== 7;){switch(i21){case 2:h=E.resolve();c.sl && (h=b(f,a));m=E.resolve();i21=4;break;case 4:var j6o="a";j6o+="dopt";j6o+="HcdEnd";!c.zp || g.MPa && !h || (m=g.MPa?h.then(function(c){var j21;j21=2;for(;j21 !== 1;){switch(j21){case 2:return c?b(d,a):E.resolve();break;case 4:return c?b(d,a):E.resolve();break;j21=1;break;}}}):b(d,a));c.LEa=a;c.Za.uj(j6o);return E.all([h,m]);break;}}});break;}}}).then(function(){var k21,a;k21=2;for(;k21 !== 5;){switch(k21){case 3:k21=8;break;k21=1;break;case 1:var h6o="ad";h6o+="opte";h6o+="dComp";h6o+="letedR";h6o+="equests";g.Vy || (null === (a=c.Ug) || void 0 === a?0:a.AD()) || c.sy.BC || c.oY(h6o);k21=5;break;case 2:k21=1;break;}}})[F6o](function(a){var l21;l21=2;for(;l21 !== 1;){switch(l21){case 2:var G6o="headerCache:lookupDataPromi";G6o+="se caught ";G6o+="error:";c.kb(G6o,a);l21=1;break;}}});break;case 3:d21=!this.Dfb || !this.Kb.Ze?9:8;break;}}function b(a,b){var e21,d,g,f,m,l,k,p;e21=2;for(;e21 !== 10;){switch(e21){case 1:e21=g?5:11;break;case 8:e21=!a.TTb(m)?7:6;break;case 7:return f;break;case 2:(d=a.I,g=b[d],f=E.resolve(void 0));e21=1;break;case 14:var N6o="ad";N6o+="optP";N6o+="ipeline no header for streamId:";return (a.gf(N6o,m),f);break;case 5:(m=g.za,l=g.Yp.stream,k=c.fb.Re[d],p=c.fb.Hx[d]);h.X(b.Dr) || c.Df.bZa(b.Dr,b.Tk,b.Uk);p.aq=b.aq;p.Up=b.Up;e21=8;break;case 13:b=c.Pd.O;e21=12;break;case 6:e21=!g.Yp?14:13;break;case 12:b.yY(g.Yp,!b.Ke.Mf && !b.ci && 1 === d,!0) && (void 0 !== a.mE && a.NE(a.mE),f=b.Fj(d,m).stream.ca.Om(a.Vb,void 0,!0),b=l.Ui(f),l=b.T,a.vqa() && (b=b.E_(a.Vb)) && 0 < b.Fc && (l=b.Fc),a.Vb !== l && (a.oqa(l,f),c.Fca(d,l)),f=c.jab(a,g.data).then(function(){var f21;f21=2;for(;f21 !== 1;){switch(f21){case 4:return m;break;f21=1;break;case 2:return m;break;}}}),k.$sb=!0,0 === d && c.Df.QK(g.Yp.R));e21=11;break;case 11:return f;break;}}}};a.prototype.jab=function(a,b){var m21,c,d,g,f,m,l,k;m21=2;for(;m21 !== 9;){switch(m21){case 1:m21=0 === b.length?5:4;break;case 5:return E.resolve();break;case 2:c=this;m21=1;break;case 14:return E.resolve();break;m21=4;break;case 4:(d=a.Z1,g=d.ba,f=Math.min(this.Mc[0].pa || Infinity,d.Tb || Infinity),m=a.I,l=this.fb.Re[m]);return this.sy.U1a(function(){function d(){var o21,d;o21=2;for(;o21 !== 5;){switch(o21){case 2:var e6o="ad";e6o+="optData, ";e6o+="not adopting fai";e6o+="led mediaRequest:";var g6o="adop";g6o+="tDat";g6o+="a, not adopting";g6o+=" aborted mediaRe";g6o+="quest:";d=b.shift();7 === d.readyState?a.kb(g6o,d.toString()):6 === d.readyState?(a.kb(e6o,d.toString()),c.wC(d,!1)):a.Vb >= d.kc && a.Vb < d.Tb && (a.Vb < f || !h.oa(f))?(p.push(c.kab(a,d).then(function(){var p21;p21=2;for(;p21 !== 1;){switch(p21){case 4:d.complete || c.rPa(d);p21=2;break;p21=1;break;case 2:d.complete && c.rPa(d);p21=1;break;}}})),a.qOb(d.Tb),h.oa(f) && a.Vb >= f && c.Za.oca(g,d.Tb),0 === m && c.Df.QK(d.R),d.complete?(l.Ur+=d.duration,d.uCb && (l.eS+=d.duration),k=d):(c.Ug || (c.Ug=new M.Isa(c.G)),c.Ug.push(d))):c.wC(d,!1);o21=5;break;}}}var n21,p;n21=2;for(;n21 !== 3;){switch(n21){case 8:p=[];n21=0;break;n21=1;break;case 5:d();n21=1;break;case 4:return E.all(p);break;case 14:return E.all(p);break;n21=3;break;case 2:p=[];n21=1;break;case 1:n21=0 < b.length?5:4;break;}}}).then(function(){var q21,g,b;q21=2;for(;q21 !== 8;){switch(q21){case 4:b=c.Mc[d.O.eb];g=a.yha(a.Vb);void 0 !== g?(a.$k=g,a.Yf=b.O.qg[m].stream.Ui(a.$k)):a.$k=a.sg?a.sg.index + 1:a.$k + 1;q21=8;break;case 5:q21=k || (null === (b=c.Ug) || void 0 === b?0:b.AD())?4:8;break;case 2:k && a.sPa(k);q21=5;break;}}});break;}}};a.prototype.kab=function(a,b){var r21,c,d;r21=2;for(;r21 !== 3;){switch(r21){case 2:var W6o=", p";W6o+="t";W6o+="s";W6o+=": ";var l6o=", s";l6o+="tate";l6o+=": ";var L6o="adoptMedia";L6o+="R";L6o+="equest: typ";L6o+="e: ";(c=this,d=a.I);this.H.ah && this.Za.al(L6o + d + l6o + b.readyState + W6o + b.kc);this.Fca(d,b.kc);r21=4;break;case 4:var d6o="c";d6o+="a";d6o+="t";d6o+="c";d6o+="h";return a.Ra.Kgb(b)[d6o](function(a){var s21;s21=2;for(;s21 !== 1;){switch(s21){case 2:var c6o="Error ";c6o+="ad";c6o+="opting r";c6o+="equ";c6o+="ests";c.gf(c6o,a);s21=1;break;case 4:c.gf("",a);s21=2;break;s21=1;break;}}});break;}}};a.prototype.Bca=function(a,b,c){var t21,g;t21=2;for(;t21 !== 9;){switch(t21){case 2:g=this;void 0 === b && (b=Y.LM.$da);(c || this.ya.$b).tpa(a,b);this.qv.reset();(void 0 === a?d.Ue:[a]).forEach(function(a){var u21;u21=2;for(;u21 !== 1;){switch(u21){case 2:g.lb(a) && (g.kt[a].reset(),g.Neb(a),g.Df.FGb(a));u21=1;break;}}});t21=9;break;}}};a.prototype.Rqa=function(a){var v21,b;v21=2;for(;v21 !== 5;){switch(v21){case 2:b=this;(void 0 === a?d.Ue:[a]).forEach(function(a){var w21,c;w21=2;for(;w21 !== 5;){switch(w21){case 2:null === (c=b.kt[a]) || void 0 === c?void 0:c.stop();w21=5;break;}}});v21=5;break;}}};a.prototype.SE=function(a){var x21,b;x21=2;for(;x21 !== 4;){switch(x21){case 2:b=this;(void 0 === a?d.Ue:[a]).forEach(function(a){var y21,c;y21=2;for(;y21 !== 5;){switch(y21){case 2:null === (c=b.kt[a]) || void 0 === c?void 0:c.resume();y21=5;break;}}});return E.resolve();break;}}};a.prototype.bO=function(a){var z21,b,c;z21=2;for(;z21 !== 3;){switch(z21){case 2:b=this;a=void 0 === a?d.Ue:[a];null === (c=this.qv) || void 0 === c?void 0:c.reset();a.forEach(function(a){var A21,c;A21=2;for(;A21 !== 5;){switch(A21){case 2:null === (c=b.kt[a]) || void 0 === c?void 0:c.resume();A21=5;break;}}});z21=3;break;}}};a.prototype.Neb=function(a){var B21,b;B21=2;for(;B21 !== 3;){switch(B21){case 2:b=this.fb.Re[a];this.fb.ju[a].ula=void 0;b.Ur=0;b.eS=0;B21=3;break;}}};b01=87;break;case 94:a.prototype.kcb=function(a,b){var b31;b31=2;for(;b31 !== 5;){switch(b31){case 2:b=g.wOa(b);this.aba[a.I]=b;b31=5;break;}}};Object.defineProperties(a.prototype,{Sv:{set:function(a){var c31;c31=2;for(;c31 !== 1;){switch(c31){case 2:this.fb.Sv=a;c31=1;break;case 4:this.fb.Sv=a;c31=4;break;c31=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.t0=function(a){var d31,b;d31=2;for(;d31 !== 4;){switch(d31){case 2:this.Mc.some(function(c){var e31;e31=2;for(;e31 !== 1;){switch(e31){case 2:return c.O.gl === a?(b=c.O.eb,!0):!1;break;}}});return b;break;}}};return a;break;case 48:a.prototype.Lja=function(){var A11;A11=2;for(;A11 !== 1;){switch(A11){case 2:return this.S.Nw(this.Pd.O);break;}}};a.prototype.UDa=function(a){var B11,b,c,d;B11=2;for(;B11 !== 14;){switch(B11){case 4:B11=!(a === this.RG + 1 && c.Ke.replace || b && d) || !this.S.Nw(c)?3:9;break;case 5:(b=this.ya.$b.Zc(0),c=this.ya.$b.Zc(1),b=!b || b.Og,d=!c || c.Og,c=this.Mc[a].O);B11=4;break;case 2:B11=a >= this.Mc.length?1:5;break;case 3:return !1;break;case 1:return !1;break;case 9:a=c.qg[0];b=c.qg[1];b=!this.sl || b && b.stream.ge;return (!this.zp || a && a.stream.ge) && b?!0:!1;break;}}};a.prototype.nY=function(){var C11;C11=2;for(;C11 !== 1;){switch(C11){case 4:this.mY(this.RG * 6);C11=4;break;C11=1;break;case 2:this.mY(this.RG + 1);C11=1;break;}}};a.prototype.mY=function(a){var D11,b;D11=2;for(;D11 !== 6;){switch(D11){case 1:return !1;break;case 5:b=this.Mc[a];D11=4;break;case 2:D11=!this.UDa(a)?1:5;break;case 4:D11=b.dsb || !b.O.Ke.replace?3:9;break;case 3:return !1;break;case 9:this.nfb(a);this.mf.Mi();return !0;break;}}};a.prototype.nfb=function(a){var E11,b,c,d,g,f;E11=2;for(;E11 !== 14;){switch(E11){case 2:var x6o=",";x6o+=" ";var f6o=", streamingPt";f6o+="s";f6o+=": ";var D6o="switchMan";D6o+="ifest ma";D6o+="nifes";D6o+="tIndex: ";(b=this.Mc[a],c=this.ya.$b,d=c.bb(0),d=d?d.Vb:void 0,g=c.bb(1),g=g?g.Vb:void 0);this.H.ah && this.Za.al(D6o + a + f6o + d + x6o + g);(d=this.Pd,g=d.O.Ke.Mf,f=[]);E11=4;break;case 4:[1,0].forEach(function(a){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:b.O.lb(a) && (f[a]=b.Ao(a));F11=1;break;}}});g?this.ya.MLb(d.O,b.O,f):c.oZa(b.O,f);this.dFa(a);b.dna();E11=7;break;case 7:this.fm.Hba();this.mf.Mi();E11=14;break;}}};a.prototype.wna=function(){var G11,a,b,c,d;G11=2;for(;G11 !== 6;){switch(G11){case 2:(a=this.ya.$b,b=a.bb(0));G11=1;break;case 1:G11=b?5:7;break;case 8:this.mf.Mi();G11=6;break;case 5:var U6o="onAudioTrackSwitchStarted but current ";U6o+="playing request not foun";U6o+="d";(c=this.S.Sd(),d=this.fb.Re[b.I]);(a=this.ya.qr(c,a,0))?b=a.Ra:(this.kb(U6o),b=b.Ra);this.keb(b);d.BL=!1;G11=8;break;case 7:var Q6o="onAudioTrackSwitch";Q6o+="Started ";Q6o+="ignored, no audi";Q6o+="o pipeline";this.kb(Q6o);G11=6;break;}}};a.prototype.era=function(a){var H11,g,b,d,f,c;H11=2;for(;H11 !== 21;){switch(H11){case 16:var q6o="sw";q6o+="itchTrac";q6o+="ks can't ";q6o+="fin";q6o+="d trackId:";return (this.kb(q6o,a),!1);break;case 22:return !0;break;case 4:H11=this.fb.Sv?3:9;break;case 3:var Z1o="switchTracks rejected, pr";Z1o+="evious switch still in progr";Z1o+="ess";Z1o+=": ";return (this.kb(Z1o + JSON.stringify(this.fb.Sv)),!1);break;case 9:H11=this.S.Mh()?8:7;break;case 11:g=this.ya.Gt(d,1);H11=10;break;case 6:H11=c.BL?14:13;break;case 1:H11=!this.zp?5:4;break;case 2:b=this.H;H11=1;break;case 14:var a1o="switchTracks rejected, pr";a1o+="evious switch ";a1o+="still waiting ";a1o+="to start";return (this.kb(a1o),!1);break;case 25:var B1o=" ";B1o+="to:";B1o+=" ";var v1o="s";v1o+="witc";v1o+="hTracks cur";v1o+="r";v1o+="ent: ";b.ah && this.Za.al(v1o + f + B1o + g.jb);c.T2={jb:a};this.efb(d.bb(0));H11=22;break;case 8:var X1o="switc";X1o+="hTra";X1o+="cks rejec";X1o+="te";X1o+="d, buffering";return (this.kb(X1o),!1);break;case 26:return !1;break;case 13:d=this.ya.$b;H11=12;break;case 5:var R1o="s";R1o+="witchTracks rejected, au";R1o+="dio disabled";return (this.kb(R1o),!1);break;case 12:H11=this.S.$c() === p.ta.Vc?11:19;break;case 19:a=a.FC;g=this.Pd.O.getTrackById(a);H11=17;break;case 20:var i1o="switchTrack";i1o+="s rejecte";i1o+="d, bufferLevelMs";return (this.kb(i1o,g,"<",b.D2),!1);break;case 27:H11=f === g.jb?26:25;break;case 15:f=this.Pd.Ao(0).jb;H11=27;break;case 17:H11=!g?16:15;break;case 10:H11=g < b.D2?20:19;break;case 7:c=this.fb.Re[0];H11=6;break;}}};a.prototype.Ex=function(a,b){var I11;I11=2;for(;I11 !== 1;){switch(I11){case 2:this.fb.Ex(a,b);I11=1;break;case 4:this.fb.Ex(a,b);I11=9;break;I11=1;break;}}};a.prototype.qr=function(a,b,c){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:return this.ya.qr(a,this.ya.cj,b,c);break;}}};a.prototype.bi=function(a){var K11;K11=2;for(;K11 !== 1;){switch(K11){case 2:return this.fm.bi(a);break;case 4:return this.fm.bi(a);break;K11=1;break;}}};b01=59;break;case 104:a.prototype.MJb=function(a,b,c){var O21,d;O21=2;for(;O21 !== 6;){switch(O21){case 4:O21=a.O.W0?3:7;break;case 5:a.Pra(b);O21=4;break;case 3:a.Ao(0).cd.some(function(a){var P21;P21=2;for(;P21 !== 4;){switch(P21){case 5:return ! !d;break;case 1:P21=!(d && d.stream && d.stream.ca && c < d.stream.ca.gj(0))?5:4;break;case 9:d=a.Fj();P21=7;break;P21=1;break;case 2:d=a.Fj();P21=1;break;}}});O21=8;break;case 8:d?(a.O.qg[0]=d,a.pS=!1,d.stream.ge && a.YY()):(a.O.qg[0]=void 0,a.pS=!1,a.O.vK([a.Ao(0)],!0,0));O21=7;break;case 2:k.km.Co(0);a=this.Mc[a];O21=5;break;case 7:this.bO(0);O21=6;break;}}};a.prototype.peb=function(a,b){var Q21,c;Q21=2;for(;Q21 !== 4;){switch(Q21){case 2:c=this.Ff[a.I];a=this.ya.mS(a.Dc,a.I,b,this.Kb.JA || 0,function(a){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 2:c.j4(a);R21=1;break;}}});h.X(a) || this.mf.Mi();Q21=4;break;}}};a.prototype.gcb=function(a){var S21,b;S21=2;for(;S21 !== 9;){switch(S21){case 2:b=a.mediaType;a=this.Mc[a.manifestIndex].O.zr(b,a.streamId);this.Zeb(this.ya.$b.bb(b),a);this.H=this.VJa.rab(a.jg,this.H);S21=3;break;case 3:this.Mc.forEach(function(a,b){var T21,c;T21=2;for(;T21 !== 5;){switch(T21){case 2:c=a.O;c.W0 || 0 === b || c.vK([a.Ao(0),a.Ao(1)]);T21=5;break;}}});S21=9;break;}}};a.prototype.jcb=function(a){var U21,b,c;U21=2;for(;U21 !== 8;){switch(U21){case 3:b.I_ && this.Za.mdb(b);b.Hr && this.Za.Bdb(a,b.O.eb,c.ba);U21=8;break;case 2:b=a.request;a=a.mediaType;c=b.Ra.Dc;c.lDb(a);U21=3;break;}}};a.prototype.Zeb=function(a,b){var V21;V21=2;for(;V21 !== 1;){switch(V21){case 2:this.fb.ju[a.I].ND={id:b.za,index:b.Qf,R:b.R,La:b.cb && b.cb.Cd && b.cb.La?b.cb.La.Ga:0,location:b.location};V21=1;break;}}};a.prototype.r1=function(a){var W21,b,c,d,g,f,h,m,l,k,p;W21=2;for(;W21 !== 11;){switch(W21){case 9:f.vbuflbytes=null !== (d=null === p || void 0 === p?void 0:p.mo.$) && void 0 !== d?d:0;f.abuflbytes=null !== (g=null === k || void 0 === k?void 0:k.mo.$) && void 0 !== g?g:0;f.vbuflmsec=m.Gt(l,1);f.abuflmsec=m.Gt(l,0);a && (f.a=null === k || void 0 === k?void 0:k.Ra.ca.toJSON(),f.v=null === p || void 0 === p?void 0:p.Ra.ca.toJSON());W21=13;break;case 2:(f={},h=this.Ff,m=this.ya);W21=1;break;case 5:(l=m.$b,k=l.Zc(0),p=l.Zc(1));f.vspts=null !== (b=null === p || void 0 === p?void 0:p.Vb) && void 0 !== b?b:0;f.aspts=null !== (c=null === k || void 0 === k?void 0:k.Vb) && void 0 !== c?c:0;W21=9;break;case 13:a && h && (a=h[1],h=h[0],f.atoappend=null === a || void 0 === a?void 0:a.L4(),f.vtoappend=null === h || void 0 === h?void 0:h.L4());W21=12;break;case 1:W21=!m.$b.ak?5:12;break;case 12:return f;break;}}};a.prototype.SOa=function(a){var X21,b,c,d,g,f,h,m;X21=2;for(;X21 !== 3;){switch(X21){case 1:X21=c?5:3;break;case 2:(b=this.ya.$b,c=b.bb(a));X21=1;break;case 7:X21=c?8:6;break;X21=c?5:3;break;case 5:(d=this.fb.ju[a],g=this.ya.QC(b,a),d=d.ND?d.ND.R:0,f=c.Ra.Nna,h=this.ya.pe,m=u.Ql()[a]);return {type:a,availableMediaBuffer:m - g,completeBuffer:b.Ti(a),incompleteBuffer:f,playbackBitrate:c.IVa,streamingBitrate:d,streamingTime:c.Vb + h,usedMediaBuffer:g,toappend:c.mUb};break;}}};a.prototype.YLb=function(){var Y21,a;Y21=2;for(;Y21 !== 5;){switch(Y21){case 2:var Y1o="re";Y1o+="qu";Y1o+="estGarbageC";Y1o+="ollection";a={type:Y1o,time:u.time.da()};D.Pa(this,a.type,a);Y21=5;break;}}};a.prototype.Wn=function(a,b,c,d,g,f){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:var C1o="NF";C1o+="E";C1o+="rr";C1o+="_MC_Stream";C1o+="ingFailure";this.eY || (h.X(c) && (c=C1o),this.eY=!0,this.Za.Fdb(c,a,d,g,f,void 0 !== b?b:this.jS));Z21=1;break;}}};a.prototype.HEa=function(){var a31;a31=2;for(;a31 !== 5;){switch(a31){case 2:var T1o="Ne";T1o+="twork fail";T1o+="ures reset!";this.kb(T1o);this.mf.Mi();a31=5;break;}}};b01=94;break;case 13:Object.defineProperties(a.prototype,{pq:{get:function(){var r01;r01=2;for(;r01 !== 1;){switch(r01){case 4:return this.Geb;break;r01=1;break;case 2:return this.Geb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cR:{get:function(){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 2:return this.QG;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rE:{get:function(){var t01;t01=2;for(;t01 !== 1;){switch(t01){case 2:return this.JX;break;}}},enumerable:!1,configurable:!0}});a.prototype.lb=function(a){var u01;u01=2;for(;u01 !== 1;){switch(u01){case 2:return this.lfb[a];break;}}};a.prototype.ZP=function(){var v01;v01=2;for(;v01 !== 1;){switch(v01){case 2:return u.time.da() - this.hba;break;}}};a.prototype.uOa=function(){var w01;w01=2;for(;w01 !== 1;){switch(w01){case 2:return (this.Mc || []).reduce(function(a,b){var x01,c;x01=2;for(;x01 !== 4;){switch(x01){case 2:c=b.O;d.Ue.forEach(function(b){var y01;y01=2;for(;y01 !== 1;){switch(y01){case 2:c.Lr[b] > a[b] && (a[b]=c.Lr[b]);y01=1;break;}}});return a;break;}}},[0,0]);break;}}};a.prototype.sJ=function(){var z01,a;z01=2;for(;z01 !== 4;){switch(z01){case 2:a=0;h.forEach(this.Pd.O.qa.audio_tracks,function(b){var A01;A01=2;for(;A01 !== 1;){switch(A01){case 2:h.forEach(b.streams,function(b){var B01;B01=2;for(;B01 !== 1;){switch(B01){case 2:a=Math.max(a,b.bitrate);B01=1;break;}}});A01=1;break;}}});return a;break;}}};a.prototype.ng=function(a){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 2:return this.Mc[a];break;}}};a.prototype.Evb=function(){var D01,a;D01=2;for(;D01 !== 5;){switch(D01){case 2:a=this.Mc[0];return a.O.Ke.Mf?this.Mc[1]:a;break;}}};a.prototype.EI=function(){var E01;E01=2;for(;E01 !== 1;){switch(E01){case 2:return this.Mc.length;break;}}};b01=27;break;case 32:a.prototype.LVa=function(){};a.prototype.close=function(){var W01;W01=2;for(;W01 !== 4;){switch(W01){case 2:this.SYa.Qb();this.Mc.forEach(function(a){var X01;X01=2;for(;X01 !== 1;){switch(X01){case 2:a.close();X01=1;break;}}});this.Vm.close();W01=4;break;}}};a.prototype.xXa=function(){var Y01;Y01=2;for(;Y01 !== 1;){switch(Y01){case 2:this.Kb.xeb(this);Y01=1;break;case 4:this.Kb.xeb(this);Y01=2;break;Y01=1;break;}}};a.prototype.pc=function(){var Z01,a;Z01=2;for(;Z01 !== 20;){switch(Z01){case 1:this.Df.tGb();this.RW();this.ya.Qb();this.xP.pbb();null === (a=this.qv) || void 0 === a?void 0:a.reset();this.kt.forEach(function(a){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:a.reset();a11=1;break;}}});this.S.je(p.ta.ip);Z01=6;break;case 2:Z01=1;break;case 6:var o1o="E";o1o+="rror on Medi";o1o+="aSource destroy: ";this.Mc.forEach(function(a){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:a.pc();b11=1;break;}}});this.Mc=[];this.Wf.clear();a=this.If;this.If=void 0;h.X(a) || a.jr() || this.kb(o1o,a.error);Z01=20;break;}}};a.prototype.suspend=function(){var c11;c11=2;for(;c11 !== 1;){switch(c11){case 4:this.Vm.suspend();c11=3;break;c11=1;break;case 2:this.Vm.suspend();c11=1;break;}}};a.prototype.resume=function(){var d11;d11=2;for(;d11 !== 1;){switch(d11){case 4:this.Vm.resume();d11=6;break;d11=1;break;case 2:this.Vm.resume();d11=1;break;}}};a.prototype.Dl=function(){var e11;e11=2;for(;e11 !== 1;){switch(e11){case 2:return this.Vm.Dl();break;}}};a.prototype.afb=function(){var f11,a;f11=2;for(;f11 !== 8;){switch(f11){case 2:a=this.H;this.Py && clearTimeout(this.Py);this.Py=setTimeout(this.jO.bind(this),a.K5);this.pv || (this.pv=setInterval(this.Za.qFa.bind(this.Za),a.MC));f11=3;break;case 3:this.gY || (this.gY=setInterval(this.Za.Hdb.bind(this.Za),a.Vqa));this.pq && !this.IW && (this.IW=setInterval(this.Za.pFa.bind(this.Za),a.Lda));f11=8;break;}}};a.prototype.RW=function(){var g11;g11=2;for(;g11 !== 7;){switch(g11){case 8:this.mf.RW();g11=7;break;case 2:this.Py && (clearTimeout(this.Py),this.Py=void 0);this.pv && (clearInterval(this.pv),this.pv=void 0);this.gY && (clearInterval(this.gY),this.gY=void 0);this.IW && (clearInterval(this.IW),this.IW=void 0);this.rG && (clearTimeout(this.rG),this.rG=void 0);this.Cba && (clearTimeout(this.Cba),this.Cba=void 0);g11=8;break;}}};a.prototype.play=function(){var h11;h11=2;for(;h11 !== 1;){switch(h11){case 2:this.Vm.play();h11=1;break;}}};b01=39;break;}}function a(a,b,d,g,f,h,l,k,p,t,x){var c01,A,J,E,N,L;c01=2;for(;c01 !== 75;){switch(c01){case 28:this.yca=0;this.Wf=new c.Pg();this.fm=new X.NBa(this,this.G,this.lb.bind(this),N);this.mf=new I.bva(this,this.G,this.lb.bind(this));this.xP=new B.ava(this,this.G,N);c01=40;break;case 2:var V1o="1";V1o+="SIYbZr";V1o+="NJCp";V1o+="9";A=this;this.sy=new V.mBa();this.IDa=[];this.Nz={et:[Object.create(null),Object.create(null)]};V1o;c01=9;break;case 49:f=null;t.IP && (f=this.Kb.wq.Ev);c01=47;break;case 13:var b1o="b";b1o+="ranch";b1o+="ing";this.Za=N;this.VJa=new P.pua(this.G);(J=!(!b || !b.choiceMap || b1o !== b.choiceMap.type),E=J?{GP:!1,Rp:!1}:q.fOa(t));this.GP=E.GP;c01=20;break;case 63:c01=t.Sga && this.Df.B1?62:59;break;case 38:c01=(t.esa || t.TA) && this.Kb.Ze?37:36;break;case 36:J && t.lI && !t.Lqb && (t.set?t.set({enableAdaptiveParallelStreaming:!1}):t.lI=!1);0 === Math.floor(1E6 * Math.random()) % t.zO && (this.Geb=new n.pBa());this.kt=[];c01=52;break;case 37:var r1o="m";r1o+="ediaca";r1o+="che";this.Wf.on(this.Kb.Ze,r1o,function(a){var e01;e01=2;for(;e01 !== 1;){switch(e01){case 2:var J1o="med";J1o+="i";J1o+="a";J1o+="cache";D.Pa(A,J1o,a);e01=1;break;}}});c01=36;break;case 9:var M1o="media|a";M1o+="s";M1o+="ej";M1o+="s";var H1o="A";H1o+="S";H1o+="E";H1o+="J";H1o+="S";this.G=new u.Console(H1o,M1o,"(" + l.sessionId + ")");this.gf=this.G.error.bind(this.G);this.kb=this.G.warn.bind(this.G);this.Vj=this.G.trace.bind(this.G);N=new va.bza(this,this.G);c01=13;break;case 27:this.Cl=l;this.H=t=this.VJa.pab(b,t);this.JX=h.rE;this.uGa=! !h.tL;this.Dfb=! !h.N5;this.QG=h.cR;this.SX=void 0;c01=35;break;case 47:T.Su.pf().reset();b=r.Z8.create({eb:0,qa:b,gl:d,FYa:g,Mf:! !h.Mf,QQa:!1,ci:! !h.ci,Zq:x || this.IDa,T:0,pa:h.pa,Za:this.Za,Xp:this.HEa.bind(this),lb:this.lb.bind(this),Cb:this,config:this.H,G:this.G,mf:this.mf,fm:this.fm,Ze:this.uGa?this.Kb.Ze:void 0,Nz:this.Nz});b.yO=!0;this.Mc=[b];this.Df=new S.Ksa(this,this.G,a,this.Kb.Ab,t,this.sJ(),f,this.lb.bind(this),E);c01=63;break;case 39:var I1o="m";I1o+="ana";I1o+="gerdeb";I1o+="ugevent";this.Wf.on(this.Kb.Ze,I1o,function(a){var d01;d01=2;for(;d01 !== 1;){switch(d01){case 4:D.Pa(A,a.type,a);d01=8;break;d01=1;break;case 2:D.Pa(A,a.type,a);d01=1;break;}}});c01=38;break;case 40:c01=t.ah && this.Kb.Ze?39:38;break;case 35:this.S=new R.Wsa(p);this.$X=f || 0;this.RG=0;this.aba=k;this.eY=!1;this.wN=void 0;this.wX=-1;c01=28;break;case 77:L=this;this.S.addListener(function(a){var f01,g01;f01=2;for(;f01 !== 1;){switch(f01){case 2:try{g01=2;for(;g01 !== 1;){switch(g01){case 2:L.fb.NSb.bind(L.fb)(a);g01=1;break;}}}catch(Ce){var s1o="Hindsight: Error when adding up";s1o+="da";s1o+="tePlaySegment Listener: ";a000.z51(3);L.Za.Zl(a000.n51(Ce,s1o));}f01=1;break;}}});c01=75;break;case 52:this.Ff=[];this.SYa=new m.rV(b,this.Kb.Ab,this.Kb.Nf,this.H,void 0);a=this.SYa.hxb();c01=49;break;case 20:this.Rp=E.Rp;this.Cu=t.Cu;this.Vm=new da.Bxa(this,this.G,this.lb.bind(this),E);this.lfb=[!h.aUb,!h.Y0b];this.lb(0) && this.lb(1);this.Kb=a;c01=27;break;case 62:t=t.Fyb;for(var C in t){d=t[C];t.hasOwnProperty(C) && d && (this.H[C]=d);}c01=60;break;case 60:this.Df.Sra(this.H);c01=59;break;case 59:C=b.O;this.ya=new Q.I6(this,this.Za,this.G,this.Ica.bind(this),C,this.$X,this.H,this.mf,this.S,this.ZP.bind(this));C={cR:this.cR,pq:this.pq,sl:this.sl,rE:this.rE};this.fb=new U.jCa(this.G,this.Df,this.H,this.lb.bind(this),this.S,C,this.Kb.Ab,this.Za,this.mf,this.ya,E);c01=55;break;case 55:c01=this.Rp?77:75;break;}}}})();b.VBa=a;f.Se(c.EventEmitter,a);},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.FM=void 0;f=(function(){function a(a){this.Li={};this.gca=a;this.jf=[];this.wp=!1;this.pC=void 0;}a.prototype.zY=function(a){this.jf.length === this.gca && this.jf.shift();Array.isArray(a)?this.jf=this.jf.concat(a):this.jf.push(a);this.wp=!0;};a.prototype.GI=function(){return this.jf.length;};a.prototype.zea=function(){var a;a=this.jf;return 0 < a.length?a.reduce(function(a,b){return a + b;},0) / this.jf.length:void 0;};a.prototype.aZ=function(){var a,b;a=this.jf;b=this.zea();if(0 < a.length && "undefined" !== typeof b)return (a=a.reduce(function(a,b){return a + b * b;},0) / a.length,Math.sqrt(a - b * b));};a.prototype.cr=function(a){var b,c,f;if(this.wp || void 0 === this.pC)(this.pC=this.jf.slice(0).sort(function(a,b){return a - b;}),this.wp=!1);if(void 0 === this.Li[a]){b=this.pC;c=Math.floor(a / 100 * (b.length - 1) + 1) - 1;f=(a / 100 * (b.length - 1) + 1) % 1;this.Li[a]=c === b.length - 1?b[c]:b[c] + f * (b[c + 1] - b[c]);}return this.Li[a];};return a;})();b.FM=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rxa=void 0;f=(function(){function a(a,b,f){this.ofb=b;this.Aab=f;this.G=a;}a.prototype.poa=function(a){a=this.Kzb(a,this.ofb) + this.Aab;return this.ZG=isNaN(a)?NaN:this.Aqa(a);};a.prototype.zkb=function(a){return isNaN(this.ZG)?0:this.ZG > a?1:0;};a.prototype.Kzb=function(a,b){var c;c=0;if(a.length !== b.length)c=NaN;else for(var f=0;f < a.length;f++){c+=a[f] * b[f];}return c;};a.prototype.Aqa=function(a){return 1 / (1 + Math.exp(-a));};return a;})();b.Rxa=f;},function(f,b,a){var k,r;function c(){this.zv=this.pN=this.nX=this.AX=this.jX=null;}function h(a){this.H=a;this.Ev=[];this.lp=new c();this.EN();}k=a(8);a(22);a(10);r=a(3);new r.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.je=function(a){var b;b=!1;a && k.has(a,"ens") && k.has(a,"lns") && k.has(a,"fns") && k.has(a,"d") && k.has(a,"t") && (this.jX=a.ens,this.AX=a.lns,this.nX=a.fns,this.pN=a.d,this.zv=a.t,b=!0);return b;};c.prototype.$c=function(){var a;if(k.Ua(this.jX) || k.Ua(this.AX) || k.Ua(this.nX) || k.Ua(this.pN) || k.Ua(this.zv))return null;a={d:this.pN,t:this.zv};a.ens=this.jX;a.lns=this.AX;a.fns=this.nX;return a;};c.prototype.get=function(){var a,b;a=this.$c();if(a){b=new Date(this.zv);a.dateint=1E4 * b.getFullYear() + 100 * (b.getMonth() + 1) + b.getDate();a.hour=b.getHours();}return a;};h.prototype.EN=function(){var a;a=r.storage.get("sth");a && this.je(a);};h.prototype.je=function(a){var b,d;b=null;d=this.H;a.forEach(function(a){var d;d=new c();d.je(a)?(b=!0,this.Ev.push(d)):k.Ua(b) && (b=!1);},this);this.Ev=this.Ev.filter(function(a){return a.pN >= d.H2;});this.Ev.sort(function(a,b){return a.zv - b.zv;});return k.Ua(b)?!0:b;};h.prototype.Nba=function(){var a;a=[];this.Ev.forEach(function(b){a.push(b.$c());},this);return a;};h.prototype.save=function(){var a,b,d;a=this.Nba();b=this.H;d=this.lp.$c();d && d.d >= b.H2 && (a.push(d),this.Ev.push(this.lp));a.length > b.l2 && (a=a.slice(a.length - b.l2,a.length));this.lp=new c();a && r.storage.set("sth",a);};h.prototype.reset=function(){this.lp=new c();};h.prototype.Oub=function(){return this.lp.get();};h.prototype.axb=function(){return this.Ev.length + 1;};h.prototype.bgb=function(a){this.lp.jX=a;this.lp.zv=r.time.da();};h.prototype.mgb=function(a){this.lp.AX=a;this.lp.zv=r.time.da();};h.prototype.fgb=function(a,b){this.lp.nX=a;this.lp.zv=r.time.da();this.lp.pN=b;};f.V=h;},function(f,b,a){var h,k,r,g;function c(a){var b;b=nrdp.Jh.X5b.match(/android-(\d*)/);b?23 < b[1]?a.Yqa=!1:(b=nrdp.Jh.WZb.gz.platform.l5b.match(/(\d*)\.(\d*).(\d*)/),a.Yqa=b?6 < b[1] || 6 == b[1] && 1 < b[2] || 6 == b[1] && 1 == b[2] && 1 <= b[3]?!0:!1:!1):a.Yqa=!1;a.o5=!1;}h=a(5).assert;a(100);k=a(3);r=k.Fk;g=k.f8a;f.V=function(){var a,b,f;new k.Console("ASEJSMONKEY","media|asejs");if(!k.Fk.Zb){a=function(a){this.Rcb=a;};b=g.prototype.appendBuffer;k.MediaSource.Zb || (k.MediaSource.Zb={});"undefined" !== typeof nrdp && nrdp.FY && (c(k.MediaSource.Zb),k.MediaSource.Zb.sJa=!1,k.MediaSource.Zb.HTa=!1);k.Fk.Zb={zK:{tsa:!0,MB:!0,Uya:!0}};Object.defineProperty(r.prototype,"_response",{get:function(){return this.jfb || this.kbb;},set:function(a){this.kbb=a;}});f=r.prototype.open;r.prototype.open=function(b,c,d,g,h,m,l){1 === d && (this.jfb=new a(this));return f.call(this,b,c,d,g,h,m,l);};r.prototype.uS=function(){this.bH=void 0;};g.prototype.appendBuffer=function(c){if(c instanceof ArrayBuffer)return b.call(this,c);if(c instanceof a)return this.GY(c.Rcb);h(!1);};}};},function(f,b,a){var c,h,k,r,g,p,d,m,t,n,q,u,E,L,D,C,T;Object.defineProperty(b,"__esModule",{value:!0});b.wxa=void 0;c=a(0);h=a(8);k=a(22);f=a(15);r=a(916);g=a(3);p=g.Promise;d=a(240);m=a(244);t=a(242);n=a(915);q=a(423);u=a(5);E=a(912);L=a(800);D=new g.Console("ASEJS","media|asejs");C=D.trace.bind(D);T=D.warn.bind(D);f=(function(b){var f31;f31=2;function f(c,d){var g31,f;g31=2;for(;g31 !== 13;){switch(g31){case 14:return f;break;case 1:f.config=c;f.Jx=d;c=a(381);g31=3;break;case 3:var n1o="1";n1o+="SI";n1o+="Y";n1o+="bZrNJCp9";var m1o="D";m1o+="E";m1o+="BU";m1o+="G:";var O1o="nf-ase";O1o+=" ";O1o+="ve";O1o+="rsion";O1o+=":";C(O1o,c,m1o,!1);f.yN=!1;f.CFa=!1;f.oC=[];n1o;g31=14;break;case 2:f=b.call(this) || this;g31=1;break;}}}for(;f31 !== 30;){switch(f31){case 2:c.__extends(f,b);Object.defineProperties(f.prototype,{Ab:{get:function(){var h31;h31=2;for(;h31 !== 1;){switch(h31){case 2:return this.TW.Ab;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$m:{get:function(){var i31;i31=2;for(;i31 !== 1;){switch(i31){case 2:return this.TW.$m;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wq:{get:function(){var j31;j31=2;for(;j31 !== 1;){switch(j31){case 4:return this.Eca;break;j31=1;break;case 2:return this.Eca;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{JA:{get:function(){var k31;k31=2;for(;k31 !== 1;){switch(k31){case 2:return this.fO;break;case 4:return this.fO;break;k31=1;break;}}},enumerable:!1,configurable:!0}});f31=9;break;case 11:f.prototype.A3=function(){var u31;u31=2;for(;u31 !== 1;){switch(u31){case 2:this.CFa=!0;u31=1;break;case 4:this.CFa=~1;u31=2;break;u31=1;break;}}};f.prototype.Jm=function(a,b,c,d,f,m,l,p,r,t){var v31;v31=2;for(;v31 !== 4;){switch(v31){case 1:return (p=p || this.config,this.Ab.reset(),this.$m.UPb(),this.Eca.reset(),void 0 === m && (m=this.c0(a,b)),h.X(this.fO) && (g.Ql()[k.Sa.VIDEO] <= p.EEb?this.fO=0:this.fO=p.zS),a=new E.VBa(this,a,t,b,c,d,f,m,l,p,r),this.oC.push(a),a);break;case 9:v31=this.yN?3:0;break;v31=this.yN?1:5;break;case 2:v31=this.yN?1:5;break;case 5:var y1o="open: streamingManag";y1o+="er";y1o+=" not initted";T(y1o);v31=4;break;case 7:T("");v31=9;break;v31=4;break;}}};f.prototype.bR=function(a,b){var w31;w31=2;for(;w31 !== 1;){switch(w31){case 2:return this.zh && (a=this.zh.bR(a,b))?a:!1;break;}}};f31=19;break;case 9:Object.defineProperties(f.prototype,{ala:{get:function(){var l31;l31=2;for(;l31 !== 1;){switch(l31){case 2:return !h.X(this.iGa);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{QE:{get:function(){var m31;m31=2;for(;m31 !== 1;){switch(m31){case 2:return this.fGa;break;case 4:return this.fGa;break;m31=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ze:{get:function(){var n31;n31=2;for(;n31 !== 1;){switch(n31){case 2:return this.zh;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Nf:{get:function(){var o31;o31=2;for(;o31 !== 1;){switch(o31){case 2:return this.TW.Nf;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gka:{get:function(){var p31;p31=2;for(;p31 !== 1;){switch(p31){case 2:return this.CFa;break;}}},enumerable:!1,configurable:!0}});f.prototype.Jb=function(a,b,c,d,f,g){var q31,l,k;q31=2;for(;q31 !== 11;){switch(q31){case 2:(l=this,k=this.config);m.sF.reset();0 < k.Lo && (!h.X(a) && a > k.Lo && (a=k.Lo),b > k.Lo && (b=k.Lo));h.X(a) && (this.iGa=b);q31=3;break;case 3:this.fO=d;this.fGa=f;r(k);this.TW=m.sF.COa(k,this.Jx);this.Eca=new n(k);q31=14;break;case 12:this.yN=!0;q31=11;break;case 13:var w1o="media";w1o+="cac";w1o+="h";w1o+="e";var t1o="cac";t1o+="h";t1o+="eE";t1o+="v";t1o+="ict";var A1o="fl";A1o+="ushedB";A1o+="y";A1o+="te";A1o+="s";var u1o="discard";u1o+="edB";u1o+="ytes";var z1o="pr";z1o+="ebuff";z1o+="sta";z1o+="ts";(b=new L.qwa(this,k,c,g),a=function(a){var r31;r31=2;for(;r31 !== 1;){switch(r31){case 4:l.emit(a.type,a);r31=8;break;r31=1;break;case 2:l.emit(a.type,a);r31=1;break;}}},b.addListener(z1o,a),b.addListener(u1o,a),b.addListener(A1o,a),b.addListener(t1o,a),(k.esa || k.TA) && b.addListener(w1o,function(a){var s31;s31=2;for(;s31 !== 1;){switch(s31){case 4:l.emit("",a);s31=3;break;s31=1;break;case 2:var p1o="media";p1o+="cac";p1o+="he";l.emit(p1o,a);s31=1;break;}}}),this.zh=b);q31=12;break;case 14:q31=k.tL || k.N5?13:12;break;}}};f.prototype.TS=function(a,b,c){var t31;t31=2;for(;t31 !== 4;){switch(t31){case 5:this.fGa=c || 0;t31=4;break;case 2:this.iGa=a;this.fO=b || 0;t31=5;break;}}};f31=11;break;case 34:f.prototype.EIa=function(){var K31;K31=2;for(;K31 !== 1;){switch(K31){case 2:return this.zh?this.zh.k4():null;break;}}};f.prototype.RYa=function(){var L31,a;L31=2;for(;L31 !== 3;){switch(L31){case 8:L31=this.yN?0:0;break;L31=this.yN?1:4;break;case 2:L31=this.yN?1:4;break;case 1:a=new q.lV(this.wq.Ev,this.config,D);L31=5;break;case 14:T("");L31=9;break;L31=3;break;case 4:var E1o="sessionHistoryRepo";E1o+="rt: ase-manager no";E1o+="t initted";T(E1o);L31=3;break;case 5:return {wH:a.$Ha,I4b:a.aIa,Q5b:a.TNb};break;}}};f31=32;break;case 15:f.prototype.c0=function(a,b,c){var A31;A31=2;for(;A31 !== 1;){switch(A31){case 2:return d.vOa(a,b,c);break;}}};f.prototype.OOa=function(){var B31;B31=2;for(;B31 !== 4;){switch(B31){case 9:B31=this.yN?3:7;break;B31=this.yN?1:5;break;case 2:B31=this.yN?1:5;break;case 1:return this.Ab.Utb();break;case 5:var K1o="getSessionStatistic";K1o+="s: ";K1o+="StreamingManager n";K1o+="ot initted";T(K1o);B31=4;break;case 7:T("");B31=5;break;B31=4;break;}}};f.prototype.jJa=function(a){var C31,b;C31=2;for(;C31 !== 3;){switch(C31){case 2:b=this.Nf || new t(this.config,this.Jx);b.hMa(a);b.save();this.Ab && this.Ab.reset();C31=3;break;}}};f31=25;break;case 25:f.prototype.XY=function(a,b){var D31;D31=2;for(;D31 !== 1;){switch(D31){case 2:var S1o="ca";S1o+="tc";S1o+="h";this.zh && (a=this.zh.sJb(this,a),h.X(b) || a.then(b),a[S1o](function(a){var E31;E31=2;for(;E31 !== 1;){switch(E31){case 4:C("",a);E31=7;break;E31=1;break;case 2:var k1o="ca";k1o+="chePrepare cau";k1o+="ght error:";C(k1o,a);E31=1;break;}}}));D31=1;break;}}};f.prototype.UO=function(){var F31,a;F31=2;for(;F31 !== 5;){switch(F31){case 2:null === (a=this.zh) || void 0 === a?void 0:a.flush();F31=5;break;}}};f.prototype.yea=function(){var G31,a;G31=2;for(;G31 !== 5;){switch(G31){case 2:null === (a=this.zh) || void 0 === a?void 0:a.PMa();G31=5;break;}}};f.prototype.VO=function(){var H31;H31=2;for(;H31 !== 1;){switch(H31){case 2:return this.zh?this.zh.list():[];break;}}};f.prototype.FIa=function(a){var I31,b;I31=2;for(;I31 !== 5;){switch(I31){case 2:null === (b=this.zh) || void 0 === b?void 0:b.nqa(a);I31=5;break;}}};f.prototype.AH=function(){var J31,a;J31=2;for(;J31 !== 5;){switch(J31){case 2:null === (a=this.zh) || void 0 === a?void 0:a.zpb();J31=5;break;}}};f31=34;break;case 32:f.prototype.Qb=function(){var M31;M31=2;for(;M31 !== 6;){switch(M31){case 2:var P1o="Att";P1o+="empted t";P1o+="o destru";P1o+="ct Manager before ";P1o+="all Sessions removed";u.assert(0 === this.oC.length,P1o);this.yN=!1;delete this.TW;M31=4;break;case 7:m.sF.reset();M31=6;break;case 4:delete this.Eca;delete this.Jx;this.AH();delete this.zh;M31=7;break;}}};return f;break;case 19:f.prototype.Sla=function(a){var x31;x31=2;for(;x31 !== 1;){switch(x31){case 2:return this.zh && (a=this.zh.fSa(a))?a:!1;break;}}};f.prototype.RD=function(){var y31;y31=2;for(;y31 !== 1;){switch(y31){case 2:return this.zh?this.zh.RD():p.resolve([]);break;}}};f.prototype.xeb=function(a){var z31,b;z31=2;for(;z31 !== 4;){switch(z31){case 5:var j1o="can";j1o+="'t find session in arra";j1o+="y, movi";j1o+="eId:";h.X(b)?T(j1o,a.Pd.O.u):(this.oC.splice(b,1),0 === this.oC.length && this.$m.dQb(),this.$m.save(),this.Nf.save());z31=4;break;case 2:this.Ab.SS(null);b=this.oC.indexOf(a);z31=5;break;}}};f.prototype.kZa=function(){};f31=15;break;}}})(f.EventEmitter);b.wxa=f;},function(f){var b,a,c;b=Object.getOwnPropertySymbols;a=Object.prototype.hasOwnProperty;c=Object.prototype.propertyIsEnumerable;f.V=(function(){var a,c;try{if(!Object.assign)return !1;a=new String("abc");a[5]="de";if("5" === Object.getOwnPropertyNames(a)[0])return !1;for(var b={},a=0;10 > a;a++){b["_" + String.fromCharCode(a)]=a;}if("0123456789" !== Object.getOwnPropertyNames(b).map(function(a){return b[a];}).join(""))return !1;c={};("abcdefghijklmnopqrst").split("").forEach(function(a){c[a]=a;});return "abcdefghijklmnopqrst" !== Object.keys(Object.assign({},c)).join("")?!1:!0;}catch(g){return !1;}})()?Object.assign:function(f,h){var l,g;if(null === f || void 0 === f)throw new TypeError("Object.assign cannot be called with null or undefined");g=Object(f);for(var k,d=1;d < arguments.length;d++){l=Object(arguments[d]);for(var m in l){a.call(l,m) && (g[m]=l[m]);}if(b){k=b(l);for(var t=0;t < k.length;t++){c.call(l,k[t]) && (g[k[t]]=l[k[t]]);}}}return g;};},function(f,b,a){(function(b){var C,T,P,B,R,V,W,M;function c(a,b){if(a === b)return 0;for(var c=a.length,d=b.length,f=0,g=Math.min(c,d);f < g;++f){if(a[f] !== b[f]){c=a[f];d=b[f];break;}}return c < d?-1:d < c?1:0;}function h(a){return b.Fta && "function" === typeof b.Fta.isBuffer?b.Fta.isBuffer(a):!(null == a || !a.E0b);}function r(a){return h(a) || "function" !== typeof b.ArrayBuffer?!1:"function" === typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView || a.buffer && a.buffer instanceof ArrayBuffer?!0:!1:!1;}function g(a){if(T.Yb(a))return R?a.name:(a=a.toString().match(W)) && a[1];}function p(a){return "string" === typeof a?128 > a.length?a:a.slice(0,128):a;}function d(a){if(R || !T.Yb(a))return T.HQ(a);a=g(a);return "[Function" + (a?": " + a:"") + "]";}function m(a,b,c,d,f){throw new V.AssertionError({message:c,oH:a,pr:b,XJ:d,LPb:f});}function t(a,b){a || m(a,!0,b,"==",V.ok);}function n(a,b,d,f){var g;if(a === b)return !0;if(h(a) && h(b))return 0 === c(a,b);if(T.v1(a) && T.v1(b))return a.getTime() === b.getTime();if(T.$Qa(a) && T.$Qa(b))return a.source === b.source && a.global === b.global && a.multiline === b.multiline && a.lastIndex === b.lastIndex && a.ignoreCase === b.ignoreCase;if(null !== a && "object" === typeof a || null !== b && "object" === typeof b){if(!r(a) || !r(b) || Object.prototype.toString.call(a) !== Object.prototype.toString.call(b) || a instanceof Float32Array || a instanceof Float64Array){if(h(a) !== h(b))return !1;f=f || ({oH:[],pr:[]});g=f.oH.indexOf(a);if(-1 !== g && g === f.pr.indexOf(b))return !0;f.oH.push(a);f.pr.push(b);return q(a,b,d,f);}return 0 === c(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return d?a === b:a == b;}function q(a,b,c,d){var f,g,h;if(null === a || void 0 === a || null === b || void 0 === b)return !1;if(T.XQa(a) || T.XQa(b))return a === b;if(c && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))return !1;f="[object Arguments]" == Object.prototype.toString.call(a);g="[object Arguments]" == Object.prototype.toString.call(b);if(f && !g || !f && g)return !1;if(f)return (a=B.call(a),b=B.call(b),n(a,b,c));f=M(a);h=M(b);if(f.length !== h.length)return !1;f.sort();h.sort();for(g=f.length - 1;0 <= g;g--){if(f[g] !== h[g])return !1;}for(g=f.length - 1;0 <= g;g--){if((h=f[g],!n(a[h],b[h],c,d)))return !1;}return !0;}function u(a,b,c){n(a,b,!0) && m(a,b,c,"notDeepStrictEqual",u);}function E(a,b){if(!a || !b)return !1;if("[object RegExp]" == Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return !0;}catch(Ia){}return Error.isPrototypeOf(b)?!1:!0 === b.call({},a);}function L(a,b,c,d){var f,g,h;if("function" !== typeof b)throw new TypeError('"block" argument must be a function');"string" === typeof c && (d=c,c=null);try{b();}catch(I){f=I;}b=f;d=(c && c.name?" (" + c.name + ").":".") + (d?" " + d:".");a && !b && m(b,c,"Missing expected exception" + d);f="string" === typeof d;g=!a && T.KQ(b);h=!a && b && !c;(g && f && E(b,c) || h) && m(b,c,"Got unwanted exception" + d);if(a && b && c && !E(b,c) || !a && b)throw b;}function D(a,b){a || m(a,!0,b,"==",D);}C=a(918);T=a(488);P=Object.prototype.hasOwnProperty;B=Array.prototype.slice;R=(function(){return "foo" === (function(){}).name;})();V=f.V=t;W=/\s*function\s+([^\(\s]*)\s*/;V.AssertionError=function(a){var b;this.name="AssertionError";this.oH=a.oH;this.pr=a.pr;this.XJ=a.XJ;this.message=a.message?a.message:p(d(this.oH)) + " " + this.XJ + " " + p(d(this.pr));b=a.LPb || m;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack && (a=a.stack,b=g(b),b=a.indexOf("\n" + b),0 <= b && (a=a.substring(a.indexOf("\n",b + 1) + 1)),this.stack=a));};T.vzb(V.AssertionError,Error);V.fail=m;V.ok=t;V.equal=function(a,b,c){a != b && m(a,b,c,"==",V.equal);};V.dE=function(a,b,c){a == b && m(a,b,c,"!=",V.dE);};V.LKa=function(a,b,c){n(a,b,!1) || m(a,b,c,"deepEqual",V.LKa);};V.MKa=function(a,b,c){n(a,b,!0) || m(a,b,c,"deepStrictEqual",V.MKa);};V.dUa=function(a,b,c){n(a,b,!1) && m(a,b,c,"notDeepEqual",V.dUa);};V.zFb=u;V.h_a=function(a,b,c){a !== b && m(a,b,c,"===",V.h_a);};V.eUa=function(a,b,c){a === b && m(a,b,c,"!==",V.eUa);};V["throws"]=function(a,b,c){L(!0,a,b,c);};V.n2b=function(a,b,c){L(!1,a,b,c);};V.z3b=function(a){if(a)throw a;};V.Wqa=C(D,V,{equal:V.h_a,LKa:V.MKa,dE:V.eUa,dUa:V.zFb});V.Wqa.Wqa=V.Wqa;M=Object.keys || (function(a){var b,c;b=[];for(c in a){P.call(a,c) && b.push(c);}return b;});}).call(this,a(190));},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Zta=void 0;c=a(424);f=(function(){var N31;function a(){var O31;O31=2;for(;O31 !== 5;){switch(O31){case 3:this.LX={};"";O31=6;break;O31=5;break;case 2:var h1o="1";h1o+="S";h1o+="IYb";h1o+="ZrN";h1o+="JCp9";this.LX={};h1o;O31=5;break;}}}N31=2;for(;N31 !== 9;){switch(N31){case 1:a.prototype.start=function(a,b){var Q31,f;Q31=2;for(;Q31 !== 4;){switch(Q31){case 2:f=this.LX;void 0 === f[b] && (f[b]=new c());f[b].start(a);Q31=4;break;}}};a.prototype.stop=function(a,b){var R31,c;R31=2;for(;R31 !== 5;){switch(R31){case 2:c=this.LX;void 0 !== c[b] && c[b].stop(a);R31=5;break;}}};a.prototype.get=function(){var S31,a,b,c,f,d,h;S31=2;for(;S31 !== 8;){switch(S31){case 2:(a=this.LX,b=Object.keys(a),c=[],f=0);S31=1;break;case 5:(d=b[f],h=a[d].get());h && c.push({cdnid:d,avtp:h.Ga,tm:h.XZ});S31=3;break;case 9:return c;break;case 3:f++;S31=1;break;case 1:S31=f < b.length?5:9;break;}}};return a;break;case 2:a.prototype.add=function(a,b,f,h){var P31,d;P31=2;for(;P31 !== 4;){switch(P31){case 2:d=this.LX;void 0 === d[h] && (d[h]=new c());d[h].add(a,b,f);P31=4;break;}}};N31=1;break;}}})();b.Zta=f;},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Fva=void 0;c=a(920);new (a(3).Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");f=(function(){var T31;function a(a){var U31;U31=2;for(;U31 !== 4;){switch(U31){case 2:var F1o="1";F1o+="SIYbZ";F1o+="rN";F1o+="JCp9";this.qka=a;this.qw={};F1o;U31=4;break;}}}T31=2;for(;T31 !== 7;){switch(T31){case 9:a.prototype.P0a=function(a){var a41,b,c;a41=2;for(;a41 !== 5;){switch(a41){case 2:(b=Object.keys(this.qw),c=this.qw[b[0]]);1 === b.length && !1 === c.C_?(this.PA.start(a,c.re),this.qO=c.re):1 < b.length && this.qO && (b=this.qw[this.qO],this.PA.stop(a,this.qO),b.C_=!1,this.qO=void 0);a41=5;break;}}};return a;break;case 2:a.prototype.reset=function(){var V31;V31=2;for(;V31 !== 1;){switch(V31){case 4:this.PA=new c.Zta();V31=9;break;V31=1;break;case 2:this.PA=new c.Zta();V31=1;break;}}};a.prototype.CE=function(a,b){var W31;W31=2;for(;W31 !== 1;){switch(W31){case 2:b.re && (this.qka?this.PA.start(a,b.re):1 === b.type && (this.qw[b.re]?this.qw[b.re].UT+=1:this.qw[b.re]={re:b.re,UT:1,C_:!1},this.P0a(a)));W31=1;break;}}};a.prototype.EE=function(a,b){var X31,c;X31=2;for(;X31 !== 9;){switch(X31){case 1:X31=this.qka?5:4;break;case 5:this.PA.stop(a,b.re);X31=9;break;case 7:X31=b.re?2:2;break;X31=b.re?1:9;break;case 2:X31=b.re?1:9;break;case 4:c=this.qw[b.re];1 === b.type && c && (--c.UT,0 === c.UT && (c.C_ && this.PA.stop(a,b.re),c.C_=!1,delete this.qw[b.re]),this.P0a(a));X31=9;break;case 6:X31=this.qka?6:1;break;X31=this.qka?5:4;break;}}};a.prototype.Ty=function(a,b,c,f){var Y31;Y31=2;for(;Y31 !== 1;){switch(Y31){case 2:f.re && (this.qka?this.PA.add(a,b,c,f.re):this.qO === f.re && this.PA.add(a,b,c,f.re));Y31=1;break;}}};a.prototype.Qm=function(){var Z31;Z31=2;for(;Z31 !== 1;){switch(Z31){case 2:return this.PA.get();break;}}};T31=9;break;}}})();b.Fva=f;},function(f,b,a){var h,k;function c(a){this.H=a;this.EN();}h=a(8);k=a(3);new k.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var a;a=this.$c();k.storage.set("nh",a);};c.prototype.UPb=function(){this.tC || (this.tC=!0,this.Av=k.time.da());};c.prototype.dQb=function(){var a;if(this.tC){a=k.time.da();this.Gv+=a - this.Av;this.Av=a;this.tC=!1;this.DN=null;}};c.prototype.BQa=function(a,b){this.tC && (b > this.Av && (this.Gv+=b - this.Av,this.Av=b),null === this.DN || a > this.DN) && (a=b - a,this.KG.push([this.Gv - a,a]),this.rfb(),this.DN=b);};c.prototype.rfb=function(){var a;a=this.Gv - this.H.kFb;this.KG=this.KG.filter(function(b){return b[0] > a;});};c.prototype.EN=function(){var a;a=k.storage.get("nh");this.Hca(a) || (this.Av=k.time.da(),this.Gv=0,this.tC=!1,this.DN=null,this.KG=[]);};c.prototype.Hca=function(a){if(!(a && h.has(a,"t") && h.has(a,"s") && h.has(a,"i") && h.oa(a.t) && h.oa(a.s) && h.isArray(a.i)))return !1;this.Av=k.time.mna(1E3 * a.t);this.Gv=1E3 * a.s;this.tC=!1;this.KG=a.i.map(function(a){return [1E3 * a[0],a[1]];});this.DN=null;return !0;};c.prototype.$c=function(){return this.tC?{t:k.time.now() / 1E3 | 0,s:(this.Gv + (k.time.da() - this.Av)) / 1E3 | 0,i:this.KG.map(function(a){return [a[0] / 1E3 | 0,a[1]];})}:{t:k.time.Sma(this.Av) / 1E3 | 0,s:this.Gv / 1E3 | 0,i:this.KG.map(function(a){return [a[0] / 1E3 | 0,a[1]];})};};f.V=c;},function(f,b,a){var h;function c(a){var b,c;b=a.sw;c=a.mw;this.kH=b;this.eba={uhd:a.uhdl,hd:a.hdl};this.Ni=Math.max(Math.ceil(1 * b / c),1);this.Zcb=a.mins || 1;h.call(this,b,c);this.reset();}h=a(139);new (a(3).Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(h.prototype);c.prototype.flush=function(){this.fd.map(function(a,b){this.UGa(a,this.$ha(b));},this);};c.prototype.ijb=function(){var a,b,c,f,d,h,l,E;a=this.eba;for(b in a){if(a.hasOwnProperty(b)){c=a[b];f=this.Pca[b];d=this.Oca[b];if(f.first){h=f.first;l=f.tE;void 0 !== l && (d[h][l]+=1);f.first=void 0;}for(var f=[],h=0,c=l=c.length + 1,n=0;n < l;n++){for(var q=0,u=0;u < c;u++){q+=d[u][n];}h+=q;f.push(q);}q=-1;if(h > this.Zcb){for(n=q=0;n < l;n++){if(0 < f[n])for(u=0;u < c;u++){E=d[u][n];0 < E && (q-=E * Math.log(1 * E / f[n]));}}q/=h * Math.log(2);}this.Eba[b]=q;}}return this.Eba;};c.prototype.UGa=function(a,b){var c,h,l;for(var c=this.Ni,f=this.eba;this.eX.length >= c;){this.eX.shift();}for(;this.fX.length >= c;){this.fX.shift();}this.eX.push(a);this.fX.push(b);a=this.eX.reduce(function(a,b){return a + b;},0);b=this.fX.reduce(function(a,b){return a + b;},0);if(0 < b){a=8 * a / b;for(var d in f){if(f.hasOwnProperty(d)){b=this.Pca[d];c=this.Oca[d];h=this.hKb(a,f[d]);l=b.tE;void 0 !== l?c[h][l]+=1:b.first=h;b.tE=h;}}}};c.prototype.hKb=function(a,b){for(var c=0;c < b.length && a > b[c];){c+=1;}return c;};c.prototype.shift=function(){this.UGa(this.fd[0],this.$ha(0));h.prototype.shift.call(this);};c.prototype.reset=function(){var a,b;this.Pca={};this.eX=[];this.fX=[];this.Oca={};this.Eba={};a=this.eba;for(b in a){if(a.hasOwnProperty(b)){for(var c=this.Oca,f=b,d,m=void 0,l=Array(m),m=d=a[b].length + 1,n=0;n < m;n++){l[n]=Array(d);for(var q=0;q < d;q++){l[n][q]=0;}}c[f]=l;this.Pca[b]={first:void 0,tE:void 0};this.Eba[b]=0;}}h.prototype.reset.call(this);};f.V=c;},function(f,b,a){var h;function c(){this.Li=void 0;this.Ky=0;}h=a(8);c.prototype.$c=function(){return 0 !== this.Ky && this.Li?{p25:this.Li.qk,p50:this.Li.$i,p75:this.Li.sk,c:this.Ky}:null;};c.prototype.je=function(a){if(!(!h.Ua(a) && h.has(a,"p25") && h.has(a,"p50") && h.has(a,"p75") && h.has(a,"c") && h.isFinite(a.p25) && h.isFinite(a.p50) && h.isFinite(a.p75) && h.isFinite(a.c)))return (this.Li=void 0,this.Ky=0,!1);this.Li={qk:a.p25,$i:a.p50,sk:a.p75};this.Ky=a.c;};c.prototype.get=function(){return {x3:this.Li,Ipa:this.Ky};};c.prototype.set=function(a,b){this.Li=a;this.Ky=b;};c.prototype.reset=function(){this.Li=void 0;this.Ky=0;};c.prototype.toString=function(){return "IQRHist(" + this.Li + "," + this.Ky + ")";};f.V=c;},function(f,b,a){var h,k,r,g,p,d,m,t,n,q;function c(a){this.mbb=a;}b=a(428);h=b.r5a;k=b.p5a;r=a(241).q5a;g=a(241).Z$a;p=a(427);d=a(426);m=a(425).ACa;t=a(924);n=a(923);q=a(424);c.prototype.constructor=c;c.prototype.create=function(a,b){var c,f,l,x;f=this.mbb[a];l=b[a];x={};f && Object.keys(f).forEach(function(a){x[a]=f[a];});l && Object.keys(l).forEach(function(a){x[a]=l[a];});switch(x.type){case "slidingwindow":c=new r(x.mw);break;case "discontiguous-ewma":c=new k(x.mw);break;case "wssl":c=new g(x.mw,x.max_n);break;case "iqr":c=new p(x.mx,x.mn,x.bw,x.iv);break;case "tdigest":c=new d(x);break;case "discrete-ewma":c=new h(x.hl);break;case "tdigest-history":c=new m(x);break;case "iqr-history":c=new t(x);break;case "avtp":c=new q();break;case "entropy":c=new n(x);}c && (c.type=x.type);return c;};f.V=c;},function(f){function b(a){this.yG=a;this.ce=0;this.gH=null;}b.prototype.add=function(a,b,f){null !== this.gH && b > this.gH && (this.ce+=b - this.gH,this.gH=null);this.yG.add(a,b - this.ce,f - this.ce,this.ce);};b.prototype.stop=function(a){null === this.gH && (this.gH=a);};b.prototype.poa=function(a,b){return this.yG.poa(a,b);};b.prototype.get=function(){return this.yG.get();};b.prototype.reset=function(){this.yG.reset();};b.prototype.toString=function(){return this.yG.toString();};f.V=b;},function(f){function b(a,b,f){this.lH=a;this.Ni=Math.floor((a + b - 1) / b);this.Wc=b;this.teb=f;this.reset();}b.prototype.shift=function(){this.fd.shift();this.Xg.shift();};b.prototype.update=function(a,b){this.fd[a]+=b;};b.prototype.push=function(a){this.fd.push(0);this.Xg.push(a?a:0);this.ab+=this.Wc;};b.prototype.add=function(a,b,f,h){var c,g;if(null === this.ab){c=Math.max(Math.floor((f - b + this.Wc - 1) / this.Wc),1);for(this.ab=b;this.fd.length < c;){this.push(h);}}for(;this.ab < f;){if((this.push(h),this.teb))for(;1 < this.fd.length && f + h - (this.ab - this.Wc * this.fd.length + this.Xg[0]) > this.lH;){this.shift();}else this.fd.length > this.Ni && this.shift();}if(b > this.ab - this.Wc)this.update(this.fd.length - 1,a);else if(b == f)(h=this.fd.length - Math.max(Math.ceil((this.ab - f) / this.Wc),1),0 <= h && this.update(h,a));else for(h=1;h <= this.fd.length;++h){c=this.ab - h * this.Wc;g=c + this.Wc;if(!(c > f)){if(g < b)break;this.update(this.fd.length - h,Math.round(a * (Math.min(g,f) - Math.max(c,b)) / (f - b)));}}for(;this.fd.length > this.Ni;){this.shift();}};b.prototype.reset=function(){this.fd=[];this.Xg=[];this.ab=null;};b.prototype.setInterval=function(a){this.Ni=Math.floor((a + this.Wc - 1) / this.Wc);};f.V=b;},function(f,b,a){var k,r,g,p;function c(a,b,c){k.call(this,a,b,c);}function h(a,b){r.call(this,new c(a,b,!1));}k=a(927);r=a(926);g=a(118).dub;p=a(118).Gxb;c.prototype=Object.create(k.prototype);c.prototype.Ga=function(){return Math.floor(8 * g(this.fd) / this.Wc);};c.prototype.Uh=function(){return Math.floor(64 * p(this.fd) / (this.Wc * this.Wc));};c.prototype.get=function(){return {Ga:this.Ga(),Uh:this.Uh(),j1b:this.fd.length};};c.prototype.toString=function(){return "bsw(" + this.lH + "," + this.Wc + "," + this.Ni + ")";};h.prototype=Object.create(r.prototype);h.prototype.setInterval=function(a){this.yG.setInterval(a);};f.V=h;},function(f){function b(a,b){this.Ga=a;this.Uh=b;}b.prototype.noa=function(a){var r,g,f;a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {for(var b=1 > a?a:2 - a,f=Math.sqrt(-2 * Math.log(b / 2)),f=-.70711 * ((2.30753 + .27061 * f) / (1 + f * (.99229 + .04481 * f)) - f),h=0;2 > h;h++){r=Math.abs(f);g=1 / (1 + r / 2);r=g * Math.exp(-r * r - 1.26551223 + g * (1.00002368 + g * (.37409196 + g * (.09678418 + g * (-.18628806 + g * (.27886807 + g * (-1.13520398 + g * (1.48851587 + g * (-.82215223 + .17087277 * g)))))))));r=(0 <= f?r:2 - r) - b;f=f + r / (1.1283791670955126 * Math.exp(-(f * f)) - f * r);}a=1 > a?f:-f;}return this.Ga - Math.sqrt(2 * this.Uh) * a;};f.V=b;},function(f,b,a){var h;function c(a){this.EK=new Uint16Array(a.length);for(var b=0;b < a.length;++b){this.EK[b]=a.charCodeAt(b);}}h=new (a(3).Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(a){var b,c;b=this.EK.length;if(void 0 === this.EK)h.warn("XORCiper.encrypt is called with undefined secret!");else {c="";for(var f=0;f < a.length;++f){c+=String.fromCharCode(this.EK[f % b] ^ a.charCodeAt(f));}return encodeURIComponent(c);}};c.prototype.decrypt=function(a){var b,c;b="";c=this.EK.length;a=decodeURIComponent(a);for(var f=0;f < a.length;f++){b+=String.fromCharCode(this.EK[f % c] ^ a.charCodeAt(f));}return b;};f.V=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.MQ=void 0;b.MQ=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.aCa=b.$Ba=void 0;c=a(38);f=(function(){function a(a){this.o=a;this.listeners=[];this.SR=[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.set=function(a){var b;this.o=a;b=this.SR;this.SR=[];this.listeners.forEach(function(b){return b(a);});b.forEach(function(b){return b(a);});};a.prototype.VXa=function(){this.o=void 0;};a.prototype.on=function(a){this.listeners=this.listeners.concat([a]);void 0 !== this.o && a(this.o);};a.prototype.once=function(a){void 0 !== this.o?a(this.o):this.SR.push(a);};a.prototype.TJ=function(a){this.listeners=this.listeners.filter(function(b){return b !== a;});this.SR=this.SR.filter(function(b){return b !== a;});};return a;})();b.$Ba=f;f=(function(){function a(){this.listeners=[];}a.prototype.on=function(a,b){this.listeners.push({Z4:a,listener:b});a.on(b);};a.prototype.once=function(a,b){var c,f;c=this;if(void 0 === a.value){f=function(d){c.remove(a,b);b(d);};this.listeners.push({Z4:a,listener:b,W1a:f});a.once(f);}else a.once(b);};a.prototype.TJ=function(a,b){var f,h;h=c.Eh(this.listeners,function(c){return c.Z4 === a && c.listener === b;});void 0 !== h && a.TJ(null !== (f=h.W1a) && void 0 !== f?f:h.listener);this.remove(a,b);};a.prototype.removeAllListeners=function(){this.listeners.forEach(function(a){var b,c;b=a.listener;c=a.W1a;return a.Z4.TJ(null !== c && void 0 !== c?c:b);});this.listeners=[];};a.prototype.remove=function(a,b){this.listeners=this.listeners.filter(function(c){return c.Z4 !== a || c.listener !== b;});};return a;})();b.aCa=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.HMa=void 0;b.HMa=function(a,b){return a.filter(function(a){var c,f;a=null !== (f=null !== (c=a.gn) && void 0 !== c?c:a.Cka) && void 0 !== f?f:a.Mj;return ! !a && a.iJ(b);}).pop();};},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.Sya=void 0;c=a(38);h=a(5);f=(function(){function a(){this.data={};}Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){var a;a=this;return Object.keys(this.data).reduce(function(b,c){return b + a.data[c].length;},0);},enumerable:!1,configurable:!0}});a.prototype.get=function(a){var b;return null !== (b=this.data[a]) && void 0 !== b?b:[];};a.prototype.has=function(a,b){return (a=this.data[a])?void 0 === b?!0:-1 !== a.indexOf(b):!1;};a.prototype.count=function(a){return (a=this.data[a])?a.length:0;};a.prototype.keys=function(){return Object.keys(this.data);};a.prototype.values=function(){var a;a=this;return c.sr(this.keys().map(function(b){return a.data[b];}));};a.prototype.set=function(a,b){(this.data[a] || (this.data[a]=[])).push(b);return this;};a.prototype.clear=function(){this.data={};};a.prototype["delete"]=function(a,b){var c,d;c=this.data[a];if(void 0 === c)return !1;if(void 0 === b)return (h.assert(1 === arguments.length),delete this.data[a],!0);d=c.indexOf(b);if(-1 === d)return !1;1 === c.length?delete this.data[a]:c.splice(d,1);return !0;};a.prototype.forEach=function(a,b){var c;c=this;a=void 0 !== b?a.bind(b):a;this.keys().forEach(function(b){return c.data[b].forEach(function(d){return a(d,b,c);});});};a.prototype.reduce=function(a,b,c){var d,f;d=this;a=void 0 !== c?a.bind(c):a;f=b;this.forEach(function(b,c){f=a(f,b,c,d);});return f;};a.prototype.map=function(a,b){var f;f=this;a=void 0 !== b?a.bind(b):a;return c.sr(this.keys().map(function(b){return f.data[b].map(function(c){return a(c,b,f);});}));};a.prototype.filter=function(a,b){var f;f=this;a=void 0 !== b?a.bind(b):a;return c.sr(this.keys().map(function(b){return f.data[b].filter(function(c){return a(c,b,f);});}));};return a;})();b.Sya=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.jza=void 0;f=(function(){function a(a,b,f){var c;c=this;this.properties=a;this.elb=b;this.WO=f;this.state=!1;this.Dna=function(){var a,b;a=c.state;b=c.properties.map(function(a){return a.value;});c.state=c.elb(b);a !== c.state && c.WO(c.state);};a.forEach(function(a){return a.addListener(c.Dna);});this.Dna();}a.prototype.clear=function(){var a;a=this;this.properties.forEach(function(b){return b.removeListener(a.Dna);});};return a;})();b.jza=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.hv=b.O9a=void 0;c=a(0);h=a(935);f=(function(){function a(a,b){this.o=a;this.Ew=b?[b]:[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.addListener=function(a){-1 === this.Ew.indexOf(a) && (this.Ew=this.Ew.slice(),this.Ew.push(a));};a.prototype.removeListener=function(a){a=this.Ew.indexOf(a);-1 !== a && (this.Ew=this.Ew.slice(),this.Ew.splice(a,1));};return a;})();b.O9a=f;f=(function(a){function b(b,c){return a.call(this,b,c) || this;}c.__extends(b,a);b.S1a=function(a,b,c){return new h.jza(a,b,c);};b.pUb=function(a,c,d){return b.S1a(a,function(a){return a.every(function(a,b){return a === c[b];});},d);};Object.defineProperties(b.prototype,{value:{get:function(){return this.o;},set:function(a){this.set(a);},enumerable:!1,configurable:!0}});b.prototype.set=function(a){var b;b=this.o;b !== a && (this.o=a,this.Ew.forEach(function(c){return c({oldValue:b,newValue:a});}));};return b;})(f);b.hv=f;},function(f,b,a){function c(a){this.data=a;this.right=this.left=null;}function h(a){this.me=null;this.Bl=a;this.size=0;}b=a(431);c.prototype.pg=function(a){return a?this.right:this.left;};c.prototype.Yo=function(a,b){a?this.right=b:this.left=b;};h.prototype=new b();h.prototype.Eo=function(a){if(null === this.me)return (this.me=new c(a),this.size++,!0);for(var b=0,f=null,h=this.me;;){if(null === h)return (h=new c(a),f.Yo(b,h),ret=!0,this.size++,!0);if(0 === this.Bl(h.data,a))return !1;b=0 > this.Bl(h.data,a);f=h;h=h.pg(b);}};h.prototype.remove=function(a){var b,f,h,l,m;if(null === this.me)return !1;b=new c(void 0);f=b;f.right=this.me;for(var h=null,d=null,m=1;null !== f.pg(m);){h=f;f=f.pg(m);l=this.Bl(a,f.data);m=0 < l;0 === l && (d=f);}return null !== d?(d.data=f.data,h.Yo(h.right === f,f.pg(null === f.left)),this.me=b.right,this.size--,!0):!1;};f.V=h;},function(f,b,a){function c(a){this.data=a;this.right=this.left=null;this.red=!0;}function h(a){this.me=null;this.Bl=a;this.size=0;}function k(a){return null !== a && a.red;}function r(a,b){var c;c=a.pg(!b);a.Yo(!b,c.pg(b));c.Yo(b,a);a.red=!0;c.red=!1;return c;}function g(a,b){a.Yo(!b,r(a.pg(!b),!b));return r(a,b);}b=a(431);c.prototype.pg=function(a){return a?this.right:this.left;};c.prototype.Yo=function(a,b){a?this.right=b:this.left=b;};h.prototype=new b();h.prototype.Eo=function(a){var b,f,h,l,p,n,q,u,D;b=!1;if(null === this.me)(this.me=new c(a),b=!0,this.size++);else {f=new c(void 0);h=0;l=0;p=null;n=f;q=null;u=this.me;for(n.right=this.me;;){null === u?(u=new c(a),q.Yo(h,u),b=!0,this.size++):k(u.left) && k(u.right) && (u.red=!0,u.left.red=!1,u.right.red=!1);if(k(u) && k(q)){D=n.right === p;u === q.pg(l)?n.Yo(D,r(p,!l)):n.Yo(D,g(p,!l));}D=this.Bl(u.data,a);if(0 === D)break;l=h;h=0 > D;null !== p && (n=p);p=q;q=u;u=u.pg(h);}this.me=f.right;}this.me.red=!1;return b;};h.prototype.remove=function(a){var b,f,q,h,u,n,D;if(null === this.me)return !1;b=new c(void 0);f=b;f.right=this.me;for(var h=null,l,p=null,n=1;null !== f.pg(n);){q=n;l=h;h=f;f=f.pg(n);u=this.Bl(a,f.data);n=0 < u;0 === u && (p=f);if(!k(f) && !k(f.pg(n)))if(k(f.pg(!n)))(l=r(f,n),h.Yo(q,l),h=l);else if(!k(f.pg(!n)) && (u=h.pg(!q),null !== u))if(k(u.pg(!q)) || k(u.pg(q))){D=l.right === h;k(u.pg(q))?l.Yo(D,g(h,q)):k(u.pg(!q)) && l.Yo(D,r(h,q));q=l.pg(D);q.red=!0;f.red=!0;q.left.red=!1;q.right.red=!1;}else (h.red=!1,u.red=!0,f.red=!0);}null !== p && (p.data=f.data,h.Yo(h.right === f,f.pg(null === f.left)),this.size--);this.me=b.right;null !== this.me && (this.me.red=!1);return null !== p;};f.V=h;},function(f,b,a){f.V={J9a:a(938),sVb:a(937)};},function(f){function b(a,b,f,h){a.trace(":",f,":",h);b(h);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,f,h,r){h=r?h.bind(r):h;if(a){this.console && (h=b.bind(null,this.console,h,f));if("function" === typeof a.addListener)a.addListener(f,h);else if("function" === typeof a.addEventListener)a.addEventListener(f,h);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([a,f,h]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};f.V=a;},function(f,b,a){var c,h,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.fya=void 0;c=a(0);h=a(15);k=a(244);r=a(917);f=new (a(3).Console)("ASEJS","media|asejs");f.trace.bind(f);g=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];f=(function(b){function d(a,c){var d;d=b.call(this) || this;d.H=a;d.cc=new r.wxa(a,c);a.j_ && d.SJa(c);d.Zf=new h.Pg();g.forEach(function(a){d.Zf.on(d.cc,a,function(b){return d.emit(a,b);});d.Zo && d.Zf.on(d.Zo,a,function(b){return d.emit(a,b);});});return d;}c.__extends(d,b);Object.defineProperties(d.prototype,{Ab:{get:function(){return this.cc.Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$m:{get:function(){return this.cc.$m;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wq:{get:function(){return this.cc.wq;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{JA:{get:function(){return this.cc.JA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ala:{get:function(){return this.cc.ala;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{QE:{get:function(){return this.cc.QE;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ze:{get:function(){return this.cc.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nf:{get:function(){return this.cc.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gka:{get:function(){return this.cc.gka;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{A3:{get:function(){return this.cc.A3.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bR:{get:function(){return this.cc.bR.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sla:{get:function(){return this.cc.Sla.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kZa:{get:function(){return this.cc.kZa.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{c0:{get:function(){return this.cc.c0.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{OOa:{get:function(){return this.cc.OOa.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{RD:{get:function(){return this.cc.RD.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jJa:{get:function(){return this.cc.jJa.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{XY:{get:function(){return this.cc.XY.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{UO:{get:function(){var a;a=this;return function(){a.upa();a.cc.UO();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yea:{get:function(){var a;a=this;return function(){a.upa();a.cc.yea();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{VO:{get:function(){return this.cc.VO.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{AH:{get:function(){var a;a=this;return function(){a.upa();a.cc.AH();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{FIa:{get:function(){return this.cc.FIa.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{EIa:{get:function(){return this.cc.EIa.bind(this.cc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{RYa:{get:function(){return this.cc.RYa.bind(this.cc);},enumerable:!1,configurable:!0}});d.prototype.SJa=function(b){return this.Zo=new (a(785).WBa)(this.H,b);};d.prototype.Jb=function(a,b,c,d,f,g){this.cc.Jb(a,b,c,d,f,g);this.Zo?this.Zo.Jb(a,b,c,d,f,g):this.CRa={Mhb:a,YTb:b,Pfa:c,JA:d,QE:f,VDb:g};};d.prototype.TS=function(a,b,c){this.cc.TS(a,b,c);this.Zo?this.Zo.TS(a,b,c):this.FRa={nQb:a,JA:b,QE:c};};d.prototype.Jm=function(a,b,c,d,f,h,l,k,p,r){var m,t,n,q,x;m=this;if(this.cc.config.j_ && !this.Zo){t=this.SJa(this.cc.Jx);g.forEach(function(a){m.Zf.on(m.Zo,a,function(b){return m.emit(a,b);});});if(this.CRa){n=this.CRa;q=n.JA;x=n.QE;t.Jb(n.Mhb,n.YTb,n.Pfa,q,x,n.VDb);}this.FRa && (x=this.FRa,n=x.nQb,q=x.JA,x=x.QE,t.TS(n,q,x));}return this.Zo && k.Cq?(k.Vy || k.LJ || this.cc.AH(),this.Zo.Jm(a,b,c,d,f,h,l,k,p,r)):this.cc.Jm(a,b,c,d,f,h,l,k,p,r);};d.prototype.addEventListener=function(a,b){this.addListener(a,b);return !0;};d.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return !0;};d.prototype.Qb=function(){var a;this.Zf.clear();this.cc.Qb();null === (a=this.Zo) || void 0 === a?void 0:a.Qb();k.sF.reset();};d.prototype.upa=function(){var a;this.H.Vy || this.H.LJ || (null === (a=this.Zo) || void 0 === a?void 0:a.Fh.K3.reset());};return d;})(h.EventEmitter);b.fya=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(946),b);},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});f=a(0);f.__exportStar(a(952),b);f.__exportStar(a(951),b);f.__exportStar(a(950),b);f.__exportStar(a(949),b);f.__exportStar(a(948),b);},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.ta=void 0;f=a || (a={});f[f.Sg=0]="STARTING";f[f.Yd=1]="BUFFERING";f[f.ff=2]="REBUFFERING";f[f.Vc=3]="PLAYING";f[f.gG=4]="STOPPING";f[f.ip=5]="STOPPED";f[f.qj=6]="PAUSED";b.ta=a;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});f=a(0);f.__exportStar(a(975),b);f.__exportStar(a(974),b);f.__exportStar(a(973),b);},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Tc=b.WI=void 0;(function(a){a[a.ip=0]="STOPPED";a[a.Yd=1]="BUFFERING";a[a.ff=2]="REBUFFERING";a[a.In=3]="STREAMING";a[a.OM=4]="TRACK_SWITCH";})(a || (a={}));b.Tc=a;b.WI=function(b){return b === a.Yd || b === a.ff || b === a.OM;};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.gya=void 0;c=a(0);h=a(1);k=a(263);f=(function(){var b;function a(a){this.yrb=a;this.cDb={Pt:"drmType",t2b:"drmVersion",oha:"expiration",M3b:"isUsingLegacyBatchingAPI",Et:"bookmark",u:"movieId",Oo:"packageId",duration:"duration",ug:"playbackContextId",QKa:["defaultTrackOrderList",{xJ:"mediaId",L6b:"videoTrackId",FQb:"subtitleTrackId",FC:"audioTrackId",o5b:"preferenceOrder"}],Sk:"drmContextId",qyb:"hasDrmProfile",oyb:"hasClearProfile",Ija:"hasDrmStreams",pyb:"hasClearStreams",Wm:["locations",{$f:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],gs:["servers",{id:"id",name:"name",type:"type",$f:"rank",lSa:"lowgrade",Zpb:["dns",{host:"host",Zzb:"ipv4",$zb:"ipv6",mtb:"forceLookup"}],key:"key"}],THa:["audio_tracks",{type:"type",wn:"trackType",Or:"new_track_id",xra:"track_id",UJb:"profileType",YPb:"stereo",profile:"profile",Gp:"channels",language:"language",Zjb:"channelsFormat",TQb:"surroundFormatLabel",O1:"languageDescription",l2b:"disallowedSubtitleTracks",a2b:"defaultTimedText",isNative:"isNative",tc:["streams",{Ega:"downloadable_id",size:"size",eP:"content_profile",wn:"trackType",R:"bitrate",cu:"isDrm",ye:["urls",{TIa:"cdn_id",url:"url"}],nFb:"new_stream_id",type:"type",Gp:"channels",Zjb:"channelsFormat",TQb:"surroundFormatLabel",language:"language",X0b:"audioKey"}],Okb:"codecName",rS:"rawTrackType",id:"id"}],us:["video_tracks",{wn:"trackType",Or:"new_track_id",type:"type",xra:"track_id",qyb:"hasDrmProfile",oyb:"hasClearProfile",Ija:"hasDrmStreams",pyb:"hasClearStreams",tc:["streams",{Ega:"downloadable_id",size:"size",eP:"content_profile",wn:"trackType",R:"bitrate",cu:"isDrm",ye:["urls",{TIa:"cdn_id",url:"url"}],nFb:"new_stream_id",type:"type",g5b:"peakBitrate",Lpb:"dimensionsCount",Mpb:"dimensionsLabel",BVa:"pix_w",AVa:"pix_h",gMb:"res_w",fMb:"res_h",pob:"crop_x",qob:"crop_y",oob:"crop_w",nob:"crop_h",utb:"framerate_value",ttb:"framerate_scale",Z5b:"startByteOffset",qb:"vmaf"}],UJb:"profileType",YPb:"stereo",profile:"profile",Lpb:"dimensionsCount",Mpb:"dimensionsLabel",Iga:["drmHeader",{$:"bytes",okb:"checksum",Rw:"keyId"}],lK:["prkDrmHeaders",{$:"bytes",okb:"checksum",Rw:"keyId",WXa:["resolution",{height:"height",width:"width"}]}],ur:"flavor",x3b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",mIb:"pixelAspectX",nIb:"pixelAspectY",g4b:"maxCroppedWidth",f4b:"maxCroppedHeight",h4b:"maxCroppedX",i4b:"maxCroppedY",m4b:"max_framerate_value",l4b:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",y4b:"minCroppedWidth",x4b:"minCroppedHeight",z4b:"minCroppedX",A4b:"minCroppedY",Wi:["license",{NBb:"licenseResponseBase64",u5b:"providerSessionToken",r2b:"drmSessionId",links:["links",{}]}]}],SIa:["cdnResponseData",{KE:"sessionABTestCell",kE:"pbcid"}],dr:["choiceMap",{rg:"initialSegment",type:"type",la:"viewableId",Va:["segments",{ry:[k.ry,{Xd:"startTimeMs",Ge:"endTimeMs",next:["next",{ry:[k.ry,{weight:"weight"}]}],Ri:"defaultNext"}]}]}],Ezb:["initialHeader",{ca:["fragments",{pa:"endPts"}]}],media:["media",{id:"id",Th:["tracks",{AUDIO:"AUDIO",raa:"TEXT",VIDEO:"VIDEO"}]}],yRb:["timedtexttracks",{wn:"trackType",Or:"new_track_id",type:"type",rS:"rawTrackType",O1:"languageDescription",language:"language",id:"id",Pka:"isNoneTrack",Lka:"isForcedNarrative",nqb:["downloadableIds",{}],Rjb:["cdnlist",{id:"id",name:"name",type:"type",$f:"rank",lSa:"lowgrade",Zpb:["dns",{host:"host",Zzb:"ipv4",$zb:"ipv6",mtb:"forceLookup"}],key:"key"}],pSb:["ttDownloadables",{ry:[k.ry,{size:"size",g6b:"textKey",q3b:"hashValue",p3b:"hashAlgo",G3b:"isImage",Kma:"midxOffset",jTa:"midxSize",height:"height",width:"width",ow:["downloadUrls",{}]}]}],D1:"isLanguageLeftToRight",Br:"headIdentDuration"}],iSb:["trickplays",{Ega:"downloadable_id",size:"size",ye:"urls",id:"id",interval:"interval",pIb:"pixelsAspectY",oIb:"pixelsAspectX",width:"width",height:"height",Br:"headIdentDuration"}],T1a:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],q2b:"dpsid",lk:"isBranching",M6b:"viewableType",type:"type",KD:"isSupplemental",Gkb:"clientIpAddress",B6b:"urlExpirationDuration",a4b:"manifestExpirationDuration",$5b:["steeringAdditionalInfo",{a6b:"steeringId",S0b:"additionalGroupNames",b6b:["streamingClientConfig",{}]}]};}a.prototype.oI=function(a){this.yrb.oI(a,this.cDb);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.F7))],b);})();b.gya=f;},function(f,b,a){var c,h,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.hya=void 0;c=a(0);h=a(435);k=a(1);r=a(37);g=a(4);p=a(434);d=a(433);m=a(44);t=a(2);f=(function(){var b;function a(a,b,c,d){this.Fa=a;this.eDb=b;this.PBb=c;this.bDb=d;}a.prototype.create=function(a){var b;if(this.DAb(a))throw m.zc.xUb(t.K.MANIFEST,a);b=this.PBb();this.wAb(a)?(a.clientGenesis=a.clientGenesis || this.Fa.Pe.aa(g.fa),a=this.eDb.decode(a),b.jgb(a)):b.kda(a.links);this.bDb.oI(a);return {Oc:a,Yi:b};};a.prototype.DAb=function(a){return ("type" in a) && "muxed" === a.type;};a.prototype.wAb=function(a){return ("runtime" in a) && ! !a.runtime;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(r.th)),c.__param(1,k.l(h.c9)),c.__param(2,k.l(p.Y9)),c.__param(3,k.l(d.Y8))],b);})();b.hya=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.mya=void 0;c=a(0);h=a(1);k=a(248);f=(function(){var b;function a(){}a.prototype.decode=function(a){var b,c;b=this.$wb(a.cdns);c=this.lvb(a);return {movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.Iia(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position / 1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.Rub(a),timedtexttracks:this.uxb(a.textTracks,b),media:this.Xvb(a.media),trickplays:this.zxb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:! !a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:c.oha,urlExpirationDuration:c.x1a,manifestExpirationDuration:c.x1a,initialHeader:void 0,steeringAdditionalInfo:null,viewableType:"",type:"standard"};};a.prototype.Rub=function(a){var b,c,f;b=S(a.defaultMedia.split("|"));c=b.next().value;f=b.next().value;b=b.next().value;return [{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:f,subtitleTrackId:b,preferenceOrder:0}];};a.prototype.Iia=function(a){return a?a.map(function(a){return {key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};a.prototype.$wb=function(a){return a?a.map(function(a){return {name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};a.prototype.kPa=function(a){return Object.entries(a).map(function(a){var b;b=S(a);a=b.next().value;b=b.next().value;return {cdn_id:Number(a),url:b};});};a.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return {type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.Xtb(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c && c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};a.prototype.Xtb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return {type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.kPa(a.urls),isDrm:! !a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate - b.bitrate;}),a):[];};a.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return {type:1,trackType:"PRIMARY",streams:c.Jxb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:! !b,hasClearProfile:!1,hasClearStreams:!b,drmHeader:b && b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length - 25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};a.prototype.Jxb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return {type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.kPa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate - b.bitrate;}),a):[];};a.prototype.uxb=function(a,b){var c;c=this;return a?a.map(function(a){return {type:"timedtext",trackType:"SUBTITLES" === a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47 || null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.pxb(a.downloadables),ttDownloadables:c.qxb(a.downloadables),isLanguageLeftToRight:! !a.isLanguageLeftToRight,cdnlist:b};}):[];};a.prototype.pxb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};a.prototype.Cwb=function(a){var b;b=k.rW.Yia();a=a.filter(function(a){return a.isImage;});return 0 === a.length?b:0 < a.filter(function(a){return a.pixHeight === b;}).length?b:Math.min.apply(Math,[].concat(da(a.map(function(a){return a.pixHeight;}))));};a.prototype.qxb=function(a){var b;if(a){b=this.Cwb(a);return a.reduce(function(a,c){c.isImage && c.pixHeight !== b || (a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return {};};a.prototype.Xvb=function(a){return a?a.map(function(a){return {id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return "AUDIO" === a.type;}).id,VIDEO:a.tracks.find(function(a){return "VIDEO" === a.type;}).id,TEXT:a.tracks.find(function(a){return "TEXT" === a.type;}).id}};}):[];};a.prototype.zxb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.values(a.urls),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return [];};a.prototype.lvb=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables && a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables && a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return {x1a:1E3 * b,oha:a.clientGenesis + 1E3 * b};};a.prototype.encode=function(){throw Error("encode not supported");};b=a;return b=c.__decorate([h.N()],b);})();b.mya=f;},function(f,b){function a(a){this.qc=a;this.ub=JSON.stringify(this.Tvb());}Object.defineProperty(b,"__esModule",{value:!0});b.nya=void 0;a.prototype.Tvb=function(){var a;a=[];(!this.qc.bk || 0 >= this.qc.bk.length) && a.push({error:"No CDN."});this.qc.IZ || a.push({error:"No default audio track.",foundTracks:this.xia(this.qc.ho)});this.qc.jga || a.push({error:"No default video track.",foundTracks:this.xia(this.qc.zn)});this.qc.iga || a.push({error:"No default subtitle track.",foundTracks:this.xia(this.qc.ql)});return a;};a.prototype.xia=function(a){return a && 0 < a.length?a.map(function(a){return a.jb;}):"No tracks found.";};b.nya=a;},function(f,b,a){var c,h,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.iya=void 0;c=a(0);h=a(1);k=a(43);r=a(30);g=a(40);p=a(150);d=a(50);f=(function(){var b;function a(a,b){a=k.le.call(this,a,"ManifestParserConfigImpl") || this;a.Mm=b;return a;}M(a,k.le);ma.Object.defineProperties(a.prototype,{Zqa:{configurable:!0,enumerable:!0,get:function(){return [];}},Nha:{configurable:!0,enumerable:!0,get:function(){return "";}},Hea:{configurable:!0,enumerable:!0,get:function(){return [];}},Gea:{configurable:!0,enumerable:!0,get:function(){return [];}},Pha:{configurable:!0,enumerable:!0,get:function(){return "";}},kka:{configurable:!0,enumerable:!0,get:function(){return 0;}},mL:{configurable:!0,enumerable:!0,get:function(){return this.Mm.mL.aa(d.As);}},Ku:{configurable:!0,enumerable:!0,get:function(){return this.Mm.Ku;}}});b=a;c.__decorate([g.config(g.l5,"supportedAudioTrackTypes")],b.prototype,"Zqa",null);c.__decorate([g.config(g.string,"forceAudioTrack")],b.prototype,"Nha",null);c.__decorate([g.config(g.Kra,"cdnIdWhiteList")],b.prototype,"Hea",null);c.__decorate([g.config(g.Kra,"cdnIdBlackList")],b.prototype,"Gea",null);c.__decorate([g.config(g.string,"forceTimedTextTrack")],b.prototype,"Pha",null);c.__decorate([g.config(g.Qx,"imageSubsResolution")],b.prototype,"kka",null);c.__decorate([g.config(g.Qx,"timedTextSimpleFallbackThreshold")],b.prototype,"mL",null);c.__decorate([g.config(g.l5,"timedTextProfiles")],b.prototype,"Ku",null);return b=c.__decorate([h.N(),c.__param(0,h.l(r.sj)),c.__param(1,h.l(p.$F))],b);})();b.iya=f;},function(f,b,a){var h,k,r,g,p;function c(a,b,c,f){a=k.sM.call(this,a,f) || this;a.config=b;a.j=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.ota=void 0;h=a(465);k=a(439);r=a(120);g=a(78);p=a(141);M(c,k.sM);c.prototype.sHb=function(a,b,c){var d,f,m;d=this;a=S(r.pu(function(a){return a.tc && 0 < a.tc.length;},a));f=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is missing streams",d.iPa(a));});m=this.config.Zqa;a=S(r.pu(function(a){return 0 === m.length || 0 <= m.indexOf(a.wn);},f));f=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is not supported",d.iPa(a));});a=f.map(function(a){var f;f=a.wn;f={type:g.Qg.audio,jb:a.Or,HD:a.xra,wn:p.xW[f.toLowerCase()] || p.Nn.ZF,rS:f,Kl:a.language,displayName:a.O1,Gp:a.Gp,y1b:a.Gp,x1b:Number(a.Gp[0]),ql:d.Vtb(a.Or,b,c),eh:{Bcp47:a.language,TrackId:a.Or},tc:[],isNative:a.isNative};f.tc=d.p0a(a.tc,f);d.log.trace("Transformed audio track",f,{StreamCount:f.tc.length,AllowedTimedTextTracks:f.ql.length});f.Okb=h.u6[f.tc[0].jg];return f;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};c.prototype.Shb=function(a){var b,c;b=this;c=this.config.Nha;if(c){if(a=S(a.filter(function(a){return a.Kl == c || a.jb == c;})).next().value)return a;}else if(this.j.N_ && (a=S(a.filter(function(a){return a.jb == b.j.N_;})).next().value))return a;};c.prototype.iPa=function(a){return {language:a.O1,bcp47:a.language,type:a.wn};};c.prototype.Vtb=function(a,b,c){return b.filter(function(b){return b.Th.AUDIO === a;}).map(function(a){return a.Th.raa;}).map(function(a){return c.find(function(b){return b.jb === a;});}).filter(Boolean);};b.ota=c;},function(f,b){function a(a,b,f){this.log=a;this.j=b;this.Dra=f;}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;a.prototype.GHb=function(a){var b;b=this;a=(a || []).filter(function(a){return a.ye && 0 < a.ye.length;}).map(function(a){return b.Dra(b.j,a.id,a.height,a.width,a.oIb,a.pIb,a.size,a.Br,{unknown:a.ye[0]});});0 === a.length && this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size - b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};b.SCa=a;},function(f,b){function a(a,b,f,h,g){this.Iea=a;this.H_a=b;this.fSb=f;this.RHa=h;this.G1a=g;}Object.defineProperty(b,"__esModule",{value:!0});b.kya=void 0;a.prototype.AHb=function(a){var b,c,f,g,h,d,m,t,n,q,u,E,L,D,C;b=a.Oc;a=this.Iea.YUa(b.gs,b.Wm,!0);c=this.H_a.FHb(b.yRb);f=this.fSb.GHb(b.iSb);g=this.RHa.sHb(b.THa,b.media,c);h=this.G1a.Mna(b.us);d=this.CHb(b,g,c);m=d[0];t=h[0];n=this.RHa.Shb(g) || m.ud || g[0];m=this.H_a.vRb(n.ql) || m.Hc || n.ql[0];q=this.G1a.DHb(b.us);u=b.ug;E=b.Gkb;L=b.Ija;D=b.Sk;C=b.THa.findIndex(function(a){return a.Or == n.jb;});b=b.us.findIndex(function(a){return a.Or == t.jb;});return {Yr:q,bk:a,ho:g,zn:h,ql:c,Ox:f,ug:u,UNb:E,Qw:L,Sk:D,NKa:C,RKa:b,J3:d,jga:t,IZ:n,iga:m};};a.prototype.CHb=function(a,b,f){var c,g;c=[];g=a.QKa[0];c.push({ud:b.find(function(a){return a.HD === g.FC;}),Hc:f.find(function(a){return a.HD === g.FQb;}),p5b:0});return c;};b.kya=a;},function(f,b,a){var h,k,r,g;function c(a,b,c,f,g){this.log=a;this.config=b;this.j=c;this.Iea=f;this.ioa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.CCa=void 0;h=a(59);k=a(9);r=a(141);g=a(248);c.prototype.FHb=function(a){var b;b=this;a=a.map(function(a){var c,d,f;c=b.VRb(a);!1 !== a.Pka || c.length || b.log.error("track without downloadables",b.qOa(a));!0 !== a.Lka || c.length || b.log.error("forced track without downloadables",b.qOa(a));d={};f=[];if(0 < c.length){d=c[0];f=d.profile;if(f == h.yl.SF || f == h.yl.EV)d=b.tNb(c);f=b.Iea.YUa(a.Rjb,void 0,!1);}a=b.ioa(b.j,a.Or,a.id,d.wd,d.ye || ({}),f,a.language,a.O1,r.xW[a.wn.toLowerCase()] || r.Nn.ZF,a.rS.toUpperCase(),d.profile,b.Zvb(d) || ({}),a.Pka,a.Lka,a.D1,a.Br);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};c.prototype.vRb=function(a){var b,c;b=this;c=this.config.Pha;if(c){if(a=S(a.filter(function(a){return a.Kl == c || a.jb == c;})).next().value)return a;}else if(this.j.O_ && (a=S(a.filter(function(a){return a.jb == b.j.O_;})).next().value))return a;};c.prototype.VRb=function(a){var b,c;b=this;c=a.nqb;a=Object.entries(a.pSb || ({})).map(function(a){var d;d=S(a);a=d.next().value;d=d.next().value;return {wd:c[a],profile:a,size:d.size || 0,ie:b.bvb(a,d),offset:d.Kma || 0,jIb:d.width,zVa:d.height,ye:d.ow};});a.sort(function(a,b){return a.ie - b.ie;});return a;};c.prototype.bvb=function(a,b){var c,d;c=this.config.Ku.indexOf(a);b=b.size;d=this.config.mL;return a === h.yl.Z6 && 0 < d && b > d?this.config.Ku.length + 1:0 <= c?c:this.config.Ku.length;};c.prototype.Zvb=function(a){if(a.profile === h.yl.SF || a.profile === h.yl.EV)return {offset:a.offset,length:a.size,WXa:{width:a.jIb,height:a.zVa}};};c.prototype.tNb=function(a){var b,c;b=this.config.kka || g.rW.Yia();c=S(a.filter(function(a){return a.profile === h.yl.SF || a.profile === h.yl.EV;}).filter(function(a){return a.zVa === b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:k.Ms.height,intendedResolution:b});return a[0];};c.prototype.qOa=function(a){return {isNone:a.Pka,isForced:a.Lka,bcp47:a.language,id:a.Or};};b.CCa=c;},function(f){f.V=function(b){return function(){return !b.apply(this,arguments);};};},function(f,b,a){var c,h;c=a(997);b=a(51);h=a(446);a=b(function(a,b){return h(c(a),b);});f.V=a;},function(f,b,a){b=a(178);a=a(250);a=b(a);f.V=a;},function(f,b,a){b=a(51)(function(a,b){for(var c=0;c < a.length;){if(null == b)return;b=b[a[c]];c+=1;}return b;});f.V=b;},function(f,b,a){var c;b=a(51);c=a(1E3);a=b(function(a,b){return c([a],b);});f.V=a;},function(f,b,a){var c,h;b=a(51);c=a(443);h=(function(){function a(a,b){this.bU=b;this.Sp=a;}a.prototype["@@transducer/init"]=c.Jb;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.bU["@@transducer/step"](a,this.Sp(b));};return a;})();a=b(function(a,b){return new h(a,b);});f.V=a;},function(f,b,a){var c,h,k,r,g,p;b=a(51);c=a(445);h=a(441);k=a(250);r=a(1002);g=a(440);p=a(442);a=b(c(["fantasy-land/map","map"],r,function(a,b){switch(Object.prototype.toString.call(b)){case "[object Function]":return g(b.length,function(){return a.call(this,b.apply(this,arguments));});case "[object Object]":return k(function(c,d){c[d]=a(b[d]);return c;},{},p(b));default:return h(a,b);}}));f.V=a;},function(f,b,a){var c,h;b=a(51);c=a(1003);h=a(1001);a=b(function(a,b){return c(h(a),b);});f.V=a;},function(f,b,a){b=a(51)(function(a,b){return b > a?b:a;});f.V=b;},function(f,b,a){var h,k;function c(a,b,f){return function(){var r;for(var d=[],g=0,l=a,p=0;p < b.length || g < arguments.length;){p < b.length && (!k(b[p]) || g >= arguments.length)?r=b[p]:(r=arguments[g],g+=1);d[p]=r;k(r) || --l;p+=1;}return 0 >= l?f.apply(this,d):h(l,c(a,d,f));};}h=a(249);k=a(177);f.V=c;},function(f,b,a){var c,h,k,r,g;b=a(51);c=a(441);h=a(440);k=a(1005);r=a(1004);g=a(999);a=b(function(a,b){return h(g(k,0,r("length",b)),function(){var d,f;d=arguments;f=this;return a.apply(f,c(function(a){return a.apply(f,d);},b));});});f.V=a;},function(f,b,a){var c;b=a(119);c=a(1007);a=b(function(a){return c(function(){return Array.prototype.slice.call(arguments,0);},a);});f.V=a;},function(f,b,a){var c,h;c=a(251);h=Object.prototype.toString;f.V=function(){return "[object Arguments]" === h.call(arguments)?function(a){return "[object Arguments]" === h.call(a);}:function(a){return c("callee",a);};};},function(f,b,a){var c,h;b=a(51);c=a(443);h=(function(){function a(a,b){this.bU=b;this.Sp=a;}a.prototype["@@transducer/init"]=c.Jb;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.Sp(b)?this.bU["@@transducer/step"](a,b):a;};return a;})();a=b(function(a,b){return new h(a,b);});f.V=a;},function(f,b,a){var c;c=a(249);b=a(51)(function(a,b){return c(a.length,function(){return a.apply(b,arguments);});});f.V=b;},function(f){var b;b=(function(){function a(a){this.Sp=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,b){return this.Sp(a,b);};return a;})();f.V=function(a){return new b(a);};},function(f){f.V=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(f,b,a){var c,h;b=a(119);c=a(444);h=a(1013);a=b(function(a){return c(a)?!0:!a || "object" !== typeof a || h(a)?!1:1 === a.nodeType?! !a.length:0 === a.length?!0:0 < a.length?a.hasOwnProperty(0) && a.hasOwnProperty(a.length - 1):!1;});f.V=a;},function(f){f.V=function(b,a){for(var c=0,f=a.length,h=[];c < f;){b(a[c]) && (h[h.length]=a[c]);c+=1;}return h;};},function(f){f.V=function(b){return "function" === typeof b["@@transducer/step"];};},function(f,b,a){var c;b=a(446);c=a(1008);a=a(998);a=c([b,a]);f.V=a;},function(f,b,a){var c;b=a(178);c=a(251);a=b(function(a,b,f){var g,h;g={};for(h in b){c(h,b) && (g[h]=c(h,f)?a(h,b[h],f[h]):b[h]);}for(h in f){c(h,f) && !c(h,g) && (g[h]=f[h]);}return g;});f.V=a;},function(f,b,a){var c,h;b=a(178);c=a(447);h=a(1018);a=b(function r(a,b,d){return h(function(b,d,f){return c(d) && c(f)?r(a,d,f):a(b,d,f);},b,d);});f.V=a;},function(f,b,a){var c;b=a(178);c=a(1019);a=b(function(a,b,f){return c(function(b,c,d){return a(c,d);},b,f);});f.V=a;},function(f,b,a){var h;function c(a,b){this.log=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.aua=void 0;h=a(120);c.prototype.YUa=function(a,b,c){var f,d,g,l,k;f=this;d=this.config.Hea;g=this.config.Gea;a=S(h.pu(function(a){return (!d.length || 0 <= d.indexOf(a.id)) && 0 > g.indexOf(a.id);},a || []));l=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Cdn is not allowed",{Id:a.id});});k=l.map(function(a){var c;c=(b?b.find(function(b){return b.key === a.key;}):void 0) || ({});return {id:a.id,name:a.name,$f:a.$f,type:a.type,Ila:a.key,H3b:a.lSa,location:{id:c.key,$f:c.$f,level:c.level,weight:c.weight,bk:[]}};});k.sort(function(a,b){return a.$f - b.$f;});k.forEach(function(a){return a.location.bk=k.filter(function(b){return b.Ila === a.Ila;});});this.log.trace("Transformed cdns",{Count:k.length});if(c && !k.length)throw Error("no valid cdns");return k;};b.aua=c;},function(f,b,a){var c,h,k,r,g,p,d,m,t,n,q,u,E;Object.defineProperty(b,"__esModule",{value:!0});b.jya=void 0;c=a(0);h=a(1);k=a(6);r=a(448);g=a(1021);p=a(996);d=a(995);m=a(994);t=a(993);n=a(247);q=a(438);u=a(176);E=a(437);f=(function(){var b;function a(a,b,c,d,f){this.rf=a;this.config=b;this.ioa=c;this.Dra=d;this.RA=f;}a.prototype.create=function(a){var b,c;b=this.rf.ob("ManifestParser",a);c=new g.aua(b,this.config);return new d.kya(c,new p.CCa(b,this.config,a,c,this.ioa),new m.SCa(b,a,this.Dra),new t.ota(b,this.config,a,this.RA),new n.BW(b,this.RA));};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.xb)),c.__param(1,h.l(r.a9)),c.__param(2,h.l(q.B$)),c.__param(3,h.l(E.Baa)),c.__param(4,h.l(u.SM))],b);})();b.jya=f;},function(f,b,a){var c,h,k,r,g,p,d,m,t,n,q,u,E,L;Object.defineProperty(b,"__esModule",{value:!0});b.xSa=void 0;f=a(1);c=a(449);h=a(1022);k=a(448);r=a(992);g=a(438);p=a(176);d=a(436);m=a(991);t=a(435);n=a(990);q=a(175);u=a(989);E=a(433);L=a(988);b.xSa=new f.Kc(function(b){b(k.a9).to(r.iya).Z();b(c.b9).to(h.jya).Z();b(g.B$).si(function(b){for(var c=[],d=0;d < arguments.length;++d){c[d - 0]=arguments[d];}d=a(246).QB;return new (Function.prototype.bind.apply(d,[null].concat(da(c))))();});b(p.SM).si(function(b){for(var c=[],d=0;d < arguments.length;++d){c[d - 0]=arguments[d];}d=a(370).Uta;return new (Function.prototype.bind.apply(d,[null].concat(da(c))))();});b(d.d9).Rf(function(){return function(a){return new m.nya(a);};});b(t.c9).to(n.mya).Z();b(q.PF).to(u.hya).Z();b(E.Y8).to(L.gya).Z();});},function(f,b,a){var c,h,k,r,g,p,d,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.Kta=void 0;c=a(0);h=a(1);k=a(14);r=a(6);g=a(142);p=a(252);d=a(94);m=a(189);t=a(34);f=(function(){var b;function a(a,b,c,d,f,g){this.config=a;this.kA=c;this.profile=d;this.D5=f;this.XO=g;this.log=b.ob("CDMAttestedDescriptor");this.BNa(t.Ks.JM);}a.prototype.BNa=function(a){var b;b=this;return this.D5.V4(a)?this.config().Oqb?this.zNa().then(function(a){if(a)return Promise.resolve(void 0);b.KRa || (b.KRa=b.XO.ija());return b.KRa;})["catch"](function(a){b.log.error("Failed to generate challenge",a);}).then(function(a){null === a || void 0 === a?void 0:a.Cb.close().subscribe();return null === a || void 0 === a?void 0:a.Kea;}).then(function(a){return Promise.all([Promise.resolve(a),b.zNa()]);}).then(function(a){var b;a=S(a);b=a.next().value;if(!a.next().value)return b;}):this.kA().then(function(a){a.CR.removeServiceToken("cad");}):Promise.resolve(void 0);};a.prototype.zNa=function(){var a;a=this;return this.kA().then(function(b){return (b=b.CR.getServiceTokens(a.profile)) && b.find(function(a){return "cad" === a.name;});});};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.Jc)),c.__param(1,h.l(r.xb)),c.__param(2,h.l(g.RF)),c.__param(3,h.l(d.eG)),c.__param(4,h.l(p.TM)),c.__param(5,h.l(m.RL))],b);})();b.Kta=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.HIa=void 0;f=a(1);c=a(450);h=a(1024);b.HIa=new f.Kc(function(a){a(c.K6).to(h.Kta).Z();});},function(f,b,a){var c,h,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.xta=void 0;c=a(0);h=a(1);k=a(21);r=a(4);f=(function(){var b;function a(a){this.Ca=a;}a.prototype.sQb=function(a,b){var c,d;c=parseFloat(a);d=0;"%" === a[a.length - 1] && this.Ca.Dh(c)?d=Math.round(c * b.aa(r.fa) / 100):(a=parseInt(a),this.Ca.At(a) && (d=a));return r.Lb(Math.min(d,b.aa(r.fa)));};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.Ae))],b);})();b.xta=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.wta=void 0;c=a(0);h=a(1);k=a(14);f=(function(){var b;function a(a){this.config=a;}a.prototype.yia=function(){return this.Bz().Dib;};a.prototype.zia=function(){return this.Bz().Eib;};a.prototype.Bvb=function(){return this.Bz().Fib;};a.prototype.gia=function(){return this.Bz().lIa;};a.prototype.Bz=function(){return this.config();};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.Jc))],b);})();b.wta=f;},function(f,b,a){var c,h,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.yta=void 0;c=a(0);h=a(1);k=a(452);r=a(451);g=a(6);p=a(21);d=a(4);m=a(14);f=(function(){var b;function a(a,b,c,d,f){this.RY=b;this.Ca=c;this.Cib=d;this.config=f;this.ma=a.ob("Bookmark");}a.prototype.bHa=function(a){var b,c;b=a.Ta.playbackState && a.Ta.playbackState.currentTime;c=this.Gub(a.u);b=this.Ca.bD(b)?d.Lb(b):c;if(this.Ca.de(b))(this.ma.info("Overriding bookmark",{From:a.kF.aa(d.fa),To:b.aa(d.fa)}),a=Object.assign({},a,{kF:b}));else if(this.bzb(a))return (this.ma.trace("Ignoring bookmark because it's too close to beginning"),d.ph(0));return this.azb(a)?(this.ma.trace("Ignoring bookmark because it's too close to end"),d.ph(0)):this.$yb(a)?(this.ma.trace("Ignoring bookmark because it's too close to the end to start decoding"),d.ph(0)):a.kF;};a.prototype.bzb=function(a){return 0 > a.kF.zj(this.yia(a));};a.prototype.yia=function(a){return this.mIa(this.RY.yia(),a.aS);};a.prototype.azb=function(a){return 0 < a.kF.zj(this.zia(a));};a.prototype.zia=function(a){var b;b=a.Ta.lk?this.RY.Bvb():this.RY.zia();return a.aS.Oa(this.mIa(b,a.aS));};a.prototype.$yb=function(a){return 0 < a.kF.zj(this.jvb(a));};a.prototype.jvb=function(a){var b;b=a.Ta.lk?this.config().IUa:this.config().iE;return a.aS.Oa(d.Lb(b));};a.prototype.Gub=function(a){var b;a=this.RY.gia()[a];b=-1;this.Ca.bo(a)?b=parseInt(a):this.Ca.Dh(a) && (b=a);if(this.Ca.At(b))return d.Lb(b);};a.prototype.mIa=function(a,b){return this.Cib.sQb(a,b);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(g.xb)),c.__param(1,h.l(k.F6)),c.__param(2,h.l(p.Ae)),c.__param(3,h.l(r.E6)),c.__param(4,h.l(m.Jc))],b);})();b.yta=f;},function(f,b,a){var c,h,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Et=void 0;f=a(1);c=a(253);h=a(452);k=a(451);r=a(1028);g=a(1027);p=a(1026);b.Et=new f.Kc(function(a){a(c.mU).to(r.yta).Z();a(h.F6).to(g.wta).Z();a(k.E6).to(p.xta).Z();});},function(f,b,a){var h,k,r,g;function c(a,b,c){var d;d=this;this.ma=a;this.valid=!0;this.gk=!1;this.context=c.context;this.size=c.size;this.Tl=b.create().then(function(a){d.storage=a;return a.aR("mediacache").then(function(a){d.keys=a;});});}Object.defineProperty(b,"__esModule",{value:!0});b.s5a=b.Xua=void 0;h=a(0);k=a(1);r=a(6);g=a(71);f=(function(){var b;function a(a,b){this.rf=a;this.Ak=b;this.fI={};}a.prototype.tZ=function(a){this.fI[a.context]=new c(this.rf.ob("DiskStorageContext"),this.Ak,a);return this.fI[a.context];};a.prototype.aLa=function(a){delete this.fI[a.context];};b=a;return b=h.__decorate([k.N(),h.__param(0,k.l(r.xb)),h.__param(1,k.l(g.ws))],b);})();b.Xua=f;c.prototype.create=function(a,b,c,f){var d,g,h;d=this;g=this.getKey(a,b);h=Date.now();this.Tl.then(function(){d.keys[g]=void 0;return d.storage.save(g,c,!1).then(function(){d.ma.trace("create succeeded for " + g + ", " + (Date.now() - h) + " ms");f(d.C0(a,b));});})["catch"](function(c){d.ma.trace("create failed",c);f(d.Cz(a,b,c));});};c.prototype.append=function(a,b,c,f){c=this.getKey(a,b);this.ma.trace("append " + c);f(this.Cz(a,b,"append is not supported"));};c.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.Tl.then(function(){if(d.keys.hasOwnProperty(f))return (delete d.keys[f],d.storage.remove(f).then(function(){d.ma.trace("remove succeeded for " + f + ", " + (Date.now() - g) + " ms");c(d.C0(a,b));}));c(d.C0(a,b));})["catch"](function(f){d.ma.trace("remove failed",f);c(d.Cz(a,b,f));});};c.prototype.read=function(a,b,c,f,g){var d,h,m;d=this;h=this.getKey(a,b);m=Date.now();0 !== c || -1 != f?g(this.Cz(a,b,"byteStart/byteEnd combination is not supported")):this.Tl.then(function(){if(d.keys.hasOwnProperty(h))return d.storage.load(h).then(function(l){d.ma.trace("read succeeded for " + h + ", " + (Date.now() - m) + " ms");g(Object.assign(d.C0(a,b),{value:l.value,d1b:c,end:f}));});g(d.Cz(a,b,"Item doesn't exist"));})["catch"](function(c){d.ma.trace("read failed",c);g(d.Cz(a,b,c));});};c.prototype.info=function(a){var b;b=this;this.ma.trace("info ");this.Tl.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.Kna(c);a[c.pP] || (a[c.pP]={});a[c.pP][c.Uz]={size:0};return a;},{}),total:b.size,E6b:0};a(c);})["catch"](function(c){b.ma.trace("info failed",c);a(b.Cz(void 0,void 0,c));});};c.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b || "");this.Tl.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0 === a.indexOf(f);}).reduce(function(a,b){a[d.Kna(b).Uz]={size:0};return a;},{});d.ma.trace("query succeeded for prefix " + b,a);c(a);})["catch"](function(a){d.ma.trace("query failed",a);c({});});};c.prototype.ss=function(a){var b;b=this;this.ma.trace("validate");this.Tl.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.Kna(c).Uz]={size:0};return a;},{});a(c);})["catch"](function(c){b.ma.trace("validate failed",c);a(b.Cz(void 0,void 0,c));});};c.prototype.getKey=function(a,b){return ["mediacache",this.context,a,b].join(".");};c.prototype.C0=function(a,b){return {ia:!0,pP:void 0 === a?"":a,key:void 0 === b?"":b,ETb:0,ik:this.size};};c.prototype.Cz=function(a,b,c){return {ia:!1,error:c,pP:void 0 === a?"":a,key:void 0 === b?"":b,ETb:0,ik:this.size};};c.prototype.Kna=function(a){var b,c;a=a.slice(a.indexOf(".") + 1);b=a.slice(a.indexOf(".") + 1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c + 1);return {pP:a,Uz:b};};b.s5a=c;},function(f,b,a){var c,h,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.Jya=void 0;c=a(0);h=a(1);k=a(2);r=a(6);f=(function(){var b;function a(a){this.rf=a;this.lA={};this.ma=this.rf.ob("MemoryStorage");}a.prototype.load=function(a){var b;if(this.lA.hasOwnProperty(a)){b=this.lA[a];this.ma.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ma.debug("Storage entry not found",{key:a});return Promise.reject({ja:k.L.ly});};a.prototype.save=function(a,b,c){if(c && this.lA.hasOwnProperty(a))return Promise.resolve(!1);this.lA[a]=b;return Promise.resolve(!0);};a.prototype.remove=function(a){delete this.lA[a];return Promise.resolve();};a.prototype.loadAll=function(){var a;a=Object.entries(this.lA).map(function(a){var b;b=S(a);a=b.next().value;b=b.next().value;return {key:a,value:b};});return Promise.resolve(a);};a.prototype.aR=function(a){var b;b=Object.keys(this.lA).reduce(function(b,c){a && 0 !== c.indexOf(a) || (b[c]=void 0);return b;},{});return Promise.resolve(b);};a.prototype.removeAll=function(){this.lA={};return Promise.resolve();};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(r.xb))],b);})();b.Jya=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.yua=void 0;b.yua="__default_rule_key__";},function(f,b,a){var h,k,r,g,p,d,m,t;function c(a,b,c,d){this.ma=a;this.config=b;this.Xyb=c;this.Hma=d;this.hz={mem:{storage:this.Hma,key:"mem"}};this.KA=this.config.KA;}Object.defineProperty(b,"__esModule",{value:!0});b.m6=b.Nsa=void 0;h=a(0);k=a(1);r=a(2);g=a(179);p=a(6);d=a(454);m=a(1032);t=a(34);f=(function(){var b;function a(a,b,c,d){this.rf=a;this.Ak=b;this.Hma=c;this.config=d;}a.prototype.create=function(){this.lP || (this.lP=this.OH());return this.lP;};a.prototype.OH=function(){this.Wgb=new c(this.rf.ob("AppStorage"),this.config,this.Ak,this.Hma);return this.Wgb.create();};b=a;return b=h.__decorate([k.N(),h.__param(0,k.l(p.xb)),h.__param(1,k.l(g.pV)),h.__param(2,k.l(d.m9)),h.__param(3,k.l(t.vl))],b);})();b.Nsa=f;c.prototype.create=function(){var a;a=this;return this.Fnb().then(function(b){if(!a.Fjb(b,a.config.g1))throw a.wFb(b);return a;});};c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.$P(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){d(a);});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.$P(a).storage.save(a,b,c).then(function(a){f(a);})["catch"](function(a){g(a);});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.$P(a).storage.remove(a).then(function(){c();})["catch"](function(a){d(a);});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.nXa("mem").then(function(){return a.nXa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ma.error("remove all failed");c(b);});});};c.prototype.loadAll=function(){var a,b;a=this;b=[];return this.QRa("mem").then(function(c){b=b.concat(c);return a.QRa("idb");})["catch"](function(b){a.VAb(b) || a.ma.error("IndexedDb.LoadAll exception",b);return [];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ma.error("load all failed",b);throw b;});};c.prototype.aR=function(a){var b;b=this;return new Promise(function(c,d){var f;f=b.hz.idb;f?f.storage.aR(a).then(function(a){c(a);})["catch"](function(a){b.ma.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};c.prototype.Fnb=function(){var a;a=this;return this.Xyb.create().then(function(b){a.hz.idb={storage:b,key:"idb"};})["catch"](function(b){a.ma.error("idb failed to load",b);return b || ({ja:r.L.zl});});};c.prototype.Fjb=function(a,b){return !a || a && b?!0:!1;};c.prototype.wFb=function(a){var b;b="";a && (b+=a.ja);return {ja:b};};c.prototype.nXa=function(a){return (a=this.hz[a])?a.storage.removeAll():Promise.resolve();};c.prototype.QRa=function(a){return (a=this.hz[a])?a.storage.loadAll():Promise.resolve([]);};c.prototype.Hsb=function(a){for(var b in this.KA){if(a.startsWith(b))return this.KA[b];}return this.KA[m.yua];};c.prototype.$P=function(a){var b,c;b=this;this.Hsb(a).every(function(a){return b.hz[a]?(c=b.hz[a],!1):!0;});c || (this.ma.error("component not found for storageKey",{eQb:a,$0b:Object.keys(this.hz),rules:this.KA}),c=this.hz.mem);this.ma.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};c.prototype.VAb=function(a){return (a && (a.ja || a.errorSubCode)) === r.L.ly;};b.m6=c;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.sua=void 0;c=a(0);h=a(1);k=a(34);f=(function(){var b;function a(a){this.config=a;}ma.Object.defineProperties(a.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Sqa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.G_a;}}});b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.vl))],b);})();b.sua=f;},function(f,b,a){var c,h,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.axa=void 0;c=a(0);h=a(1);k=a(40);r=a(43);g=a(34);p=a(30);f=(function(){var b;function a(a,b){a=r.le.call(this,a,"IndexedDBConfigImpl") || this;a.config=b;a.version=1;a.eE="namedatapairs";return a;}M(a,r.le);ma.Object.defineProperties(a.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Qt?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Sqa;}},HY:{configurable:!0,enumerable:!0,get:function(){return this.config.HY;}},Cqa:{configurable:!0,enumerable:!0,get:function(){return 0;}},aT:{configurable:!0,enumerable:!0,get:function(){return 0;}},OMa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});b=a;c.__decorate([k.config(k.Qx,"simulateIdbOpenError")],b.prototype,"Cqa",null);c.__decorate([k.config(k.Qx,"simulateIdbLoadAllError")],b.prototype,"aT",null);c.__decorate([k.config(k.Cc,"fixInvalidDatabase")],b.prototype,"OMa",null);return b=c.__decorate([h.N(),c.__param(0,h.l(p.sj)),c.__param(1,h.l(g.vl))],b);})();b.axa=f;},function(f,b,a){var k,r,g;function c(a,b,c){this.config=a;this.il=b;this.px=c;}function h(a,b){this.reason=a;this.cause=b;}Object.defineProperty(b,"__esModule",{value:!0});b.$wa=b.kBa=void 0;k=a(2);r=a(61);(function(a){a[a.B9=0]="NoData";a[a.Error=1]="Error";a[a.RB=2]="Timeout";})(g=b.kBa || (b.kBa={}));c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.u_("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=k.L.DBa;switch(a.reason){case g.B9:b=k.L.ly;break;case g.RB:b=k.L.m$a;}d({ja:b,cause:a.cause});});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,h){d.u_(c?"add":"put",!0,{name:a,data:b}).then(function(){f(!c);})["catch"](function(a){var b;b=k.L.EBa;switch(a.reason){case g.RB:b=k.L.p$a;}h({ja:b,cause:a.cause});});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.u_("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=k.L.baa;switch(a.reason){case g.RB:b=k.L.CBa;}d({ja:b,cause:a.cause});});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.u_("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=k.L.baa;switch(a.reason){case g.RB:b=k.L.CBa;}c({ja:b,cause:a.cause});});});};c.prototype.loadAll=function(){var a;a=this;return this.il.jn(this.config.timeout,new Promise(function(b,c){var d,f,m;if(a.config.aT)c(new h(a.config.aT));else {d=[];f=a.px.transaction(a.config.eE,"readonly");m=f.objectStore(a.config.eE).openCursor();f.onerror=function(){c(new h(g.Error,m.error));};m.onsuccess=function(a){if(a=a.target.result)try{d.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(E){c(new h(g.Error,E));}else b(d);};m.onerror=function(){c(new h(g.Error,m.error));};}}))["catch"](function(a){return a instanceof r.Mn?Promise.reject(new h(g.RB,a)):a instanceof h?Promise.reject(a):Promise.reject(new h(g.Error,a));});};c.prototype.aR=function(a){var b;b=this;return this.il.jn(this.config.timeout,new Promise(function(c,d){var f,m,l;if(b.config.aT)d(new h(b.config.aT));else {f={};m=b.px.transaction(b.config.eE,"readonly");l=m.objectStore(b.config.eE).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);m.onerror=function(){d(new h(g.Error,l.error));};l.onsuccess=function(b){var m,l;try{m=b.target.result;if(m){l=m.key;a && 0 !== l.indexOf(a)?c(f):(f[l]=void 0,m["continue"]());}else c(f);}catch(C){d(new h(g.Error,C));}};l.onerror=function(){d(new h(g.Error,l.error));};}}))["catch"](function(a){return a instanceof r.Mn?Promise.reject(new h(g.RB,a)):a instanceof h?Promise.reject(a):Promise.reject(new h(g.Error,a));});};c.prototype.u_=function(a,b,c){var d;d=this;return this.il.jn(this.config.timeout,new Promise(function(f,m){var l,k;l=d.px.transaction(d.config.eE,b?"readwrite":"readonly");k=l.objectStore(d.config.eE)[a](c);l.onerror=function(){m(new h(g.Error,k.error));};k.onsuccess=function(b){var c;if("get" == a)try{c=b.target.result;c?f(c.data):m(new h(g.B9));}catch(C){m(new h(g.B9,C));}else f();};k.onerror=function(){m(new h(g.Error,k.error));};}))["catch"](function(a){return a instanceof r.Mn?Promise.reject(new h(g.RB,a)):a instanceof h?Promise.reject(a):Promise.reject(new h(g.Error,a));});};b.$wa=c;},function(f,b,a){var c,h,k,r,g,p,d,m,t,n,q,u,E;Object.defineProperty(b,"__esModule",{value:!0});b.cxa=b.bxa=b.zwa=void 0;c=a(0);h=a(1);k=a(6);r=a(1036);g=a(180);p=a(2);d=a(457);m=a(458);t=a(61);n=a(71);q=a(68);u=a(179);E=a(67);f=(function(){var b;function a(a,b,c,f,g){this.config=b;this.Kx=c;this.Oj=g;this.ma=a.ob(d.nW);this.qP=new Promise(function(a,b){var c;try{c=f();c?a(c):b({ja:p.L.Awa});}catch(ha){b({ja:p.L.oV,cause:ha});}});}a.prototype.create=function(){this.Vfa || (this.Vfa=this.OH());return this.Vfa;};a.prototype.jr=function(a){var b;b=this;this.Vfa=null;return this.Kx.jn(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof t.Mn?Promise.reject({ja:p.L.oV}):a.ja?Promise.reject(a):Promise.reject({ja:p.L.oV,cause:a});});};a.prototype["delete"]=function(a){var b;b=this;return this.Kx.jn(this.config.timeout,new Promise(function(c,d){b.qP.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({ja:p.L.oV,cause:f.error});};})["catch"](function(a){d(a);});}));};a.prototype.OH=function(){var a,b;a=this;return this.Kx.jn(this.config.timeout,new Promise(function(c,d){if(a.config.Cqa)return d({ja:a.config.Cqa});a.qP.then(function(f){a.Oj.mark(E.Fi.C6a);b=f.open(a.config.name,a.config.version);if(!b)return d({ja:p.L.Bwa});b.onblocked=function(){a.Oj.mark(E.Fi.z6a);d({ja:p.L.v6a});};b.onupgradeneeded=function(){var c;a.Oj.mark(E.Fi.J6a);c=b.result;try{c.createObjectStore(a.config.eE,{keyPath:"name"});}catch(W){a.ma.error("Exception while creating object store",W);}};b.onsuccess=function(g){var h,m;a.Oj.mark(E.Fi.I6a);try{h=g.target.result;m=h.objectStoreNames.length;a.ma.trace("objectstorenames length ",m);if(0 === m){a.ma.error("invalid indexedDb state, deleting");a.Oj.mark(E.Fi.B6a);try{h.close();}catch(ha){}f.deleteDatabase(a.config.name);setTimeout(function(){d({ja:p.L.u6a});},1);return;}}catch(ha){a.ma.error("Exception while inspecting indexedDb objectstorenames",ha);}c(b.result);};b.onerror=function(){a.Oj.mark(E.Fi.A6a);a.ma.error("IndexedDB open error",b.error);d({ja:p.L.w6a,cause:b.error});};})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof t.Mn){try{b && b.readyState && a.Oj.mark("readyState-" + b.readyState);}catch(ba){}if(a.config.HY && b && "done" === b.readyState){if(a.NTb(b))return (a.Oj.mark(E.Fi.G6a),Promise.resolve(b.result));a.Oj.mark(E.Fi.F6a);}a.Oj.mark(E.Fi.E6a);return Promise.reject({ja:p.L.y6a});}if(c.ja)return Promise.reject(c);a.Oj.mark(E.Fi.D6a);a.ma.error("IndexedDB open exception occurred",c);return Promise.reject({ja:p.L.x6a,cause:c});});};a.prototype.NTb=function(a){try{return 0 < a.result.objectStoreNames.length;}catch(T){this.Oj.mark(E.Fi.H6a);this.ma.error("failed to check open request state",T);}return !1;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.xb)),c.__param(1,h.l(m.pM)),c.__param(2,h.l(t.jy)),c.__param(3,h.l(g.p8)),c.__param(4,h.l(q.oy))],b);})();b.zwa=f;f=(function(){var b;function a(a,b){this.config=a;this.Kx=b;}a.prototype.create=function(a){return Promise.resolve(new r.$wa(this.config,this.Kx,a));};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(m.pM)),c.__param(1,h.l(t.jy))],b);})();b.bxa=f;f=(function(){var b;function a(a,b,c,f,g,h){this.config=b;this.qP=c;this.Ak=f;this.STb=g;this.Oj=h;this.ma=a.ob(d.nW);}a.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.lP || (this.lP=this.OH(this.STb));return this.lP;};a.prototype.OH=function(a){var b;a=void 0 === a?[]:a;b=this;return new Promise(function(c,d){b.Oj.mark(E.Fi.l$a);b.qP.create().then(function(f){b.Ak.create(f).then(function(g){Promise.all(a.map(function(a){return a.ss(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ma.debug("DB validation failed, cause: " + a);b.config.OMa?(b.ma.debug("Fixing corrupt DB"),b.qP.jr(f).then(function(){b.ma.error("Invalid database deleted, creating new database.");b.OH().then(function(a){b.ma.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ma.error("Couldn't delete invalid database.");d(a);})):(b.ma.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.xb)),c.__param(1,h.l(m.pM)),c.__param(2,h.l(u.o8)),c.__param(3,h.l(u.u8)),c.__param(4,h.ZD(n.oaa)),c.__param(5,h.l(q.oy))],b);})();b.cxa=f;},function(f,b,a){var c,h,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.Cxa=void 0;c=a(0);h=a(1);k=a(2);r=a(180);f=(function(){var b;function a(a){this.px=a;}a.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.px.getItem(a);if(f){g=f;if("{" === f[0])try{g=JSON.parse(f) || f;}catch(E){}c({key:a,value:g});}else d({ja:k.L.ly});}catch(E){d({ja:k.L.DBa,cause:E});}});};a.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){if(c && d.px.getItem(a))f(!1);else try{"string" === typeof b?d.px.setItem(a,b):d.px.setItem(a,JSON.stringify(b));f(!0);}catch(E){g({ja:k.L.EBa,cause:E});}});};a.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.px.removeItem(a);c();}catch(A){d({ja:k.L.baa,cause:A});}});};a.prototype.loadAll=function(){return Promise.reject("Not supported");};a.prototype.aR=function(){return Promise.reject("Not supported");};a.prototype.removeAll=function(){return Promise.reject("Not supported");};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(r.Vya))],b);})();b.Cxa=f;},function(f,b,a){var c,h,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.rua=void 0;c=a(0);h=a(1);k=a(6);r=a(61);g=a(457);p=a(456);f=(function(){var b;function a(a,b,c){this.il=b;this.config=c;this.ma=a.ob(g.nW);}a.prototype.ss=function(a){return this.config.enabled?this.config.timeout?this.il.jn(this.config.timeout,this.lLa(a)):this.lLa(a):Promise.resolve();};a.prototype.lLa=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true" !== f.value && d();b.ma.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ma.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.xb)),c.__param(1,h.l(r.jy)),c.__param(2,h.l(p.S6))],b);})();b.rua=f;},function(f,b,a){var c,h,k,r,g,p,d,m,t,n,q,u,E,L,D,C,T;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;f=a(1);c=a(458);h=a(71);k=a(180);r=a(1039);g=a(455);p=a(1038);d=a(456);m=a(179);t=a(1037);n=a(1035);q=a(1034);u=a(1033);E=a(71);L=a(454);D=a(1031);C=a(453);T=a(1030);b.storage=new f.Kc(function(a){a(k.x9).Rf(function(){return function(){return O.localStorage;};});a(k.p8).Rf(function(){return function(){return O.indexedDB;};});a(L.m9).to(D.Jya).Z();a(E.ws).to(u.Nsa).Z();a(g.I8).to(p.Cxa).Z();a(c.pM).to(n.axa).Z();a(m.u8).to(t.bxa).Z();a(h.oaa).to(r.rua).Z();a(m.o8).to(t.zwa).Z();a(m.pV).to(t.cxa).Z();a(d.S6).to(q.sua).Z();a(C.m7).to(T.Xua).Z();});},function(f,b,a){var c,h,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.Qva=void 0;c=a(0);h=a(1);k=a(254);r=a(459);f=(function(){var b;function a(a){this.zJb=a;}a.prototype.msb=function(){var a,b;a={NP:k.Xx.S$a};b=this.zJb.PresentationRequest;b && (new b("https://netflix.com").getAvailability() || Promise.reject()).then(function(b){var c;a.NP=b.value?k.Xx.WAa:k.Xx.Gsa;if(a.NP === k.Xx.Gsa){c=function(){b.value && (a.NP=k.Xx.WAa);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.NP=k.Xx.Error;});return a;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(r.N$))],b);})();b.Qva=f;},function(f,b,a){var c,h,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.tya=void 0;c=a(0);h=a(461);k=a(6);r=a(1);f=(function(){var b;function a(a,b){this.$Sa=a;this.log=b.ob("MediaCapabilities");}a.prototype.vha=function(a){var b,c,d;b=this;c={Zb:void 0};if(this.$Sa.aTa){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,R:1E3 * a.R,V_:"24"};this.$Sa.vha(d).then(function(a){return c.Zb=Object.assign(Object.assign({},a),d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};b=a;return b=c.__decorate([r.N(),c.__param(0,r.l(h.g9)),c.__param(1,r.l(k.xb))],b);})();b.tya=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.sya=void 0;c=a(0);h=a(1);k=a(31);f=(function(){var b;function a(a){this.navigator=a;this.aTa=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}a.prototype.vha=function(a){return this.aTa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.R,framerate:a.V_}}).then(function(a){return {c6b:a.supported,CPb:a.smooth,WIb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.BB))],b);})();b.sya=f;},function(f,b,a){var h,k,r,g;function c(a,b,c,f,l){a=h.lm.call(this,a,b,c) || this;a.Lf=f;a.navigator=l;a.type=k.Ik.FBa;a.C1a={};a.C1a=a.kob();a.log=g.rf.ob("SafariVideoCapabilityDetector");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;h=a(143);k=a(32);r=a(59);g=a(7);M(c,h.lm);c.prototype.kQ=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.Lf.Kj.toString()});};c.prototype.B_=function(a){var b,c;b=this;c=a.map(function(a){for(var c=S(b.Xr),d=c.next();!d.done;d=c.next()){if(d.value.test(a))return Promise.resolve(!0);}c=S(b.dm);for(d=c.next();!d.done;d=c.next()){if(d.value.test(a))return Promise.resolve(!1);}return b.Ama(a);});return Promise.all(c).then(function(b){return a.filter(function(a,c){return b[c];});});};c.prototype.Ama=function(a){var b,c;b=this;try{c=this.C1a[a];return !c || this.sAb(c) && !this.tAb()?Promise.resolve(!1):this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:c}).then(function(a){b.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(a));return !0 === a.supported && !0 === a.powerEfficient;})["catch"](function(a){b.log.error("mediaCapabilities.decodingInfo failed",a);return !1;});}catch(t){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",t),Promise.resolve(!1));}};c.prototype.kob=function(){var a,b,c,f,g,h,l,k,n,q,u,T,P;a={};b={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};c={contentType:'video/mp4; codecs="dvh1.05.04"'};f={width:1920,height:1080};g={width:3840,height:2160};h=Object.assign(Object.assign({},f),{bitrate:12E6,framerate:30});l=Object.assign(Object.assign({},f),{bitrate:2E7,framerate:60});f=Object.assign(Object.assign({},g),{bitrate:25E6,framerate:30});g=Object.assign(Object.assign({},g),{bitrate:4E7,framerate:60});k={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};n={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};q=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),h);a[r.Y.RU]=q;a[r.Y.SU]=q;a[r.Y.TU]=q;q=Object.assign(Object.assign({},b),h);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),l);T=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),f);P=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),g);a[r.Y.aV]=q;a[r.Y.cV]=q;a[r.Y.eV]=q;a[r.Y.gV]=u;a[r.Y.FF]=T;a[r.Y.GF]=P;a[r.Y.bV]=q;a[r.Y.dV]=q;a[r.Y.fV]=q;a[r.Y.hV]=u;a[r.Y.iV]=T;a[r.Y.jV]=P;q=Object.assign(Object.assign(Object.assign({},b),h),k);u=Object.assign(Object.assign(Object.assign({},b),l),k);T=Object.assign(Object.assign(Object.assign({},b),f),k);b=Object.assign(Object.assign(Object.assign({},b),g),k);a[r.Y.fM]=q;a[r.Y.gM]=q;a[r.Y.EF]=q;a[r.Y.hM]=u;a[r.Y.WU]=T;a[r.Y.XU]=b;h=Object.assign(Object.assign(Object.assign({},c),h),n);l=Object.assign(Object.assign(Object.assign({},c),l),n);f=Object.assign(Object.assign(Object.assign({},c),f),n);c=Object.assign(Object.assign(Object.assign({},c),g),n);a[r.Y.TL]=h;a[r.Y.UL]=h;a[r.Y.tF]=h;a[r.Y.VL]=l;a[r.Y.WL]=f;a[r.Y.CU]=c;return a;};c.prototype.sAb=function(a){return ! !a.colorGamut || ! !a.hdrMetadataType || ! !a.transferFunction;};c.prototype.tAb=function(){return O.matchMedia("(dynamic-range: high)").matches;};c.prototype.nT=function(){return this.config().Rga?this.Ama(r.Y.tF):Promise.resolve(!1);};c.prototype.pT=function(){return this.config().Rga?this.Ama(r.Y.EF):Promise.resolve(!1);};b.HBa=c;},function(f,b,a){var h,k,r;function c(a,b,c,f,l,r){a=h.lm.call(this,a,b,c) || this;a.Xl=f;a.Jr=l;a.Fa=r;a.type=k.Ik.Q6;a.log=a.Jr.ob("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.eua=void 0;h=a(143);k=a(32);r=a(4);M(c,h.lm);c.prototype.Hu=function(a){switch(a){case k.Bi.Gs:return this.QQb;default:return Promise.resolve(!1);}};c.prototype.FI=function(){var a;a=this;return this.Hu(k.Bi.Gs).then(function(a){return a?k.Bi.Gs:void 0;}).then(function(b){return a.kP(b);});};c.prototype.ida=function(a){return this.cn=a;};c.prototype.MT=function(){var a;if(this.cn){a=this.JPa && this.KPa && this.JPa.Oa(this.KPa).aa(r.fa);this.cn.itshdcp=JSON.stringify({hdcp1:this.Fw,time1:a});}};ma.Object.defineProperties(c.prototype,{Yl:{configurable:!0,enumerable:!0,get:function(){this.dTa || (this.dTa=this.Xl.DI().then(function(a){return a.createMediaKeys();}));return this.dTa;}},QQb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.ara || (this.config().Uqb?this.ara=this.Yl.then(function(b){if(b && b.getStatusForPolicy)return (a.KPa=a.Fa.Pe,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.JPa=a.Fa.Pe;a.Fw=b;a.log.trace("hdcpStatus: " + a.Fw);return "usable" === a.Fw;}));a.Fw="not available";a.log.trace("hdcpStatus: " + a.Fw);return !1;})["catch"](function(b){a.Fw="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Fw},b);return !1;}).then(function(b){a.MT();return b;}):(this.Fw="not enabled",this.log.trace("hdcpStatus: " + this.Fw),this.MT(),this.ara=Promise.resolve(!1)));return this.ara;}}});b.eua=c;},function(f,b,a){var c,h,k,r,g,p,d,m,n,q,u,J,E,L,D,C,T,P,B,R;Object.defineProperty(b,"__esModule",{value:!0});b.eya=void 0;c=a(59);h=a(143);k=a(32);f=a(104);r=a(149);g=a(146);p=a(4);d=a(491);m=a(144);n=a(255);q=a(183);u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");J=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");E=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");L=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");D=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");C=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");T=["hdcp=1"];P=["hdcp=2"];B=new f.my();R=new d.z6();a=(function(){function a(a,b,c,d,f,g,m){a=h.lm.call(this,a,b,c) || this;a.Aa=d;a.Fa=f;a.Jr=g;a.dc=m;a.type=k.Ik.AB;a.QL="hvc1";a.O3a="avc1";a.EVa={};a.log=a.Jr.ob("MicrosoftVideoCapabilityDetector");a.RPb();a.oT && a.config().kEb?a.rqb=a.xnb():(a.rqb=Promise.resolve(""),a.config().mEb?a.Dnb():a.config().lEb && a.Cnb());return a;}M(a,h.lm);a.prototype.zI=function(a){return a === k.Bd.Vu && this.config().sTb?m.Kd.dM:h.lm.prototype.zI.call(this,a);};a.prototype.Hu=function(a){switch(a){case k.Bi.Gs:return this.r_a();case k.Bi.sB:return this.lS;default:return Promise.resolve(!1);}};a.prototype.yw=function(){return this.oT?this.Wyb?this.r_a().then(function(a){return Promise.resolve(a?r.Db.Ld:r.Db.HM);}):Promise.resolve(r.Db.HM):this.RQb?Promise.resolve(r.Db.HM):Promise.resolve(r.Db.Ps);};a.prototype.pT=function(){return Promise.resolve(this.q_a());};a.prototype.qT=function(){return this.oT && this.t_a()?this.lS:Promise.resolve(!1);};a.prototype.nT=function(){return Promise.resolve(this.p_a());};a.prototype.ida=function(a){this.cn=a;Object.assign(this.cn,this.EVa);a.itshwdrm=this.oT;a.itsqhd=this.s_a();a.itshevc=this.t_a();a.itshdr=this.q_a();a.itsdv=this.p_a();return a;};a.prototype.tO=function(a,b){(this.cn?this.cn:this.EVa)[a]=b;};a.prototype.FI=function(){var a;a=this;return this.Hu(k.Bi.sB).then(function(b){return b?a.kP(k.Bi.sB):a.Hu(k.Bi.Gs).then(function(b){return b?a.kP(k.Bi.Gs):a.kP(void 0);});});};a.prototype.kQ=function(){return this.yw().then(function(a){return a === r.Db.Ld?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};a.prototype.B_=function(a){var b;b=this;a=a.filter(function(a){var c,f;for(var c=S(b.Xr),d=c.next();!d.done;d=c.next()){if(d.value.test(a))return !0;}c=S(b.dm);for(d=c.next();!d.done;d=c.next()){if(d.value.test(a))return !1;}a=b.Eoa[a];c=[];f=r.Db.Ps;if(a)return (b.is.bo(a)?d=a:(c=a.Ed,d=a.Xe,f=a.cf),b.ez(f,d,c));});return Promise.resolve(a);};a.prototype.YC=function(){var a;a=h.lm.prototype.YC.call(this);a[c.Y.YM]="vp09.00.11.08.02";a[c.Y.ZM]="vp09.00.11.08.02";a[c.Y.$M]="vp09.00.11.08.02";a[c.Y.aV]={Xe:"hev1.2.6.L90.B0",cf:r.Db.Ld,Ed:u};a[c.Y.cV]={Xe:"hev1.2.6.L93.B0",cf:r.Db.Ld,Ed:u};a[c.Y.eV]={Xe:"hev1.2.6.L120.B0",cf:r.Db.Ld,Ed:u};a[c.Y.gV]={Xe:"hev1.2.6.L123.B0",cf:r.Db.Ld,Ed:u};a[c.Y.FF]={Xe:"hev1.2.6.L150.B0",cf:r.Db.Ld,Ed:u};a[c.Y.GF]={Xe:"hev1.2.6.L153.B0",cf:r.Db.Ld,Ed:u};a[c.Y.bV]={Xe:"hev1.2.6.L90.B0",cf:r.Db.Ld,Ed:u};a[c.Y.dV]={Xe:"hev1.2.6.L93.B0",cf:r.Db.Ld,Ed:u};a[c.Y.fV]={Xe:"hev1.2.6.L120.B0",cf:r.Db.Ld,Ed:u};a[c.Y.hV]={Xe:"hev1.2.6.L123.B0",cf:r.Db.Ld,Ed:u};a[c.Y.iV]={Xe:"hev1.2.6.L150.B0",cf:r.Db.Ld,Ed:u};a[c.Y.jV]={Xe:"hev1.2.6.L153.B0",cf:r.Db.Ld,Ed:u};a[c.Y.fM]={Xe:"hev1.2.6.L90.B0",cf:r.Db.Ld,Ed:E};a[c.Y.gM]={Xe:"hev1.2.6.L93.B0",cf:r.Db.Ld,Ed:E};a[c.Y.EF]={Xe:"hev1.2.6.L120.B0",cf:r.Db.Ld,Ed:E};a[c.Y.hM]={Xe:"hev1.2.6.L123.B0",cf:r.Db.Ld,Ed:L};a[c.Y.WU]={Xe:"hev1.2.6.L150.B0",cf:r.Db.Ld,Ed:L};a[c.Y.XU]={Xe:"hev1.2.6.L153.B0",cf:r.Db.Ld,Ed:L};a[c.Y.TL]={Xe:"hev1.2.6.L90.B0",cf:r.Db.Ld,Ed:D};a[c.Y.UL]={Xe:"hev1.2.6.L93.B0",cf:r.Db.Ld,Ed:D};a[c.Y.tF]={Xe:"hev1.2.6.L120.B0",cf:r.Db.Ld,Ed:D};a[c.Y.VL]={Xe:"hev1.2.6.L123.B0",cf:r.Db.Ld,Ed:C};a[c.Y.WL]={Xe:"hev1.2.6.L150.B0",cf:r.Db.Ld,Ed:C};a[c.Y.CU]={Xe:"hev1.2.6.L153.B0",cf:r.Db.Ld,Ed:C};return a;};a.prototype.ez=function(a,b,c){a=n.fy.vZ(a,b,c);return this.$v(a);};a.prototype.s_a=function(){return this.ez(r.Db.Ld,this.QL,u);};a.prototype.q_a=function(){return this.ez(r.Db.Ld,this.QL,E);};a.prototype.p_a=function(){return this.ez(r.Db.Ld,this.QL,D);};a.prototype.t_a=function(){return this.ez(r.Db.Ld,this.QL,J);};a.prototype.r_a=function(){var a;a=this;return this.lS.then(function(b){return b?Promise.resolve(b):a.xWa;});};a.prototype.MT=function(){this.cn && (this.cn.itshdcp=JSON.stringify({hdcp1:this.HPa,time1:this.Q_a - this.RZa,hdcp2:this.IPa,time2:this.R_a - this.SZa}));};a.prototype.RPb=function(){var a;a=this;this.oT?(this.koa=new g.Kn(),this.loa=new g.Kn(),this.xWa=g.Bb.from(this.koa).ns().then(function(a){return "probably" === a;}),this.lS=g.Bb.from(this.loa).ns().then(function(a){return "probably" === a;}),this.sZa(this.loa,this.config().oEb),this.VVa(this.xvb.bind(this),this.loa),this.lS.then(function(b){b || (a.sZa(a.koa,a.config().nEb),a.VVa(a.wvb.bind(a),a.koa));})):(this.xWa=Promise.resolve(!0),this.lS=Promise.resolve(!1));};a.prototype.VVa=function(a,b){g.Bb.Kx(0,this.config().pEb).map(function(){return a();}).cT(function(a){return "maybe" === a;}).map(function(a){b.next(a);b.complete();}).yT(g.Bb.from(b)).ns();};a.prototype.sZa=function(a,b){this.Aa.Sh(p.Lb(b),function(){a.next("timeout");a.complete();});};a.prototype.wvb=function(){var a;a=n.fy.vZ(r.Db.HM,this.O3a,T).split("|");this.HPa=n.fy.$qa(a[0],a[1]);this.Q_a=this.Fa.Pe.aa(p.fa);this.RZa=this.RZa || this.Q_a;this.MT();return this.HPa;};a.prototype.xvb=function(){var a;a=n.fy.vZ(r.Db.Ld,this.QL,P).split("|");this.IPa=n.fy.$qa(a[0],a[1]);this.R_a=this.Fa.Pe.aa(p.fa);this.SZa=this.SZa || this.R_a;this.MT();return this.IPa;};a.prototype.xnb=function(){var a;a=this;return this.Ffa(r.Db.Ld,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0">' + ("<ServerCert>" + q.K9 + "</ServerCert>") + "</DriverInfo></PlayReadyCDMData>").then(function(b){a.log.debug("DriverInfo: " + b);return b;})["catch"](function(b){a.tO("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};a.prototype.Cnb=function(){var a;a=this;this.Ffa(r.Db.Ps,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.dc.decode(b));a.tO("itsHardwareInfo",c);a.log.debug("HardwareInfo: " + c);return b;})["catch"](function(b){a.tO("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};a.prototype.Dnb=function(){var a;a=this;this.Ffa(r.Db.Ps,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.dc.decode(b));a.tO("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: " + c);return b;})["catch"](function(b){a.tO("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};a.prototype.Ffa=function(a,b){var c;c=this;return new Promise(function(d,f){var r,n,t;function g(a){try{l(a.target,"Unexpectedly got an mskeyerror event: 0x" + R.UP(a && a.target && a.target.error && a.target.error.e6b || 0,4));}catch(ka){l(a.target,ka);}}function h(a){l(a.target,"Unexpectedly got an mskeyadded event");}function m(a){var b;try{b=c.rha(a.message,"PlayReadyKeyMessage","Challenge");k(a.target);d(b);}catch(La){l(a.target,La);}}function l(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});k(a);f(d);}function k(a){a.removeEventListener("mskeymessage",m);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);r && r.cancel();}try{n=new Uint8Array(B.rQb(b));t=new O.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),n);t.addEventListener("mskeymessage",m);t.addEventListener("mskeyadded",h);t.addEventListener("mskeyerror",g);r=c.Aa.Sh(p.Lb(1E3),function(){l(t,Error("timeout"));});}catch(N){f(N);}});};a.prototype.rha=function(a,b){var c,d,f,g;for(var c=1;c < arguments.length;++c){;}c="";f=a.length;for(d=0;d < f;d++){g=a[d];0 < g && (c+=String.fromCharCode(g));}f="\\s*(.*)\\s*";for(d=arguments.length - 1;0 < d;d--){g=arguments[d];if(0 > c.search(g))return;g="(?:[^:].*:|)" + g;f="[\\s\\S]*<" + g + "[^>]*>" + f + "</" + g + ">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};ma.Object.defineProperties(a.prototype,{Wyb:{configurable:!0,enumerable:!0,get:function(){return this.config().Tqb && (!this.config().qEb || this.s_a());}},oT:{configurable:!0,enumerable:!0,get:function(){try{return this.$v(r.Db.Ld + '|video/mp4;codecs="' + m.Kd.CF + '"');}catch(W){return !1;}}},RQb:{configurable:!0,enumerable:!0,get:function(){try{return this.$v(r.Db.HM);}catch(W){return !1;}}}});a.qL='video/mp4;codecs="{0},mp4a";';return a;})();b.eya=a;},function(f,b,a){var h,k,r,g,p;function c(a,b,c,f){a=g.EU.call(this,a,b) || this;a.is=c;a.platform=f;a.type=h.Tx.AB;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Lya=void 0;h=a(32);k=a(59);r=a(149);g=a(462);p=a(255);M(c,g.EU);c.prototype.mT=function(){return Promise.resolve(this.config().EP && this.ez(r.Db.Ps,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.YC=function(){var a;a={};a[k.zi.YU]="mp4a.40.2";a[k.zi.X7]="mp4a.40.5";a[k.zi.ZU]="mp4a.40.2";"browser" === this.platform.Dpb?this.config().EP && (a[k.zi.AU]={Xe:"avc1",cf:r.Db.Ps,Ed:["audio-endpoint-codec=DD+JOC"]},a[k.zi.BU]={Xe:"avc1",cf:r.Db.Ps,Ed:["audio-endpoint-codec=DD+JOC"]}):(this.config().Pga && (a[k.zi.AU]="ec-3"),this.config().Oga && (a[k.zi.W6]="ec-3"),this.config().EP && (a[k.zi.BU]={Xe:"avc1",cf:r.Db.Ps,Ed:["audio-endpoint-codec=DD+JOC"]}));return a;};c.prototype.B_=function(a){var b;b=this;a=a.filter(function(a){var c,f;for(var c=S(b.Xr),d=c.next();!d.done;d=c.next()){if(d.value.test(a))return !0;}c=S(b.dm);for(d=c.next();!d.done;d=c.next()){if(d.value.test(a))return !1;}a=b.Eoa[a];c=[];f=r.Db.Ps;if(a)return (b.is.bo(a)?d=a:(c=a.Ed,d=a.Xe,f=a.cf),b.ez(f,d,c));});return Promise.resolve(a);};c.prototype.ez=function(a,b,c){a=p.fy.vZ(a,b,c);return this.$v(a);};b.Lya=c;},function(f,b,a){var c,h,k,r,g,p,d,m,n,q,u,J,E,L,D,C,T,P,B,R,V;Object.defineProperty(b,"__esModule",{value:!0});b.Wta=void 0;c=a(0);h=a(1);k=a(32);r=a(257);g=a(181);p=a(256);d=a(1047);m=a(1046);n=a(143);q=a(462);u=a(39);J=a(37);E=a(21);L=a(1045);D=a(107);C=a(6);T=a(1044);P=a(52);B=a(33);R=a(41);V=a(31);f=(function(){var b;function a(a,b,c,d,f,g,h,m,l,k,p,r){this.iRa=a;this.cast=b;this.config=c;this.Aa=d;this.Fa=f;this.is=g;this.Xl=h;this.Jr=m;this.Lf=l;this.platform=k;this.dc=p;this.navigator=r;}a.prototype.fnb=function(a){var b;b=this.iRa.hKa();switch(a){case k.Tx.AB:return new d.Lya(this.config,b,this.is,this.platform);default:return new q.EU(this.config,b);}};a.prototype.lob=function(a){var b;b=this.iRa.hKa();switch(a){case k.Ik.N6:a=new p.O6(this.config,b,this.is,this.cast);break;case k.Ik.Q6:a=new L.eua(this.config,b,this.is,this.Xl,this.Jr,this.Fa);break;case k.Ik.AB:a=new m.eya(this.config,b,this.is,this.Aa,this.Fa,this.Jr,this.dc);break;case k.Ik.FBa:a=new T.HBa(this.config,b,this.is,this.Lf,this.navigator,this.Jr);break;default:a=new n.lm(this.config,b,this.is);}return a;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(r.y8)),c.__param(1,h.l(p.wU)),c.__param(2,h.l(g.YL)),c.__param(3,h.l(u.Tg)),c.__param(4,h.l(J.th)),c.__param(5,h.l(E.Ae)),c.__param(6,h.l(D.dv)),c.__param(7,h.l(C.xb)),c.__param(8,h.l(P.mm)),c.__param(9,h.l(B.rj)),c.__param(10,h.l(R.Ai)),c.__param(11,h.l(V.BB))],b);})();b.Wta=f;},function(f,b,a){var c,h,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.hxa=void 0;c=a(0);h=a(1);k=a(257);r=a(181);g=a(32);p=a(256);d=a(255);f=(function(){var b;function a(a,b,c){this.config=a;this.PKa=b;this.cast=c;}a.prototype.hKa=function(){switch(this.config().X5){case g.Ik.N6:return p.O6.Bfa(this.PKa,this.cast);case g.Ik.AB:return d.fy.Bfa(this.config);default:return this.PKa;}};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(r.YL)),c.__param(1,h.l(k.m$)),c.__param(2,h.l(p.wU))],b);})();b.hxa=f;},function(f,b,a){var c,h,k,r,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.eCa=void 0;c=a(0);h=a(32);k=a(1);r=a(144);g=a(21);p=a(487);d=a(465);m=a(11);f=(function(){var b,f;function a(a,b,c){this.qo=a;this.Ca=b;this.i_a=c;this.Gfb="video/mp4;codecs={0}";this.zab="audio/mp4;codecs={0}";a=this.qo.zI(h.Bd.Vu);this.Ffb=r.Kd.rKa(a);}a.prototype.mP=function(a){a=this.qo.zvb(a);a=this.Ca.bD(a)?a:h.Bd.NM;return this.i_a.format(this.Gfb,this.Ffb[a]);};a.prototype.iP=function(a){if(0 === a.length)return this.i_a.format(this.zab,r.Kd.cU);a=d.u6[a[0].jg] || b.wsa;return a === b.wsa?m.ey:a === b.y2a?m.Zxa:m.Yxa;};f=b=a;f.wsa="AAC";f.y2a="XHEAAC";return f=b=c.__decorate([k.N(),c.__param(0,k.l(h.vF)),c.__param(1,k.l(g.Ae)),c.__param(2,k.l(p.paa))],f);})();b.eCa=f;},function(f,b,a){var c,h,k,r,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.Rua=void 0;c=a(0);h=a(32);k=a(181);r=a(1);g=a(59);p=a(467);d=a(466);f=(function(){var b;function a(a,b,c){this.config=a;this.QIa=b;this.rIb=c;this.TJb=this.bob();}a.prototype.XOa=function(){return this.qNa().YOa();};a.prototype.ZOa=function(a){return this.Yt().YOa(a);};a.prototype.qNa=function(){this.Pda && this.Pda.type == this.config().Qda || (this.Pda=this.QIa.fnb(this.config().Qda));return this.Pda;};a.prototype.Yt=function(){this.W5 && this.W5.type == this.config().X5 || (this.W5=this.QIa.lob(this.config().X5),this.W5.ida(this.rIb.mvb()));return this.W5;};a.prototype.zvb=function(a){var d;if(!a || !a.length)return h.Bd.VU;a=this.Psb(a);for(var b=[h.Bd.NM,h.Bd.VU,h.Bd.zW,h.Bd.Zu,h.Bd.Vu,h.Bd.oF,h.Bd.qy,h.Bd.mj],c=b.length;c--;){d=b[c];if((0,this.TJb[d])(a))return d;}return h.Bd.NM;};a.prototype.Hu=function(a){return this.Yt().Hu(a);};a.prototype.$v=function(a){return this.Yt().$v(a);};a.prototype.yw=function(){return this.Yt().yw();};a.prototype.pT=function(){return this.Yt().pT();};a.prototype.mT=function(){return this.qNa().mT();};a.prototype.nT=function(){return this.Yt().nT();};a.prototype.qT=function(){return this.Yt().qT();};a.prototype.zI=function(a){return this.Yt().zI(a);};a.prototype.FI=function(){return this.Yt().FI();};a.prototype.kQ=function(){return this.Yt().kQ();};a.prototype.Psb=function(a){var b;b={};a.filter(function(a){return "video" === a.type;}).forEach(function(a){b[a.jg]="";});return Object.keys(b);};a.prototype.bob=function(){var a;a={};a[h.Bd.mj]=function(a){return a.some(function(a){return -1 < a.indexOf("av1");});};a[h.Bd.oF]=function(a){return a.some(function(a){return -1 < a.indexOf("hpl");});};a[h.Bd.qy]=function(a){return a.some(function(a){return -1 < a.indexOf("vp9");});};a[h.Bd.Vu]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-dv");});};a[h.Bd.Zu]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-hdr");});};a[h.Bd.zW]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-main10-L") || -1 < a.indexOf("hevc-main-L");});};a[h.Bd.VU]=(function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=S(b);for(b=a.next();!b.done;b=a.next()){if(c[b.value])return !0;}}).bind(null,[g.Y.DF]);a[h.Bd.NM]=function(){return !0;};return a;};b=a;return b=c.__decorate([r.N(),c.__param(0,r.l(k.YL)),c.__param(1,r.l(d.M6)),c.__param(2,r.l(p.K7))],b);})();b.Rua=f;},function(f,b,a){var c,h,k,r,g,p,d,m,n,q,u,J,E,L,D,C,T,P,B,R,V;Object.defineProperty(b,"__esModule",{value:!0});b.qo=void 0;f=a(1);c=a(32);h=a(14);k=a(1051);r=a(181);g=a(121);p=a(1050);d=a(257);m=a(1049);n=a(467);q=a(466);u=a(1048);J=a(256);E=a(9);L=a(461);D=a(1043);C=a(460);T=a(1042);P=a(254);B=a(1041);R=a(459);V=a(31);b.qo=new f.Kc(function(a){a(g.NB).to(p.eCa).Z();a(c.vF).to(k.Rua).Z();a(d.y8).to(m.hxa).Z();a(q.M6).to(u.Wta).Z();a(d.m$).si({isTypeSupported:E.UF && E.UF.isTypeSupported});a(J.wU).si("undefined" !== typeof cast?cast:null);a(n.K7).Lx(function(a){return {mvb:function(){return a.ib.get(V.aG);}};});a(r.YL).Lx(function(a){return a.ib.get(h.Jc);});a(L.g9).to(D.sya).Z();a(C.f9).to(T.tya).Z();a(P.J7).to(B.Qva).Z();a(R.N$).si(O);});},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.ECa=void 0;c=a(0);h=a(1);f=(function(){function a(a){this.kqb=void 0 === a?10:a;}return a=c.__decorate([h.N()],a);})();b.ECa=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.bua=void 0;c=a(0);h=a(1);k=a(258);f=(function(){var b;function a(a){this.SRb=a;this.s5={};}a.prototype.Cub=function(){var a,b,c;a=[];for(b in this.s5){c=this.s5[b];a.push({fz:Number(b),aF:c.Qm().aF,Dga:c.Qm().Dga});}return a;};a.prototype.wY=function(a){var b,c;b=a.fz;c=this.s5[b];c || (c=this.SRb(),this.s5[b]=c);c.wY(a);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.uW))],b);})();b.bua=f;},function(f,b,a){var c,h,k,r,g;Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;c=a(0);h=a(1);k=a(50);r=a(4);g=a(469);f=(function(){var b;function a(a){this.config=a;this.Gqa=k.rb;this.WK=[];}a.prototype.Qm=function(){var b;for(var a;0 < this.WK.length;){a=this.WK.shift();this.EGa(a);}a=void 0 === this.wP || void 0 === this.eD?r.rb:this.eD.Oa(this.wP);b=a.lRa()?0:this.Gqa.aa(k.gB) / a.aa(r.fa);return {aF:Math.floor(b),Dga:a.aa(r.fa)};};a.prototype.wY=function(a){this.Gqa=this.Gqa.add(a.size);this.WK.push(a.jqb);for(this.WK.sort(function(a,b){return a.start.zj(b.start);});this.WK.length > this.config.kqb;){a=this.WK.shift();this.EGa(a);}};a.prototype.EGa=function(a){void 0 === this.wP && (this.wP=a.start);void 0 !== this.eD && 0 > this.eD.zj(a.start) && (this.wP=this.wP.add(a.start.Oa(this.eD)));if(void 0 === this.eD || 0 > this.eD.zj(a.end))this.eD=a.end;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(g.uaa))],b);})();b.FCa=f;},function(f,b,a){var c,h,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.QA=void 0;f=a(1);c=a(1055);h=a(1054);k=a(1053);r=a(468);g=a(469);p=a(258);b.QA=new f.Kc(function(a){a(p.vaa).to(c.FCa);a(r.P6).to(h.bua).Z();a(g.uaa).si(new k.ECa());a(p.uW).Rf(function(a){return function(){return a.ib.get(p.vaa);};});});},function(f,b,a){var h,k,r,g,p,d;function c(a,b,c,d,f,g,h,l,p,r,n,q,u,B){var m;m=this;this.dd=a;this.Ca=b;this.Ib=d;this.Pr=g;this.aP=h;this.kNa=l;this.config=r;this.bj=q;this.ba=u;this.sx=B;this.j=n.create(u.u,u.uk,p,B,u.$a,u.id);this.j.background=!0;this.j.qa=u.qa;this.log=c.ob("VideoPlayer",this.j);this.rVa=[];this.ended=!1;this.aU();this.j.state.addListener(function(a){a.newValue === k.yb.rd && m.fe(k.Ob.Uka,{movieId:u.u});});this.j.Ta.lk && (this.xH=f.gnb(this,this.j),this.j.addEventListener(k.W.FK,function(a){m.fe(k.Ob.rNb,{segmentId:a.segmentId});}));}Object.defineProperty(b,"__esModule",{value:!0});b.gxa=void 0;h=a(2);k=a(13);r=a(4);g=a(9);p=a(79);d=a(24);c.prototype.isReady=function(){return this.j.state.value === k.yb.rd;};c.prototype.cwb=function(){return this.j.u;};c.prototype.H0=function(){return this.j.ea;};c.prototype.Bo=function(){return this.j.Pf;};c.prototype.Xt=function(){return this.j;};c.prototype.Tz=function(){return this.j.Sr.value;};c.prototype.GAb=function(){return this.j.paused.value;};c.prototype.oAb=function(){return this.ended;};c.prototype.Lh=function(){var a;a=this.j.vea.value;return a?{networkStalled:! !a.c5,stalled:! !a.c5,progress:a.ni,progressRollback:! !a.XJb}:null;};c.prototype.getError=function(){var a;a=this.j.Cj;return a?a.tra():null;};c.prototype.tub=function(){var a;a=(this.j0() || 0) + this.j.vNa();return Math.min(a,this.FNa());};c.prototype.j0=function(){return this.j.vD();};c.prototype.FNa=function(){return this.j.Lt.aa(r.fa);};c.prototype.Kxb=function(){return this.j.wL?{width:this.j.wL.width,height:this.j.wL.height}:null;};c.prototype.pia=function(){var f;if(this.j.zn){for(var a,b=0;b < this.j.zn.length;b++){for(var c=this.j.zn[b],d=0;d < c.tc.length;d++){f=c.tc[d];this.Ca.Dh(f.Lfa) && this.Ca.Dh(f.zZ) && this.Ca.Dh(f.yZ) && this.Ca.Dh(f.xZ) && 0 < f.zZ && (f=f.xZ / f.yZ,a=this.Ca.Dh(a)?Math.min(a,f):f);}}return a;}};c.prototype.Jub=function(){return this.j.pia();};c.prototype.Mtb=function(a){var b,c;return (null === (b=this.j.qa) || void 0 === b?0:b.Yi.fQ("generateScreenshots"))?this.kNa.zo(this.log,this.j.qa.Yi,a):(b=null === (c=this.j.Ta) || void 0 === c?void 0:c.Oo)?this.kNa.Je(this.log,Object.assign({packageId:b},a)):Promise.reject("Unknown packageId");};c.prototype.Uub=function(){return this.Vub(this.j.rga);};c.prototype.Ztb=function(){var a;a=this;return this.j.ho?this.j.ho.map(function(b){return a.xD(b);}).filter(function(a){return null !== a;}):[];};c.prototype.bPa=function(a){var b,c;b=this;c=a && this.j.ho.find(function(c){return b.xD(c) === a;}) || this.j.ud.value;return null === c?[]:c.ql.map(function(a){return b.xD(a);}).filter(function(a){return null !== a;});};c.prototype.CAb=function(){return this.j.muted.value;};c.prototype.Nxb=function(){return this.j.volume.value;};c.prototype.Ytb=function(){return this.xD(this.j.ud.value);};c.prototype.aPa=function(){return this.xD(this.j.Hc.value);};c.prototype.dAb=function(){return ! !this.j.background;};c.prototype.pOb=function(a){this.j.muted.set(! !a);};c.prototype.KOb=function(a){this.j.volume.set(this.tUa(a,1));};c.prototype.uOb=function(a){this.j.playbackRate.set(this.tUa(a,2));};c.prototype.Pm=function(){return this.j.playbackRate.value;};c.prototype.YNb=function(a){var b,c;b=this;c=this.j.ho.find(function(c){return b.xD(c) === a;});c?this.j.ud.set(c):this.log.error("Invalid setAudioTrack call");};c.prototype.lZa=function(a){var d;if(null !== this.j.ud.value){for(var b=this.j.ud.value.ql,c=0;c < b.length;c++){d=b[c];if(!a && null === d){this.j.Hc.set(null);return;}if(this.xD(d) === a){this.log.info("Setting Timed Text, profile: " + d.profile);this.j.Hc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.UYa=function(a){this.j.background=a;};c.prototype.eT=function(){this.j.eT();};c.prototype.addEventListener=function(a,b,c){this.Ib.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Ib.removeListener(a,b);};c.prototype.vx=function(){};c.prototype.load=function(){var a;a=this;this.loaded || (this.loaded=!0,this.j.load(function(b,c){try{a.fe(k.Ob.wCb,void 0,!0);b.qa && (b.qa.Oc.T1a && a.fe(k.Ob.qUb,b.qa.Oc.T1a,!0),b.qa.Oc.dr && a.fe(k.Ob.qNb,{segmentMap:b.qa.Oc.dr},!0));c({ia:!0});}catch(A){c({ja:h.L.vh,ub:a.dd.Ye(A)});}}));};c.prototype.close=function(a){var b;b=this;this.qJa || (this.qJa=new Promise(function(c){a?b.j.SC(a,c):b.j.close(c);}));return this.qJa;};c.prototype.play=function(){this.j.Mk?this.j.fireEvent(k.W.kYa):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(k.W.t1a)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(k.W.HTb));};c.prototype.seek=function(a,b,c,d){this.j.ji?this.j.ji.seek(a,b,c,d):this.j.JC=a;};c.prototype.wIb=function(a){return this.xH?(this.log.trace("Playing a segment",a),this.xH.play(a)):Promise.resolve();};c.prototype.mKb=function(a){return this.xH?(this.log.trace("Queueing a segment",a),this.xH.jl(a)):Promise.resolve();};c.prototype.kj=function(a,b){return this.xH?(this.log.trace("Updating next segment weights",a,b),this.xH.kj(a,b)):Promise.resolve();};c.prototype.HT=function(){this.j.HT();};c.prototype.D0=function(){var a;a=this.j.ap.D0();return {bounds:a.OO,margins:a.jq,size:a.size,visibility:a.visibility};};c.prototype.VS=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.BT && (b && this.j.BT.sqa(b),c && this.j.BT.tqa(c),"boolean" === typeof a && this.j.BT.uqa(a));this.j.ap && d && this.j.ap.COb(d);};c.prototype.mZa=function(a){this.j.rl=a;};c.prototype.xxb=function(a){return this.j.Nx && this.j.Nx.uvb(a) || null;};c.prototype.Stb=function(){return this.dd.AR({playerver:this.config.version,jssid:this.config.nBb,groupName:this.config.vvb(),xid:this.j.ea,pbi:this.j.index},this.config.sIb,{prefix:"pi_"});};c.prototype.uzb=function(a){this.j.vd(h.K.L5a,h.L.zl,a);};c.prototype.lCb=function(a,b,c,d){if(!this.Ca.mHa(a))throw Error("invalid url");this.rVa.push({url:a,name:b,Zhb:c,options:d});this.tWa();};c.prototype.POa=function(){var a,b,c,f,g,h,l,k;a={};b=this.j.VZa;try{if((this.j.Cj && (a.errorCode=this.j.Cj.UZ,a.errorType=b?"endplay":"startplay"),a.playdelay=d.hk(this.j.Aea()),a.xid=this.j.ea,this.j.qa && this.Ca.bo(this.j.qa.Oc.Oo) && (a.packageId=Number(this.j.qa.Oc.Oo)),a.auth=this.j.bub(),b)){a.totaltime=this.j.dn?this.vw(this.j.dn.qQ()):0;a.abrdel=this.j.dn?this.j.dn.rNa():0;c=this.j.ji;f=c?c.sD():null;this.Ca.Dh(f) && (a.totdfr=f);f=c?c.aQ():null;this.Ca.Dh(f) && (a.totcfr=f);g=c?c.Gvb():null;g && (a.rbfrs_decoder=g.FZ,a.rbfrs_network=g.R2);a.rbfrs_delay=this.j.dn?this.j.dn.Ika:0;a.init_vbr=this.j.o1;h=this.lQ();this.Ca.bD(h) && (a.pdltime=h);l=this.j.uf.value;k=l && l.stream;k && (a.vbr=k.R,a.vdlid=k.wd);a.bufferedTime=this.j.vNa();}}catch(C){this.log.error("error capturing session summary",C);}return a;};c.prototype.KP=function(a){this.j.Ta.gm && (this.j.Ta.gm.F6b=1);return this.Ca.Dh(this.j.gb.value)?(a=Object.assign(Object.assign({},this.Pr.create(this.j)),{action:a}),this.aP(p.pm.KP).zo(this.log,this.j.qa.Yi,a).then(function(){return {success:!0};})["catch"](function(a){return {success:!1,errorCode:a.code,errorSubCode:a.ld,errorExternalCode:a.Hg,errorData:a.data,errorDetails:a.Nt};})):Promise.resolve({success:!1});};c.prototype.Vub=function(a){return {register:a.register.bind(a),notifyUpdated:a.oUa.bind(a),getModel:a.awb.bind(a),getGroups:a.r0.bind(a),addEventListener:a.addEventListener.bind(a),removeEventListener:a.removeEventListener.bind(a),getTime:a.getTime.bind(a)};};c.prototype.xD=function(a){var b;if(null !== a){b=a.cKb=a.cKb || ({trackId:a.jb,bcp47:a.Kl,displayName:a.displayName,trackType:a.wn,channels:a.Gp});a.Go && (b.isImageBased=!0);this.IAb(a) && (b.isNative=a.isNative);this.JAb(a) && (b.isNoneTrack=a.F1(),b.isForcedNarrative=a.z1());return b;}return null;};c.prototype.IAb=function(a){return "undefined" !== typeof a.isNative;};c.prototype.JAb=function(a){return "undefined" !== typeof a.F1 && "undefined" !== typeof a.z1;};c.prototype.tUa=function(a,b){return 0 <= a?a <= b?a:b:0;};c.prototype.vw=function(a){return this.Ca.Dh(a)?(a / 1E3).toFixed(0):"";};c.prototype.fe=function(a,b,c){b=b || ({});b.target=this;this.Ib.ac(a,b,!c);};c.prototype.aU=function(){var a;a=this;this.j.addEventListener(k.W.kra,function(){a.fe(k.Ob.Np);});this.j.addEventListener(k.W.u2,function(){a.fe(k.Ob.xIa);});this.j.addEventListener(k.W.ll,function(){a.fe(k.Ob.xIa);});this.j.addEventListener(k.W.QI,function(b){a.fe(k.Ob.QI,{errorCode:b});});this.j.addEventListener(k.W.Xda,function(b){a.fe(k.Ob.$hb,b.j);});this.j.addEventListener(k.W.Mk,function(b){a.fe(k.Ob.aib,b);});this.j.Sr.addListener(function(){a.fe(k.Ob.OIb);});this.j.paused.addListener(function(){a.fe(k.Ob.OHb);});this.j.muted.addListener(function(){a.fe(k.Ob.dFb);});this.j.volume.addListener(function(){a.fe(k.Ob.jUb);});this.j.Ub.addListener(function(){a.T0a();});this.j.state.addListener(function(){a.T0a();});this.j.vea.addListener(function(b){a.tCb || a.j.state.value != k.yb.rd || b.newValue || (a.tCb=!0,a.fe(k.Ob.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.POa());}));a.fe(k.Ob.wea);});this.j.ud.addListener(function(b){a.fe(k.Ob.FO);b.oldValue && b.newValue && b.oldValue.ql == b.newValue.ql || a.fe(k.Ob.dF);setTimeout(function(){var b;if(null !== a.j.ud.value && null !== a.j.Hc.value){b=a.j.ud.value.ql;0 <= b.indexOf(a.j.Hc.value) || (a.log.info("Changing timed text track to match audio track"),a.j.Hc.set(b[0]));}},0);});this.j.Hc.addListener(function(b){b.oldValue && b.newValue && b.oldValue.jb == b.newValue.jb || a.fe(k.Ob.nL);});this.j.addEventListener(k.W.dF,function(){a.fe(k.Ob.dF);});this.j.addEventListener(k.W.FT,function(){a.fe(k.Ob.FT);});this.j.state.addListener(function(b){switch(b.newValue){case k.yb.rd:a.fe(k.Ob.Bqb);a.fe(k.Ob.cUb);a.fe(k.Ob.OHa);a.fe(k.Ob.dF);a.fe(k.Ob.vCb);a.tWa();a.vUb();break;case k.yb.CLOSING:a.j.Cj && a.fe(k.Ob.error,a.j.Cj.tra());break;case k.yb.CLOSED:(a.fe(k.Ob.closed),a.Ib.Gg());}});};c.prototype.vUb=function(){var a;a=this;this.j.ap.addEventListener("showsubtitle",function(b){a.fe(k.Ob.nPb,b,!0);});this.j.ap.addEventListener("removesubtitle",function(b){a.fe(k.Ob.FLb,b,!0);});};c.prototype.tWa=function(){if(this.j.state.value == k.yb.rd){for(var a,b,c;b=this.rVa.shift();){a=this.j.ap.hda(b.url,b.name,b.options);b.Zhb && (c=a);}c && this.j.Hc.set(c);}};c.prototype.T0a=function(){var a;a=this.j.state.value == k.yb.rd && this.j.Ub.value == k.sb.Ds;this.ended !== a && (this.ended=a,this.j.yp("Ended changed: " + a),(a || this.j.state.value === k.yb.CLOSING) && this.fe(k.Ob.urb));};c.prototype.lQ=function(){var a,b;try{a=/playercore.*js/;b=g.Ls.getEntriesByType("resource").filter(function(b){return null !== a.exec(b.name);});if(b && 0 < b.length)return JSON.stringify(Math.round(b[0].duration));}catch(x){}};b.gxa=c;},function(f,b,a){var c,h,k,r,g,p,d,m,n,q,u,J,E;Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;c=a(0);h=a(1);k=a(94);r=a(27);g=a(21);p=a(6);d=a(90);m=a(260);n=a(471);q=a(1057);u=a(259);J=a(79);E=a(470);f=(function(){var b;function a(a){this.te=a;}a.prototype.Unb=function(a,b,c,f,h){return new q.gxa(this.te.get(r.Cf),this.te.get(g.Ae),this.te.get(p.xb),this.te.get(d.I7),this.te.get(m.mW),this.te.get(u.VV),this.te.get(J.MU),this.te.get(E.W9),this.te.get(n.l7),a,b,c,f,h);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.v8))],b);})();b.jDa=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.D1a=void 0;f=a(1);c=a(473);h=a(1058);b.D1a=new f.Kc(function(a){a(c.Laa).to(h.jDa).Z();});},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;c=a(0);h=a(1);k=a(14);f=(function(){var b;function a(a){this.config=a;}a.prototype.SJb=function(a,b,c){var d,f;if(this.config().GNb){d=a.metrics;if(void 0 !== d){f=a.playlistSegment || void 0;b.gq.transition({isBranching:void 0 === f || void 0,isPlaygraph:f,mid:b.u,xid:b.ea,srcxid:c.ea,srcmid:c.u,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard});}}};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.Jc))],b);})();b.NCa=f;},function(f,b,a){var h,k,r;function c(a,b,c,f,h){this.debug=a;this.version=b;this.nBb=c;this.sIb=f;this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;h=a(0);k=a(1);r=a(4);c.prototype.vvb=function(){return this.config().Jz;};c.prototype.gia=function(){return this.config().lIa;};c.prototype.Xia=function(){return r.Lb(this.config().QIb);};c.prototype.pOa=function(){return this.config().sCb;};c.prototype.sOa=function(){return this.config().kDb;};f=(function(){var b;function a(){}a.prototype.Bz=function(a,b,f,g,h){return new c(a,b,f,g,h);};b=a;return b=h.__decorate([k.N()],b);})();b.PBa=f;},function(f,b,a){var r,g,p,d;function c(a,b,c,d,f,g){var h;h=this;this.S=b;this.j=c;this.iA=d;this.Aa=f;this.rH=g;this.DH=function(){h.nA && (h.nA.cancel(),h.nA=void 0);};this.log=a.ob("SegmentManager",this.j);this.Va=new Map();this.j.Ta.lk && (this.j.addEventListener(p.W.FK,function(a){return h.UJ(a);}),this.j.addEventListener(p.W.closed,this.DH));}function h(a,b){this.id=a;this.Sea=b;}function k(a,b,c,d){return g.zc.call(this,a,c,void 0,void 0,void 0,b,void 0,d) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Dta=void 0;r=a(2);g=a(44);p=a(13);d=a(4);M(k,g.zc);k.prototype.toString=function(){return this.code + "-" + this.ld + " : " + this.message + "\n" + JSON.stringify(this.data);};h.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Xd,contentEndPts:this.Ge};};ma.Object.defineProperties(h.prototype,{Xd:{configurable:!0,enumerable:!0,get:function(){return this.Sea.startTimeMs;}},Ge:{configurable:!0,enumerable:!0,get:function(){return this.Sea.endTimeMs;}},mA:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Sea.next);}}});c.prototype.UJ=function(a){var b;b=this;0 === this.Va.size && Object.entries(this.j.i0()).forEach(function(a){var c;c=S(a);a=c.next().value;c=c.next().value;b.Va.set(a,new h(a,c));});this.ha=this.Va.get(a.segmentId);};c.prototype.play=function(a){this.xu && (this.xu=void 0);this.DH();this.log.trace("Playing segment",a);return this.TQa(a)?this.vIb(a):this.ZR(a);};c.prototype.jl=function(a){this.log.trace("Queueing segment",a);return this.TQa(a)?this.lKb(a):this.nKb(a);};c.prototype.kj=function(a,b){var c,d;c=this;d=this.j.Gb;if(!d)return Promise.reject(this.getError(r.K.sta,"ASE session manager is not yet initialized",r.L.x6,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.LT(a,b);c.j.fireEvent(p.W.Vra,{Ba:a,gTb:b});f();}catch(L){g(c.getError(r.K.sta,"updateNextSegmentWeights threw an exception",r.L.c3a,{segmentId:a,updates:b,error:L}));}});};c.prototype.TQa=function(a){return this.ha?void 0 !== this.j.i0()[this.ha.id].next[a]:!1;};c.prototype.Zia=function(){if(this.j.Gb)return this.j.Gb.Bw().Vd;};c.prototype.Dwb=function(){if(this.j.Gb)return this.j.Gb.Bw().id;};c.prototype.Eub=function(a){if(this.j.Gb)return (a=this.j.Gb.h0(a)) && a.pe;};c.prototype.vIb=function(a){var b,c,f;b=this;c=this.j.Gb;if(!c)return Promise.reject(this.getError(r.K.LL,"ASE session manager is not yet initialized",r.L.x6,{id:a}));if(this.ha && 1 === this.ha.mA.length)return this.ZR(a);if(!this.j.ji)return (this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(r.K.LL,"MediaPresenter is not initialized",r.L.$2a,{id:a})));f=this.Eub(a);return void 0 === f?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.ZR(a)):new Promise(function(g,h){var q,t,u,x,A,E;function l(){!u && t && q && (E.cancel(),u=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:t,repositioned:q,completed:u}),c.Ht(a,!1,!0)?(g(),u=!0):(u=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.ZR(a).then(g)["catch"](h)));}function m(){q=!0;b.log.trace("Player is repositioned",{id:a,stopped:t,repositioned:q,completed:u});b.j.removeEventListener(p.W.ll,m);l();}function k(){b.j.removeEventListener(p.W.BE,k);c.stop();}function n(){t=!0;b.log.trace("ASE is stopped",{id:a,stopped:t,repositioned:q,completed:u});c.removeEventListener("stop",n);l();}q=!1;t=!1;u=!1;x=b.Va.get(a);if(b.j.v1a()){if((A=b.Zia(),void 0 === A))return (b.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:a}),b.ZR(a));}else A=x.Xd + (f || 0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:A,currentSegment:b.ha,nextSegment:x},null,"  "));b.j.fireEvent(p.W.V2,{Fg:b.ha && b.ha.id,IR:a});c.addEventListener("stop",n);b.j.addEventListener(p.W.BE,k);b.j.addEventListener(p.W.ll,m);E=b.Aa.Sh(d.ph(10),function(){u=!0;E.cancel();h(b.getError(r.K.LL,"Timed out waiting for the player to be repositioned and ASE to be stopped",r.L.Z2a,{id:a,stopped:t,repositioned:q,completed:u}));});b.S.seek(A,p.$d.KB);});};c.prototype.ZR=function(a){var b;b=this.Va.get(a);return b?this.HS(b,r.K.LL):Promise.reject(this.getError(r.K.LL,"Unable to find the separated segment",r.L.rta,{id:a}));};c.prototype.lKb=function(a){var b;b=this.j.Gb;if(!b)return Promise.reject(this.getError(r.K.pF,"ASE session manager is not yet initialized",r.L.x6,{id:a}));this.j.fireEvent(p.W.V2,{Fg:this.ha && this.ha.id,IR:a});if(b.Ht(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(r.K.pF,"ASE chooseNextSegment failed",r.L.X2a,{id:a}));};c.prototype.nKb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.u,srcsegment:this.Dwb()});if(this.xu)return Promise.reject(this.getError(r.K.pF,"Unable to queue a non-next segment because there is currently already a segment queued",r.L.b3a,{currentSegment:this.ha?this.ha.id:void 0,queuedSegment:this.xu.id,failedSegment:a}));if(!this.ha)return Promise.reject(this.getError(r.K.pF,"Unable to queue a non-next segment because there is no currently playing segment",r.L.Y2a,{nextSegmentid:a}));c=this.Va.get(a);if(!c)return Promise.reject(this.getError(r.K.pF,"Unable to find the separated segment",r.L.rta,{nextSegmentid:a,currentSegmentId:this.ha.id}));this.xu={id:a,tu:new Promise(function(f,g){var h;b.nA=b.iA.Efa({Xia:function(){return d.Lb(100);}},function(){return b.S.j.gb.value || 0;});h=b.Zia() - 500;b.log.trace("Adding moment for queued segment",{segment:a,pts:h});b.nA.observe(h,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.ha.id,playerEndPts:b.Zia(),pts:h});b.xu=void 0;b.DH();b.HS(c,r.K.pF).then(f)["catch"](g);});})};this.xu.tu["catch"](function(a){b.j.vd(a.code,a);});return Promise.resolve();};c.prototype.HS=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.S.seek(a.Xd,p.$d.kv);d();}catch(E){f(c.getError(b,"Seek threw an exception",r.L.a3a,{id:a.id,error:E}));}});};c.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new k(a,b,c,d);};b.Dta=c;},function(f,b,a){var g,p,d,m;function c(a,b,c,d,f,h,l,k,r,n){var q;q=this;this.wa=a;this.iA=c;this.eoa=d;this.config=f;this.sx=h;this.bj=l;this.bS=k;this.pd=r;this.Irb=Object.values(p.Ob).map(function(a){return {event:a,zD:function(b){return q.Ib.ac(a,b);}};});this.Ib=n.create();this.yE=[];this.log=b.ob("SegmentManager");new g.Kn();this.Jha=!0;this.Pf=this.pd.createElement("div",m.T$);}function h(a,b,c,d,f,h,l,m,p,r){var n;n=this;this.log=a;this.config=b;this.eGb=c;this.eoa=d;this.bj=f;this.bS=h;this.fs=l;this.ba=m;this.Pf=p;this.sx=r;this.DH=function(){n.nA && (n.nA.cancel(),n.nA=void 0);};this.Dja=function(a){n.log.trace("Received the transition event",{movieId:a.u});n.CKb();};this.log.debug("Constructing session data",k(m));this.Gla=new g.Kn();this.CRb=new Promise(function(a){n.CKb=a;});}function k(a){return {movieId:a.u};}function r(a){return JSON.stringify({movieId:a.u,startPts:a.T,logicalEnd:a.Gj,params:a.$a?{trackingId:a.$a.vi,authParams:a.$a.GO,sessionParams:a.$a.gm,disableTrackStickiness:a.$a.wga,uiPlayStartTime:a.$a.G5,loadImmediately:a.$a.a2,playbackState:a.$a.playbackState?{currentTime:a.$a.playbackState.currentTime,volume:a.$a.playbackState.volume,muted:a.$a.playbackState.muted,playbackRate:a.$a.playbackState.playbackRate}:void 0,pin:a.$a.xVa,heartbeatCooldown:a.$a.Sja,uiLabel:a.$a.ke,uxLabels:a.$a.R5}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.SBa=void 0;g=a(146);p=a(13);d=a(4);m=a(11);h.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",k(this.ba));this.S=this.eoa.Unb(this.config,this.bS,this.bj,this.ba,this.sx);this.S.addEventListener(p.Ob.QI,function(a){b.log.trace("Segment is inactive",k(b.ba));b.fs.close(b.bj(a.errorCode));});this.S.addEventListener(p.Ob.closed,this.DH);if(a)(this.log.debug("Pausing background segment",k(this.ba)),this.S.addEventListener(p.Ob.Uka,this.Dja),this.S.pause());else {this.Pf.appendChild(this.S.Bo());c=function(a){b.Dja(a);b.S.removeEventListener(p.Ob.loaded,c);};this.S.addEventListener(p.Ob.loaded,c);}};h.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",r(this.ba));if(this.nA)this.log.trace("Segment is currently observing",k(this.ba));else if(this.ba.$a && this.ba.$a.a2)this.Gla.next(this);else {b=this.eGb.Efa(this.config,function(){var b;if(a.S){b=a.S.j.gb.value;if(b)return b;}return 0;});c=this.pjb(this.ba);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",k(a.ba));a.Gla.next(a);a.DH();});}};h.prototype.close=function(a){this.log.info("Closing segment",{segment:r(this.ba),error:a});return this.S?(this.S.removeEventListener(p.Ob.Uka,this.Dja),this.S.close(a)):Promise.resolve();};h.prototype.pjb=function(a){var b,c;b=a.Gj;a=a.$a?a.$a.a2:!1;c=0;b && !a && (c=b - this.config.pOa(),c < this.config.sOa() && (a=b - this.config.sOa(),c=b - a / 2));return c;};c.prototype.Kwb=function(){return this.Oe && this.Oe.S?this.Oe.S.isReady():!1;};c.prototype.Bo=function(){return this.Pf;};c.prototype.hi=function(){if(!this.Oe || !this.Oe.S)throw Error("Player not ready");return this.Oe.S;};c.prototype.TSb=function(a){var b,c;c=this.Aha(a);c?this.Z0a(c,a):(this.log.gda("xid",null === (b=this.Oe.S) || void 0 === b?void 0:b.H0()),this.log.error("Tried to update a non-existent segment",{segment:r(a),currentMovieId:this.Oe.ba.u,queuedMovieIds:this.yE.map(function(a){return a.ba.u;})}));};c.prototype.Wq=function(a){var b;this.log.info("Adding segment",r(a));this.Jha?(this.log.trace("First segment, loading",k(a)),b=this.TRa(a),this.Jha=!1):(this.log.trace("Subsequent segment, caching",k(a)),(b=this.Aha(a))?this.Z0a(b,a):(b=this.Jm(a),this.yE.push(b),this.Oe.observe()));return b?b.CRb:null;};c.prototype.transition=function(a){var b;if(this.gx && this.gx.S){b=this.gx;this.gx=void 0;this.log.info("Transitioning segment",r(b.ba));b && b.S && b.S.mZa(this.wa.zb().aa(d.fa));return this.r0a(b,a);}return Promise.resolve();};c.prototype.close=function(a){var b;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(k(this.Oe.ba)),nextSession:this.gx?JSON.stringify(k(this.gx.ba)):void 0});a=[this.Oe.close(a)];this.gx && a.push(this.gx.close());return Promise.all(a).then(function(){b.gx=void 0;b.yE=[];b.Jha=!0;});};c.prototype.addListener=function(a,b,c){this.Ib.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Ib.removeListener(a,b);};c.prototype.Z0a=function(a,b){this.qHb(a.ba,b);this.log.trace("Overwrote existing segment data",r(a.ba));};c.prototype.TRa=function(a){var b,c;b=this;this.log.info("Loading the next episode",k(a));this.Oe?(this.config.gia()[a.u]=a.T,c=this.Aha(a)):c=this.Jm(a);if(c)return (this.log.trace("Found the next session",k(a)),c.Gla.subscribe(function(a){b.qRb(a);}),this.Oe?(this.log.trace("Subsequent playback, caching player and pausing",k(a)),this.gx=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",k(a)),c.load(!1),this.r0a(c)),c);this.log.warn("Unable to find the session, make sure to add it before loading",k(a));};c.prototype.r0a=function(a,b){var c,d;b=void 0 === b?{}:b;this.log.trace("Playing episode",k(a.ba));c=this.Oe;this.Oe=a;if(this.Oe.S && (this.Oe.S.UYa(!1),this.aU(this.Oe.S,c?c.S:void 0),c && c.S)){d=c.S.Bo();a=this.Oe.S.Bo();d.style.display="none";c=c.close();this.Pf.appendChild(a);this.Oe.S && (a.style.display="block",this.Oe.S.getError()?this.Oe.S.close():(this.Oe.S.Xt().OSb(b),this.Oe.S.eT(),this.Oe.S.play()));c.then(function(){d.parentElement && d.parentElement.removeChild(d);});return c;}return Promise.resolve();};c.prototype.qRb=function(a){var b,c,d,f;if(this.yE.length && a.S){a=a.S.j.gb.value;b=this.yE[0];c=this.Oe.ba.Gj;d=this.Oe.ba.$a?this.Oe.ba.$a.a2:!1;if(c || d){d?f=0:c && (f=c - this.config.pOa());null !== a && a >= f && (this.log.info("Got a time change, loading the next player",k(b.ba)),this.TRa(b.ba),this.yE.splice(0,1));}}};c.prototype.Aha=function(a){return this.Oe.ba.u === a.u?this.Oe:this.yE.find(function(b){return b.ba.u === a.u;});};c.prototype.qHb=function(a,b){a.T=b.T || a.T;a.Gj=b.Gj || a.Gj;a.$a=b.$a || a.$a;a.qa=b.qa || a.qa;};c.prototype.Jm=function(a){return new h(this.log,this.config,this.iA,this.eoa,this.bj,this.bS,this,a,this.Pf,this.sx);};c.prototype.aU=function(a,b){this.Irb.forEach(function(c){b && b.removeEventListener(c.event,c.zD);a.addEventListener(c.event,c.zD);});this.Ib.ac(p.HB.LS);};b.SBa=c;},function(f,b,a){var c,h,k,r,g,p,d,m,n,q,u,J,E,L;Object.defineProperty(b,"__esModule",{value:!0});b.RBa=void 0;c=a(0);h=a(1);k=a(19);r=a(6);g=a(261);p=a(122);d=a(474);m=a(473);n=a(1063);q=a(1062);u=a(89);J=a(39);E=a(478);L=a(27);f=(function(){var b;function a(a,b,c,d,f,g,h,l,m,k){this.wa=a;this.rf=b;this.iA=c;this.bUb=d;this.bS=f;this.Aa=g;this.rH=h;this.bj=l;this.mha=m;this.pd=k;}a.prototype.Lnb=function(a,b){return new n.SBa(this.wa,this.rf,this.iA,this.bUb,b,a,this.bj,this.bS,this.pd,this.mha);};a.prototype.gnb=function(a,b){return new q.Dta(this.rf,a,b,this.iA,this.Aa,this.rH);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.qd)),c.__param(1,h.l(r.xb)),c.__param(2,h.l(g.yV)),c.__param(3,h.l(m.Laa)),c.__param(4,h.l(d.w$)),c.__param(5,h.l(J.Tg)),c.__param(6,h.l(u.IL)),c.__param(7,h.l(p.GB)),c.__param(8,h.l(E.BF)),c.__param(9,h.l(L.Cf))],b);})();b.RBa=f;},function(f,b,a){var c,h,k,r,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.Va=void 0;f=a(1);c=a(260);h=a(475);k=a(1064);r=a(1061);g=a(472);p=a(1060);b.Va=new f.Kc(function(a){a(c.mW).to(k.RBa).Z();a(h.eaa).to(r.PBa).Z();a(g.zaa).to(p.NCa).Z();});},function(f,b){function a(a,b,f){this.Aa=a;this.config=b;this.getTime=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Oya=void 0;a.prototype.observe=function(a,b){var c;c=this;this.cancel();this.oi=this.Aa.Kpa(this.config.Xia(),function(){c.getTime() >= a && (c.cancel(),b());});};a.prototype.cancel=function(){this.oi && (this.oi.cancel(),this.oi=void 0);};b.Oya=a;},function(f,b,a){var c,h,k,r;Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;c=a(0);h=a(1);k=a(1066);r=a(39);f=(function(){var b;function a(a){this.Aa=a;}a.prototype.Efa=function(a,b){return new k.Oya(this.Aa,a,b);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(r.Tg))],b);})();b.Nya=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.wTa=void 0;f=a(1);c=a(261);h=a(1067);b.wTa=new f.Kc(function(a){a(c.yV).to(h.Nya).Z();});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.reduce=void 0;b.reduce=function(a,b,f){for(;void 0 !== a;a=a.cause){f=b(f,a);}return f;};},function(f,b,a){var q,u,J,E,L;function c(a){return n.call(this,a,function(a){return {Details:a};}) || this;}function h(a){return n.call(this,a,function(a){return JSON.parse(a.toJSON());}) || this;}function k(a,b){b=n.call(this,b,function(b){return {Base64:a.encode(b)};}) || this;b.dc=a;return b;}function r(a,b){b=n.call(this,b,function(a){return a();}) || this;b.dd=a;return b;}function g(a,b){return d.call(this,a,b,function(a){var b;b=J.reduce(a,function(a,b){var c;a.name=void 0 !== a.name?a.name + ("-" + b.name):b.name;c="";c="undefined" !== typeof b.type && "undefined" !== typeof b.type.prefix?c + b.type.prefix:c + b.name;"undefined" !== typeof b.number && (c+=b.number);a.errorCode=void 0 !== a.errorCode?a.errorCode + ("-" + c):c;g.Qkb(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);}) || this;}function p(a){return n.call(this,a,function(a){return {Exception:a.message || "" + a,StackTrace:a.stack || "nostack"};}) || this;}function d(a,b,c){b=n.call(this,b,c) || this;b.dd=a;return b;}function m(a){return n.call(this,a,function(a){return {Details:a};}) || this;}function n(a,b){this.$r=a;this.value=b?b(a):a;}Object.defineProperty(b,"__esModule",{value:!0});b.Ixa=b.N5a=void 0;q=a(0);u=a(1);J=a(1069);E=a(27);L=a(41);n.prototype.LP=function(a){return this.$r === a;};M(m,n);m.prototype.eF=function(a,b){return b?"":"\r\n" + this.$r;};M(d,n);d.prototype.eF=function(){var a;a="";this.dd.tz(this.value,function(b,c){try{a+=", " + b + ": " + c;}catch(P){try{a+=", " + b + ": " + JSON.stringify(c);}catch(ba){a+=", error stringifying " + b;}}});return a.replace(/[\r\n]+ */g," ");};M(p,n);p.prototype.eF=function(a){var b;b="\r\n" + this.$r.message;a || (b+="\r\n" + this.$r.stack);return b;};M(g,d);g.Qkb=function(a,b,c){var g,h;for(var d=[],f=2;f < arguments.length;++f){d[f - 2]=arguments[f];}for(f=0;f < d.length;++f){g=a[d[f]];if(void 0 !== g){h="" + d[f];b[h]=b[h] || [];b[h].push(g);}}};b.N5a=g;M(r,n);r.prototype.eF=function(){var a;a="";this.dd.tz(this.value,function(b,c){a+=", " + b + ": " + c;});return a.replace(/[\r\n]+ */g," ");};M(k,n);k.prototype.eF=function(a,b){return this.$r && !b?"\r\n" + this.dc.encode(this.$r):"";};M(h,n);h.prototype.eF=function(){return this.$r?this.$r.toJSON():"";};M(c,n);c.prototype.eF=function(){return ", " + (this.$r.toString?"" + this.$r.toString():"");};f=(function(){var b;function a(a,b){this.dc=a;this.dd=b;this.jd=[];}a.prototype.ygb=function(a){this.jd.push(new m(a));};a.prototype.ogb=function(a){this.jd.push(new d(this.dd,a));};a.prototype.dgb=function(a){this.jd.push(new p(a));};a.prototype.cgb=function(a){this.jd.push(new g(this.dd,a));};a.prototype.ggb=function(a){this.jd.push(new r(this.dd,a));};a.prototype.zgb=function(a){this.jd.push(new k(this.dc,a));};a.prototype.ngb=function(a){this.jd.push(new h(a));};a.prototype.Agb=function(a){this.jd.push(new c(a));};a.prototype.Nk=function(){return this.jd;};b=a;return b=q.__decorate([u.N(),q.__param(0,u.l(L.Ai)),q.__param(1,u.l(E.Cf))],b);})();b.Ixa=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.Hxa=void 0;c=a(0);h=a(1);k=a(1070);n=a(41);g=a(27);f=(function(){var b;function a(a,b){this.dc=a;this.dd=b;}a.prototype.Pvb=function(){return new k.Ixa(this.dc,this.dd);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(n.Ai)),c.__param(1,h.l(g.Cf))],b);})();b.Hxa=f;},function(f,b,a){var h,k;function c(a,b,c,d,f,h,l){this.level=a;this.Im=b;this.timestamp=c;this.message=d;this.jd=f;this.prefix=h;this.index=void 0 === l?0:l;}Object.defineProperty(b,"__esModule",{value:!0});b.Xsa=void 0;h=a(4);k={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.v5=function(a,b){a=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (b?"":" " + this.vQb(! !a));return (this.timestamp.aa(h.fa) / 1E3).toFixed(3) + "|" + this.index + "|" + (k[this.level] || this.level) + "|" + this.Im + "| " + a;};c.prototype.vQb=function(a){var f;for(var b=this.jd.length,c="",d=0;d < b;++d){f=this.jd[d].$r;d && c.length && (c+=" ");if("object" === typeof f){if(null === f)c+="null";else if(f instanceof Error)c+=this.uQb(f,a);else try{c+=JSON.stringify(f);}catch(t){c+=this.tQb(f);}}else c+=f;}return c;};c.prototype.uQb=function(a,b){return a.toString() + (a.stack && !b?"\n" + a.stack:"") + "\n";};c.prototype.tQb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object" === typeof c && null !== c){if(-1 !== b.indexOf(c))return "<cycle>";b.push(c);}return c;});};b.Xsa=c;},function(f,b,a){var h,k;function c(a,b,c,d,f,l){a=h.MF.call(this,a,b,c,d) || this;a.Bja=f;Array.isArray(l)?a.prefix=l:l && "string" === typeof l && (a.prefix=[],a.prefix.push(l));return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Ysa=void 0;h=a(262);k=a(1072);M(c,h.MF);c.prototype.Sy=function(a,b,c){a=new k.Xsa(a,this.Im,this.wa.zb(),b,c,this.prefix);b=S(this.im.im);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a);}};c.prototype.Gfa=function(a){return new c(this.wa,this.Xv,this.im,a,this.Bja,this.prefix);};b.Ysa=c;},function(f,b,a){var h,k,n;function c(a,b,c,f,l){a=n.MF.call(this,a,b,c,l) || this;a.j=f;h.Xm(a,"playback");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.rAa=void 0;h=a(53);k=a(476);n=a(262);M(c,n.MF);c.prototype.Gfa=function(a){return new c(this.wa,this.Xv,this.im,this.j,a);};c.prototype.Sy=function(a,b,c){a=new k.M8(a,this.Im,this.wa.zb(),b,c,this.j.index);b=S(this.im.im);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a,this.j);}};b.rAa=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.EnumeratedErrorBase=void 0;b.EnumeratedErrorBase=function(a,b,f,h){this.type=a;this.name=a.name;this.number=b;"string" === typeof f?this.message=f:void 0 !== f && (this.cause=f);void 0 !== h && (this.message=h);};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.PC=void 0;c=a(1075);b.PC=function(a,b){var g;a=a.Pvb();for(var f=0;f < b.length;++f){g=b[f];void 0 != g && null != g && (g.eh && (g=g.eh),g.constructor === Uint8Array?a.zgb(g):"MediaRequest" === g.constructor.name?a.ngb(g):"string" === typeof g?a.ygb(g):"function" === typeof g?a.ggb(g):g instanceof Error?a.dgb(g):g instanceof c.EnumeratedErrorBase?a.cgb(g):g instanceof Object?a.ogb(g):a.Agb(g));}return a.Nk();};},function(f,b,a){var c,h,k,n,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.Pxa=void 0;c=a(0);h=a(262);k=a(1);n=a(1074);g=a(19);p=a(102);d=a(6);m=a(1073);f=(function(){var b;function a(a,b,c){this.wa=a;this.im=b;this.Nla=c;}a.prototype.ob=function(a,b,c,d,f){c=void 0 === c?this.im:c;return b?new n.rAa(this.wa,this.Nla,c,b,a):f?new m.Ysa(this.wa,this.Nla,c,a,d || "",f):new h.MF(this.wa,this.Nla,c,a);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(g.qd)),c.__param(1,k.l(p.tB)),c.__param(2,k.l(d.N8))],b);})();b.Pxa=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.Qxa=void 0;c=a(0);h=a(1);f=(function(){var b;function a(){this.CZa={};this.im=[];}a.prototype.e4=function(a,b){b && (this.CZa[a]=b,this.im=Object.values(this.CZa));};b=a;return b=c.__decorate([h.N()],b);})();b.Qxa=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.dSa=void 0;c=a(1078);h=a(1077);f=a(1);k=a(102);n=a(6);g=a(1071);b.dSa=new f.Kc(function(a){a(n.xb).to(h.Pxa).Z();a(k.tB).to(c.Qxa).Z();a(n.N8).to(g.Hxa).Z();});},function(f,b,a){var c,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.vya=void 0;c=a(0);h=a(14);k=a(11);n=a(1);f=(function(){var b;function a(a){this.config=a;}a.prototype.xr=function(){return this.jAb()?k.iva:(/widevine/i).test(this.config().he)?k.t7:(/fps/i).test(this.config().he)?"fairplay":k.IU;};a.prototype.jAb=function(){return (/clearkey/i).test(this.config().he);};b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(h.Jc))],b);})();b.vya=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Hva=void 0;c=a(0);h=a(1);k=a(263);f=(function(){var b;function a(){}a.prototype.oI=function(a,b){var c;c=this;a && Object.entries(b).forEach(function(b){var d,f,g;d=S(b);b=d.next().value;d=d.next().value;if(c.kAb(d)){f=S(d);d=f.next().value;g=f.next().value;f=a[d];Array.isArray(f)?(c.lga(a,b,d),f.forEach(function(a){c.oI(a,g);})):d === k.ry?Object.values(a).forEach(function(a){c.oI(a,g);}):(c.lga(a,b,d),"object" === typeof f && c.oI(f,g));}else c.lga(a,b,d);});};a.prototype.kAb=function(a){return Array.isArray(a);};a.prototype.lga=function(a,b,c){a.hasOwnProperty(b) || b === c || Object.defineProperty(a,b,{get:function(){return a[c];},enumerable:!1});};b=a;return b=c.__decorate([h.N()],b);})();b.Hva=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Jua=void 0;c=a(0);h=a(1);k=a(39);f=(function(){var b;function a(a,b){this.Aa=a;this.qZ=b;}a.prototype.Rc=function(a){this.Gg();this.oi=this.Aa.Sh(this.qZ,a);};a.prototype.Gg=function(){this.oi && this.oi.cancel();this.oi=void 0;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.Tg))],b);})();b.Jua=f;},function(f,b,a){var c,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.LCa=void 0;c=a(0);h=a(39);k=a(1);n=a(4);f=(function(){var b;function a(a,b,c){this.Aa=a;this.ARb=b;this.zD=c;}a.prototype.hD=function(){this.oi || (this.oi=this.Aa.Sh(n.Lb(this.ARb),this.zD));};a.prototype.hj=function(){this.oi && this.oi.cancel();this.oi=void 0;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(h.Tg))],b);})();b.LCa=f;},function(f,b,a){var c,h,k,n,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.fDa=b.Eta=void 0;c=a(0);h=a(1);k=a(14);n=a(30);g=a(31);f=(function(){var b;function a(a,b){this.Pi=this.Wrb(a,b.data.browserInfo);}a.prototype.Hxb=function(a,b){var c;b=this.Ixb(b);if(b)switch(a){case p.pSa:c=0 < b.length?Number(b[0]):0;break;case p.OEb:c=1 < b.length?Number(b[1]):0;break;case p.KHb:c=2 < b.length?Number(b[2]):0;break;case p.u4:c=3 < b.length?Number(b[3]):0;}return void 0 === c || isNaN(c)?0:c;};a.prototype.Ixb=function(a){return null === a || void 0 === a?void 0:a.split(".");};a.prototype.HQa=function(a){return this.Pi.name === a;};a.prototype.$I=function(a){return this.Pi.YJ.name === a;};a.prototype.LQa=function(a){return this.Pi.Eja === a;};a.prototype.Wrb=function(a,b){return Object.assign(Object.assign({Eja:this.Yrb(a,b)},this.Vrb(a,b)),{YJ:this.Zrb(a,b)});};a.prototype.Yrb=function(a,b){return b && b.Eja?b.Eja:(/Android.*Chrome\/[.0-9]* Mobile/).test(a)?k.HF.wVa:(/Android.*Chrome\/[.0-9]* /).test(a)?k.HF.w_a:k.HF.blb;};a.prototype.Vrb=function(a,b){return b && b.name && b.version?{name:b.name,version:b.version}:(/OPR/).test(a)?{name:k.zs.opera,version:""}:(b=a.match(/Edge\/(\d*)\./))?{name:k.zs.kr,version:b[1]}:(b=a.match(/Edg\/(\d*)\./))?{name:k.zs.Dqb,version:b[1]}:(b=a.match(/Chrome\/(\d*)\./))?{name:k.zs.chrome,version:b[1]}:(b=a.match(/Firefox\/(\d*)\./))?{name:k.zs.Xsb,version:b[1]}:(a=a.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:k.zs.KMb,version:a[1]}:{name:k.zs.chrome,version:""};};a.prototype.Zrb=function(a,b){return b && b.YJ && b.YJ.name && b.YJ.version?{name:b.YJ.name,version:b.YJ.version}:(/CrOS/).test(a)?{name:k.sm.eJa,version:""}:(/Tesla/).test(a)?{name:k.sm.F_a,version:""}:(b=a.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:k.sm.nSa,version:b[1] + "." + b[2] + "." + b[3]}:(/Windows NT/).test(a)?{name:k.sm.nsa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(a) || (/Android.*Chrome\/[.0-9]* /).test(a)?{name:k.sm.FY,version:""}:(/Linux/).test(a)?{name:k.sm.QBb,version:""}:{name:k.sm.nsa,version:""};};ma.Object.defineProperties(a.prototype,{iAb:{configurable:!0,enumerable:!0,get:function(){return this.HQa(k.zs.chrome);}},FAb:{configurable:!0,enumerable:!0,get:function(){return this.HQa(k.zs.opera);}},bAb:{configurable:!0,enumerable:!0,get:function(){return this.$I(k.sm.FY) && this.LQa(k.HF.wVa);}},cAb:{configurable:!0,enumerable:!0,get:function(){return this.$I(k.sm.FY) && this.LQa(k.HF.w_a);}},JQa:{configurable:!0,enumerable:!0,get:function(){return this.$I(k.sm.eJa);}},yAb:{configurable:!0,enumerable:!0,get:function(){return this.$I(k.sm.nSa);}},XAb:{configurable:!0,enumerable:!0,get:function(){return this.$I(k.sm.F_a);}},cBb:{configurable:!0,enumerable:!0,get:function(){return this.$I(k.sm.nsa);}},Oib:{configurable:!0,enumerable:!0,get:function(){return this.Hxb(p.pSa,this.Pi.version);}}});b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(g.Haa)),c.__param(1,h.l(n.KF))],b);})();b.Eta=f;(function(a){a[a.pSa=0]="major";a[a.OEb=1]="minor";a[a.KHb=2]="patch";a[a.u4=3]="revision";})(p=b.fDa || (b.fDa={}));},function(f,b){function a(){this.searchParams={};}function c(b){this.jo=b;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.VCa=void 0;c.prototype.toString=function(){return this.href;};ma.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.jo + this.searchParams.toString();}}});b.VCa=c;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(a,b,c){var f;f=S(b);b=f.next().value;f=f.next().value;return "" + a + (0 == c?"?":"&") + b + "=" + f;},"");};},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZAa=b.YAa=b.$V=void 0;b.$V="PrioritizedSetOfListsSymbol";b.YAa="PrioritizedSetOfListsFactorySymbol";b.ZAa="PrioritizedSetOfSetsFactorySymbol";},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;c=a(0);h=a(1);k=a(19);n=a(4);g=a(39);f=(function(){var b;function a(a,b,c){var d;d=this;this.app=a;this.Aa=b;this.qZ=c;this.ix=function(a){d.oi=void 0;d.lSb(a || d.qZ);};this.zRa=n.Lb(-this.qZ.aa(n.fa));}a.prototype.Rc=function(a){this.Mpa=a;this.oi=this.oi || this.Ec(this.ix);};a.prototype.Gg=function(){this.oi && this.oi.cancel();this.oi=void 0;};a.prototype.lSb=function(a){var b,c;b=this.app.zb();if(this.Mpa){c=a.Oa(b.Oa(this.zRa));0 >= c.zj(n.rb)?(a=this.Mpa,this.Mpa=void 0,this.zRa=b,a()):this.oi=this.oi || this.Aa.Sh(c,this.ix.bind(this,a));}};a.prototype.Ec=function(a){return this.Aa.Sh(n.rb,a);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.qd)),c.__param(1,h.l(g.Tg))],b);})();b.DCa=f;},function(f,b,a){var c,h,k,n,g,p,d,m,q;Object.defineProperty(b,"__esModule",{value:!0});b.Nua=void 0;c=a(0);h=a(1);k=a(19);n=a(44);g=a(2);p=a(13);d=a(4);m=a(9);q=a(484);f=(function(){var b,f;function a(a,b){this.wa=a;this.config=b;}a.prototype.Gpb=function(a){var c,f,h,l,m,k,r,q,t,u;c=this;k=a.gb.value;r=a.io.value;q=a.Ub.value;t=a.state.value;m={segmentId:a.Via(),mediaTime:k,segmentTime:a.vD(),bufferingState:b.Vib[r],presentingState:b.CJb[q],playbackState:b.DIb[t],mseBuffersBusy:this.exb(a),intBuffersBusy:this.Fvb(a),tabVisible:this.aRb(),decodedFrameCount:this.Tob(a),videoElementInDom:this.ZTb(a),lastVideoSync:this.wa.zb().Oa(d.Lb(a.tT)).aa(d.fa)};u=q === p.sb.fg?a.Ta.lk?this.config.KUa:this.config.JUa:this.config.sTa;r !== p.ze.rd?(h=g.L.r4a,this.qIa(m.mseBuffersBusy,m.intBuffersBusy) && (l=b.tta)):q !== p.sb.Vc && (h=g.L.s4a,(r=a.ji) && r.Fb.sourceBuffers.forEach(function(a){var f,g;f=b.eA[a.I];m[f + "Ranges"]=a.g0();try{g=a.buffered();}catch(ia){g=void 0;}g && 0 !== g.length?(a=1E3 * g.end(0) - k,m[f + "Undecoded"]=a,1 < g.length && (l=b.e3a),k < 1E3 * g.start(0) || k > 1E3 * g.end(0)?l=b.f3a:a < u.aa(d.fa)?l=b.g3a:c.qIa(m.mseBuffersBusy,m.intBuffersBusy) && (l=b.tta)):(m[f + "Undecoded"]=0,l=b.d3a);}));a=a.HXa.WOa();r=k === (null === (f=a.repositionTrace) || void 0 === f?void 0:f[0].newMediaTime);m.lastRepositionCausedTimeout=r;Object.assign(m,a);f="";try{f=JSON.stringify(m);}catch(ha){f="Cannot stringify details: " + ha;}return new n.zc(g.K.vza,h,l,void 0,void 0,void 0,f,void 0);};a.prototype.exb=function(a){var b;if(a.Fb){b={};a.Fb.sourceBuffers.forEach(function(a){b[0 === a.type?"audio":"video"]={updating:a.updating()};});return b;}};a.prototype.Fvb=function(a){var b;if(a.Fb){b={};a.Fb.sourceBuffers.forEach(function(a){b[0 === a.type?"audio":"video"]={updating:a.Lh()};});return b;}};a.prototype.aRb=function(){return !m.Ce.hidden;};a.prototype.Tob=function(a){return (a=a.ji) && (a=a.Fb.na) && void 0 !== a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};a.prototype.ZTb=function(a){if(a=a.ji)if(a=a.Fb.na)return m.Ce.body.contains(a);return !1;};a.prototype.qIa=function(a,b){var c,d,f,g;return !((null === (c=a.audio) || void 0 === c?void 0:c.updating) === (null === (d=b.audio) || void 0 === d?void 0:d.updating) && (null === (f=a.video) || void 0 === f?void 0:f.updating) === (null === (g=b.video) || void 0 === g?void 0:g.updating));};f=b=a;f.d3a="1";f.e3a="2";f.f3a="3";f.tta="4";f.g3a="5";f.eA=["Audio","Video"];f.Vib=["","NORMAL","BUFFERING","STALLED"];f.CJb=["","WAITING","PLAYING ","PAUSED","ENDED"];f.DIb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];return f=b=c.__decorate([h.N(),c.__param(0,h.l(k.qd)),c.__param(1,h.l(q.s9))],f);})();b.Nua=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.waa=void 0;c=a(0);h=a(1);k=a(19);n=a(4);g=a(6);f=(function(){var b;function a(a,b){this.wa=a;this.entries=new Set();this.ma=b.ob("TimingApi");}a.prototype.mark=function(a,b,c){a={name:a,Iu:this.wa.zb()};b && (a.ea=b);c && (a.Qk=c);this.entries.add(a);return a;};a.prototype.Jia=function(){var a;a=[];this.entries.forEach(function(b){return a.push(b);});return a;};a.prototype.tOa=function(a){return this.Jia().filter(function(b){return b.ea === a;});};a.prototype.rOa=function(){var a;a={};try{a=this.Jia().filter(function(a){return !a.ea;}).reduce(function(a,b){a[b.name]=b.Iu.aa(n.fa);return a;},{});}catch(t){this.ma.error(" getMapOfCommonMarks exception",t);}return a;};a.prototype.sXa=function(a){var b;b=this;this.Jia().forEach(function(c){c.ea === a && b.entries["delete"](c);});};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.qd)),c.__param(1,h.l(g.xb))],b);})();b.waa=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.gua=void 0;c=a(0);h=a(40);k=a(43);n=a(1);g=a(30);f=(function(){var b;function a(a){return k.ML.call(this,a,"ClockConfigImpl") || this;}M(a,k.ML);ma.Object.defineProperties(a.prototype,{n1a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});b=a;c.__decorate([h.config(h.Cc,"usePerformanceApi")],b.prototype,"n1a",null);return b=c.__decorate([n.N(),c.__param(0,n.l(g.yU))],b);})();b.gua=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.Kua=void 0;c=a(0);h=a(40);k=a(43);n=a(1);g=a(30);f=(function(){var b;function a(a){a=k.ML.call(this,a,"DebugConfigImpl") || this;a.W1b=function(){debugger;};return a;}M(a,k.ML);ma.Object.defineProperties(a.prototype,{Nib:{configurable:!0,enumerable:!0,get:function(){return !1;}}});b=a;c.__decorate([h.config(h.Cc,"breakOnError")],b.prototype,"Nib",null);return b=c.__decorate([n.N(),c.__param(0,n.l(g.yU))],b);})();b.Kua=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.Lua=void 0;c=a(0);h=a(1);k=a(21);n=a(93);g=a(6);f=(function(){var b;function a(a,b,c){this.config=a;this.Ca=b;this.ma=c.ob("General");}a.prototype.assert=function(){};a.prototype.qhb=function(a,b){this.assert(this.Ca.bD(a),b);};a.prototype.rhb=function(a,b){this.assert(this.Ca.de(a),b);};a.prototype.whb=function(a,b){this.assert(this.Ca.bo(a),b);};a.prototype.zhb=function(a,b){this.assert(this.Ca.Fm(a),b);};a.prototype.xhb=function(a,b){this.assert(this.Ca.bo(a) || null === a || void 0 === a,b);};a.prototype.uhb=function(a,b){this.assert(this.Ca.Dh(a),b);};a.prototype.thb=function(a,b){this.assert(this.Ca.zda(a),b);};a.prototype.yhb=function(a,b){this.assert(this.Ca.At(a),b);};a.prototype.vhb=function(a,b){this.assert(this.Ca.mO(a),b);};a.prototype.phb=function(a,b){this.assert(this.Ca.lO(a),b);};a.prototype.shb=function(a,b){this.assert(this.Ca.sY(a),b);};a.prototype.Xzb=function(){this.assert(!1,"invalid operation, this method should not be called");};a.h3b=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return "";}};a(d,c || b);return d.stack;}:function(){try{throw Error("capture stack");}catch(x){return x.stack;}};};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(n.d7)),c.__param(1,h.l(k.Ae)),c.__param(2,h.l(g.xb))],b);})();b.Lua=f;},function(f,b,a){var c,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.vua=void 0;c=a(0);h=a(1);k=a(21);n=a(27);f=(function(){var b,d;function a(a,b){this.is=a;this.dd=b;}a.prototype.encode=function(a){var b,c;b=this;c="";this.dd.tz(a,function(a,d){a=b.YLa(a) + "=" + b.YLa(d);c=c?c + ("," + a):a;});return c;};a.prototype.YLa=function(a){return this.is.bD(a)?this.is.Dh(a)?"" + a:this.is.bo(a)?(a=a.replace(b.Zoa,this.gma.bind(this)),!b.pKb.test(a) && b.fFb.test(a) && (a='"' + a + '"'),a):this.is.lO(a)?"" + a:this.is.$ca(a)?"NaN":"":"";};a.prototype.gma=function(a){return b.map[a];};d=b=a;d.map={'"':'""',"\r":"","\n":" "};d.Zoa=/(?!^.+)["\r\n](?=.+$)/g;d.pKb=/["].*["]/g;d.fFb=/[", ]/;return d=b=c.__decorate([h.N(),c.__param(0,h.l(k.Ae)),c.__param(1,h.l(n.Cf))],d);})();b.vua=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.Osa=void 0;c=a(0);h=a(1);k=a(37);n=a(4);g=a(91);f=(function(){var b;function a(a,b){this.Fa=a;this.$_=this.Fa.Pe.aa(n.fa) - 1;this.HCb=this.T1=0;this.id="" + b.jz();}a.prototype.zb=function(){var a,b;a=this.Fa.Pe.aa(n.fa) - this.$_;if(a < this.T1){b=this.T1 + 1;this.$_-=b - a;a=b;}this.T1=a;return n.Lb(this.T1);};a.prototype.Qvb=function(){return this.HCb++;};ma.Object.defineProperties(a.prototype,{OD:{configurable:!0,enumerable:!0,get:function(){return n.Lb(this.$_);}}});b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.th)),c.__param(1,h.l(g.av))],b);})();b.Osa=f;},function(f){f.V="function" === typeof Object.create?function(b,a){b.NQb=a;b.prototype=Object.create(a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});}:function(b,a){function c(){}b.NQb=a;c.prototype=a.prototype;b.prototype=new c();b.prototype.constructor=b;};},function(f){f.V=function(b){return b && "object" === typeof b && "function" === typeof b.Kp && "function" === typeof b.fill && "function" === typeof b.w5b;};},function(f,b,a){var h;function c(a){this.Rtb=a;this.P0=!1;this.e1=this.dg=this.jL=0;this.BQ=!1;this.f1=0;}Object.defineProperty(b,"__esModule",{value:!0});b.lza=void 0;h=a(488);c.prototype.pgb=function(a){a < this.jL && (this.dg+=this.jL);this.jL=a;this.P0=!0;};c.prototype.Iub=function(){if(this.P0)return this.BQ?this.f1 - this.e1:this.dg + this.jL - this.e1;};c.prototype.refresh=function(){var a;a=this.Rtb();h.oa(a) && this.pgb(a);};c.prototype.NPb=function(){this.BQ || (this.P0 && (this.f1=this.dg + this.jL),this.BQ=!0);};c.prototype.aQb=function(){this.BQ && (this.P0 && (this.e1+=this.dg + this.jL - this.f1),this.f1=0,this.BQ=!1);};b.lza=c;},function(f,b,a){var c,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.bBa=void 0;c=a(0);h=a(1);k=a(39);n=a(61);f=(function(){var b;function a(a){this.Aa=a;}a.prototype.jn=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.Aa.Sh(a,function(){f(new n.Mn(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.Tg))],b);})();b.bBa=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.XCa=void 0;c=a(0);h=a(1);a(2);k=a(21);n=a(106);g=a(9);f=(function(){var b;function a(a,b){this.is=a;this.ai=b;}a.prototype.AR=function(a,b,c){var d,f,g,h;d=this;if(b)if(c){f=c.pJ;g=c.prefix;h=c.jx;this.tz(b,function(b,c){if(!h || d.is.de(c))a[(g || "") + (f?b.toLowerCase():b)]=c;});}else this.tz(b,function(b,c){a[b]=c;});return a;};a.prototype.tz=function(a,b){for(var c in a){a.hasOwnProperty(c) && b(c,a[c]);}};a.prototype.It=function(a,b){if(a.length == b.length){for(var c=a.length;c--;){if(a[c] != b[c])return !1;}return !0;}return !1;};a.prototype.TJa=function(a,b){if(a.length != b.length)return !1;a.sort();b.sort();for(var c=a.length;c--;){if(a[c] !== b[c])return !1;}return !0;};a.prototype.Ye=function(a){var b,c,d;if(a){b=a.stack;c=a.number;d=a.message;d || (d="" + a);b?(a="" + b,0 !== a.indexOf(d) && (a=d + "\n" + a)):a=d;c && (a+="\nnumber:" + c);return a;}};a.prototype.getFunctionName=function(a){return (a=(/function (.{1,})\(/).exec(a.toString())) && 1 < a.length?a[1]:"";};a.prototype.oia=function(a){return this.getFunctionName(a.constructor);};a.prototype.sna=function(a){var b,c;b=this;c="";this.is.Ov(a) || this.is.lHa(a)?c=Array.prototype.reduce.call(a,function(a,b){return a + (32 <= b && 128 > b?String.fromCharCode(b):".");},""):this.is.bo(a)?c=a:this.tz(a,function(a,d){c+=(c?", ":"") + "{" + a + ": " + (b.is.sY(d)?b.getFunctionName(d) || "function":d) + "}";});return "[" + this.oia(a) + " " + c + "]";};a.prototype.createElement=function(a,b,c,d){var f;f=g.Ce.createElement(a);b && (f.style.cssText=b);c && (f.innerHTML=c);d && this.tz(d,function(a,b){f.setAttribute(a,b);});return f;};a.prototype.xsb=function(a,b){return function(c){return c[a] === b;};};a.prototype.XR=function(a){var b;b={};(a || "").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0 <= c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c + 1)):b[a.toLowerCase()]=void 0;});return b;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.Ae)),c.__param(1,h.l(n.Ux))],b);})();b.XCa=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.WCa=void 0;c=a(0);h=a(1);f=(function(){var b,f;function a(){}a.prototype.encode=function(a){return b.Uga(a);};a.prototype.decode=function(a){return b.dga(a);};a.Uga=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,f=a.length,g="";b < f;){c=a[b++];if(!(0 <= c && 255 >= c))throw Error("bad utf8");if(c & 128)if(192 === (c & 224))c=((c & 31) << 6) + (a[b++] & 63);else if(224 === (c & 240))c=((c & 15) << 12) + ((a[b++] & 63) << 6) + (a[b++] & 63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(c);}return g;};a.dga=function(a){var b,c,f,g,h;b=a.length;c=0;g=0;if(!(0 <= b))throw Error("bad string");for(f=b;f--;){h=a.charCodeAt(f);128 > h?c++:c=2048 > h?c + 2:c + 3;}c=new Uint8Array(c);for(f=0;f < b;f++){h=a.charCodeAt(f);128 > h?c[g++]=h:(2048 > h?c[g++]=192 | h >>> 6:(c[g++]=224 | h >>> 12,c[g++]=128 | h >>> 6 & 63),c[g++]=128 | h & 63);}return c;};f=b=a;return f=b=c.__decorate([h.N()],f);})();b.WCa=f;},function(f,b,a){var c,h,k,n,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.hua=void 0;c=a(0);h=a(53);k=a(4);n=a(1);g=a(31);p=a(493);d=a(90);m=a(13);f=(function(){var b;function a(a,b,c,d){var f;f=this;this.config=a;this.xob=b;this.Ib=c;this.performance=d;this.RGb=function(a){f.MYa=a.Oa(f.Pe);};h.Xm(this,"date");h.Xm(this,"performance");this.Ugb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.MYa=k.rb;this.Ib.addListener(m.x8.OYa,this.RGb);}ma.Object.defineProperties(a.prototype,{Pe:{configurable:!0,enumerable:!0,get:function(){return this.zTa?k.timestamp(this.performance.timing.navigationStart + this.performance.now()):k.Lb(this.xob.now());}},M4:{configurable:!0,enumerable:!0,get:function(){return this.Pe.add(this.MYa);}},zTa:{configurable:!0,enumerable:!0,get:function(){return this.config.n1a && this.Ugb;}}});b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(p.R6)),c.__param(1,n.l(g.b7)),c.__param(2,n.l(d.QU)),c.__param(3,n.l(g.WV)),c.__param(3,n.optional())],b);})();b.hua=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.jBa=void 0;c=a(0);h=a(1);k=a(145);f=(function(){var b;function a(a){this.$Qb=a;}a.prototype.random=function(){return this.$Qb.random();};a.prototype.JWa=function(a,b){if("number" !== typeof a)(b=a.end,a=a.start);else if("undefined" === typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a + this.random() * (b - a));};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.qaa))],b);})();b.jBa=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ywa=void 0;c=a(0);h=a(1);k=a(4);n=a(37);g=a(145);f=(function(){var b,f;function a(a,b){this.Fa=a;this.random=b;}a.prototype.jz=function(){return this.Fa.Pe.aa(k.um) * b.Ota + Math.floor(this.random.random() * b.Ota);};f=b=a;f.Ota=1E4;return f=b=c.__decorate([h.N(),c.__param(0,h.l(n.th)),c.__param(1,h.l(g.KM))],f);})();b.Ywa=f;},function(f,b,a){var h,k,n,g,p;function c(a,b){this.oL=a;this.Hjb=b;}Object.defineProperty(b,"__esModule",{value:!0});b.JBa=void 0;h=a(0);k=a(1);n=a(53);g=a(31);p=a(4);c.prototype.cancel=function(){this.Hjb(this.oL);};f=(function(){var b;function a(a){this.oL=a;n.Xm(this,"timers");}a.prototype.Rc=function(a){return this.Sh(p.rb,a);};a.prototype.Sh=function(a,b){var d;d=this.oL.setTimeout(b,a.aa(p.fa));return new c(this.oL,function(a){a.clearTimeout(d);});};a.prototype.Kpa=function(a,b){var d;d=this.oL.setInterval(b,a.aa(p.fa));return new c(this.oL,function(a){a.clearInterval(d);});};b=a;return b=h.__decorate([k.N(),h.__param(0,k.l(g.Oaa))],b);})();b.JBa=f;},function(f,b,a){var c,h,k,n,g,p,d,m,q,u,A,J,E,L,D,C,B,P,M,R,V,W,Q,S,Y,U,X,da,ga,fa,I,ja,va,Da,N,ka,la,ma,pa,sa,ta,ua,wa,xa,ya,Ca,aa,Fa,Ka,Ma,Na,Oa,Qa,Ra,Sa,Ta,Va,Xa,Ya,Za,bb,cb,db,fb;Object.defineProperty(b,"__esModule",{value:!0});b.fw=void 0;f=a(1);c=a(31);h=a(37);k=a(39);n=a(91);g=a(145);p=a(1104);d=a(1103);m=a(1102);q=a(1101);u=a(105);A=a(106);J=a(41);E=a(27);L=a(21);D=a(90);C=a(61);B=a(492);P=a(1100);M=a(491);R=a(490);V=a(1099);W=a(1098);Q=a(280);S=a(489);Y=a(1097);U=a(487);X=a(104);da=a(1094);ga=a(19);fa=a(486);I=a(1093);ja=a(1092);va=a(93);Da=a(1091);N=a(6);ka=a(493);la=a(1090);ma=a(68);pa=a(1089);sa=a(485);ta=a(1088);ua=a(1087);wa=a(103);xa=a(9);ya=a(1086);Ca=a(483);aa=a(482);Fa=a(1085);Ka=a(481);Ma=a(14);Na=a(33);Oa=a(122);Qa=a(480);Ra=a(521);Sa=a(1084);Ta=a(479);Va=a(478);Xa=a(182);Ya=a(1083);Za=a(477);bb=a(1082);cb=a(263);db=a(1081);fb=a(1080);b.fw=new f.Kc(function(a){a(c.aG).Lx(function(){return {};}).Z();a(c.ay).si(JSON);a(c.Oaa).si(O);a(g.qaa).si(Math);a(c.J8).si(xa.HV);a(c.WV).si(xa.Ls);a(c.Haa).si(xa.rm);a(c.b7).si(Date);a(c.BB).si(xa.Zh);a(c.Fya).si(xa.UF);a(ka.R6).to(la.gua).Z();a(ga.qd).to(da.Osa).Z();a(h.th).to(q.hua).Z();a(k.Tg).to(p.JBa).Z();a(n.av).to(d.Ywa).Z();a(C.jy).to(W.bBa).Z();a(g.KM).to(m.jBa).Z();a(Qa.wV).to(fb.vya).Z();a(va.Bs).to(ja.Lua).Z();a(va.d7).to(Da.Kua).Z();a(u.py).to(P.WCa).Z();a(A.Ux).to(M.z6).Z();a(J.Ai).to(R.A6).Z();a(E.Cf).to(V.XCa).Z();a(L.Ae).si(Q.qB);a(Ta.BF).to(Va.Ova).Z();a(D.I7).to(S.oj).mka();a(D.XL).to(S.oj).Z();a(D.k7).to(S.oj).Z();a(D.QU).to(S.oj).Z();a(U.paa).to(X.my).Z();a(fa.V6).to(I.vua).Z();a(ma.oy).to(pa.waa).Z();a(ma.QF).to(pa.waa).Z();a("Factory<LoggerFactory>").b0a(N.xb);a(sa.g7).to(ta.Nua).Z();a(wa.PB).Rf(function(a){return function(b){return new ua.DCa(a.ib.get(ga.qd),a.ib.get(k.Tg),b);};});a(Za.c7).Rf(function(a){return function(b){return new bb.Jua(a.ib.get(k.Tg),b);};});a(ya.$V).HRb(Ca.P$);a(ya.YAa).Rf(function(a){var b;b=a.ib.get(ya.$V);return function(){return new b(!1);};});a(ya.ZAa).Rf(function(a){var b;b=a.ib.get(ya.$V);return function(){return new b(!0);};});a(aa.Gaa).Rf(function(){return function(a){return new Fa.VCa(a);};});a(Oa.GB).Rf(function(a){return function(b,c,d){return new Ka.zAa(a.ib.get(va.Bs),a.ib.get(Ma.Jc),a.ib.get(Na.rj),a.ib.get(Qa.wV),b,c,d);};});a(B.C9).Rf(function(){return function(a){return new Y.lza(a);};});a(Ra.PL).to(Sa.Eta);a(Xa.QM).Rf(function(a){return function(b,c){return new Ya.LCa(a.ib.get(k.Tg),b,c);};});a(cb.F7).to(db.Hva).Z();});},function(f,b,a){var c,h,k,n,g,p,d,m,q,u,A,J,E,L,D,C,B,P,M,R,V,W,O,Q,S,U,X,da,ga,fa,I,ja;Object.defineProperty(b,"__esModule",{value:!0});b.RRa=void 0;c=a(1105);h=a(1079);k=a(1068);n=a(1065);g=a(1059);p=a(1056);d=a(1052);m=a(1040);q=a(1029);u=a(1025);A=a(1023);J=a(733);E=a(731);L=a(727);D=a(715);C=a(708);B=a(701);P=a(698);M=a(692);R=a(276);V=a(684);W=a(682);O=a(675);Q=a(660);S=a(654);U=a(652);X=a(645);da=a(620);ga=a(598);fa=a(594);I=a(590);ja=a(576);b.RRa=function(a){a.load(c.fw,p.QA,h.dSa,d.qo,k.wTa,n.Va,g.D1a,m.storage,q.Et,u.HIa,A.xSa,J.kA,E.Jh,L.cSa,D.NTa,C.hNa,B.AWa,P.qE,M.ALa,R.eme,V.crypto,W.dd,O.mc,Q.Fh,S.CTa,U.pVa,X.j,da.zJa,ga.v0a,fa.mk,I.tf,ja.LHa);};},function(f,b,a){var c,h,k,n,g,p,d,m,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.Cva=void 0;c=a(0);h=a(1);k=a(6);n=a(19);g=a(41);p=a(52);d=a(39);m=a(61);q=a(496);u=a(107);f=(function(){var b;function a(a,b,c,d,f,g,h){this.Jr=a;this.wa=b;this.dc=c;this.config=d;this.Aa=f;this.il=g;this.Xl=h;}a.prototype.create=function(){var a;a=this;return Promise.all([this.Xl.gvb(),this.Xl.evb(),this.Xl.xr()]).then(function(b){var c,d;c=S(b);b=c.next().value;d=c.next().value;c=c.next().value;return new q.Dva(a.Jr,a.wa,a.dc,a.config,b,d,c,a.Aa,a.il);});};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.xb)),c.__param(1,h.l(n.qd)),c.__param(2,h.l(g.Ai)),c.__param(3,h.l(p.mm)),c.__param(4,h.l(d.Tg)),c.__param(5,h.l(m.jy)),c.__param(6,h.l(u.dv))],b);})();b.Cva=f;},function(f,b,a){var k,n;function c(a,b,c,f,h){this.wa=a;this.config=b;this.Aa=c;this.ix=f;this.name=h;}function h(a,b,c,f){var d;d=this;this.wa=a;this.Aa=b;this.timeout=c;this.zRb=f;this.lyb=function(){d.ak=!0;d.LD.cancel();d.zRb();};this.startTime=this.wa.zb();this.LD=this.Aa.Sh(this.timeout,function(){d.lyb();});this.ak=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Bva=void 0;k=a(2);n=a(81);h.prototype.stop=function(){this.ak || (this.f5=this.wa.zb(),this.LD.cancel());};ma.Object.defineProperties(h.prototype,{f_:{configurable:!0,enumerable:!0,get:function(){if(this.f5 && this.startTime)return this.f5.Oa(this.startTime);}}});c.prototype.Njb=function(){var a;a=this;this.EH=new h(this.wa,this.Aa,this.config.lka,function(){a.ix(new n.Te(k.K.xBa,k.L.H5a,void 0,"Eme " + a.name + " event expired with an expiry of " + a.config.lka));});};c.prototype.Mjb=function(){this.EH && this.EH.stop();};c.prototype.PNb=function(){this.N4=this.wa.zb();};c.prototype.Ojb=function(){var a;a=this;this.L5=new h(this.wa,this.Aa,this.config.Opa,function(){a.ix(new n.Te(k.K.xBa,k.L.G5a,void 0,"Eme " + a.name + " event expired with an expiry of " + a.config.Opa));});};c.prototype.RIa=function(){this.L5 && this.L5.stop();};ma.Object.defineProperties(c.prototype,{zd:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.EH){b=this.EH.f_;b && (a.iEb=b);this.N4 && this.EH.f5 && (a.N4=this.N4.Oa(this.EH.f5));}this.L5 && (b=this.L5.f_) && (a.Wkb=b);return a;}}});b.Bva=c;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.zva=void 0;b.zva="EmeApiSymbol";},function(f,b,a){var c,h,k,n,g,p,d,m,q,u,A,J,E;Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;c=a(0);h=a(1);k=a(2);n=a(27);g=a(106);p=a(105);d=a(81);m=a(61);q=a(52);u=a(41);A=a(183);J=a(496);E=a(44);f=(function(){var b;function a(a,b,c,d,f){this.dd=a;this.ai=b;this.dc=c;this.Lg=d;this.Lf=f;}a.prototype.lZ=function(){return !1;};a.prototype.Wda=function(){return !1;};a.prototype.Cea=function(){return !0;};a.prototype.y0=function(){return this.Lf.Kj?"persistent-usage-record":"temporary";};a.prototype.mia=function(){return A.L7;};a.prototype.cja=function(){return [{initDataTypes:["cenc"],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary","persistent-usage-record"]}];};a.prototype.Qz=function(a){return this.dd.It(a.ex[0],this.Lg.decode("certificate"));};a.prototype.Gka=function(a){return a.wS();};a.prototype.yfa=function(a){var b,c;c=[];if(a.messageType === J.W8 || a.messageType === J.V8){a.messageType === J.W8?(b=this.Lg.encode(new Uint8Array(a.message)),c=JSON.parse(b),b=c.map(function(a){return a.keyID;}),c=c.map(function(a){return a.payload;})):c=[this.dc.encode(new Uint8Array(a.message))];if(0 === c.length || !c.every(function(a){return a && a.length;}))throw new E.zc(k.K.rva);c=this.FRb(c);c=this.Lg.decode(JSON.stringify(c));}else c=new Uint8Array(a.message);return {type:a.type,sessionId:a.target.sessionId,ex:[c],Jma:a.messageType,eJ:b};};a.prototype.Jp=function(a){var b,c,f,g;c=null === (b=a.target) || void 0 === b?void 0:b.error;c && (f=c.systemCode,g=c.code);b=new d.Te(k.K.PV,a instanceof m.Mn?k.L.aM:k.L.zF,f?this.ai.UP(f,4):g,"",c);b.uP(a);return b;};a.prototype.FRb=function(a){return {VERSION:1,CHALLENGES:a.map(function(a,b){return {ID:"ID" + (b + 1),PAYLOAD:a};})};};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(n.Cf)),c.__param(1,h.l(g.Ux)),c.__param(2,h.l(u.Ai)),c.__param(3,h.l(p.py)),c.__param(4,h.l(q.mm))],b);})();b.GBa=f;},function(f,b){function a(a,b,f){var c;c=this;this.dc=a;this.pd=b;this.Lg=f;this.Lvb=function(a){var b;a=a.subarray(14,30);a=c.dc.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.X5a={K3a:1667591779,FVb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.Uva=void 0;a.prototype.olb=function(a,b){var c;c=this.X5a.K3a;b=b?1:0;a=a.map(function(a){return {O3b:"",sBb:a,Nda:a,KPb:a,UTb:[1]};});return this.VCb(c,b,a);};a.prototype.UCb=function(a,b){var c;c=new Uint8Array(4);new DataView(c.buffer).setUint32(0,a);return this.ama("fpsi",b,[c]);};a.prototype.TCb=function(a,b,f,h){a=[this.ama("fkri",0,[a])];b.byteLength && a.push(this.fR("fkai",[b]));f.byteLength && a.push(this.fR("fkcx",[f]));h.length && a.push(this.fR("fkvl",[new Uint8Array(new Uint32Array(h).buffer)]));return this.fR("fpsk",a);};a.prototype.VCb=function(a,b,f){var c;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);a=[this.UCb(a,b)];for(var g in f){b=f[g];a.push(this.TCb(b.sBb,b.Nda,b.KPb,b.UTb));}f=this.fR("fpsd",a);g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,f.byteLength);return this.ama("pssh",0,[c,g,f]);};a.prototype.ama=function(a,b,f){var c,g,h;c=0;for(g in f){c+=f[g].byteLength;}c=new Uint8Array(12 + c);h=new DataView(c.buffer);g=0;h.setUint32(g,c.byteLength);g+=4;c.set(this.Lg.decode(a),g);g+=4;h.setUint32(g,0 | 4095 & b);g+=4;for(var d in f){a=f[d];c.set(a,g);g+=a.byteLength;}return c;};a.prototype.fR=function(a,b){var c,f;c=0;for(f in b){c+=b[f].byteLength;}c=new Uint8Array(8 + c);f=0;new DataView(c.buffer).setUint32(f,c.byteLength);f+=4;c.set(this.Lg.decode(a),f);f+=4;for(var g in b){a=b[g];c.set(a,f);f+=a.byteLength;}return c;};b.Uva=a;},function(f,b,a){var c,h,k,n,g,p,d,m,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.Vva=void 0;c=a(0);h=a(1);k=a(265);n=a(1111);g=a(31);p=a(21);d=a(41);m=a(27);q=a(52);u=a(105);f=(function(){var b;function a(a,b,c,d,f,g){a=k.Ss.call(this,a,b,c,d,f,g) || this;a.dc=c;a.pd=d;a.Lf=f;a.Lg=g;a.RPa=new n.Uva(a.dc,a.pd,a.Lg);return a;}M(a,k.Ss);a.prototype.yI=function(a,b){var c,d,f;c=this;try{d=b.map(function(a){return c.RPa.Lvb(a);});this.wRa=d.map(function(a){return c.dc.encode(a);});f=this.RPa.olb(d,this.Lf.Kj);return k.Ss.prototype.yI.call(this,a,[f]);}catch(P){return Promise.reject(P);}};a.prototype.update=function(a,b){var c,d,f,g,h;c=this;if(b)try{d=this.Lg.encode(a[0]);f=JSON.parse(d).RESPONSES;g=f.map(function(a,d){return {keyID:1 === f.length?c.wRa[c.wRa.length - 1]:b[d],payload:f.find(function(a){return a.ID === "ID" + (d + 1);}).PAYLOAD};});h=JSON.stringify(g);a=[this.Lg.decode(h)];}catch(R){return Promise.reject(R);}return k.Ss.prototype.update.call(this,a);};a.prototype.wS=function(){return k.Ss.prototype.update.call(this,[this.Lg.decode("renew")]);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(g.BB)),c.__param(1,h.l(p.Ae)),c.__param(2,h.l(d.Ai)),c.__param(3,h.l(m.Cf)),c.__param(4,h.l(q.mm)),c.__param(5,h.l(u.py))],b);})();b.Vva=f;},function(f,b,a){var c,h,k,n,g,p,d,m,q,u,A;Object.defineProperty(b,"__esModule",{value:!0});b.dua=void 0;c=a(0);h=a(1);k=a(2);n=a(27);g=a(106);p=a(266);d=a(81);m=a(61);q=a(52);u=a(14);A=a(44);f=(function(){var b;function a(a,b,c,d){this.dd=a;this.ai=b;this.Lf=c;this.config=d;}a.prototype.lZ=function(){return !0;};a.prototype.Wda=function(){return !0;};a.prototype.Cea=function(){return !0;};a.prototype.y0=function(){return "temporary";};a.prototype.mia=function(){return this.Lf.gqa?this.Lf.gqa:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};a.prototype.cja=function(){var a,b;a=[{contentType:p.Hs,robustness:"HW_SECURE_DECODE"},{contentType:p.Hs,robustness:"SW_SECURE_DECODE"},{contentType:p.Hs,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:p.Hs,robustness:"SW_SECURE_CRYPTO"}];return [{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:p.ey,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().TMa?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};a.prototype.Qz=function(a){return this.dd.It(a.ex[0],new Uint8Array([8,4]));};a.prototype.Gka=function(){return Promise.reject(new A.zc(k.K.z7));};a.prototype.yfa=function(a){return {type:a.type,sessionId:a.target.sessionId,ex:[new Uint8Array(a.message)],Jma:a.messageType};};a.prototype.Jp=function(a){var b,c,f;b=new d.Te(k.K.PV);c=a.code;null != c && void 0 !== c?(c=parseInt(c,10),b.ld=1 <= c && 9 >= c?k.L.zF + c:k.L.zF):b.ld=a instanceof m.Mn?k.L.aM:k.L.vh;try{f=a.message.match(/\((\d*)\)/)[1];b.Hg=this.ai.UP(f,4);}catch(P){}b.uP(a);return b;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(n.Cf)),c.__param(1,h.l(g.Ux)),c.__param(2,h.l(q.mm)),c.__param(3,h.l(u.Jc))],b);})();b.dua=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.OAa=void 0;c=a(0);h=a(1);k=a(265);n=a(81);g=a(2);f=(function(){var b;function a(a){return k.Ss.apply(this,arguments) || this;}M(a,k.Ss);a.prototype.wZ=function(a,b,c,d,f){this.tXa(c);this.qXa(d);this.oXa(f);this.Dcb=this.Wa;this.Wa=a.createSession(b);this.MGa(c);this.IGa(d);this.GGa(f);return this.yI(this.zka,this.SI);};a.prototype.close=function(){var b;function a(a){return a && a.sessionId?a.close().then(function(){return a=void 0;}):Promise.resolve();}b=this;this.cfa=void 0;return this.Wa?a(this.Wa).then(function(){a(b.Dcb);}):Promise.reject(new n.Te(g.K.mva,g.L.yF,void 0,"Unable to close a key session, key session is not valid"));};a.prototype.yI=function(a,b){this.zka=a;this.SI=b;return k.Ss.prototype.yI.call(this,a,b);};b=a;return b=c.__decorate([h.N()],b);})();b.OAa=f;},function(f,b,a){var c,h,k,n,g,p,d,m,q,u,A,J;Object.defineProperty(b,"__esModule",{value:!0});b.yva=void 0;c=a(0);h=a(1);k=a(2);n=a(106);g=a(41);p=a(266);d=a(81);m=a(80);q=a(52);u=a(61);A=a(44);J=a(183);f=(function(){var b;function a(a,b,c){this.ai=a;this.dc=b;this.Lf=c;}a.prototype.lZ=function(){return !0;};a.prototype.Wda=function(){return !1;};a.prototype.Cea=function(){return !1;};a.prototype.y0=function(a){return this.Lf.Kj && a === m.Ci.xl?"persistent-usage-record":"temporary";};a.prototype.mia=function(){return J.K9;};a.prototype.cja=function(){return [{initDataTypes:["cenc"],audioCapabilities:[{contentType:p.ey}],videoCapabilities:[{contentType:p.Hs}],sessionTypes:["temporary","persistent-usage-record"]}];};a.prototype.Qz=function(){return !1;};a.prototype.Gka=function(){return Promise.reject(new A.zc(k.K.z7));};a.prototype.yfa=function(a){var b;b=new Uint8Array(a.message);b=this.rha(b,"PlayReadyKeyMessage","Challenge");b=this.dc.decode(b);return {type:a.type,sessionId:a.target.sessionId,ex:[b],Jma:a.messageType};};a.prototype.Jp=function(a){var b,c,f;b=new d.Te(k.K.PV);c=a.code;null != c && void 0 !== c?(c=parseInt(c,10),b.ld=1 <= c && 9 >= c?k.L.zF + c:k.L.zF):b.ld=a instanceof u.Mn?k.L.aM:k.L.vh;try{f=(/\((\d+)\)/).exec(a.message);b.Hg=this.ai.UP(Number(f && f[1]),4);}catch(ba){}b.uP(a);return b;};a.prototype.rha=function(a,b){var c,d,f,g;for(var c=1;c < arguments.length;++c){;}for(c=1;c < arguments.length;c++){;}c="";f=a.length;for(d=0;d < f;d++){g=a[d];0 < g && (c+=String.fromCharCode(g));}f="\\s*(.*)\\s*";for(d=arguments.length - 1;0 < d;d--){g=arguments[d];if(0 > c.search(g))return "";g="(?:[^:].*:|)" + g;f="[\\s\\S]*<" + g + "[^>]*>" + f + "</" + g + ">[\\s\\S]*";}return (c=c.match(new RegExp(f)))?c[1]:"";};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(n.Ux)),c.__param(1,h.l(g.Ai)),c.__param(2,h.l(q.mm))],b);})();b.yva=f;},function(f,b,a){var c,h,k,n,g,p,d,m,q,u,A,J,E,L,D,C,B,P,M,R,V;Object.defineProperty(b,"__esModule",{value:!0});b.yya=void 0;c=a(0);h=a(1);k=a(2);n=a(6);g=a(81);p=a(148);d=a(1115);m=a(1114);q=a(1113);u=a(265);A=a(27);J=a(106);E=a(41);L=a(21);D=a(31);C=a(1112);B=a(1110);P=a(105);M=a(14);R=a(149);V=a(52);f=(function(){var b;function a(a,b,c,d,f,g,h,l,k){this.Jr=a;this.dd=b;this.Lg=c;this.ai=d;this.dc=f;this.is=g;this.ER=h;this.config=l;this.Lf=k;this.log=this.Jr.ob("MediaKeySystemAccessServices");}a.prototype.DI=function(){this.tu || (this.tu=this.HMb());return this.tu;};a.prototype.Hnb=function(a){var b;b=this;return new Promise(function(c,d){var f,h;f=R.Db.sia(a);h=b.VNa(f);f=b.RNa(f);h.WLb(a,f.cja()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new g.Te(k.K.nva,k.L.vh,void 0,"Unable to create media keys system access. " + c.message,c));});});};a.prototype.xr=function(){var a;a=this;return this.DI().then(function(b){return a.SNa(b);});};a.prototype.dvb=function(){var a,b;a=this;b=this.config().xRa || [this.config().he];if(1 < b.length)return this.DI().then(function(b){return a.SNa(b);}).then(function(a){return R.Db.QNa(a);});b=R.Db.sia(b[0]);return Promise.resolve(R.Db.QNa(b));};a.prototype.evb=function(){var a;a=this;return this.xr().then(function(b){return a.RNa(b);});};a.prototype.gvb=function(){var a;a=this;return this.xr().then(function(b){return a.VNa(b);});};a.prototype.SNa=function(a){return R.Db.sia(a.keySystem);};a.prototype.RNa=function(a){switch(a){case p.Cn.sE:return new d.yva(this.ai,this.dc,this.Lf);case p.Cn.mD:return new B.GBa(this.dd,this.ai,this.dc,this.Lg,this.Lf);default:return new q.dua(this.dd,this.ai,this.Lf,this.config);}};a.prototype.VNa=function(a){switch(a){case p.Cn.sE:return new m.OAa(this.ER,this.is,this.dc,this.dd,this.Lf,this.Lg);case p.Cn.mD:return new C.Vva(this.ER,this.is,this.dc,this.dd,this.Lf,this.Lg);default:return new u.Ss(this.ER,this.is,this.dc,this.dd,this.Lf,this.Lg);}};a.prototype.HMb=function(){var a,b;a=this;b=(this.config().xRa || [this.config().he]).map(function(b){return function(){return a.Hnb(b);};});return this.IMb(b);};a.prototype.IMb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(n.xb)),c.__param(1,h.l(A.Cf)),c.__param(2,h.l(P.py)),c.__param(3,h.l(J.Ux)),c.__param(4,h.l(E.Ai)),c.__param(5,h.l(L.Ae)),c.__param(6,h.l(D.BB)),c.__param(7,h.l(M.Jc)),c.__param(8,h.l(V.mm))],b);})();b.yya=f;},function(f,b,a){f=a(23);a=a(500);f.Bb.from=a.from;},function(f,b){b.v1=function(a){return a instanceof Date && !isNaN(+a);};},function(f,b,a){f=a(509);a=a(508);b.async=new a.mta(f.jta);},function(f,b,a){var c;c=a(187);b.EAb=function(a){return !c.isArray(a) && 0 <= a - parseFloat(a) + 1;};},function(f,b,a){var c,h,k,n,g;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(1120);f=a(23);k=a(1119);n=a(268);g=a(1118);a=(function(a){function b(b,c,d){void 0 === b && (b=0);a.call(this);this.y3=-1;this.yLa=0;h.EAb(c)?this.y3=1 > Number(c) && 1 || Number(c):n.H1(c) && (d=c);n.H1(d) || (d=k.async);this.Aa=d;this.yLa=g.v1(b)?+b - this.Aa.now():b;}c(b,a);b.create=function(a,c,d){void 0 === a && (a=0);return new b(a,c,d);};b.Ec=function(a){var b,c,d;b=a.index;c=a.y3;d=a.Nj;d.next(b);if(!d.closed){if(-1 === c)return d.complete();a.index=b + 1;this.Rc(a,c);}};b.prototype.Dm=function(a){return this.Aa.Rc(b.Ec,this.yLa,{index:0,y3:this.y3,Nj:a});};return b;})(f.Bb);b.H$a=a;},function(f,b,a){f=a(1121);b.Kx=f.H$a.create;},function(f,b,a){f=a(23);a=a(1122);f.Bb.Kx=a.Kx;},function(f,b,a){f=a(23);a=a(502);f.Bb.of=a.of;},function(f,b,a){var c,h,k,n,g,p;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(187);k=a(267);f=a(186);n=a(185);b.race=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}if(1 === a.length)if(h.isArray(a[0]))a=a[0];else return a[0];return new k.o6(a).Ir(new g());};g=(function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new p(a));};return a;})();b.SZb=g;p=(function(a){function b(b){a.call(this,b);this.Kja=!1;this.tna=[];this.lT=[];}c(b,a);b.prototype.Fl=function(a){this.tna.push(a);};b.prototype.ae=function(){var a,b,d;a=this.tna;b=a.length;if(0 === b)this.destination.complete();else {for(var c=0;c < b && !this.Kja;c++){d=a[c];d=n.n5(this,d,d,c);this.lT && this.lT.push(d);this.add(d);}this.tna=null;}};b.prototype.b3=function(a,b,c){var d;if(!this.Kja){this.Kja=!0;for(a=0;a < this.lT.length;a++){if(a !== c){d=this.lT[a];d.unsubscribe();this.remove(d);}}this.lT=null;}this.destination.next(b);};return b;})(f.NV);b.TZb=p;},function(f,b,a){f=a(23);a=a(1125);f.Bb.race=a.race;},function(f,b,a){f=a(499);b.Vt=f.aBa.create;},function(f,b,a){f=a(23);a=a(1127);f.Bb.Vt=a.Vt;},function(f,b,a){f=a(184);b.empty=f.LU.create;},function(f,b,a){f=a(23);a=a(1129);f.Bb.empty=a.empty;},function(f,b,a){var c;c=a(504);b.dlb=function(){return c.VD(1);};},function(f,b,a){var c,h,k;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=a(23);h=a(501);k=a(184);a=(function(a){function b(b,c){a.call(this);this.Jda=b;(this.Aa=c) || 1 !== b.length || (this.xv=!0,this.value=b[0]);}c(b,a);b.create=function(a,c){var d;d=a.length;return 0 === d?new k.LU():1 === d?new h.IBa(a[0],c):new b(a,c);};b.Ec=function(a){var b,c,f;b=a.Jda;c=a.index;f=a.Nj;f.closed || (c >= a.length?f.complete():(f.next(b[c]),a.index=c + 1,this.Rc(a)));};b.prototype.Dm=function(a){var c,f,g;c=this.Jda;f=this.Aa;g=c.length;if(f)return f.Rc(b.Ec,0,{Jda:c,index:0,length:g,Nj:a});for(f=0;f < g && !a.closed;f++){a.next(c[f]);}a.complete();};return b;})(f.Bb);b.Q2a=a;},function(f,b,a){var c,h,k,n,g,p;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(92);f=a(23);k=a(269);a=(function(a){function b(b,c){a.call(this);this.Aa=c;if(null == b)throw Error("iterator cannot be null.");if((c=b[k.iterator]) || "string" !== typeof b){if(c || void 0 === b.length){if(!c)throw new TypeError("object is not iterable");b=b[k.iterator]();}else b=new g(b);}else b=new n(b);this.iterator=b;}c(b,a);b.create=function(a,c){return new b(a,c);};b.Ec=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.Nj;if(a.tQ)d.error(a.error);else {f=c.next();f.done?d.complete():(d.next(f.value),a.index=b + 1,d.closed?"function" === typeof c["return"] && c["return"]():this.Rc(a));}};b.prototype.Dm=function(a){var c,d;c=this.iterator;d=this.Aa;if(d)return d.Rc(b.Ec,0,{index:0,iterator:c,Nj:a});do {d=c.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function" === typeof c["return"] && c["return"]();break;}}while(1);};return b;})(f.Bb);b.v7a=a;n=(function(){function a(a,b,c){void 0 === b && (b=0);void 0 === c && (c=a.length);this.LA=a;this.AQ=b;this.Bla=c;}a.prototype[k.iterator]=function(){return this;};a.prototype.next=function(){return this.AQ < this.Bla?{done:!1,value:this.LA.charAt(this.AQ++)}:{done:!0,value:void 0};};return a;})();g=(function(){function a(a,b,c){var d;void 0 === b && (b=0);if(void 0 === c)if((c=+a.length,isNaN(c)))c=0;else if(0 !== c && "number" === typeof c && h.root.isFinite(c)){d=+c;c=(0 === d || isNaN(d)?d:0 > d?-1:1) * Math.floor(Math.abs(c));c=0 >= c?0:c > p?p:c;}this.ehb=a;this.AQ=b;this.Bla=c;}a.prototype[k.iterator]=function(){return this;};a.prototype.next=function(){return this.AQ < this.Bla?{done:!1,value:this.ehb[this.AQ++]}:{done:!0,value:void 0};};return a;})();p=Math.pow(2,53) - 1;},function(f,b,a){var c,h,k,n,g,p,d,m,q,u,A,B;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(187);k=a(506);n=a(505);g=a(499);p=a(1133);d=a(267);m=a(1132);q=a(269);u=a(23);A=a(507);B=a(270);f=(function(a){function b(b,c){a.call(this,null);this.dBb=b;this.Aa=c;}c(b,a);b.create=function(a,c){if(null != a){if("function" === typeof a[B.observable])return a instanceof u.Bb && !c?a:new b(a,c);if(h.isArray(a))return new d.o6(a,c);if(n.MQ(a))return new g.aBa(a,c);if("function" === typeof a[q.iterator] || "string" === typeof a)return new p.v7a(a,c);if(k.EQa(a))return new m.Q2a(a,c);}throw new TypeError((null !== a && typeof a || a) + " is not observable");};b.prototype.Dm=function(a){var b,c;b=this.dBb;c=this.Aa;return null == c?b[B.observable]().subscribe(a):b[B.observable]().subscribe(new A.kza(a,c,0));};return b;})(u.Bb);b.Y5a=f;},function(f,b,a){var c,h,k,n;c=a(268);h=a(502);k=a(500);n=a(1131);b.concat=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return 1 === a.length || 2 === a.length && c.H1(a[1])?k.from(a[0]):n.dlb()(h.of.apply(void 0,a));};},function(f,b,a){f=a(23);a=a(1135);f.Bb.concat=a.concat;},function(){},function(f,b,a){var c,h,k,n;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=a(186);h=a(185);b.yT=function(a){return function(b){return b.Ir(new k(a));};};k=(function(){function a(a){this.Za=a;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.Za));};return a;})();n=(function(a){function b(b,c){a.call(this,b);this.Za=c;this.add(h.n5(this,c));}c(b,a);b.prototype.b3=function(){this.complete();};b.prototype.mu=function(){};return b;})(f.NV);},function(f,b,a){var c;c=a(1138);b.yT=function(a){return c.yT(a)(this);};},function(f,b,a){f=a(23);a=a(1139);f.Bb.prototype.yT=a.yT;},function(f,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.L2a=f;},function(f,b,a){var c,h,k,n,g;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=a(69);h=a(1141);k=a(184);b.xT=function(a){return function(b){return 0 === a?new k.LU():b.Ir(new n(a));};};n=(function(){function a(a){this.total=a;if(0 > this.total)throw new h.L2a();}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.total));};return a;})();g=(function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0;}c(b,a);b.prototype.Fl=function(a){var b,c;b=this.total;c=++this.count;c <= b && (this.destination.next(a),c === b && (this.destination.complete(),this.unsubscribe()));};return b;})(f.Ln);},function(f,b,a){var c;c=a(1142);b.xT=function(a){return c.xT(a)(this);};},function(f,b,a){f=a(23);a=a(1143);f.Bb.prototype.xT=a.xT;},function(f,b,a){var c,h,k;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=a(69);b.cT=function(a){return function(b){return b.Ir(new h(a));};};h=(function(){function a(a){this.vA=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.vA));};return a;})();k=(function(a){function b(b,c){a.call(this,b);this.vA=c;this.Kqa=!0;this.index=0;}c(b,a);b.prototype.Fl=function(a){var b;b=this.destination;this.Kqa && this.jSb(a);this.Kqa || b.next(a);};b.prototype.jSb=function(a){try{this.Kqa=! !this.vA(a,this.index++);}catch(d){this.destination.error(d);}};return b;})(f.Ln);},function(f,b,a){var c;c=a(1145);b.cT=function(a){return c.cT(a)(this);};},function(f,b,a){f=a(23);a=a(1146);f.Bb.prototype.cT=a.cT;},function(f,b,a){var c;c=a(503);b.AJ=function(a,b,f){void 0 === f && (f=Number.POSITIVE_INFINITY);return c.AJ(a,b,f)(this);};},function(f,b,a){f=a(23);a=a(1148);f.Bb.prototype.AJ=a.AJ;f.Bb.prototype.Ut=a.AJ;},function(f,b){b.Yyb=function(a){return a;};},function(f,b,a){var c;c=a(504);b.VD=function(a){void 0 === a && (a=Number.POSITIVE_INFINITY);return c.VD(a)(this);};},function(f,b,a){f=a(23);a=a(1151);f.Bb.prototype.VD=a.VD;},function(f,b,a){var c,h,k;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=a(69);b.map=function(a,b){return function(c){if("function" !== typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.Ir(new h(a,b));};};h=(function(){function a(a,b){this.vE=a;this.ira=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.vE,this.ira));};return a;})();b.cYb=h;k=(function(a){function b(b,c,f){a.call(this,b);this.vE=c;this.count=0;this.ira=f || this;}c(b,a);b.prototype.Fl=function(a){var b;try{b=this.vE.call(this.ira,a,this.count++);}catch(m){this.destination.error(m);return;}this.destination.next(b);};return b;})(f.Ln);},function(f,b,a){var c;c=a(1153);b.map=function(a,b){return c.map(a,b)(this);};},function(f,b,a){f=a(23);a=a(1154);f.Bb.prototype.map=a.map;},function(f,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.M5a=f;},function(f,b,a){var c,h,k,n;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=a(69);h=a(1156);b.ii=function(a,b,c){return function(d){return d.Ir(new k(a,b,c,d));};};k=(function(){function a(a,b,c,f){this.vA=a;this.Du=b;this.defaultValue=c;this.source=f;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.vA,this.Du,this.defaultValue,this.source));};return a;})();n=(function(a){function b(b,c,f,g,h){a.call(this,b);this.vA=c;this.Du=f;this.defaultValue=g;this.source=h;this.OI=!1;this.index=0;"undefined" !== typeof g && (this.W1=g,this.OI=!0);}c(b,a);b.prototype.Fl=function(a){var b;b=this.index++;this.vA?this.vfb(a,b):this.Du?this.qGa(a,b):(this.W1=a,this.OI=!0);};b.prototype.vfb=function(a,b){var c;try{c=this.vA(a,b,this.source);}catch(x){this.destination.error(x);return;}c && (this.Du?this.qGa(a,b):(this.W1=a,this.OI=!0));};b.prototype.qGa=function(a,b){var c;try{c=this.Du(a,b);}catch(x){this.destination.error(x);return;}this.W1=c;this.OI=!0;};b.prototype.ae=function(){var a;a=this.destination;this.OI?(a.next(this.W1),a.complete()):a.error(new h.M5a());};return b;})(f.Ln);},function(f,b,a){var c;c=a(1157);b.ii=function(a,b,f){return c.ii(a,b,f)(this);};},function(f,b,a){f=a(23);a=a(1158);f.Bb.prototype.ii=a.ii;},function(f,b,a){var c,h,k,n;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(69);b.bRb=function(a,b,c){return function(d){return d.Ir(new k(a,b,c));};};k=(function(){function a(a,b,c){this.pFb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.pFb,this.error,this.complete));};return a;})();n=(function(a){function b(b,c,f,g){a.call(this,b);b=new h.Ln(c,f,g);b.tn=!0;this.add(b);this.Cpa=b;}c(b,a);b.prototype.Fl=function(a){var b;b=this.Cpa;b.next(a);b.WE?this.destination.error(b.XE):this.destination.next(a);};b.prototype.gf=function(a){var b;b=this.Cpa;b.error(a);b.WE?this.destination.error(b.XE):this.destination.error(a);};b.prototype.ae=function(){var a;a=this.Cpa;a.complete();a.WE?this.destination.error(a.XE):this.destination.complete();};return b;})(h.Ln);},function(f,b,a){var c;c=a(1160);b.Bba=function(a,b,f){return c.bRb(a,b,f)(this);};},function(f,b,a){f=a(23);a=a(1161);f.Bb.prototype.ZZ=a.Bba;f.Bb.prototype.Bba=a.Bba;},function(f,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(a){function b(b,c,f){a.call(this);this.parent=b;this.mHb=c;this.lHb=f;this.index=0;}c(b,a);b.prototype.Fl=function(a){this.parent.b3(this.mHb,a,this.lHb,this.index++,this);};b.prototype.gf=function(a){this.parent.DFb(a);this.unsubscribe();};b.prototype.ae=function(){this.parent.mu(this);this.unsubscribe();};return b;})(a(69).Ln);b.exa=f;},function(f,b,a){var c,h,k,n;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=a(186);h=a(185);b.Kjb=function(a){return function(b){var c;c=new k(a);b=b.Ir(c);return c.Fea=b;};};k=(function(){function a(a){this.Xpa=a;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.Xpa,this.Fea));};return a;})();n=(function(a){function b(b,c,f){a.call(this,b);this.Xpa=c;this.Fea=f;}c(b,a);b.prototype.error=function(b){var c;if(!this.Jg){c=void 0;try{c=this.Xpa(b,this.Fea);}catch(t){a.prototype.error.call(this,t);return;}this.yfb();this.add(h.n5(this,c));}};return b;})(f.NV);},function(f,b,a){var c;c=a(1164);b.mba=function(a){return c.Kjb(a)(this);};},function(f,b,a){f=a(23);a=a(1165);f.Bb.prototype["catch"]=a.mba;f.Bb.prototype.mba=a.mba;},function(f,b,a){a(23);f=(function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.OI="N" === a;}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next && a.next(this.value);case "E":return a.error && a.error(this.error);case "C":return a.complete && a.complete();}};a.prototype.ZZ=function(a,b,c){switch(this.kind){case "N":return a && a(this.value);case "E":return b && b(this.error);case "C":return c && c();}};a.prototype.accept=function(a,b,c){return a && "function" === typeof a.next?this.observe(a):this.ZZ(a,b,c);};a.Snb=function(b){return "undefined" !== typeof b?new a("N",b):a.tSb;};a.ynb=function(b){return new a("E",void 0,b);};a.nnb=function(){return a.Vkb;};a.Vkb=new a("C");a.tSb=new a("N",void 0);return a;})();b.Notification=f;},function(f,b){f=(function(){function a(b,f){void 0 === f && (f=a.now);this.s$a=b;this.now=f;}a.prototype.Rc=function(a,b,f){void 0 === b && (b=0);return new this.s$a(this,a).Rc(f,b);};a.now=Date.now?Date.now:function(){return +new Date();};return a;})();b.r$a=f;},function(f,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(a){function b(){a.apply(this,arguments);}c(b,a);return b;})(a(508).mta);b.I9a=f;},function(f,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(a){function b(){a.call(this);}c(b,a);b.prototype.Rc=function(){return this;};return b;})(a(124).ny);b.J2a=f;},function(f,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(a){function b(b,c){a.call(this,b,c);this.Aa=b;this.osa=c;}c(b,a);b.prototype.Rc=function(b,c){void 0 === c && (c=0);if(0 < c)return a.prototype.Rc.call(this,b,c);this.Ll=c;this.state=b;this.Aa.flush(this);return this;};b.prototype.Je=function(b,c){return 0 < c || this.closed?a.prototype.Je.call(this,b,c):this.mEa(b);};b.prototype.jpa=function(b,c,f){void 0 === f && (f=0);return null !== f && 0 < f || null === f && 0 < this.Ll?a.prototype.jpa.call(this,b,c,f):b.flush(this);};return b;})(a(509).jta);b.G9a=f;},function(f,b,a){f=a(1171);a=a(1169);b.jl=new a.I9a(f.G9a);},function(f,b,a){var c,h,k,n,g,p,d;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=a(512);h=a(1172);k=a(124);n=a(507);g=a(511);p=a(510);a=(function(a){function b(b,c,d){void 0 === b && (b=Number.POSITIVE_INFINITY);void 0 === c && (c=Number.POSITIVE_INFINITY);a.call(this);this.Aa=d;this.Uf=[];this.Gab=1 > b?1:b;this.Ifb=1 > c?1:c;}c(b,a);b.prototype.next=function(b){var c;c=this.DEa();this.Uf.push(new d(c,b));this.oGa();a.prototype.next.call(this,b);};b.prototype.Dm=function(a){var b,c,d;b=this.oGa();c=this.Aa;if(this.closed)throw new g.XF();this.tQ?d=k.ny.EMPTY:this.Jg?d=k.ny.EMPTY:(this.hx.push(a),d=new p.qCa(this,a));c && a.add(a=new n.kza(a,c));for(var c=b.length,f=0;f < c && !a.closed;f++){a.next(b[f].value);}this.tQ?a.error(this.mra):this.Jg && a.complete();return d;};b.prototype.DEa=function(){return (this.Aa || h.jl).now();};b.prototype.oGa=function(){for(var a=this.DEa(),b=this.Gab,c=this.Ifb,d=this.Uf,f=d.length,g=0;g < f && !(a - d[g].time < c);){g++;}f > b && (g=Math.max(g,f - b));0 < g && d.splice(0,g);return d;};return b;})(f.Kn);b.P9a=a;d=(function(){return function(a,b){this.time=a;this.value=b;};})();},function(f,b){b.vFb=function(){};},function(f,b,a){var h;function c(a){return a?1 === a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:h.vFb;}h=a(1174);b.gIb=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return c(a);};b.hIb=c;},function(f,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});f=(function(b){function c(a){b.call(this);this.Rt=a;a=Error.call(this,a?a.length + " errors occurred during unsubscription:\n  " + a.map(function(a,b){return b + 1 + ") " + a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.AW=f;},function(f,b,a){var h,k;function c(){try{return k.apply(this,arguments);}catch(r){return (h.uz.e=r,h.uz);}}h=a(513);b.y0a=function(a){k=a;return c;};},function(f,b,a){var c,h,k;c=a(69);h=a(271);k=a(272);b.JRb=function(a,b,f){if(a){if(a instanceof c.Ln)return a;if(a[h.IE])return a[h.IE]();}return a || b || f?new c.Ln(a,b,f):new c.Ln(k.empty);};},function(f,b,a){var c,h,k,n,g,p,d,m,q,u,A,B,E,L,D,C,T;Object.defineProperty(b,"__esModule",{value:!0});b.fva=void 0;c=a(0);h=a(1);k=a(146);n=a(6);g=a(39);p=a(498);d=a(68);m=a(80);q=a(52);u=a(274);A=a(275);B=a(497);E=a(14);L=a(107);D=a(126);C=a(67);T=a(273);f=(function(){var b;function a(a,b,c,d,f,g,h,l,p,n,q){var r;r=this;this.Aa=b;this.vu=c;this.config=d;this.Vp=f;this.ILa=g;this.BH=h;this.Xl=l;this.dA=p;this.el=n;this.gq=q;this.zQb=function(a,b){r.el.mark(C.Da.PU,a.tg.ea,"generate-challenge");b.kJ().xT(1).subscribe(function(c){r.LRa.next({Pt:b.xr(),data:c.Qi});r.el.mark(C.Da.OU,a.tg.ea,"generate-challenge");});b.kJ().map(function(c){return r.Gia(a,b,c);}).VD().ZZ(function(a){return b.JGa(a);}).subscribe(void 0,function(a){b.lgb(a);},function(){r.bjb(b);});};this.l_a=function(a){a.GS.map(function(b){return r.JOa(a,b);}).VD().subscribe(function(b){return a.RGa(b.response);},function(b){return a.RGa(b);});};this.log=a.ob("DrmServices");this.LRa=new k.Kn();this.Vp().xn && this.BH.PWa().then(function(){r.$Pb();})["catch"](function(a){r.log.error("Unable to load the persisted DRM data",a);});this.config.p1 && this.Xl.DI().then(function(a){return r.dKa(a,{he:a.keySystem},m.Ci.xl,p()).Ut(function(a){return a.close();}).subscribe();});}a.prototype.vx=function(a,b){var c;c=this;return new Promise(function(d,f){c.Wi(a,b).subscribe(d,f);});};a.prototype.Itb=function(a,b){var c;c=this;return new Promise(function(d,f){c.Y_(a,b).subscribe(d,f);});};a.prototype.Wi=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.nOa(a,a.type));return this.XC(a.context,a.type,b).Ut(function(b){c.xTa(a,b);return c.KJa(b.Y_(a.SI),b);});};a.prototype.xTa=function(a,b){b.tOb(a.tg);this.zQb(a,b);};a.prototype.cQb=function(a,b){var c,d;c=this;this.config.Kj?(this.log.info("Releasing server license and EME license",this.kja(a)),this.l_a(a),d=a.lNa(!1)):(this.log.info("Releasing server license",this.kja(a)),d=this.JOa(a));return this.KJa(d,a).ZZ(function(){var d;d=Object.assign({he:a.context.he,gc:[]},a.tg);c.BH.bpa(d);b.ALb();});};a.prototype.kJ=function(){return this.LRa.Kda();};a.prototype.nOa=function(a,b){return {movieId:a.tg.u,xid:a.tg.ea,type:m.Dla(b)};};a.prototype.kja=function(a){return {movieId:a.tg?a.tg.u:void 0,xid:a.tg?a.tg.ea:void 0,keySessionId:a.xw()};};a.prototype.KJa=function(a,b){return k.Bb.concat(a,k.Bb.of(b)).ii();};a.prototype.Gia=function(a,b,c){this.log.info("Sending license request",this.nOa(a,c.Xi));return k.Bb.Vt(this.vu.Wi({ea:a.tg.ea,ug:a.tg.ug,a_:[a.tg.Sk],Qi:[{sessionId:b.xw() || "session",data:c.Qi}],Xi:c.Xi,Pt:b.xr(),WIa:c.WIa,nR:a.tg.nR,Yi:a.tg.Yi}));};a.prototype.JOa=function(a,b){this.log.info("Sending release request",this.kja(a));return b?k.Bb.Vt(this.vu.release({ea:(a.tg || a.pLb).ea,gc:a.gc,Qi:b.Qi})):k.Bb.Vt(this.vu.release({ea:a.tg.ea,gc:a.gc}));};a.prototype.Y_=function(a,b){return this.XC(a.context,a.type,b).Ut(function(b){return k.Bb.race(b.Y_(a.SI).map(function(){return b;}),b.kJ().map(function(){return b;}));});};a.prototype.XC=function(a,b,c){var d;d=this;return k.Bb.Vt(this.Xl.DI()).Ut(function(f){return d.dKa(f,a,b,c);});};a.prototype.dKa=function(a,b,c,d){return k.Bb.Vt(this.ILa.create()).Ut(function(f){return f.Jm(b,a,d,c);});};a.prototype.ZPb=function(a){var b;b=this;return this.config.Kj?k.Bb.Vt(this.iCb(a)):k.Bb.Vt(this.vu.release({ea:a.ea,gc:a.gc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return k.Bb.empty();}).map(function(){return a;});};a.prototype.iCb=function(a){var b;b=this;return this.Xl.DI().then(function(c){return b.ILa.create().then(function(d){return d.Jm({he:c.keySystem},c,b.dA(),m.Ci.xl).Ut(function(){return d.URa(a);}).Ut(function(){b.l_a(d);return d.lNa(!0);}).ns().then(function(){return d.xHa().ns();}).then(function(){return b.gq.J4({ia:!0},a);})["catch"](function(c){return b.gq.J4(c,a);}).then(function(){return a;});});});};a.prototype.$Pb=function(){var a;a=this;this.Aa.Sh(this.config.Wna,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.BH.b_.length});b=a.BH.b_.filter(function(a){return !a.active;}).map(function(b){return a.ZPb(b);});k.Bb.concat.apply(k.Bb,[].concat(da(b))).subscribe(function(b){a.BH.bpa(b);});});};a.prototype.bjb=function(a){var b;if(a.xw() && a.tg){b=new A.GU();b.he=a.context.he;b.gc=a.gc;b.ea=a.tg.ea;b.u=a.tg.u;this.BH.FGa(b);}};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(n.xb)),c.__param(1,h.l(g.Tg)),c.__param(2,h.l(p.r7)),c.__param(3,h.l(q.mm)),c.__param(4,h.l(E.Jc)),c.__param(5,h.l(B.D7)),c.__param(6,h.l(u.vU)),c.__param(7,h.l(L.dv)),c.__param(8,h.l(D.xB)),c.__param(9,h.l(d.QF)),c.__param(10,h.l(T.HU))],b);})();b.fva=f;},function(f,b,a){var c,h,k,n,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.GLa=void 0;f=a(1);c=a(127);h=a(1179);k=a(107);n=a(1116);g=a(497);p=a(1107);b.GLa=new f.Kc(function(a){a(c.s7).to(h.fva).Z();a(k.dv).to(n.yya).Z();a(g.D7).to(p.Cva);});},function(f,b,a){var c,h,k,n,g,p;Object.defineProperty(b,"__esModule",{value:!0});b.B6=void 0;c=a(0);h=a(1);k=a(43);n=a(30);g=a(4);p=a(40);f=(function(){var b;function a(a,b){return k.le.call(this,a,void 0 === b?"EmeConfigImpl":b) || this;}M(a,k.le);ma.Object.defineProperties(a.prototype,{p1:{configurable:!0,enumerable:!0,get:function(){return !1;}},Kj:{configurable:!0,enumerable:!0,get:function(){return !1;}},yYa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Wz:{configurable:!0,enumerable:!0,get:function(){return g.ph(5);}},Wna:{configurable:!0,enumerable:!0,get:function(){return g.ph(10);}},lka:{configurable:!0,enumerable:!0,get:function(){return g.Lb(2E3);}},Opa:{configurable:!0,enumerable:!0,get:function(){return g.Lb(1E3);}},eIb:{configurable:!0,enumerable:!0,get:function(){return g.Lb(2500);}},yP:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},SP:{configurable:!0,enumerable:!0,get:function(){return !1;}},Vr:{configurable:!0,enumerable:!0,get:function(){return !0;}},nHa:{configurable:!0,enumerable:!0,get:function(){return g.ph(30);}},oHa:{configurable:!0,enumerable:!0,get:function(){return g.ph(30);}},rHa:{configurable:!0,enumerable:!0,get:function(){return g.ph(30);}},pHa:{configurable:!0,enumerable:!0,get:function(){return g.ph(30);}},Bda:{configurable:!0,enumerable:!0,get:function(){return g.ph(30);}},gqa:{configurable:!0,enumerable:!0,get:function(){return "";}},n3:{configurable:!0,enumerable:!0,get:function(){return !1;}}});b=a;c.__decorate([p.config(p.Cc,"initializeKeySystemAtStartup")],b.prototype,"p1",null);c.__decorate([p.config(p.Cc,"secureStopEnabled")],b.prototype,"Kj",null);c.__decorate([p.config(p.Cc,"secureStopRequiresReload")],b.prototype,"yYa",null);c.__decorate([p.config(p.hh,"licenseRenewalRequestDelay")],b.prototype,"Wz",null);c.__decorate([p.config(p.hh,"persistedReleaseDelay")],b.prototype,"Wna",null);c.__decorate([p.config(p.hh,"secureStopKeyMessageTimeoutMilliseconds")],b.prototype,"lka",null);c.__decorate([p.config(p.hh,"secureStopKeyAddedTimeoutMilliseconds")],b.prototype,"Opa",null);c.__decorate([p.config(p.hh,"secureStopPersistedKeyMessageTimeoutMilliseconds")],b.prototype,"eIb",null);c.__decorate([p.config(p.string,"drmPersistKey")],b.prototype,"yP",null);c.__decorate([p.config(p.Cc,"forceLimitedDurationLicense")],b.prototype,"SP",null);c.__decorate([p.config(p.Cc,"prepareCadmium")],b.prototype,"Vr",null);c.__decorate([p.config(p.hh,"apiCloseTimeout")],b.prototype,"nHa",null);c.__decorate([p.config(p.hh,"apiCreateMediaKeysTimeout")],b.prototype,"oHa",null);c.__decorate([p.config(p.hh,"apiSetServerCertificateTimeout")],b.prototype,"rHa",null);c.__decorate([p.config(p.hh,"apiGenerateRequestTimeout")],b.prototype,"pHa",null);c.__decorate([p.config(p.hh,"apiUpdateTimeout")],b.prototype,"Bda",null);c.__decorate([p.config(p.string,"serverCertificate")],b.prototype,"gqa",null);c.__decorate([p.config(p.Cc,"outputRestrictedIsFatal")],b.prototype,"n3",null);return b=c.__decorate([h.N(),c.__param(0,h.l(n.sj)),c.__param(1,h.l(n.hB)),c.__param(1,h.optional())],b);})();b.B6=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ava=void 0;c=a(0);h=a(1);k=a(30);n=a(40);g=a(1181);f=(function(){var b;function a(a,b){return g.B6.call(this,a,void 0 === b?"ChromeEmeConfig":b) || this;}M(a,g.B6);ma.Object.defineProperties(a.prototype,{p1:{configurable:!0,enumerable:!0,get:function(){return !0;}},n3:{configurable:!0,enumerable:!0,get:function(){return !0;}}});b=a;c.__decorate([n.config(n.Cc,"initializeKeySystemAtStartup")],b.prototype,"p1",null);c.__decorate([n.config(n.Cc,"outputRestrictedIsFatal")],b.prototype,"n3",null);return b=c.__decorate([h.N(),c.__param(0,h.l(k.sj)),c.__param(1,h.l(k.hB)),c.__param(1,h.optional())],b);})();b.Ava=f;},function(f,b,a){var c,h,k,n,g,p,d,m;Object.defineProperty(b,"__esModule",{value:!0});b.Zva=void 0;c=a(0);h=a(37);k=a(1);n=a(4);g=a(43);p=a(125);d=a(40);m=a(30);f=(function(){var b;function a(a,b,c,d){a=g.le.call(this,a,void 0 === d?"FtlProbeConfigImpl":d) || this;a.kf=b;a.Fa=c;return a;}M(a,g.le);ma.Object.defineProperties(a.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Xha + (-1 === this.Xha.indexOf("?")?"?":"&") + "monotonic=" + this.Fa.zTa + "&device=web";}},NZa:{configurable:!0,enumerable:!0,get:function(){return n.rb;}},Oha:{configurable:!0,enumerable:!0,get:function(){return "";}},Xha:{configurable:!0,enumerable:!0,get:function(){return this.kf.endpoint + "/ftl/probe" + (this.Oha?"?force=" + this.Oha:"");}}});b=a;c.__decorate([d.config(d.Cc,"ftlEnabled")],b.prototype,"enabled",null);c.__decorate([d.config(d.hh,"ftlStartDelay")],b.prototype,"NZa",null);c.__decorate([d.config(d.string,"ftlEndpointForceParam")],b.prototype,"Oha",null);c.__decorate([d.config(d.url,"ftlEndpoint")],b.prototype,"Xha",null);return b=c.__decorate([k.N(),c.__param(0,k.l(m.sj)),c.__param(1,k.l(p.YA)),c.__param(2,k.l(h.th)),c.__param(3,k.l(m.hB)),c.__param(3,k.optional())],b);})();b.Zva=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.Xya=void 0;c=a(0);h=a(1);k=a(40);n=a(43);g=a(30);f=(function(){var b;function a(a,b){return n.le.call(this,a,void 0 === b?"NetworkMonitorConfigImpl":b) || this;}M(a,n.le);ma.Object.defineProperties(a.prototype,{l1a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});b=a;c.__decorate([k.config(k.Cc,"useNetworkMonitor")],b.prototype,"l1a",null);return b=c.__decorate([h.N(),c.__param(0,h.l(g.sj)),c.__param(1,h.l(g.hB)),c.__param(1,h.optional())],b);})();b.Xya=f;},function(f,b){function a(a){this.value=a;}Object.defineProperty(b,"__esModule",{value:!0});b.E9=void 0;a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.lx=function(a){return void 0 === this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0 === this.value?a.empty():a.of(b(this.value));};b.E9=a;},function(f,b,a){var c,h,k,n,g,p,d,m,q;Object.defineProperty(b,"__esModule",{value:!0});b.dwa=b.pI=void 0;c=a(0);h=a(4);k=a(1);n=a(40);g=a(43);p=a(34);d=a(30);m=a(150);q={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.pI=function(a,b){return a.QWa(q[b] || b,p.Yu);};f=(function(){var f;function a(a,b,c){a=g.le.call(this,a,void 0 === c?"GeneralConfigImpl":c) || this;a.Mm=b;return a;}M(a,g.le);ma.Object.defineProperties(a.prototype,{pI:{configurable:!0,enumerable:!0,get:function(){return p.Yu.E9a;}},Sqa:{configurable:!0,enumerable:!0,get:function(){return h.ph(8);}},Jz:{configurable:!0,enumerable:!0,get:function(){return "";}},CH:{configurable:!0,enumerable:!0,get:function(){return "";}},iF:{configurable:!0,enumerable:!0,get:function(){return "";}},G_a:{configurable:!0,enumerable:!0,get:function(){return !1;}},HY:{configurable:!0,enumerable:!0,get:function(){return !0;}},g1:{configurable:!0,enumerable:!0,get:function(){return this.Mm.g1;}},Mrb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Pi:{configurable:!0,enumerable:!0,get:function(){return {};}},cYa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Zka:{configurable:!0,enumerable:!0,get:function(){return !1;}},a6:{configurable:!0,enumerable:!0,get:function(){return !1;}},rs:{configurable:!0,enumerable:!0,get:function(){return !1;}},HP:{configurable:!0,enumerable:!0,get:function(){return !1;}},KA:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Qt:{configurable:!0,enumerable:!0,get:function(){return 0 <= [p.Yu.BCa,p.Yu.fxa].indexOf(this.pI);}}});f=a;c.__decorate([n.config(b.pI,"environment")],f.prototype,"pI",null);c.__decorate([n.config(n.hh,"storageTimeout")],f.prototype,"Sqa",null);c.__decorate([n.config(n.string,"groupName")],f.prototype,"Jz",null);c.__decorate([n.config(n.string,"canaryGroupName")],f.prototype,"CH",null);c.__decorate([n.config(n.string,"uiGroupName")],f.prototype,"iF",null);c.__decorate([n.config(n.Cc,"testIndexDBForCorruptedDatabase")],f.prototype,"G_a",null);c.__decorate([n.config(n.Cc,"applyIndexedDbOpenWorkaround")],f.prototype,"HY",null);c.__decorate([n.config(n.Cc,"ignoreIdbOpenError")],f.prototype,"g1",null);c.__decorate([n.config(n.Cc,"executeStorageMigration")],f.prototype,"Mrb",null);c.__decorate([n.config(n.object(),"browserInfo")],f.prototype,"Pi",null);c.__decorate([n.config(n.Cc,"retryAllMslRequestsOnError")],f.prototype,"cYa",null);c.__decorate([n.config(n.Cc,"isTestAccount")],f.prototype,"Zka",null);c.__decorate([n.config(n.Cc,"vuiCommandLogging")],f.prototype,"a6",null);c.__decorate([n.config(n.Cc,"useRangeHeader")],f.prototype,"rs",null);c.__decorate([n.config(n.Cc,"enableMilestoneEventList")],f.prototype,"HP",null);c.__decorate([n.config(n.object,"storageRules")],f.prototype,"KA",null);return f=c.__decorate([k.N(),c.__param(0,k.l(d.sj)),c.__param(1,k.l(m.$F)),c.__param(2,k.l(d.hB)),c.__param(2,k.optional())],f);})();b.dwa=f;},function(f,b,a){var c,h,k,n,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.dxa=b.eDa=b.kua=void 0;c=a(0);h=a(1);k=a(93);n=a(6);g=a(147);p=a(517);d=a(30);f=(function(){function a(a,b,c){this.Iw=a;this.OR=b;this.W3=c;}return a=c.__decorate([h.N(),c.__param(0,h.l(d.KF)),c.__param(1,h.l(g.qW)),c.__param(2,h.l(p.bW))],a);})();b.kua=f;f=(function(){function a(a,b,c,d,f){this.debug=a;this.Iw=b;this.OR=c;this.rf=d;this.W3=f;}return a=c.__decorate([h.N(),c.__param(0,h.l(k.Bs)),c.__param(1,h.l(d.KF)),c.__param(2,h.l(g.qW)),c.__param(3,h.l(n.xb)),c.__param(4,h.l(p.bW))],a);})();b.eDa=f;f=(function(){var b;function a(){this.iw={};this.dYa=0;}a.prototype.fEb=function(a){this.iw=Object.assign({},this.iw,a);this.dYa++;};ma.Object.defineProperties(a.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.iw;}},u4:{configurable:!0,enumerable:!0,get:function(){return this.dYa;}}});b=a;return b=c.__decorate([h.N()],b);})();b.dxa=f;},function(f,b,a){var c,h,k,n,g,p,d,m,q,u,A;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;f=a(1);c=a(14);h=a(1187);k=a(30);n=a(34);g=a(1186);p=a(516);d=a(1184);m=a(188);q=a(1183);u=a(52);A=a(1182);b.config=new f.Kc(function(a){a(c.Jc).Rf(function(){return function(){return O._cad_global.config;};});a(k.yU).to(h.kua).Z();a(k.sj).to(h.eDa).Z();a(k.KF).to(h.dxa).Z();a(n.vl).to(g.dwa).Z();a(p.y9).to(d.Xya).Z();a(m.P7).to(q.Zva).Z();a(u.mm).to(A.Ava).Z();});},function(f,b,a){var c,h,k,n,g,p,d;Object.defineProperty(b,"__esModule",{value:!0});b.eva=void 0;c=a(0);h=a(1);k=a(126);n=a(70);g=a(49);p=a(9);d=a(37);f=(function(){var b;function a(a,b,c,d){this.dA=a;this.dh=b;this.QD=c;this.Fa=d;}a.prototype.J4=function(a,b){var c;c=a.ia?{success:a.ia,persisted:!0}:a instanceof Error?{success:!1,persisted:!0,message:a.message,name:a.name,stack:a.stack}:{success:a.ia,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.ld,ErrorExternalCode:a.Hg,ErrorEdgeCode:a.iI,ErrorDetails:a.cause && a.cause.ub};c.browserua=p.rm;a=this.QD.Lp("securestop",a.ia?"info":"error",c,{u:b.movieId,ea:b.xid,uk:this.Fa.Pe,f2:!1});this.dh.Qc(a);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.xB)),c.__param(1,h.l(g.wl)),c.__param(2,h.l(n.Kq)),c.__param(3,h.l(d.th))],b);})();b.eva=f;},function(f,b,a){var c,h,k,n,g,p,d,m,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.Vta=void 0;c=a(0);h=a(1);k=a(127);n=a(41);g=a(14);p=a(6);d=a(126);m=a(107);q=a(80);u=a(148);f=(function(){var b;function a(a,b,c,d,f,g){this.fD=a;this.dc=b;this.config=c;this.dA=f;this.Xl=g;this.log=d.ob("CannedChallengeProviderImpl");}a.prototype.ija=function(){var a;a=this;return Promise.all([this.fD(),this.Cvb()]).then(function(b){var c;c=S(b);b=c.next().value;c=c.next().value;c={type:q.Ci.by,SI:[c],context:{he:a.config().he}};return b.Itb(c,a.dA());}).then(function(b){var c;c=b.Cla.data.map(function(b){return a.dc.encode(b);});a.log.trace("Challenge generated",c);return {Cb:b,Kea:c && c[0]};});};a.prototype.Cvb=function(){return this.Xl.xr().then(function(a){switch(a){case u.Cn.mD:return "c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV6SWZ5aFdkc0dObEdGaGllK1VhUXNYZVNQczJ1eDQ2Nm9JMVZGN2RqTVRPZXJOST0=";default:return "AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA==";}}).then(this.dc.decode);};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.$L)),c.__param(1,h.l(n.Ai)),c.__param(2,h.l(g.Jc)),c.__param(3,h.l(p.xb)),c.__param(4,h.l(d.xB)),c.__param(5,h.l(m.dv))],b);})();b.Vta=f;},function(f,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.zya=void 0;a.prototype.BPa=function(){return void 0 !== this.Yl;};a.prototype.LE=function(a){this.Yl=a;};a.prototype.ALb=function(){this.BPa() && (this.Yl=void 0);};b.zya=a;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.zWa=void 0;c=a(2);h=a(81);k=a(127);n=a(276);b.zWa=function(a){n.kI.parent=a.ib;return function(){g || (g=new Promise(function(a,b){try{a(n.kI.get(k.s7));}catch(t){b(new h.Te(c.K.O6a,c.L.h7a,void 0,"Unable to extract the DRM services from the dependency injector",t));}}));return g;};};},function(f,b,a){var k,n,g,p,d,m,q,u,A;function c(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId || !a.xid || !a.movieId)throw new m.zc(p.K.IF,p.L.Vx);return {version:1,drmData:[a]};}function h(a,b){if(a.Ov(b.drmData))return {version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new A.GU({keySystemId:a.keySystemId,keySessionData:(b && 0 < b.length?b:[void 0]).map(function(b){return {id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).Lu();})};throw new m.zc(p.K.IF,p.L.Vx);}Object.defineProperty(b,"__esModule",{value:!0});b.Tta=void 0;k=a(0);n=a(1);g=a(52);p=a(2);d=a(21);m=a(44);q=a(518);u=a(71);A=a(275);f=(function(){var b;function a(a,b,d){var f;f=this;this.is=a;this.Ak=b;this.config=d;this.Lu=function(){return {version:f.version,drmData:f.b_.map(function(a){return a.Lu();})};};this.Wha=function(a){var b;f.is.Fm(a) && (a=c(a));1 === a.version && (a=h(f.is,a));b={version:2,data:[]};if(2 === a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new A.GU(a);});}catch(R){throw new m.zc(p.K.IF,p.L.Vx,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",R);}}else {if(!a.version || !f.is.Dh(a.version))throw new m.zc(p.K.IF,p.L.Vx,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== a.version)throw new m.zc(p.K.IF,p.L.Jta,void 0,void 0,void 0,"Version number is not supported. Version: " + a.version);}return b;};this.vq=new q.t8(2,this.config.yP,this.is.Fm(this.config.yP),this.Ak,this.Lu);}a.prototype.PWa=function(){return this.TPb();};a.prototype.FGa=function(a){return this.vq.add(a);};a.prototype.bpa=function(a){return this.vq.remove(a,function(a,b){return a.ea === b.ea;});};a.prototype.toString=function(){return JSON.stringify(this.Lu(),null,"  ");};a.prototype.TPb=function(){var a;a=this;this.TWa || (this.TWa=new Promise(function(b,c){a.vq.load(a.Wha).then(function(){b();})["catch"](function(a){a.ja && a.cause?c(new m.zc(p.K.IF,a.ja,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.TWa;};ma.Object.defineProperties(a.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.vq.version;}},b_:{configurable:!0,enumerable:!0,get:function(){return this.vq.Ft;}}});b=a;return b=k.__decorate([n.N(),k.__param(0,n.l(d.Ae)),k.__param(1,n.l(u.ws)),k.__param(2,n.l(g.mm))],b);})();b.Tta=f;},function(f,b,a){var c,h,k,n,g;Object.defineProperty(b,"__esModule",{value:!0});b.k$=void 0;c=a(4);h=a(50);k=a(522);n=a(59);g={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.k$=function(){this.Xhb=this.HO=k.KL.jxa;this.dqa=!0;this.DO=[];this.VA=[];this.WR=this.h_=!1;this.Ku=[n.yl.Z6,n.yl.e$a,n.yl.SF];this.he=void 0;this.aha=!0;this.n_=!1;this.IY=h.$(288E4);this.KY=h.$(335544320);this.$z=c.Lb(15E3);this.ADb=h.$(6291456);this.oJ=1E3;this.Bea=!0;this.ora=g;this.mL=h.$(0);this.w5=c.Lb(0);this.g1=!0;};},function(f,b,a){var c,h,k,n,g,p,d,m,q,u,A,B,E,L,D,C;Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.g4a=b.f4a=b.e4a=void 0;c=a(0);h=a(1);k=a(33);n=a(4);g=a(150);p=a(1194);d=a(59);m=a(149);q=a(32);u=a(521);A=a(520);B=a(277);E=(function(){function a(a){var b,c,d;b=a.JQa;c=a.FAb;d=a.XAb;this.version="0.0026.212.010";this.DTa=!0;this.kD=d?"T":b?"C":c?"O":"M";this.vz=d?"NFCDTS-01-":c?"NFCDOP-01-":a.cBb?"NFCDCH-02-":a.yAb?"NFCDCH-MC-":b?"NFCDCH-01-":a.bAb?"NFCDCH-AP-":a.cAb?"NFCDCH-AT-":"NFCDCH-LX-";this.X_=!0;this.pga=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.Dpb="browser";this.KCb="";this.qga="cadmium";this.Qgb=this.ITb=!0;this.uLb=b;}return a=c.__decorate([h.N(),c.__param(0,h.l(u.PL))],a);})();b.e4a=E;L=(function(){var b;function a(a){var b;b=p.k$.call(this) || this;a=a.JQa;b.DO=[d.zi.YU,d.zi.ZU];b.VA=[d.Y.cM,d.Y.DF,d.Y.RU,d.Y.SU,d.Y.YM,d.Y.ZM];a && b.VA.push(d.Y.UU,d.Y.TU,d.Y.$M);b.h_=!0;b.WR=!0;b.he=m.Db.$$a;b.$z=n.Lb(31E3);return b;}M(a,p.k$);b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(u.PL))],b);})();b.f4a=L;D=(function(){var b;function a(a){this.Pi=a;}a.prototype.apply=function(){var a;a={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:q.Ik.Q6,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};this.Pi.iAb && 67 <= this.Pi.Oib && (a=Object.assign(Object.assign({},a),{enableVP9:!0}));return a;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(u.PL))],b);})();b.g4a=D;C=(function(){function a(a){this.uva=a.vz;}return a=c.__decorate([h.N(),c.__param(0,h.l(k.rj))],a);})();b.platform=new h.Kc(function(a){a(k.rj).to(E).Z();a(g.$F).to(L).Z();a(A.l$).to(D).Z();a(k.Os).to(C).Z();a(B.GM).Rf(function(){return function(){return {};};});});},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.GTa=function(a){return function(b){return function(){for(var c=[],f=0;f < arguments.length;f++){c[f]=arguments[f];}return c.forEach(function(c){return a.bind(c).IRb(b);});};};};},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(54);h=a(42);k=a(62);b.XVa=function(){return function(a,b){b=new k.Metadata(h.AM,b);if(Reflect.Mja(h.AM,a.constructor))throw Error(c.d8a);Reflect.kga(h.AM,b,a.constructor);};};},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);h=a(62);k=a(95);b.zT=function(a){return function(b,f,d){var g;g=new h.Metadata(c.BV,a);k.YE(b,f,d,g);};};},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);h=a(62);k=a(95);b.ZD=function(a){return function(b,f,d){var g;g=new h.Metadata(c.uB,a);"number" === typeof d?k.YE(b,f,d,g):k.wT(b,f,g);};};},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);h=a(62);k=a(95);b.xi=function(){return function(a,b,f){var d;d=new h.Metadata(c.UM,!0);k.YE(a,b,f,d);};};},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);h=a(62);k=a(95);b.optional=function(){return function(a,b,f){var d;d=new h.Metadata(c.gza,!0);"number" === typeof f?k.YE(a,b,f,d):k.wT(a,b,d);};};},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(42);h=a(62);k=a(95);b.JTa=function(a){return function(b,f,d){var g;g=new h.Metadata(c.iy,a);"number" === typeof d?k.YE(b,f,d,g):k.wT(b,f,g);};};},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(62);h=a(95);b.x_a=function(a,b){return function(f,k,d){var g;g=new c.Metadata(a,b);"number" === typeof d?h.YE(f,k,d,g):h.wT(f,k,g);};};},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(54);h=a(42);b.N=function(){return function(a){var b;if(Reflect.Mja(h.F9,a))throw Error(c.j5a);b=Reflect.getMetadata(h.G4a,a) || [];Reflect.kga(h.F9,b,a);return a;};};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(108);b.Kc=(function(){return function(a){this.id=c.id();this.$oa=a;};})();b.lta=(function(){return function(a){this.id=c.id();this.$oa=a;};})();},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(54);f=(function(){function a(){this.Tj=new Map();}a.prototype.add=function(a,b){var f;if(null === a || void 0 === a)throw Error(c.vM);if(null === b || void 0 === b)throw Error(c.vM);f=this.Tj.get(a);void 0 !== f?(f.push(b),this.Tj.set(a,f)):this.Tj.set(a,[b]);};a.prototype.get=function(a){if(null === a || void 0 === a)throw Error(c.vM);a=this.Tj.get(a);if(void 0 !== a)return a;throw Error(c.kxa);};a.prototype.remove=function(a){if(null === a || void 0 === a)throw Error(c.vM);if(!this.Tj["delete"](a))throw Error(c.kxa);};a.prototype.zPa=function(a){if(null === a || void 0 === a)throw Error(c.vM);return this.Tj.has(a);};a.prototype.clone=function(){var b;b=new a();this.Tj.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.aSb=function(a){this.Tj.forEach(function(b,c){a(c,b);});};return a;})();b.D7a=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});f=(function(){function a(){}a.of=function(b,f){var c;c=new a();c.LO=b;c.sEb=f;return c;};return a;})();b.MVb=f;},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(82);h=a(525);f=(function(){function a(a){this.Sb=a;}a.prototype.Z=function(){this.Sb.scope=c.Gq.haa;return new h.fB(this.Sb);};a.prototype.mka=function(){this.Sb.scope=c.Gq.yW;return new h.fB(this.Sb);};return a;})();b.l3a=f;},function(f,b,a){var c,h,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1208);h=a(279);k=a(278);f=(function(){function a(a){this.Sb=a;this.hN=new k.D6(this.Sb);this.dba=new h.lU(this.Sb);this.HDa=new c.l3a(a);}a.prototype.Z=function(){return this.HDa.Z();};a.prototype.mka=function(){return this.HDa.mka();};a.prototype.when=function(a){return this.hN.when(a);};a.prototype.$T=function(){return this.hN.$T();};a.prototype.nu=function(a){return this.dba.nu(a);};return a;})();b.vta=f;},function(f,b,a){var c,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(54);h=a(82);k=a(1209);n=a(525);f=(function(){function a(a){this.Sb=a;}a.prototype.to=function(a){this.Sb.type=h.nj.w8;this.Sb.Vk=a;return new k.vta(this.Sb);};a.prototype.d0a=function(){if("function" !== typeof this.Sb.xf)throw Error("" + c.k7a);this.to(this.Sb.xf);};a.prototype.si=function(a){this.Sb.type=h.nj.lua;this.Sb.cache=a;this.Sb.hI=null;this.Sb.Vk=null;new n.fB(this.Sb);};a.prototype.Lx=function(a){this.Sb.type=h.nj.lva;this.Sb.cache=null;this.Sb.hI=a;this.Sb.Vk=null;return new k.vta(this.Sb);};a.prototype.HRb=function(a){this.Sb.type=h.nj.mua;this.Sb.Vk=a;new n.fB(this.Sb);};a.prototype.Rf=function(a){this.Sb.type=h.nj.N7;this.Sb.rI=a;new n.fB(this.Sb);};a.prototype.b0a=function(a){this.Sb.type=h.nj.N7;this.Sb.rI=function(b){return function(){return b.ib.get(a);};};new n.fB(this.Sb);};a.prototype.CT=function(a){this.Sb.type=h.nj.cBa;this.Sb.vu=a;new n.fB(this.Sb);};a.prototype.IRb=function(a){this.Lx(function(b){return b.ib.get(a);});};return a;})();b.m3a=f;},function(f,b,a){var k,n,g;function c(a,b,c){var d;b=b.filter(function(a){return null !== a.target && a.target.type === n.nv.fua;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function h(a,b){var c;if(Reflect.uyb(g.AM,a)){c=Reflect.getMetadata(g.AM,a);try{b[c.value]();}catch(t){throw Error(k.v9a(a.name,t.message));}}}Object.defineProperty(b,"__esModule",{value:!0});k=a(54);n=a(82);g=a(42);b.mMb=function(a,b,f){var d;d=null;0 < b.length?(d=b.filter(function(a){return null !== a.target && a.target.type === n.nv.nua;}).map(f),d=new (a.bind.apply(a,[void 0].concat(d)))(),d=c(d,b,f)):d=new a();h(a,d);return d;};},function(f,b,a){var k,n,g,p,d;function c(a){return function(b){var f,g,l,m,q;f=b.LO;g=b.Qea;l=b.target && b.target.isArray();m=!b.nx || !b.nx.target || !b.target || !b.nx.target.rDb(b.target.xf);if(l && m)return g.map(function(b){return c(a)(b);});l=null;if(!b.target.UQa() || 0 !== f.length){q=f[0];f=q.scope === n.Gq.haa;m=q.scope === n.Gq.Request;if(f && q.dda)return q.cache;if(m && null !== a && a.has(q.id))return a.get(q.id);if(q.type === n.nj.lua)l=q.cache;else if(q.type === n.nj.Function)l=q.cache;else if(q.type === n.nj.mua)l=q.Vk;else if(q.type === n.nj.lva && null !== q.hI)l=h("toDynamicValue",q.xf,function(){return q.hI(b.aK);});else if(q.type === n.nj.N7 && null !== q.rI)l=h("toFactory",q.xf,function(){return q.rI(b.aK);});else if(q.type === n.nj.cBa && null !== q.vu)l=h("toProvider",q.xf,function(){return q.vu(b.aK);});else if(q.type === n.nj.w8 && null !== q.Vk)l=d.mMb(q.Vk,g,c(a));else throw (g=p.HI(b.xf),Error(k.f7a + " " + g));"function" === typeof q.nu && (l=q.nu(b.aK,l));f && (q.cache=l,q.dda=!0);m && null !== a && !a.has(q.id) && a.set(q.id,l);return l;}};}function h(a,b,c){try{return c();}catch(A){if(g.dRa(A))throw Error(k.N3a(a,b.toString()));throw A;}}Object.defineProperty(b,"__esModule",{value:!0});k=a(54);n=a(82);g=a(528);p=a(151);d=a(1211);b.resolve=function(a){return c(a.gK.Apa.$Lb)(a.gK.Apa);};},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(108);f=(function(){function a(a,b,f,h,d){this.id=c.id();this.xf=a;this.aK=b;this.nx=f;this.target=d;this.Qea=[];this.LO=Array.isArray(h)?h:[h];this.$Lb=null === f?new Map():null;}a.prototype.DGa=function(b,c,f){b=new a(b,this.aK,this,c,f);this.Qea.push(b);return b;};return a;})();b.Request=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});f=(function(){function a(a){this.LA=a;}a.prototype.startsWith=function(a){return 0 === this.LA.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.LA.split("").reverse().join("");return this.startsWith.call({LA:a},b);};a.prototype.contains=function(a){return -1 !== this.LA.indexOf(a);};a.prototype.equals=function(a){return this.LA === a;};a.prototype.value=function(){return this.LA;};return a;})();b.F9a=f;},function(f,b,a){var g,p,d,m,q,u;function c(a,b,c,f){var k,l,t,x,A,E,B,L,J,M;k=a.ENa(c);l=k.CJa;if(void 0 === l)throw Error(p.Q7a + " " + b + ".");for(var k=k.FTb,m=Object.keys(k),q=0 === c.length && 0 < m.length?m.length:c.length,m=[],r=0;r < q;r++){x=r;A=f;E=b;B=l;t=k[x.toString()] || [];L=n(t);J=!0 !== L.xi;B=B[x];M=L.l || L.ZD;B=M?M:B;B instanceof g.F8 && (B=B.zSb());if(J){J=B === Function;J=B === Object || J || void 0 === B;if(!A && J)throw Error(p.R7a + " argument " + x + " in class " + E + ".");x=new u.sW(d.nv.nua,L.zT,B);x.Gd=t;t=x;}else t=null;null !== t && m.push(t);}a=h(a,c);return m.concat(a);}function h(a,b){var l,m,p;for(var c=a.Ewb(b),f=[],g=0,k=Object.keys(c);g < k.length;g++){l=k[g];m=c[l];p=n(c[l]);l=new u.sW(d.nv.fua,p.zT || l,p.l || p.ZD);l.Gd=m;f.push(l);}b=Object.getPrototypeOf(b.prototype).constructor;b !== Object && (a=h(a,b),f=f.concat(a));return f;}function k(a,b){var d,f;b=Object.getPrototypeOf(b.prototype).constructor;if(b !== Object){d=q.getFunctionName(b);d=c(a,d,b,!0);f=d.map(function(a){return a.Gd.filter(function(a){return a.key === m.UM;});});f=[].concat.apply([],f).length;d=d.length - f;return 0 < d?d:k(a,b);}return 0;}function n(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return {l:b[m.oM],ZD:b[m.uB],zT:b[m.BV],xi:b[m.UM]};}Object.defineProperty(b,"__esModule",{value:!0});g=a(527);p=a(54);d=a(82);m=a(42);q=a(151);b.getFunctionName=q.getFunctionName;u=a(526);b.Sub=function(a,b){var d;d=q.getFunctionName(b);return c(a,d,b,!1);};b.iub=k;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.C9a=(function(){return function(a,b){this.aK=a;this.Apa=b;};})();},function(f,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(108);f=(function(){function a(a){this.id=c.id();this.ib=a;}a.prototype.qgb=function(a){this.gK=a;};return a;})();b.oua=f;},function(f,b){Object.defineProperty(b,"__esModule",{value:!0});b.C6={fYb:2,Zya:0,H8a:1};},function(f,b,a){var g,p,d,m,q,u,A,B,E,L,D,C;function c(a,b,c,d,f){var k,l;k=n(c.ib,f.xf);l=[];k.length === g.C6.Zya && c.ib.options.JO && "function" === typeof f.xf && a.ENa(f.xf).CJa && (c.ib.bind(f.xf).d0a(),k=n(c.ib,f.xf));l=b?k:k.filter(function(a){var b;b=new D.Request(a.xf,c,d,a,f);return a.VC(b);});h(f.xf,l,f,c.ib);return l;}function h(a,b,c,d){switch(b.length){case g.C6.Zya:if(c.UQa())break;a=u.HI(a);b=p.r8a;b+=u.RBb(a,c);b+=u.PRa(d,a,n);throw Error(b);case g.C6.H8a:if(!c.isArray())break;default:if(!c.isArray())throw (a=u.HI(a),b=p.l2a + " " + a,b+=u.PRa(d,a,n),Error(b));}}function k(a,b,f,g,h,l){var m;null === h?(b=c(a,b,g,null,l),m=new D.Request(f,g,null,b,l),f=new E.C9a(g,m),g.qgb(f)):(b=c(a,b,g,h,l),m=h.DGa(l.xf,b,l));b.forEach(function(b){var c,f,h;c=null;if(l.isArray())c=m.DGa(b.xf,b,l);else {if(b.cache)return;c=m;}if(b.type === d.nj.w8 && null !== b.Vk){f=L.Sub(a,b.Vk);if(!g.ib.options.PE){h=L.iub(a,b.Vk);if(f.length < h)throw (b=p.m2a(L.getFunctionName(b.Vk)),Error(b));}f.forEach(function(b){k(a,!1,b.xf,g,c,b);});}});}function n(a,b){var c,d;c=[];d=a.qG;d.zPa(b)?c=d.get(b):null !== a.parent && (c=n(a.parent,b));return c;}Object.defineProperty(b,"__esModule",{value:!0});g=a(1218);p=a(54);d=a(82);m=a(42);q=a(528);u=a(151);A=a(1217);B=a(62);E=a(1216);L=a(1215);D=a(1213);C=a(526);b.fia=function(a){return a.qG;};b.gK=function(a,b,c,d,f,g,h,l){void 0 === l && (l=!1);b=new A.oua(b);c=new B.Metadata(c?m.uB:m.oM,f);d=new C.sW(d,"",f,c);void 0 !== g && (g=new B.Metadata(g,h),d.Gd.push(g));try{return (k(a,l,f,b,null,d),b);}catch(Y){throw (q.dRa(Y) && b.gK && u.tkb(b.gK.Apa),Y);}};b.N1b=function(a,b,c,f){c=new C.sW(d.nv.Jaa,"",b,new B.Metadata(c,f));a=new A.oua(a);return new D.Request(b,a,null,[],c);};},function(f,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(82);h=a(108);f=(function(){function a(a,b){this.id=h.id();this.dda=!1;this.xf=a;this.scope=b;this.type=c.nj.u7a;this.VC=function(){return !0;};this.hI=this.nu=this.vu=this.rI=this.cache=this.Vk=null;}a.prototype.clone=function(){var b;b=new a(this.xf,this.scope);b.dda=!1;b.Vk=this.Vk;b.hI=this.hI;b.scope=this.scope;b.type=this.type;b.rI=this.rI;b.vu=this.vu;b.VC=this.VC;b.nu=this.nu;b.cache=this.cache;return b;};return a;})();b.k3a=f;},function(f,b,a){var c,l,k,q,g,p,d,m,t,u,A,B;c=this && this.__awaiter || (function(a,b,c,d){return new (c || (c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(ea){g(ea);}}function k(a){try{l(d["throw"](a));}catch(ea){g(ea);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b || [])).next());});});l=this && this.__generator || (function(a,b){var f,g,k,l,m;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;){try{if((g=1,k && (l=k[c[0] & 2?"return":c[0]?"throw":"next"]) && !(l=l.call(k,c[1])).done))return l;if((k=0,l))c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return (f.label++,{value:c[1],done:!1});case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.hE.pop();f.SA.pop();continue;default:if(!(l=f.SA,l=0 < l.length && l[l.length - 1]) && (6 === c[0] || 2 === c[0])){f=0;continue;}if(3 === c[0] && (!l || c[1] > l[0] && c[1] < l[3]))f.label=c[1];else if(6 === c[0] && f.label < l[1])(f.label=l[1],l=c);else if(l && f.label < l[2])(f.label=l[2],f.hE.push(c));else {l[2] && f.hE.pop();f.SA.pop();continue;}}c=b.call(a,f);}catch(ea){c=[6,ea];k=0;}finally{g=l=0;}}if(c[0] & 5)throw c[1];return {value:c[0]?c[1]:void 0,done:!0};}f={label:0,yk:function(){if(l[0] & 1)throw l[1];return l[1];},SA:[],hE:[]};h();h();n();return (m={next:c(0),"throw":c(1),"return":c(2)},"function" === typeof Symbol && (m[Symbol.iterator]=function(){return this;}),m);});Object.defineProperty(b,"__esModule",{value:!0});k=a(1220);q=a(54);g=a(82);a(42);p=a(529);d=a(1219);m=a(1212);t=a(1210);u=a(108);A=a(151);a(1207);B=a(1206);f=(function(){function a(a){a=a || ({});if("object" !== typeof a)throw Error("" + q.a4a);if(void 0 === a.aD)a.aD=g.Gq.yW;else if(a.aD !== g.Gq.haa && a.aD !== g.Gq.yW && a.aD !== g.Gq.Request)throw Error("" + q.Z3a);if(void 0 === a.JO)a.JO=!1;else if("boolean" !== typeof a.JO)throw Error("" + q.Y3a);if(void 0 === a.PE)a.PE=!1;else if("boolean" !== typeof a.PE)throw Error("" + q.$3a);this.options={JO:a.JO,aD:a.aD,PE:a.PE};this.id=u.id();this.qG=new B.D7a();this.cfb=[];this.parent=this.jca=null;this.Tcb=new p.p9();}a.t4b=function(b,c){var g,h;function f(a,b){a.aSb(function(a,c){c.forEach(function(a){b.add(a.xf,a.clone());});});}g=new a();h=d.fia(g);b=d.fia(b);c=d.fia(c);f(b,h);f(c,h);return g;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}for(var b=this.zEa(),c=0;c < a.length;c++){d=a[c];f=b(d.id);d.$oa(f.gIa,f.H0a,f.mRa,f.WWa);}};a.prototype.$Q=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return c(this,void 0,void 0,function(){var b,c,d,f,g;return l(this,function(h){switch(h.label){case 0:(b=this.zEa(),c=0,d=a,h.label=1);case 1:if(!(c < d.length))return [3,4];f=d[c];g=b(f.id);return [4,f.$oa(g.gIa,g.H0a,g.mRa,g.WWa)];case 2:(h.yk(),h.label=3);case 3:return (c++,[3,1]);case 4:return [2];}});});};a.prototype.bind=function(a){var b;b=new k.k3a(a,this.options.aD || g.Gq.yW);this.qG.add(a,b);return new t.m3a(b);};a.prototype.EKb=function(a){this.G0a(a);return this.bind(a);};a.prototype.G0a=function(a){try{this.qG.remove(a);}catch(D){throw Error(q.J3a + " " + A.HI(a));}};a.prototype.GQa=function(a){var b;b=this.qG.zPa(a);!b && this.parent && (b=this.parent.GQa(a));return b;};a.prototype.restore=function(){var a;a=this.cfb.pop();if(void 0 === a)throw Error(q.s8a);this.qG=a.LO;this.jca=a.sEb;};a.prototype.knb=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.wEa(!1,!1,g.nv.Jaa,a);};a.prototype.getAll=function(a){return this.wEa(!0,!0,g.nv.Jaa,a);};a.prototype.resolve=function(a){var b;b=this.knb();b.bind(a).d0a();return b.get(a);};a.prototype.zEa=function(){var f;function a(a){return function(b){b=f.EKb.bind(f)(b);b.Sb.REb=a;return b;};}function b(){return function(a){return f.GQa.bind(f)(a);};}function c(){return function(a){f.G0a.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.Sb.REb=a;return b;};}f=this;return function(f){return {gIa:d(f),mRa:b(),WWa:a(f),H0a:c()};};};a.prototype.wEa=function(a,b,c,d){var f;f=null;a={eib:a,tlb:function(a){return a;},BAb:b,key:void 0,xf:d,dRb:c,value:void 0};if(this.jca){if((f=this.jca(a),void 0 === f || null === f))throw Error(q.i7a);}else f=this.eeb()(a);return f;};a.prototype.eeb=function(){var a;a=this;return function(b){var c;c=d.gK(a.Tcb,a,b.BAb,b.dRb,b.xf,b.key,b.value,b.eib);c=b.tlb(c);return m.resolve(c);};};return a;})();b.zU=f;},function(f,b,a){(function(a){var b;(function(b){var da,Y,ga,ia,fa,ja,la,I,ma;function c(a,b,c){var d;d=ma.get(a);if(!d){if(!c)return;d=new la();ma.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new la();d.set(b,a);}return a;}function f(a,b,c){if(h(a,b,c))return !0;b=D(b);return null !== b?f(a,b,c):!1;}function h(a,b,d){b=c(b,d,!1);return void 0 !== b && ! !b.has(a);}function d(a,b,c){if(h(a,b,c))return k(a,b,c);b=D(b);return null !== b?d(a,b,c):void 0;}function k(a,b,d){b=c(b,d,!1);return void 0 === b?void 0:b.get(a);}function l(a,b){var c,f;c=n(a,b);a=D(a);if(null === a)return c;b=l(a,b);if(0 >= b.length)return c;if(0 >= c.length)return b;a=new I();for(var d=0;d < c.length;d++){f=c[d];a.add(f);}for(c=0;c < b.length;c++){f=b[c];a.add(f);}return P(a);}function n(a,b){var d;a=c(a,b,!1);d=[];a && M(a,function(a,b){return d.push(b);});return d;}function q(a){return void 0 === a;}function u(a){return Array.isArray?Array.isArray(a):a instanceof Array || "[object Array]" === Object.prototype.toString.call(a);}function B(a){return "object" === typeof a?null !== a:"function" === typeof a;}function L(a){return "symbol" === typeof a?a:String(a);}function D(a){var b,c;b=Object.getPrototypeOf(a);if("function" !== typeof a || a === ja || b !== ja)return b;c=a.prototype;c=c && Object.getPrototypeOf(c);if(null == c || c === Object.prototype)return b;c=c.constructor;return "function" !== typeof c || c === a?b:c;}function C(a){a=a.next();return a.done?void 0:a;}function M(a,b){var c,d,f;c=a.entries;if("function" === typeof c){c=c.call(a);try{for(;d=C(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d && (a=c["return"]) && a.call(c);}}else (c=a.forEach,"function" === typeof c && c.call(a,b,void 0));}function P(a){var b;b=[];M(a,function(a,c){b.push(c);});return b;}function Q(a,b,c){var d;d=0;return {next:function(){var f;if((a || b) && d < (a || b).length){f=d++;switch(c){case "key":return {value:a[f],done:!1};case "value":return {value:b[f],done:!1};case "key+value":return {value:[a[f],b[f]],done:!1};}}b=a=void 0;return {value:void 0,done:!0};},"throw":function(c){if(a || b)b=a=void 0;throw c;},"return":function(c){if(a || b)b=a=void 0;return {value:c,done:!0};}};}function R(){var a;a={};return (function(){function b(){this.Uq=[];this.Jv=[];this.OW=a;this.NW=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Uq.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0 <= this.lX(a,!1);};b.prototype.get=function(a){a=this.lX(a,!1);return 0 <= a?this.Jv[a]:void 0;};b.prototype.set=function(a,b){a=this.lX(a,!0);this.Jv[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.lX(b,!1);if(0 <= c){b=this.Uq.length;for(c+=1;c < b;c++){this.Uq[c - 1]=this.Uq[c];this.Jv[c - 1]=this.Jv[c];}this.Uq.length--;this.Jv.length--;this.OW=a;this.NW=-2;return !0;}return !1;};b.prototype.clear=function(){this.Uq.length=0;this.Jv.length=0;this.OW=a;this.NW=-2;};b.prototype.keys=function(){return Q(this.Uq,void 0,"key");};b.prototype.values=function(){return Q(void 0,this.Jv,"value");};b.prototype.entries=function(){return Q(this.Uq,this.Jv,"key+value");};b.prototype.lX=function(a,b){var c;if(this.OW === a)return this.NW;c=this.Uq.indexOf(a);0 > c && b && (c=this.Uq.length,this.Uq.push(a),this.Jv.push(void 0));return (this.OW=a,this.NW=c);};return b;})();}function S(){return (function(){function a(){this.Tj=new la();}Object.defineProperty(a.prototype,"size",{get:function(){return this.Tj.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.Tj.has(a);};a.prototype.add=function(a){return (this.Tj.set(a,a),this);};a.prototype["delete"]=function(a){return this.Tj["delete"](a);};a.prototype.clear=function(){this.Tj.clear();};a.prototype.keys=function(){return this.Tj.keys();};a.prototype.values=function(){return this.Tj.values();};a.prototype.entries=function(){return this.Tj.entries();};return a;})();}function U(){var d,f;function a(a){for(var b=0;16 > b;++b){a[b]=255 * Math.random() | 0;}return a;}function b(){var b,g;do {b="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6] & 79 | 64;b[8]=b[8] & 191 | 128;for(var c="",f=0;16 > f;++f){g=b[f];if(4 === f || 6 === f || 8 === f)c+="-";16 > g && (c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@" + c;}while(fa.has(d,b));d[b]=!0;return b;}function c(a,b){if(!da.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:ia()});}return a[f];}d=ia();f=b();return (function(){function a(){this.BN=b();}a.prototype.has=function(a){a=c(a,!1);return void 0 !== a?fa.has(a,this.BN):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0 !== a?fa.get(a,this.BN):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.BN]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0 !== a?delete a[this.BN]:!1;};a.prototype.clear=function(){this.BN=b();};return a;})();}function X(a){a.t0b=1;delete a.u0b;return a;}da=Object.prototype.hasOwnProperty;Y="function" === typeof Object.create;ga=(function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__ === b;})();ia=Y?function(){return X(Object.create(null));}:ga?function(){return X({__proto__:null});}:function(){return X({});};(function(a){var b;b=!Y && !ga;a.has=b?function(a,b){return da.call(a,b);}:function(a,b){return (b in a);};a.get=b?function(a,b){return da.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};})(fa || (fa={}));ja=Object.getPrototypeOf(Function);la="function" === typeof Map?Map:R();I="function" === typeof Set?Set:S();ma=new ("function" === typeof WeakMap?WeakMap:U())();b.mz=function(a,b,c,d){var g;if(q(d)){if(q(c)){if(!u(a))throw new TypeError();if("function" !== typeof b)throw new TypeError();for(c=a.length - 1;0 <= c;--c){if((d=(0,a[c])(b),!q(d))){if("function" !== typeof d)throw new TypeError();b=d;}}return b;}if(!u(a))throw new TypeError();if(!B(b))throw new TypeError();c=L(c);for(d=a.length - 1;0 <= d;--d){(0,a[d])(b,c);}}else {if(!u(a))throw new TypeError();if(!B(b))throw new TypeError();if(q(c))throw new TypeError();if(!B(d))throw new TypeError();c=L(c);for(var f=a.length - 1;0 <= f;--f){g=(0,a[f])(b,c,d);if(!q(g)){if(!B(g))throw new TypeError();d=g;}}return d;}};b.Gd=function(a,b){return function(d,f){if(q(f)){if("function" !== typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else {if(!B(d))throw new TypeError();f=L(f);c(d,f,!0).set(a,b);}};};b.kga=function(a,b,d){var f;if(!B(d))throw new TypeError();q(f) || (f=L(f));c(d,f,!0).set(a,b);};b.uyb=function(a,b){var c;if(!B(b))throw new TypeError();q(c) || (c=L(c));return f(a,b,c);};b.Mja=function(a,b){var c;if(!B(b))throw new TypeError();q(c) || (c=L(c));return h(a,b,c);};b.getMetadata=function(a,b,c){if(!B(b))throw new TypeError();q(c) || (c=L(c));return d(a,b,c);};b.e3b=function(a,b,c){if(!B(b))throw new TypeError();q(c) || (c=L(c));return k(a,b,c);};b.d3b=function(a,b){if(!B(a))throw new TypeError();q(b) || (b=L(b));return l(a,b);};b.f3b=function(a,b){if(!B(a))throw new TypeError();q(b) || (b=L(b));return n(a,b);};b.c2b=function(a,b,d){var f;if(!B(b))throw new TypeError();q(d) || (d=L(d));f=c(b,d,!1);if(q(f) || !f["delete"](a))return !1;if(0 < f.size)return !0;a=ma.get(b);a["delete"](d);if(0 < a.size)return !0;ma["delete"](b);return !0;};(function(a){if("undefined" !== typeof a.Reflect){if(a.Reflect !== b)for(var c in b){da.call(b,c) && (a.Reflect[c]=b[c]);}}else a.Reflect=b;})("undefined" !== typeof O?O:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a?a:Function("return this;")());})(b || (b={}));}).call(this,a(190));},function(f,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(1222);O._cad_global={};O.DEBUG=!1;a(11);a(9);a(16);a(24);a(46);a(96);a(562);a(288);a(58);a(48);a(18);a(65);a(55);a(561);a(197);a(481);a(560);a(307);a(559);a(286);a(215);a(373);a(310);a(303);a(305);a(304);a(285);a(316);a(315);a(313);a(153);a(203);a(558);a(12);a(298);a(557);a(131);a(66);a(309);a(134);a(372);a(371);a(214);a(556);a(555);a(345);a(554);a(351);a(201);a(355);a(202);a(317);a(553);a(199);a(301);a(156);a(284);a(72);a(552);a(83);a(548);a(547);a(546);a(545);a(544);a(542);a(302);a(56);a(541);a(306);a(370);a(308);a(299);a(540);a(539);a(290);a(128);a(538);a(537);a(536);a(535);a(534);a(531);a(312);},function(f,b,a){f.V=a(1223);}]);}).call(O);})(window);}).call(window);